import{Q as N,a as O}from"./QLayout.7437c30f.js";import{g as W,r as h,c as v,z as H,A as J,j as X,l as Z,H as G,o as Q,e as q,w as s,f as t,Z as I,J as m,$ as C,a0 as M,a1 as K,a2 as Y,Q as ee,I as te,M as F,a3 as T,a4 as B,a5 as ae,L as oe,O as V,R,a as se}from"./index.bbc471a5.js";import{Q as le,a as re,b as ne,c as ie}from"./QDrawer.fce40b17.js";import{b as ue}from"./selection.79d5b637.js";import{Q as U,a as $,b as _}from"./QList.fa8edf4e.js";import{_ as ce}from"./GB_LOGO.b766a815.js";import{Q as de}from"./QMenu.477c3670.js";import{Q as me}from"./QSpinnerDots.0fc6cd62.js";import"./axios.58d1e782.js";import{u as pe}from"./user.1fb7925c.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import"./QScrollObserver.773cb68e.js";import"./QResizeObserver.01cd8835.js";import"./TouchPan.f296e528.js";import"./touch.9135741d.js";const w=XMLHttpRequest,E=w.prototype.open,fe=["top","right","bottom","left"];let S=[],k=0;function ve({p:e,pos:l,active:i,horiz:n,reverse:c,dir:p}){let o=1,a=1;return n===!0?(c===!0&&(o=-1),l==="bottom"&&(a=-1),{transform:`translate3d(${o*(e-100)}%,${i?0:a*-200}%,0)`}):(c===!0&&(a=-1),l==="right"&&(o=-1),{transform:`translate3d(${i?0:p*o*-200}%,${a*(e-100)}%,0)`})}function _e(e,l){return typeof l!="number"&&(e<25?l=Math.random()*3+3:e<65?l=Math.random()*3:e<85?l=Math.random()*2:e<99?l=.6:l=0),ue(e+l,0,100)}function he(e){k++,S.push(e),!(k>1)&&(w.prototype.open=function(l,i){const n=[],c=()=>{S.forEach(o=>{(o.hijackFilter.value===null||o.hijackFilter.value(i)===!0)&&(o.start(),n.push(o.stop))})},p=()=>{n.forEach(o=>{o()})};this.addEventListener("loadstart",c,{once:!0}),this.addEventListener("loadend",p,{once:!0}),E.apply(this,arguments)})}function be(e){S=S.filter(l=>l.start!==e),k=Math.max(0,k-1),k===0&&(w.prototype.open=E)}var ge=W({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>fe.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:l}){const{proxy:i}=Z(),n=h(0),c=h(!1),p=h(!0);let o=0,a=null,r;const u=v(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(p.value===!0?"":" no-transition")),d=v(()=>e.position==="top"||e.position==="bottom"),b=v(()=>d.value===!0?"height":"width"),g=v(()=>{const f=c.value,x=ve({p:n.value,pos:e.position,active:f,horiz:d.value,reverse:i.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:i.$q.lang.rtl===!0?-1:1});return x[b.value]=e.size,x.opacity=f?1:0,x}),y=v(()=>c.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n.value}:{"aria-hidden":"true"});function D(f=300){const x=r;return r=Math.max(0,f)||0,o++,o>1?(x===0&&f>0?j():a!==null&&x>0&&f<=0&&(clearTimeout(a),a=null),o):(a!==null&&clearTimeout(a),l("start"),n.value=0,a=setTimeout(()=>{a=null,p.value=!0,f>0&&j()},c._value===!0?500:1),c._value!==!0&&(c.value=!0,p.value=!1),o)}function A(f){return o>0&&(n.value=_e(n.value,f)),o}function L(){if(o=Math.max(0,o-1),o>0)return o;a!==null&&(clearTimeout(a),a=null),l("stop");const f=()=>{p.value=!0,n.value=100,a=setTimeout(()=>{a=null,c.value=!1},1e3)};return n.value===0?a=setTimeout(f,1):f(),o}function j(){n.value<100&&(a=setTimeout(()=>{a=null,A(),j()},r))}let z;return H(()=>{e.skipHijack!==!0&&(z=!0,he({start:D,stop:L,hijackFilter:v(()=>e.hijackFilter||null)}))}),J(()=>{a!==null&&clearTimeout(a),z===!0&&be(D)}),Object.assign(i,{start:D,stop:L,increment:A}),()=>X("div",{class:u.value,style:g.value,...y.value})}});const ye=m("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),xe=m("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ke={class:"q-text-truncate text-primary"},Ie=m("span",{class:"q-ml-md"},"Signing out",-1),$e={__name:"ProfileAvatarComponent",setup(e){const l=pe(),i=v(()=>l.userData);console.log("usertDatass",i.value);const n=h(!1),c=G(),p=()=>{n.value=!0,setTimeout(()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("activeMenuItem"),n.value=!1,c.push("/")},1e3)},o=a=>{const r=g=>g?g.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"",u=a.firstname?r(a.firstname):"No Firstname",d=a.middlename?r(a.middlename).charAt(0)+".":"",b=a.lastname?r(a.lastname):"No Lastname";return`${u} ${d} ${b}`.trim()};return v(()=>{const{firstname:a,middlename:r,lastname:u}=i.value.data.employee,d=a.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "),b=r?`${r.charAt(0).toUpperCase()}.`:"",g=u.charAt(0).toUpperCase();return`${d} ${b} ${g}${u.slice(1)}`}),(a,r)=>(Q(),q(F,{round:"",flat:""},{default:s(()=>[t(I,{size:"26px"},{default:s(()=>[ye]),_:1}),t(de,{"transition-show":"scale","transition-hide":"scale",anchor:"bottom left",self:"top left"},{default:s(()=>[t(U,{style:{"min-width":"100px"}},{default:s(()=>[t($,{clickable:""},{default:s(()=>[t(_,{avatar:""},{default:s(()=>[t(I,{size:"26px"},{default:s(()=>[xe]),_:1})]),_:1}),t(_,null,{default:s(()=>[m("div",ke,C(o(i.value.data.employee)),1)]),_:1})]),_:1}),t($,{clickable:""},{default:s(()=>[t(_,{avatar:""},{default:s(()=>[t(I,{icon:"settings",size:"xl"})]),_:1}),t(_,null,{default:s(()=>[M("Setting")]),_:1})]),_:1}),t(K),t($,{clickable:"",onClick:p},{default:s(()=>[t(_,{avatar:""},{default:s(()=>[t(I,{icon:"logout",size:"xl"})]),_:1}),t(_,null,{default:s(()=>[M("Sign Out")]),_:1})]),_:1})]),_:1})]),_:1}),t(Y,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=u=>n.value=u)},{default:s(()=>[t(ee,null,{default:s(()=>[t(te,{class:"row items-center q-gutter-md"},{default:s(()=>[Ie,t(me,{size:"50px"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};const Qe=e=>(V("data-v-4e826368"),e=e(),R(),e),Se={class:"col-4"},De={class:"row"},je=Qe(()=>m("img",{src:ce,style:{width:"50px",height:"40px"}},null,-1)),Ce={class:"col-4 d-flex justify-center",align:"center"},Me={class:"text-black mx-2 text-h6"},we={class:"col-4",align:"right"},Ae={class:""},Le={__name:"HeaderComponent",setup(e){const l=h(!1),i=h("dashboard"),n=h(localStorage.getItem("role")),c=h(null),p=[{name:"dashboard",icon:"fa-solid fa-house",to:"/admin/dashboard",label:"Dashboard",toolbarDisplay:"\u{1F4CA} Dashboard",separator:!0},{name:"raw_materials",icon:"fa-solid fa-layer-group",to:"/admin/raw_materials",label:"Raw Materials",toolbarDisplay:"\u{1F6E0}\uFE0F Raw Materials",separator:!0},{name:"recipe",icon:"description",to:"/admin/recipe",label:"Recipe",toolbarDisplay:"\u{1F4DC} Recipe",separator:!0},{name:"warehouse",icon:"factory",to:"/admin/warehouse",label:"Warehouse",toolbarDisplay:"\u{1F3ED} Warehouse",separator:!0},{name:"branches",icon:"fa-solid fa-store",to:"/admin/branches",label:"Branches",toolbarDisplay:"\u{1F3EA} Branches",separator:!0},{name:"products",icon:"fa-solid fa-cake-candles",to:"/admin/products",label:"Products",toolbarDisplay:"\u{1F956} Products",separator:!0},...n.value==="Super Admin"?[{name:"users",icon:"fa-solid fa-users",to:"/admin/users",label:"Users",toolbarDisplay:"\u{1F465} Roles and Permission",separator:!0},{name:"devices",icon:"fa-solid fa-mobile",to:"/admin/devices",label:"Devices",toolbarDisplay:"\u{1F4F1} Device",separator:!0}]:[],{name:"payroll",icon:"fa-solid fa-sack-dollar",to:"/admin/payroll",label:"Payroll",toolbarDisplay:"\u{1F4B0} Payroll Management",separator:!0},{name:"history",icon:"fa-solid fa-history",to:"/admin/history_log",label:"History Log",toolbarDisplay:"\u{1F570}\uFE0F History Logs",separator:!0}];H(()=>{const r=localStorage.getItem("activeMenuItem");r&&(i.value=r)});const o=async r=>{const u=c.value;u.start(),i.value=r,localStorage.setItem("activeMenuItem",r),u.stop()},a=v(()=>{const r=p.find(u=>u.name===i.value);return r?r.toolbarDisplay:"Menu"});return(r,u)=>(Q(),T(B,null,[t(ne,{elevated:"",class:"bg-white"},{default:s(()=>[t(le,{class:"row"},{default:s(()=>[m("div",Se,[m("div",De,[t(F,{color:"red-6",flat:"",onClick:u[0]||(u[0]=d=>l.value=!l.value),dense:"",icon:"menu"}),t(re,{class:"py-md"},{default:s(()=>[je]),_:1})])]),m("div",Ce,[m("div",Me,[m("div",null,C(a.value),1)])]),m("div",we,[m("div",Ae,[m("div",null,[t($e)])])])]),_:1}),t(ge,{ref_key:"bar",ref:c,position:"top",color:"red-6",size:"7px","skip-hijack":""},null,512)]),_:1}),t(ie,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=d=>l.value=d),"show-if-above":"",width:200,breakpoint:500,bordered:""},{default:s(()=>[t(U,{bordered:"",padding:""},{default:s(()=>[(Q(),T(B,null,ae(p,(d,b)=>t($,{clickable:!0,key:b,onClick:g=>o(d.name),to:d.to,active:i.value===d.name,"active-class":"my-menu-link"},{default:s(()=>[t(_,{avatar:""},{default:s(()=>[t(oe,{name:d.icon},null,8,["name"])]),_:2},1024),t(_,null,{default:s(()=>[M(C(d.label),1)]),_:2},1024)]),_:2},1032,["onClick","to","active"])),64))]),_:1})]),_:1},8,["modelValue"])],64))}};var ze=P(Le,[["__scopeId","data-v-4e826368"]]);const Te=e=>(V("data-v-29d16670"),e=e(),R(),e),Be=Te(()=>m("div",null,null,-1)),He={__name:"AdminLayout",setup(e){return(l,i)=>{const n=se("router-view");return Q(),q(N,{view:"hHh Lpr lff"},{default:s(()=>[m("div",null,[t(ze)]),t(O,{style:{background:"#f7f8fc"}},{default:s(()=>[t(n)]),_:1}),Be]),_:1})}}};var Ye=P(He,[["__scopeId","data-v-29d16670"]]);export{Ye as default};
