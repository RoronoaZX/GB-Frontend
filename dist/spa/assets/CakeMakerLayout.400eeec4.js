import{r as m,H as z,z as y,c as B,a as N,o as k,a2 as x,f as e,w as a,M as p,J as n,e as T,$ as l,bc as U,Z as f,_ as C,a0 as D,a1 as P,Q as R,I as j,a3 as H,a4 as O,L as E,O as F,R as J}from"./index.e3af296d.js";import{b as Z,Q as G,a as K,c as W}from"./QDrawer.3bf03b83.js";import{Q as S}from"./QTooltip.5fedd361.js";import{Q as X}from"./QBadge.575f10e7.js";import{Q as M,a as _,b as s}from"./QList.d6e9e111.js";import{Q as Y}from"./QMenu.8f5842ac.js";import{Q as ee}from"./QSpinnerDots.ecc90d13.js";import{Q as ae}from"./QScrollArea.ce5fa928.js";import{Q as te}from"./QPage.0bf77e36.js";import{Q as oe,a as re}from"./QLayout.f9c45fec.js";import{_ as se}from"./GB_LOGO.b766a815.js";import{P as v}from"./LocalStorage.7891b217.js";import{u as le}from"./use-quasar.589834bf.js";import{api as ne}from"./axios.a9f2bd60.js";import{_ as ie}from"./plugin-vue_export-helper.21dcd24c.js";import"./QResizeObserver.63016496.js";import"./TouchPan.2a346a0b.js";import"./touch.9135741d.js";import"./selection.2d0cf300.js";import"./QScrollObserver.82063b9a.js";const g=i=>(F("data-v-a4bfdece"),i=i(),J(),i),ue={class:"q-pa-md"},ce=g(()=>n("img",{src:se,style:{width:"50px",height:"40px"}},null,-1)),de={class:"q-gutter-sm row items-center no-wrap"},me=g(()=>n("img",{src:"https://cdn.quasar.dev/img/avatar4.jpg"},null,-1)),pe=g(()=>n("img",{src:"https://cdn.quasar.dev/img/avatar4.jpg"},null,-1)),fe={class:"q-text-truncate text-primary"},_e=g(()=>n("span",{class:"q-ml-md"},"Signing out",-1)),ve={__name:"CakeMakerLayout",setup(i){const u=m(!1),Q=m("0"),b=m({});le();const c=m(!1),V=z();y(async()=>{try{const t=await ne.get("/api/profile");b.value=t.data}catch(t){console.error("Error fetching user data:",t)}});const $=B(()=>{const{firstname:t,middlename:r,lastname:d}=b.value.data.employee,o=t.split(" ").map(I=>I.charAt(0).toUpperCase()+I.slice(1)).join(" "),h=r?`${r.charAt(0).toUpperCase()}.`:"",w=d.charAt(0).toUpperCase();return`${o} ${h} ${w}${d.slice(1)}`}),q=()=>{c.value=!0,setTimeout(()=>{v.removeItem("token"),v.removeItem("role"),v.removeItem("uuid"),v.removeItem("branch_id"),c.value=!1,V.push("/")},1e3)},L=[{name:"raw_materials",icon:"fa-solid fa-layer-group",to:"/branch/cake_maker/raw_materials",label:"Raw Materials",separator:!0},{name:"report",icon:"fact_check",to:"/branch/cake_maker/report",label:"Report",separator:!0}];y(()=>{const t=localStorage.getItem("activeMenuItem");t&&(Q.value=t)});const A=t=>{Q.value=t,localStorage.setItem("activeMenuItem",t)};return(t,r)=>{const d=N("router-view");return k(),x("div",ue,[e(oe,{view:"hHh Lpr lff"},{default:a(()=>[e(Z,{elevated:"",class:"bg-white"},{default:a(()=>[e(G,null,{default:a(()=>[e(p,{color:"red-6",flat:"",onClick:r[0]||(r[0]=o=>u.value=!u.value),round:"",dense:"",icon:"menu"}),e(K,{class:"py-md"},{default:a(()=>[ce]),_:1}),n("div",de,[t.$q.screen.gt.sm?(k(),T(p,{key:0,round:"",dense:"",flat:"",icon:"message"},{default:a(()=>[e(S,null,{default:a(()=>[l("Messages")]),_:1})]),_:1})):U("",!0),e(p,{round:"",dense:"",flat:"",color:"grey-10",icon:"notifications"},{default:a(()=>[e(X,{color:"red",class:"text-white",floating:""},{default:a(()=>[l(" 2 ")]),_:1}),e(S,null,{default:a(()=>[l("Notifications")]),_:1})]),_:1}),e(p,{round:"",flat:""},{default:a(()=>[e(f,{size:"26px"},{default:a(()=>[me]),_:1}),e(Y,{"transition-show":"scale","transition-hide":"scale",anchor:"bottom left",self:"top left"},{default:a(()=>[e(M,{style:{"min-width":"100px"}},{default:a(()=>[e(_,{clickable:""},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(f,{size:"26px"},{default:a(()=>[pe]),_:1})]),_:1}),e(s,null,{default:a(()=>[n("div",fe,C($.value),1)]),_:1})]),_:1}),e(_,{clickable:""},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(f,{icon:"settings",size:"xl"})]),_:1}),e(s,null,{default:a(()=>[l("Setting")]),_:1})]),_:1}),e(D),e(_,{clickable:"",onClick:q},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(f,{icon:"logout",size:"xl"})]),_:1}),e(s,null,{default:a(()=>[l("Sign Out")]),_:1})]),_:1})]),_:1})]),_:1}),e(P,{modelValue:c.value,"onUpdate:modelValue":r[1]||(r[1]=o=>c.value=o)},{default:a(()=>[e(R,null,{default:a(()=>[e(j,{class:"row items-center q-gutter-md"},{default:a(()=>[_e,e(ee,{size:"50px"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1}),e(W,{modelValue:u.value,"onUpdate:modelValue":r[2]||(r[2]=o=>u.value=o),"show-if-above":"",behavior:"mobile",width:200,breakpoint:500,bordered:""},{default:a(()=>[e(ae,{class:"fit"},{default:a(()=>[e(M,{bordered:"",padding:""},{default:a(()=>[(k(),x(H,null,O(L,(o,h)=>e(_,{clickable:!0,key:h,onClick:w=>A(o.name),to:o.to,active:Q.value===o.name,"active-class":"my-menu-link"},{default:a(()=>[e(s,{avatar:""},{default:a(()=>[e(E,{name:o.icon},null,8,["name"])]),_:2},1024),e(s,null,{default:a(()=>[l(C(o.label),1)]),_:2},1024)]),_:2},1032,["onClick","to","active"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(re,null,{default:a(()=>[e(te,null,{default:a(()=>[e(d)]),_:1})]),_:1})]),_:1})])}}};var Te=ie(ve,[["__scopeId","data-v-a4bfdece"]]);export{Te as default};
