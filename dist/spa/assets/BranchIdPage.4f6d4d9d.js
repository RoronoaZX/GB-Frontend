import{be as ye,c as z,r as N,t as qe,o as h,a3 as D,f as e,M as F,w as t,Q as E,I,ae as ie,J as l,K as q,L as te,e as L,a0 as P,a4 as M,a5 as le,$ as V,bd as we,aJ as He,a2 as ae,a1 as pt,N as re,O as Z,R as ee,z as Ae,u as se,bb as ge,aK as jt,bf as ce,d as wt,P as Te,bc as Oe,bg as ft,aI as Ot,H as Ht}from"./index.b718e17f.js";import{Q as Pe}from"./QSpace.cc4fc83d.js";import{Q as st,a as Ce,b as rt,c as Se}from"./QTabPanels.1b71ebb7.js";import{Q as Mt}from"./QPage.f0357368.js";import{Q as fe,a as K,b as A}from"./QList.c9b8ea56.js";import{Q as T}from"./rtl.ed2ce8a5.js";import{C as ue}from"./ClosePopup.ec39b862.js";import{u as Me}from"./branch-product.21aebd07.js";import{u as dt}from"./product.9b74fa3a.js";import{Q as _t}from"./QSpinnerDots.dee1d808.js";import{Q as X,a as $e}from"./QTable.01e4ce5e.js";import{Q as be}from"./QBadge.11817816.js";import{Q as he}from"./QTooltip.e6016e1a.js";import{Q as ve}from"./QPopupEdit.928ab195.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";import{api as de}from"./axios.ed722b83.js";import{u as xt}from"./branch-rawMaterials.9152829d.js";import{u as Et}from"./raw-material.09729a79.js";import{u as Be}from"./use-dialog-plugin-component.174abbb0.js";import{Q as Qt}from"./QMenu.cb7da94e.js";import{q as Re}from"./date.12aa7289.js";import{u as Ee}from"./use-quasar.1a02ac9a.js";import{p as vt,v as Ct}from"./vfs_fontes.3eb8cb31.js";import{u as Ie}from"./sales-report.cc00b2eb.js";import{u as ht}from"./user.c05f4e58.js";import{Q as et}from"./use-virtual-scroll.4251f83e.js";import{u as St}from"./employee.bc053a12.js";import{u as mt}from"./baker-report.a4efffea.js";import{u as nt}from"./branch-recipe.9af5f577.js";import{Q as $t}from"./QExpansionItem.089e4856.js";import{Q as Kt}from"./QVirtualScroll.63f2e1de.js";import{u as Yt,a as at,b as it,c as bt}from"./other-product.d24ced9e.js";import{Q as tt}from"./QScrollArea.8b293942.js";import{Q as yt}from"./QSelect.3780ebbd.js";import{u as Gt}from"./recipe.bc36a8ef.js";import{u as Rt}from"./premix.d661361d.js";import"./QResizeObserver.6dac16d2.js";import"./use-panel.eeff19b7.js";import"./touch.9135741d.js";import"./selection.66078849.js";import"./QSlideTransition.55388eca.js";import"./QScrollObserver.daec4c66.js";import"./TouchPan.a9e86d6e.js";import"./QChip.8b70a936.js";const Wt=l("div",{class:"text-h6"},"Create Branch Product",-1),Jt={class:"q-mb-lg"},Xt={key:0,class:"custom-list z-top"},Zt=l("div",null,"Product Name",-1),el=l("div",null,"Category",-1),tl={class:"row justify-between"},ll=l("div",null,"Beginnings",-1),al=l("div",null,"Total Quantity",-1),ol=l("div",null,"Price",-1),nl={__name:"ProductCreate",setup(r){const w=ye(),C=dt(),R=z(()=>C.products),x=Me(),g=N(""),S=async()=>{C.searchProducts(g.value)},d=z(()=>U.price!==0&&U.beginnings!==0&&U.total_quantity!==0),y=N(!1),_=()=>{y.value=!0},u=()=>{c(),y.value=!1},f=k=>k?k.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join(" "):"",v=k=>{U.product_id=k.id,U.product_name=k.name,U.category=k.category,g.value=""},U=qe({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:w.params.branch_id}),c=()=>{U.product_id="",U.product_name="",U.category="",U.price=0,U.beginnings=0,U.total_quantity=0},p=async()=>{try{const{product_name:k,...b}=U;await x.createBranchProducts(b),console.log("data to send",b),c(),y.value=!1}catch(k){console.log(k)}};return(k,b)=>(h(),D(M,null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:_}),e(ae,{modelValue:y.value,"onUpdate:modelValue":b[6]||(b[6]=s=>y.value=s),persistent:""},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Wt,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Jt,[e(q,{modelValue:g.value,"onUpdate:modelValue":[b[0]||(b[0]=s=>g.value=s),S],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[g.value?(h(),D("div",Xt,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var s;return[(s=R.value)!=null&&s.length?(h(!0),D(M,{key:1},le(R.value,m=>(h(),L(K,{onClick:n=>v(m),key:m.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(f(m.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Zt,e(q,{modelValue:U.product_name,"onUpdate:modelValue":b[1]||(b[1]=s=>U.product_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[el,e(q,{modelValue:U.category,"onUpdate:modelValue":b[2]||(b[2]=s=>U.category=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",tl,[l("div",null,[ll,e(q,{modelValue:U.beginnings,"onUpdate:modelValue":b[3]||(b[3]=s=>U.beginnings=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[al,e(q,{modelValue:U.total_quantity,"onUpdate:modelValue":b[4]||(b[4]=s=>U.total_quantity=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[ol,e(q,{modelValue:U.price,"onUpdate:modelValue":b[5]||(b[5]=s=>U.price=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(He,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:u}),e(F,{class:"glossy",color:"teal",label:"Create",onClick:p,disable:!d.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Pt=r=>(Z("data-v-196482e9"),r=r(),ee(),r),sl=Pt(()=>l("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),rl=Pt(()=>l("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),dl={__name:"ProductDelete",props:["delete"],setup(r){const w=Me(),C=r;console.log("delte",C.delete.row.id);const R=async()=>{try{await w.deleteBranchProducts(C.delete.row.id),re.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),x.value=!1}catch(S){console.error(S.message)}},x=N(!1),g=()=>{console.log("ID",C.delete.row.id),x.value=!0};return(S,d)=>(h(),D(M,null,[e(F,{onClick:g,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(he,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(ae,{modelValue:x.value,"onUpdate:modelValue":d[0]||(d[0]=y=>x.value=y)},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[sl,rl]),_:1}),e(pt,{class:"q-mb-md"}),e(I,null,{default:t(()=>[e(He,{align:"right",class:"q-pt-none"},{default:t(()=>[ie(e(F,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ue]]),e(F,{dense:"",label:"Delete",color:"negative",onClick:R,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var il=G(dl,[["__scopeId","data-v-196482e9"]]);const ul=r=>(Z("data-v-1e85f55b"),r=r(),ee(),r),cl={class:"row justify-between"},ml={class:"q-my-sm"},pl={key:0,class:"spinner-wrapper"},_l={key:1},gl={key:0,class:"data-error"},fl=ul(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),vl={key:1},yl={__name:"ProductTable",setup(r){const C=ye().params.branch_id,R=Me(),x=N(""),g=N(!0),S=N([]),d=N(!1);N([]);const y=N({sortBy:"desc",descending:!1,page:1,rowsPerPage:0,rowsnumber:0}),_=z(()=>R.branchProducts);console.log("branchssdfrer",_.value);const u=z(()=>x.value?_.value.filter(n=>n.name.toLowerCase().includes(x.value.toLowerCase())):_.value),f=n=>n?n.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"";Ae(async()=>{C&&await v(C)});const v=async n=>{try{g.value=!0;const i=await R.fetchBranchProducts(n);_.value=i,_.value.length||(d.value=!0),console.log("Branch product",_.value)}catch(i){console.log("Error fetching branch product:",i),d.value=!0}finally{g.value=!1}};se(x,async n=>{g.value=!0,await new Promise(i=>setTimeout(i,1e3)),g.value=!1,d.value=u.value.length===0});async function U(n,i){try{const o=await de.put("/api/update-branch-products/"+n.id,{price:parseInt(i)});if(o.status===200){const a=S.value.findIndex($=>$.id==n.id);S.value[a]=parseInt(i),re.create({type:"positive",message:o.data.message,timout:1e3,position:"top"})}}catch(o){console.error("Error updating price:",o)}}async function c(n,i){try{const o=await de.put("/api/update-branch-products-new-production/"+n.id,{new_production:parseInt(i)});if(o.status===200){const a=S.value.findIndex($=>$.id==n.id);S.value[a]=parseInt(i),re.create({type:"positive",message:o.data.message,timout:1e3,position:"top"})}}catch(o){console.error("Error updating price:",o)}}async function p(n,i){try{const o=await de.put("/api/update-branch-products-beginnings/"+n.id,{beginnings:parseInt(i)});if(o.status===200){const a=S.value.findIndex($=>$.id==n.id);S.value[a]=parseInt(i),re.create({type:"positive",message:o.data.message,timout:1e3,position:"top"})}}catch(o){console.error("Error updating price:",o)}}async function k(n,i){try{const o=await de.put("/api/update-branch-products-total-quantity/"+n.id,{total_quantity:parseInt(i)});if(o.status===200){const a=S.value.findIndex($=>$.id==n.id);S.value[a]=parseInt(i),re.create({type:"positive",message:o.data.message,timout:1e3,position:"top"})}}catch(o){console.error("Error updating price:",o)}}const b=n=>{switch(n){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},s=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),m=[{name:"name",label:"Product Name",align:"center",field:n=>n.product.name,format:n=>`${n}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:n=>s(n),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:n=>`${n} pcs`,sortable:!0},{name:"new_production",align:"center",label:"New Production",field:"new_production",format:n=>`${n} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:n=>`${n} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(n,i)=>(h(),D(M,null,[l("div",cl,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:x.value,"onUpdate:modelValue":i[0]||(i[0]=o=>x.value=o),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",ml,[e(nl)])]),g.value?(h(),D("div",pl,[e(_t,{size:"50px",color:"primary"})])):(h(),D("div",_l,[u.value.length===0?(h(),D("div",gl,[e(te,{name:"warning",color:"warning",size:"4em"}),fl])):(h(),L($e,{key:1,class:"table-container sticky-header",filter:x.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:u.value,"row-key":"name",pagination:y.value,"onUpdate:pagination":i[1]||(i[1]=o=>y.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"450px"}},{"body-cell-name":t(o=>[e(X,{key:"name",props:o},{default:t(()=>{var a;return[P(V((a=o.row.product)!=null&&a.name?f(o.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(o=>[e(X,{key:"name",props:o},{default:t(()=>[o.row.category?(h(),L(be,{key:0,color:b(o.row.category)},{default:t(()=>[P(V(o.row.category),1)]),_:2},1032,["color"])):(h(),D("span",vl,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(X,{props:o,class:"cursor-pointer"},{default:t(()=>[l("span",null,[P(V(s(o.row.price))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit Price")]),_:1})]),e(ve,{"onUpdate:modelValue":[a=>U(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(X,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[P(V(o.row.beginnings?o.row.beginnings:0)+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit beginnings")]),_:1})]),e(ve,{"onUpdate:modelValue":[a=>p(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-new_production":t(o=>[e(X,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[P(V(o.row.new_production?o.row.new_production:0)+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P(" Edit new production ")]),_:1})]),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.new_production=a],modelValue:o.row.new_production,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",autofucos:"",counter:"",mask:"#####",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(o=>[e(X,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[P(V(o.row.total_quantity?o.row.total_quantity:0)+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit quantity")]),_:1})]),e(ve,{"onUpdate:modelValue":[a=>k(o.row,a),a=>o.row.total_quantity=a],modelValue:o.row.total_quantity,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(o=>[e(X,{class:"q-gutter-x-md",props:o},{default:t(()=>[e(il,{delete:o},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var hl=G(yl,[["__scopeId","data-v-1e85f55b"]]);const bl={class:"q-gutter-sm"},wl={__name:"ProductPage",setup(r){return(w,C)=>(h(),D("div",bl,[l("div",null,[e(hl)])]))}},xl=l("div",{class:"text-h6"},"Create Branch Raw Materials",-1),kl={class:"q-mb-lg"},Vl={key:0,class:"custom-list z-top"},$l=l("div",null,"Raw Materials Code",-1),Cl=l("div",null,"Raw Materials Name",-1),Sl=l("div",null,"Category",-1),Rl=l("div",null,"Quantity",-1),Pl={__name:"RawMaterialsCreate",setup(r){const w=ye(),C=Et(),R=z(()=>C.rawMaterials),x=xt(),g=N(""),S=async()=>{C.searchRawMaterials(g.value)},d=z(()=>v.total_quantity!==""),y=N(!1),_=()=>{y.value=!0},u=()=>{U(),y.value=!1},f=p=>{v.ingredients_id=p.id,v.ingredient_name=p.name,v.ingredient_code=p.code,v.category=p.category,v.unit=p.unit,g.value=""},v=qe({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:w.params.branch_id}),U=()=>{v.ingredients_id="",v.ingredient_name="",v.ingredient_code="",v.total_quantity="",v.ingredients_id="",v.category="",v.unit=""},c=async()=>{try{const{product_name:p,...k}=v;await x.createBranchRawMaterials(k),console.log("data to send",k),U(),y.value=!1}catch(p){console.log(p)}};return(p,k)=>(h(),D(M,null,[e(F,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:_,style:{background:"#f43f5e"}}),e(ae,{modelValue:y.value,"onUpdate:modelValue":k[5]||(k[5]=b=>y.value=b),persistent:""},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[xl,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",kl,[e(q,{modelValue:g.value,"onUpdate:modelValue":[k[0]||(k[0]=b=>g.value=b),S],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[g.value?(h(),D("div",Vl,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var b;return[(b=R.value)!=null&&b.length?(h(!0),D(M,{key:1},le(R.value,s=>(h(),L(K,{onClick:m=>f(s),key:s.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(s.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[$l,e(q,{modelValue:v.ingredient_code,"onUpdate:modelValue":k[1]||(k[1]=b=>v.ingredient_code=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Cl,e(q,{modelValue:v.ingredient_name,"onUpdate:modelValue":k[2]||(k[2]=b=>v.ingredient_name=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Sl,e(q,{modelValue:v.category,"onUpdate:modelValue":k[3]||(k[3]=b=>v.category=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Rl,e(q,{modelValue:v.total_quantity,"onUpdate:modelValue":k[4]||(k[4]=b=>v.total_quantity=b),type:"number",outlined:"",suffix:v.unit||"",dense:"",rules:[b=>b&&b.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(He,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:u}),e(F,{class:"glossy",color:"teal",label:"Create",onClick:c,disable:!d.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Ut=r=>(Z("data-v-17ad5e9f"),r=r(),ee(),r),Ul=Ut(()=>l("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ql=Ut(()=>l("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Nl={__name:"RawMaterialsTableDelete",props:["delete"],setup(r){const w=xt(),C=r,R=async()=>{console.log("clickkkd");try{await w.deleteBranchRawMaterials(C.delete.row.id),re.create({type:"negative",icon:"warning",message:`Raw Materials ${C.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),x.value=!1}catch(S){console.error(S.message)}},x=N(!1),g=()=>{x.value=!0};return(S,d)=>(h(),D(M,null,[e(F,{onClick:g,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(he,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(ae,{modelValue:x.value,"onUpdate:modelValue":d[0]||(d[0]=y=>x.value=y)},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Ul,ql]),_:1}),e(pt,{class:"q-mb-md"}),e(I,null,{default:t(()=>[e(He,{align:"right",class:"q-pt-none"},{default:t(()=>[ie(e(F,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ue]]),e(F,{dense:"",label:"Delete",color:"negative",onClick:R,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Dl=G(Nl,[["__scopeId","data-v-17ad5e9f"]]);const qt=r=>(Z("data-v-478916e6"),r=r(),ee(),r),Il={class:"row justify-between"},Al={class:"q-my-sm"},Fl={key:0,class:"spinner-wrapper"},Tl={key:1},Bl={key:0,class:"data-error"},zl=qt(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ll=qt(()=>l("div",{class:"text-white"},"Edit Available Stocks",-1)),jl={class:"row justify-center q-gutter-x-md"},Ol={__name:"RawMaterialsTable",setup(r){const C=ye().params.branch_id,R=xt(),x=N(""),g=N(!0),S=N([]),d=N(!1),y=N({rowsPerPage:0}),_=z(()=>R.branchRawMaterials),u=z(()=>x.value?_.value.filter(k=>k.name.toLowerCase().includes(x.value.toLowerCase())):_.value);Ae(async()=>{console.log("props.branchId in onMounted:",C),C&&await f(C)});const f=async k=>{try{g.value=!0;const b=await R.fetchBranchRawMaterials(k);_.value=b,_.value.length||(d.value=!0),console.log("Branch Raw Materials",_.value)}catch(b){console.log("Error fetching branch product:",b),d.value=!0}finally{g.value=!1}};async function v(k,b){try{const s=await de.put("/api/update-branch-rawMaterials/"+k.id,{total_quantity:parseInt(b)});if(s.status===200){const m=S.value.findIndex(n=>n.id==k.id);S.value[m]=parseInt(b),re.create({type:"positive",message:s.data.message,timout:1e3,position:"top"})}}catch(s){console.error("Error updating price:",s)}}se(x,async k=>{g.value=!0,await new Promise(b=>setTimeout(b,1e3)),g.value=!1,d.value=u.value.length===0});const U=k=>{const b=k.total_quantity;if(k.ingredients.unit==="Grams"&&b<1e3)return"bg-red";let m;return b>=1e3?m=b/1e3:m=b,m<5?m<=2?"bg-red":(m<=3,"bg-warning"):"bg-positive"},c=k=>{const b=k.total_quantity,s=k.ingredients.unit;if(b>1e3){const m=(b/1e3).toFixed(2);return m.endsWith(".00")?`${Math.round(b/1e3)} kilos`:`${m} kilos`}else return b>1?`${b} ${s}`:`${b} ${s}`},p=[{name:"code",label:"Raw Materials Code",align:"center",field:k=>{var b,s;return(s=(b=k==null?void 0:k.ingredients)==null?void 0:b.code)!=null?s:"No Code"},format:k=>`${k}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:k=>{var b,s;return(s=(b=k==null?void 0:k.ingredients)==null?void 0:b.name)!=null?s:"No Code"},format:k=>`${k}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(k,b)=>(h(),D(M,null,[l("div",Il,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:x.value,"onUpdate:modelValue":b[0]||(b[0]=s=>x.value=s),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",Al,[e(Pl)])]),g.value?(h(),D("div",Fl,[e(_t,{size:"50px",color:"primary"})])):(h(),D("div",Tl,[u.value.length===0?(h(),D("div",Bl,[e(te,{name:"warning",color:"warning",size:"4em"}),zl])):(h(),L($e,{key:1,class:"table-container sticky-header",filter:x.value,flat:"",columns:p,rows:u.value,"row-key":"name",pagination:y.value,"onUpdate:pagination":b[1]||(b[1]=s=>y.value=s),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"420px"}},{"body-cell-total_quantity":t(s=>[e(X,{props:s},{default:t(()=>[e(be,{square:"",class:jt(["text-white cursor-pointer",U(s.row)])},{default:t(()=>[P(V(c(s.row))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[Ll]),_:1}),e(ve,{"onUpdate:modelValue":[m=>v(s.row,m),m=>s.row.total_quantity=m],modelValue:s.row.total_quantity,"auto-save":""},{default:t(m=>[e(q,{modelValue:m.value,"onUpdate:modelValue":n=>m.value=n,dense:"",suffix:s.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:ge(m.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(s=>[e(X,{props:s},{default:t(()=>[l("div",jl,[e(Dl,{delete:s},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Hl=G(Ol,[["__scopeId","data-v-478916e6"]]);const Ml={class:"q-gutter-sm"},El={class:"q-gutter-x-sm"},Ql={__name:"RawMaterialsPage",setup(r){return(w,C)=>(h(),D("div",Ml,[l("div",El,[e(be,{label:"Good",class:"text-white",color:"positive"}),e(be,{label:"Warning",class:"text-white",color:"warning"}),e(be,{label:"Danger",class:"text-white",color:"red"})]),l("div",null,[e(Hl)])]))}};const Kl=r=>(Z("data-v-2e420de9"),r=r(),ee(),r),Yl={class:"text-h6 text-white"},Gl=Kl(()=>l("div",{class:"text-h6",align:"center"},"Bread List",-1)),Wl={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be();console.log("breadReportsaaasss",r.breadProduction);const S=d=>d?d.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"";return(d,y)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row bg-backgroud text-h6"},{default:t(()=>{var _,u,f,v;return[l("div",Yl,V(`${S((u=(_=r.branchRecipe)==null?void 0:_.recipe)==null?void 0:u.name)} - ${(v=(f=r.branchRecipe)==null?void 0:f.recipe)==null?void 0:v.category}`),1),e(Pe),l("div",null,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]}),_:1}),e(I,null,{default:t(()=>[Gl]),_:1}),e(I,null,{default:t(()=>[e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Bread Name")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,{class:"text-overline text-center"},{default:t(()=>[P("Pieces")]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(r.breadProduction,(_,u)=>(h(),L(K,{key:u},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>{var f;return[P(V(S((f=_==null?void 0:_.bread)==null?void 0:f.name)),1)]}),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(T,{class:"text-caption text-center"},{default:t(()=>[P(V(`${_==null?void 0:_.bread_production} `),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Jl=G(Wl,[["__scopeId","data-v-2e420de9"]]);const Xl=r=>(Z("data-v-961b0a22"),r=r(),ee(),r),Zl={class:"text-h6 text-white"},ea=Xl(()=>l("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ta={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be();console.log("ingredientProduction",r.ingredientProduction);const S=y=>{const _=Number(y.quantity)||0,u=y.unit||"";return _>1e3?`${parseFloat((_/1e3).toFixed(3))} kg`:_>1?`${parseFloat(_.toFixed(3))} ${u}`:`${parseFloat(_.toFixed(3))} ${u}`},d=y=>y?y.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"";return(y,_)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row bg-backgroud text-h6"},{default:t(()=>{var u,f,v,U;return[l("div",Zl,V(`${d((f=(u=r.branchRecipe)==null?void 0:u.recipe)==null?void 0:f.name)} - ${(U=(v=r.branchRecipe)==null?void 0:v.recipe)==null?void 0:U.category}`),1),e(Pe),l("div",null,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]}),_:1}),e(I,null,{default:t(()=>[ea]),_:1}),e(I,null,{default:t(()=>[e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(r.ingredientProduction,(u,f)=>(h(),L(K,{key:f},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(u.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(u.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(S(u)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var la=G(ta,[["__scopeId","data-v-961b0a22"]]);const ut=wt("productions",()=>{const r=N([]),w=N([]);return{productions:r,production:w,fetchAllProduction:async()=>{const _=await de.get("/api/branch-production-report");r.value=_.data.reports},fetchBranchProductions:async _=>{try{const u=await de.get(`/api/branches/${_}/production-report`);r.value=u.data}catch(u){console.log(u)}},updateBakerReport:async(_,u)=>{console.log("baker reports data in store",u),console.log("baker reports id data in store",_),Te.show();try{const f=await de.put(`api/update/branch-baker-report/${_}`,u);console.log(f.data)}catch(f){console.error("Error updating baker report:",f)}finally{Te.hide()}},addBreadProduction:async _=>{console.log("Bread Production Data:",_),Te.show();try{const u=await de.post("/api/branch-add-bread-production-report",_);console.log(u.data),re.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(u){console.log(u),re.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Te.hide()}},addSelectaProduction:async _=>{console.log("Selecta Production Data:",_),Te.show();try{const u=await de.post("/api/branch-add-selecta-production-report",_);console.log(u.data),re.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(u){console.log(u),re.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Te.hide()}},addSoftdrinksProduction:async _=>{console.log("Softdrinks Production Data:",_),Te.show();try{const u=await de.post("/api/branch-add-softdrinks-production-report",_);console.log(u.data),re.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(u){console.log(u),re.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Te.hide()}},addOtherProductProduction:async _=>{console.log("Softdrinks Production Data:",_),Te.show();try{const u=await de.post("/api/branch-add-other-production-report",_);console.log(u.data),re.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(u){console.log(u),re.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Te.hide()}}}});const Nt=r=>(Z("data-v-6681c582"),r=r(),ee(),r),aa={class:"text-h6 text-dark"},oa={class:"row q-gutter-sm"},na={class:"row q-mt-sm q-gutter-sm"},sa=Nt(()=>l("div",{class:"q-mt-sm"},"Kilo",-1)),ra={class:"q-mt-xl q-gutter-md"},da={key:0},ia={class:"q-mx-sm"},ua=Nt(()=>l("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ca={__name:"EditBakersReport",props:["bakerReports","sales_report_id"],setup(r){const w=ut(),{dialogRef:C,onDialogHide:R}=Be(),x=r;console.log("bakers report",x.bakerReports);const g=qe({target:0,actual_target:0,short:0,over:0,kilo:0}),S=z(()=>x.bakerReports.ingredient_bakers_reports.map(c=>{const p=parseFloat(x.bakerReports.kilo)||1,k=parseFloat(g.kilo)||1,s=c.quantity/p*k;return{...c,quantity:s.toFixed(3)}})),d=c=>c?c.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",y=c=>{const p=Number(c.quantity)||0,k=c.unit||"";return p>1e3?`${parseFloat((p/1e3).toFixed(3))} kg`:p>1?`${parseFloat(p.toFixed(3))} ${k}`:`${parseFloat(p.toFixed(3))} ${k}`},_=c=>{const p=Number(c)||0;return parseFloat(p.toFixed(3)).toString()},u=c=>{const p=Number(c)||0;return parseFloat(p.toFixed(3)).toString()},f=z(()=>x.bakerReports.combined_bakers_reports.reduce((c,p)=>c+(parseFloat(p.bread_production)||0),0)),v=()=>{const c=f.value,p=parseFloat(g.actual_target)||0;c>p?(g.over=c-p,g.short=0):(g.short=p-c,g.over=0)};se(()=>x.bakerReports,c=>{c&&(g.target=_(c.target)||0,g.actual_target=c.actual_target||0,g.short=c.short||0,g.over=c.over||0,g.kilo=u(c.kilo)||0)},{immediate:!0}),se(()=>g.kilo,()=>{const c=parseFloat(g.kilo)||1,k=(parseFloat(g.target)||0)*c;g.actual_target=_(Math.ceil(k)),v()}),se(()=>f.value,()=>v());const U=async()=>{var m,n,i;const c=x.bakerReports.id,p=((i=(n=(m=x.bakerReports)==null?void 0:m.branch_recipe)==null?void 0:n.recipe)==null?void 0:i.category)||null,k=x.bakerReports.status,b=(x==null?void 0:x.sales_report_id)||null,s={initial_bakerreports_id:c,sales_report_id:b,category:p,target:g.target,actual_target:g.actual_target,short:g.short,over:g.over,status:k,kilo:g.kilo,combined_bakers_reports:x.bakerReports.combined_bakers_reports.map(o=>({bread_id:o.bread.id,bread_production:o.bread_production})),recalculated_ingredients:S.value.map(o=>({ingredients_id:o.ingredients.id,quantity:o.quantity,unit:o.unit}))};console.log("Edited Bakers Report",s),console.log("Edited Bakers Report",c);try{await w.updateBakerReport(c,s),re.create({type:"positive",message:"Baker report updated successfully!",position:"top"}),R()}catch(o){console.error("Error updating baker report:",o),re.create({type:"negative",message:"Failed to update baker report. Please try again.",position:"top"})}};return(c,p)=>(h(),L(ae,{ref_key:"dialogRef",ref:C,onHide:ce(R)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row bg-backgroud text-h6"},{default:t(()=>{var k,b,s,m,n,i;return[l("div",aa,V(`${d((s=(b=(k=r.bakerReports)==null?void 0:k.branch_recipe)==null?void 0:b.recipe)==null?void 0:s.name)} - ${(i=(n=(m=r.bakerReports)==null?void 0:m.branch_recipe)==null?void 0:n.recipe)==null?void 0:i.category}`),1),e(Pe),l("div",null,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]}),_:1}),e(I,{class:"row q-gutter-x-xl"},{default:t(()=>[l("div",null,[l("div",oa,[l("div",null,[P(" Target Pcs "),e(q,{readonly:"",modelValue:g.target,"onUpdate:modelValue":p[0]||(p[0]=k=>g.target=k),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),l("div",null,[P(" Actual Target "),e(q,{readonly:"",modelValue:g.actual_target,"onUpdate:modelValue":p[1]||(p[1]=k=>g.actual_target=k),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),l("div",na,[l("div",null,[P(" Short "),e(q,{readonly:"",modelValue:g.short,"onUpdate:modelValue":p[2]||(p[2]=k=>g.short=k),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),l("div",null,[P(" Over "),e(q,{readonly:"",modelValue:g.over,"onUpdate:modelValue":p[3]||(p[3]=k=>g.over=k),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),l("div",null,[sa,e(q,{outlined:"",modelValue:g.kilo,"onUpdate:modelValue":p[4]||(p[4]=k=>g.kilo=k),dense:"",type:"number",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),l("div",ra,[r.bakerReports.combined_bakers_reports.length?(h(),D("div",da,[(h(!0),D(M,null,le(r.bakerReports.combined_bakers_reports,(k,b)=>(h(),D("div",{key:b,class:"q-my-md"},[e(pt,{class:"q-ma-md"}),l("div",ia,V(k.bread.name),1),e(q,{outlined:"",modelValue:k.bread_production,"onUpdate:modelValue":s=>k.bread_production=s,dense:"",type:"numbers",suffix:"pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):we("",!0)])]),l("div",null,[ua,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(S.value,(k,b)=>(h(),L(K,{key:b},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(k.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(k.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(y(k)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(He,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[ie(e(F,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[ue]]),e(F,{class:"glossy",color:"teal",label:"Save",onClick:U})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var ma=G(ca,[["__scopeId","data-v-6681c582"]]);const pa=r=>(Z("data-v-11e4edc6"),r=r(),ee(),r),_a=pa(()=>l("div",{class:"row justify-between"},[l("div",{class:"text-h6"},"Baker Report")],-1)),ga={class:"text-subtitle1 text-weight-regular"},fa={class:"q-ma-sm"},va={class:"q-ma-sm",align:"center"},ya=["src"],ha={__name:"BakerReportPanel",props:["bakersReport","sales_report_id"],setup(r){vt.exports.vfs=Ct;const w=r,C=w.bakersReport;console.log("Bakers Report",w.bakersReport);const R=N(!0),x=N(!1);N(!1);const g=N({rowsPerPage:0}),S=N(""),d=Ee(),y=(a,$)=>{d.dialog({component:Jl,componentProps:{breadProduction:a,branchRecipe:$}})},_=(a,$)=>{d.dialog({component:la,componentProps:{ingredientProduction:a,branchRecipe:$}})},u=(a,$)=>{d.dialog({component:ma,componentProps:{bakerReports:a,sales_report_id:$}})},f=a=>Re.formatDate(a,"MMM. DD, YYYY"),v=a=>{const $=Number(a)||0;return parseFloat($.toFixed(3)).toString()},U=a=>{const $=Number(a)||0;return parseFloat($.toFixed(3)).toString()},c=a=>a?a.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",p=a=>{const $=me=>me?me.charAt(0).toUpperCase()+me.slice(1).toLowerCase():"",B=a.firstname?$(a.firstname):"No Firstname",Q=a.middlename?$(a.middlename).charAt(0)+".":"",ne=a.lastname?$(a.lastname):"No Lastname";return`${B} ${Q} ${ne}`.trim()},k=a=>{const $=new Date(a),B={hour:"2-digit",minute:"2-digit",hour12:!0};return $.toLocaleTimeString(void 0,B)},b=a=>{switch(a){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},s=a=>a?a.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",m=a=>a?a.recipe_category==="Filling"?a.filling_bakers_reports||[]:a.recipe_category==="Dough"?a.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),n=[{name:"recipe_name",align:"center",label:"Recipe Name",field:a=>a.branch_recipe&&a.branch_recipe.recipe?{name:a.branch_recipe.recipe.name,category:a.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:a=>`${s(a.name)} (${a.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:a=>k(a)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:a=>`${U(a)}`},{name:"actual_target",align:"center",label:"Actual Target",field:a=>a.target*a.kilo,format:a=>`${Math.ceil(a)}`},{name:"over",align:"center",label:"Over",field:"over",format:a=>`${a}`},{name:"short",align:"center",label:"Short",field:"short",format:a=>`${a}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],i=a=>{var pe,ke,Fe,De,Le,H,j,J,O,_e,Y,oe,W,Ve,je;console.log("bakerReport in print",a);const $=`${(Fe=(ke=(pe=a==null?void 0:a.branch_recipe)==null?void 0:pe.recipe)==null?void 0:ke.name)!=null?Fe:"Unkown Recipe"} (${(De=a==null?void 0:a.recipe_category)!=null?De:"Unkown Category"})`,B=(H=(Le=a==null?void 0:a.branch_recipe)==null?void 0:Le.target)!=null?H:0,Q=(j=a==null?void 0:a.actual_target)!=null?j:0,ne=(J=a==null?void 0:a.kilo)!=null?J:0,me=(O=a==null?void 0:a.over)!=null?O:0,Ue=(_e=a==null?void 0:a.short)!=null?_e:0,xe={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:$,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${v(B)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${Q} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${U(ne)} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${me} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${Ue} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${a.branch.name||"No name available"}
                Baker: ${p(((Y=a==null?void 0:a.user)==null?void 0:Y.employee)||"Unknown Baker Name")}
                Recipe: ${c(((W=(oe=a.branch_recipe)==null?void 0:oe.recipe)==null?void 0:W.name)||"Unknown Recipe")} (${a.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${f(((Ve=w.bakersReport[0])==null?void 0:Ve.created_at)||((je=w.bakersReport[1])==null?void 0:je.created_at)||"No name available")}
                Time: ${k(a.created_at)}
                Status: ${c(a.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...m(a).map(Ne=>{var ct;return[{text:((ct=Ne==null?void 0:Ne.bread)==null?void 0:ct.name)||"Unknown Bread",style:"body"},{text:a.recipe_category==="Filling"?`${(Ne==null?void 0:Ne.filling_production)||"0"} pcs`:`${Ne==null?void 0:Ne.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(a.ingredient_bakers_reports||[]).map(Ne=>{var ct,Vt;return[{text:((ct=Ne==null?void 0:Ne.ingredients)==null?void 0:ct.code)||"Unknown Ingredient",style:"body"},{text:`${(Ne==null?void 0:Ne.quantity)||"Unknown Quantity"} ${((Vt=Ne==null?void 0:Ne.ingredients)==null?void 0:Vt.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},xe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},o=a=>{const $=i(a);vt.exports.createPdf($).getDataUrl(B=>{S.value=B,x.value=!0})};return(a,$)=>(h(),D("div",null,[e(E,{class:"my-card q-pa-md"},{default:t(()=>{var B,Q,ne,me,Ue,xe;return[_a,l("div",ga,[l("div",null," Name: "+V(p(((Q=(B=ce(C)[0])==null?void 0:B.user)==null?void 0:Q.employee)||((me=(ne=ce(C)[1])==null?void 0:ne.user)==null?void 0:me.employee)||"No name available")),1),l("div",null," Date: "+V(`${f(((Ue=w.bakersReport[0])==null?void 0:Ue.created_at)||((xe=w.bakersReport[1])==null?void 0:xe.created_at)||"No name available")}`),1)]),e(I,null,{default:t(()=>[e($e,{class:"table-container sticky-header2",columns:n,rows:ce(C),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:g.value,"rows-per-page-options":[0]},{"body-cell-status":t(pe=>[e(X,{props:pe},{default:t(()=>[e(be,{align:"middle",color:b(pe.row.status)},{default:t(()=>[P(V(c(pe.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(pe=>[e(X,{props:pe},{default:t(()=>[e(F,{class:"gradient-icon",flat:"",rounded:"",onClick:ke=>y(pe.row.combined_bakers_reports,pe.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon"}),e(he,{class:"gradient-tooltip"},{default:t(()=>[P("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(pe=>[e(X,{props:pe},{default:t(()=>[e(F,{class:"gradient-icon2",flat:"",rounded:"",onClick:ke=>_(pe.row.ingredient_bakers_reports,pe.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon2"}),e(he,{class:"gradient-tooltip"},{default:t(()=>[P("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(pe=>[e(X,{props:pe},{default:t(()=>[e(F,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:ke=>a.toggleMenu(pe.row)},null,8,["onClick"]),e(Qt,{modelValue:pe.row.menu,"onUpdate:modelValue":ke=>pe.row.menu=ke,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(fe,{style:{"min-width":"100px"}},{default:t(()=>[ie((h(),L(K,{clickable:"",onClick:ke=>o(pe.row)},{default:t(()=>[e(A,{avatar:""},{default:t(()=>[e(te,{name:"print"})]),_:1}),e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[ue]]),ie((h(),L(K,{clickable:"",onClick:ke=>u(pe.row,r.sales_report_id)},{default:t(()=>[e(A,{avatar:""},{default:t(()=>[e(te,{name:"edit"})]),_:1}),e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[ue]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(ae,{modelValue:x.value,"onUpdate:modelValue":$[0]||($[0]=B=>x.value=B),"backdrop-filter":a.backdropFilter,maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[l("div",fa,[l("div",va,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(he,null,{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])]),l("div",null,[l("iframe",{src:S.value,width:"100%",height:"700px"},null,8,ya)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var ba=G(ha,[["__scopeId","data-v-11e4edc6"]]);const Qe=r=>(Z("data-v-103c9df4"),r=r(),ee(),r),wa=Qe(()=>l("div",{class:"text-h6 text-white"},"Bread",-1)),xa={class:"text-subtitle1 text-weight-medium"},ka={class:"q-mb-lg"},Va={key:0,class:"custom-list z-top"},$a=Qe(()=>l("div",null,"Product Name",-1)),Ca={class:"row justify-between q-mt-md q-gutter-md"},Sa=Qe(()=>l("div",null,"Category",-1)),Ra=Qe(()=>l("div",null,"Price",-1)),Pa={class:"row justify-between q-mt-md q-gutter-md"},Ua=Qe(()=>l("div",null,"Beginnings",-1)),qa=Qe(()=>l("div",null,"New Production",-1)),Na=Qe(()=>l("div",null,"Remaining",-1)),Da=Qe(()=>l("div",null,"Bread Out",-1)),Ia=Qe(()=>l("div",null,"Total Quantity",-1)),Aa=Qe(()=>l("div",null,"Bread Sold",-1)),Fa=Qe(()=>l("div",null,"Sales",-1)),Ta={align:"right"},Ba={__name:"AddingBreadReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const C=w.sales_report_id,R=ye(),x=ut(),g=dt();z(()=>g.products);const S=Me(),d=z(()=>S.branchProducts);console.log("branchProduct",d);const y=R.params.branch_id,_=w.user.id,u=N(""),f=N("");z(()=>u.value&&employees.value.length>0);const v=N("Bread"),U=async()=>{console.log("branch_id.value:",y),console.log("searchQuery.value:",f.value),console.log("category.value:",v.value),(f.value||v.value)&&await S.searchBranchProducts({query:f.value,branches_id:y,category:v.value})},c=N(!1),p=()=>{c.value=!0},k=o=>{const a=ne=>ne?ne.charAt(0).toUpperCase()+ne.slice(1).toLowerCase():"",$=o.firstname?a(o.firstname):"No Firstname",B=o.middlename?a(o.middlename).charAt(0)+".":"",Q=o.lastname?a(o.lastname):"No Lastname";return`${$} ${B} ${Q}`.trim()},b=o=>o?o.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):"",s=o=>{console.log("data",o),m.product_id=o.product.id,m.product_name=o.product.name,m.category=o.category,m.price=o.price,f.value=""},m=qe({sales_report_id:C,branch_id:y,user_id:_,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,new_production:0,bread_out:0,bread_sold:0,total:0,sales:0,branches_id:R.params.branch_id}),n=z(()=>{const o=parseInt(m.bread_sold||0)*parseFloat(m.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(o)});se(()=>[m.new_production,m.beginnings],([o,a])=>{m.total=parseInt(o||0)+parseInt(a||0)}),se(()=>[m.total,m.remaining,m.bread_out],([o,a,$])=>{m.bread_sold=parseInt(o||0)-(parseInt(a||0)+parseInt($||0))}),se(()=>[m.bread_sold,m.price],([o,a])=>{m.sales=parseInt(o||0)*parseFloat(a||0)});const i=async()=>{try{if(!m.product_name||!m.price||!m.product_id||!m.branch_id||!m.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const o={user_id:m.user_id,branch_id:m.branch_id,sales_report_id:m.sales_report_id,product_id:m.product_id,product_name:m.product_name,price:m.price,beginnings:m.beginnings,remaining:m.remaining,new_production:m.new_production,bread_out:m.bread_out,bread_sold:m.bread_sold,total:m.total,sales:m.sales};console.log("payload",o),await x.addBreadProduction(o)}catch{}};return(o,a)=>(h(),D(M,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Bread",onClick:p})]),e(ae,{modelValue:c.value,"onUpdate:modelValue":a[11]||(a[11]=$=>c.value=$),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row items-center bg-backgroud"},{default:t(()=>[wa,e(Pe),ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>[l("div",xa," Cashier: "+V(k(r.user.employee)),1)]),_:1}),e(I,{class:"q-gutter-y-sm"},{default:t(()=>[l("div",ka,[e(q,{modelValue:f.value,"onUpdate:modelValue":[a[0]||(a[0]=$=>f.value=$),U],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[f.value?(h(),D("div",Va,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var $;return[($=d.value)!=null&&$.length?(h(!0),D(M,{key:1},le(d.value,B=>(h(),L(K,{onClick:Q=>s(B),key:B.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(b(B.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[$a,e(q,{modelValue:m.product_name,"onUpdate:modelValue":a[1]||(a[1]=$=>m.product_name=$),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Ca,[l("div",null,[Sa,e(q,{modelValue:m.category,"onUpdate:modelValue":a[2]||(a[2]=$=>m.category=$),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])]),l("div",null,[Ra,e(q,{modelValue:m.price,"onUpdate:modelValue":a[3]||(a[3]=$=>m.price=$),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])])]),l("div",Pa,[l("div",null,[Ua,e(q,{modelValue:m.beginnings,"onUpdate:modelValue":a[4]||(a[4]=$=>m.beginnings=$),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[qa,e(q,{modelValue:m.new_production,"onUpdate:modelValue":a[5]||(a[5]=$=>m.new_production=$),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Na,e(q,{modelValue:m.remaining,"onUpdate:modelValue":a[6]||(a[6]=$=>m.remaining=$),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Da,e(q,{modelValue:m.bread_out,"onUpdate:modelValue":a[7]||(a[7]=$=>m.bread_out=$),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ia,e(q,{modelValue:m.total,"onUpdate:modelValue":a[8]||(a[8]=$=>m.total=$),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Aa,e(q,{modelValue:m.bread_sold,"onUpdate:modelValue":a[9]||(a[9]=$=>m.bread_sold=$),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Fa,e(q,{modelValue:n.value,"onUpdate:modelValue":a[10]||(a[10]=$=>n.value=$),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",Ta,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:i})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var za=G(Ba,[["__scopeId","data-v-103c9df4"]]);const La={class:"row justify-between text-white"},ja=l("div",{class:"text-h6"},"Bread Report",-1),Oa={class:"row justify-end q-mt-md"},Ha={class:"text-h6"},Ma={__name:"BreadReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=N(!1),S=N(!0),d=r,y=N(""),_=N({rowsPerPage:0});console.log("Reports data structure:",d.reports),console.log("Reports data sales_report_id:",d.sales_report_id);const u=n=>n?n.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",f=async(n,i)=>{console.log("update data of the price",n),console.log("update val of the price",i);try{const o=await de.put("/api/update-bread-sales-price-report/"+n.id,{price:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},v=async(n,i)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",i);try{const o=await de.put("/api/update-bread-sales-beginnings-report/"+n.id,{beginnings:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},U=async(n,i)=>{console.log("update data of the NewProduction",n),console.log("update val of the NewProduction",i);try{const o=await de.put("/api/update-bread-sales-newProduction-report/"+n.id,{new_production:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,i)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",i);try{const o=await de.put("/api/update-bread-sales-remaining-report/"+n.id,{remaining:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},p=async(n,i)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",i);try{const o=await de.put("/api/update-bread-sales-breadOut-report/"+n.id,{bread_out:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=[{name:"name",label:"Bread Name",field:n=>(console.log("Row data:",n),n.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"new_production",label:"New Production (PCS)",field:"new_production",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"bread_out",label:"Bread Out (PCS)",field:"bread_out",format:n=>`${n}`},{name:"total",label:"Bread Total (PCS)",field:n=>(Number(n.beginnings)||0)+(Number(n.new_production)||0)},{name:"breadSold",label:"Bread Sold (PCS)",field:n=>{const i=Number(n.beginnings)||0,o=Number(n.new_production)||0,a=Number(n.remaining)||0,$=Number(n.bread_out)||0,B=i+o,Q=a+$;return B-Q},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const i=Number(n.beginnings)||0,o=Number(n.new_production)||0,a=Number(n.remaining)||0,$=Number(n.bread_out)||0,B=Number(n.price)||0,Q=i+o,ne=a+$;return(Q-ne)*B},format:n=>`${b(n)}`}],b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),s=z(()=>{if(!y.value||!y.value.trim())return d.reports||[];const n=y.value.trim().toLowerCase();return(d.reports||[]).filter(i=>i.bread.name.toLowerCase().includes(n)||i.price.toString().includes(n)||i.sales.toString().includes(n))}),m=z(()=>{const n=s.value.reduce((i,o)=>{const a=Number(o.beginnings)||0,$=Number(o.new_production)||0,B=Number(o.remaining)||0,Q=Number(o.bread_out)||0,ne=Number(o.price)||0,me=a+$,Ue=B+Q,pe=(me-Ue)*ne;return console.log(`Adding salesAmount: ${pe} to total: ${i}`),i+pe},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Overall Total Sales:",m.value),(n,i)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=o=>g.value=o),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{style:{"background-color":"#795548"}},{default:t(()=>[l("div",La,[ja,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:y.value,"onUpdate:modelValue":i[0]||(i[0]=o=>y.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(za,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":i[1]||(i[1]=o=>_.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${u(o.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${b(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>f(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>v(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-new_production":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.new_production}`),1),e(ve,{"onUpdate:modelValue":[a=>U(o.row,a),a=>o.row.new_production=a],modelValue:o.row.new_production,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_out":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.bread_out}`),1),e(ve,{"onUpdate:modelValue":[a=>p(o.row,a),a=>o.row.bread_out=a],modelValue:o.row.bread_out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(I,null,{default:t(()=>[l("div",Oa,[l("div",Ha," Overall Total Sales: "+V(b(m.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Ke=r=>(Z("data-v-68ee2954"),r=r(),ee(),r),Ea=Ke(()=>l("div",{class:"text-h6 text-white"},"Add Selecta",-1)),Qa={class:"text-subtitle1 text-weight-medium"},Ka={class:"q-mb-lg"},Ya={key:0,class:"custom-list z-top"},Ga=Ke(()=>l("div",null,"Product Name",-1)),Wa=Ke(()=>l("div",null,"Category",-1)),Ja=Ke(()=>l("div",null,"Price",-1)),Xa={class:"row justify-between q-mt-md q-gutter-md"},Za=Ke(()=>l("div",null,"Beginnings",-1)),eo=Ke(()=>l("div",null,"Added Stocks",-1)),to=Ke(()=>l("div",null,"Remaining",-1)),lo=Ke(()=>l("div",null,"Selecta Out",-1)),ao=Ke(()=>l("div",null,"Total Quantity",-1)),oo=Ke(()=>l("div",null,"Selecta Sold",-1)),no=Ke(()=>l("div",null,"Sales",-1)),so={align:"right"},ro={__name:"AddingSelectaReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const C=w.sales_report_id,R=ye(),x=ut(),g=dt();z(()=>g.products);const S=Me(),d=z(()=>S.branchProducts);console.log("branchProduct",d);const y=R.params.branch_id,_=w.user.id,u=N(""),f=N("Selecta"),v=async()=>{console.log("branch_id.value:",y),console.log("searchQuery.value:",u.value),console.log("category.value:",f.value),(u.value||f.value)&&await S.searchBranchProducts({query:u.value,branches_id:y,category:f.value})},U=N(!1),c=()=>{U.value=!0},p=i=>{const o=Q=>Q?Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase():"",a=i.firstname?o(i.firstname):"No Firstname",$=i.middlename?o(i.middlename).charAt(0)+".":"",B=i.lastname?o(i.lastname):"No Lastname";return`${a} ${$} ${B}`.trim()},k=i=>i?i.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",b=i=>{console.log("data",i),s.product_id=i.product.id,s.product_name=i.product.name,s.category=i.category,s.price=i.price,u.value=""},s=qe({sales_report_id:C,branch_id:y,user_id:_,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:R.params.branch_id}),m=z(()=>{const i=parseInt(s.sold||0)*parseFloat(s.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)});se(()=>[s.added_stocks,s.beginnings],([i,o])=>{s.total=parseInt(i||0)+parseInt(o||0)}),se(()=>[s.total,s.remaining,s.out],([i,o,a])=>{s.sold=parseInt(i||0)-(parseInt(o||0)+parseInt(a||0))}),se(()=>[s.sold,s.price],([i,o])=>{s.sales=parseInt(i||0)*parseFloat(o||0)});const n=async()=>{try{if(!s.product_name||!s.price||!s.product_id||!s.branch_id||!s.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const i={user_id:s.user_id,branch_id:s.branch_id,sales_report_id:s.sales_report_id,product_id:s.product_id,product_name:s.product_name,price:s.price,beginnings:s.beginnings,remaining:s.remaining,added_stocks:s.added_stocks,out:s.out,sold:s.sold,total:s.total,sales:s.sales};console.log("payload",i),await x.addSelectaProduction(i)}catch{}};return(i,o)=>(h(),D(M,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:c})]),e(ae,{modelValue:U.value,"onUpdate:modelValue":o[11]||(o[11]=a=>U.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[P(V(r.user.name)+" ",1),e(I,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Ea,e(Pe),ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>[l("div",Qa," Cashier: "+V(p(r.user.employee)),1)]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Ka,[e(q,{modelValue:u.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>u.value=a),v],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(h(),D("div",Ya,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var a;return[(a=d.value)!=null&&a.length?(h(!0),D(M,{key:1},le(d.value,$=>(h(),L(K,{onClick:B=>b($),key:$.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(k($.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Ga,e(q,{modelValue:s.product_name,"onUpdate:modelValue":o[1]||(o[1]=a=>s.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Wa,e(q,{modelValue:s.category,"onUpdate:modelValue":o[2]||(o[2]=a=>s.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Ja,e(q,{modelValue:s.price,"onUpdate:modelValue":o[3]||(o[3]=a=>s.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Xa,[l("div",null,[Za,e(q,{modelValue:s.beginnings,"onUpdate:modelValue":o[4]||(o[4]=a=>s.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[eo,e(q,{modelValue:s.added_stocks,"onUpdate:modelValue":o[5]||(o[5]=a=>s.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[to,e(q,{modelValue:s.remaining,"onUpdate:modelValue":o[6]||(o[6]=a=>s.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[lo,e(q,{modelValue:s.out,"onUpdate:modelValue":o[7]||(o[7]=a=>s.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ao,e(q,{modelValue:s.total,"onUpdate:modelValue":o[8]||(o[8]=a=>s.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[oo,e(q,{modelValue:s.sold,"onUpdate:modelValue":o[9]||(o[9]=a=>s.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[no,e(q,{modelValue:m.value,"onUpdate:modelValue":o[10]||(o[10]=a=>m.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",so,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var io=G(ro,[["__scopeId","data-v-68ee2954"]]);const uo={class:"row justify-between text-white"},co=l("div",{class:"text-h6"},"Selecta Report",-1),mo={class:"row justify-end q-mt-md"},po={class:"text-h6"},_o={__name:"SelectaReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=N(!1),S=N(!0),d=r,y=N(""),_=N({rowsPerPage:0});console.log("Reports data structure:",d.reports);const u=n=>n?n.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",f=async(n,i)=>{console.log("update data of the price",n),console.log("update val of the price",i);try{const o=await de.put("/api/update-selecta-sales-price-report/"+n.id,{price:parseInt(i)})}catch(o){console.error(o)}},v=async(n,i)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",i);try{const o=await de.put("/api/update-selecta-sales-beginnings-report/"+n.id,{beginnings:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},U=async(n,i)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",i);try{const o=await de.put("/api/update-selecta-sales-remaining-report/"+n.id,{remaining:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,i)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",i);try{const o=await de.put("/api/update-selecta-sales-selctaOut-report/"+n.id,{out:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},p=async(n,i)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",i);try{const o=await de.put("/api/update-selecta-sales-addedstocks-report/"+n.id,{added_stocks:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=[{name:"name",label:"Selecta Name",field:n=>(console.log("Row data:",n),n.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:n=>`${n}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:n=>`${n}`},{name:"total_selecta",label:"Total Stocks (PCS)",field:n=>Number(n.beginnings||0)+Number(n.added_stocks||0),format:n=>`${n}`},{name:"sold",label:"Selecta Sold (PCS)",field:n=>{const i=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),$=Number(n.remaining||0),B=i+o,Q=$+a;return B-Q},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const i=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),$=Number(n.remaining||0),B=Number(n.price||0),Q=i+o,ne=$+a;return(Q-ne)*B},format:n=>`${b(n)}`}],b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),s=z(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),m=z(()=>{const n=s.value.reduce((i,o)=>{const a=`${o.beginnings}`||0,$=`${o.added_stocks}`||0,B=`${o.out}`||0,Q=`${o.remaining}`||0,ne=parseInt(a)+parseInt($),me=parseInt(Q)+parseInt(B),xe=(ne-me)*(o.price||0);return console.log(`Adding salesAmount: ${xe} to total: ${i}`),i+xe},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",s.value),(n,i)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=o=>g.value=o),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{style:{"background-color":"#f44336"}},{default:t(()=>[l("div",uo,[co,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:y.value,"onUpdate:modelValue":i[0]||(i[0]=o=>y.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(io,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":i[1]||(i[1]=o=>_.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${u(o.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${b(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>f(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>v(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>U(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.out}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.out=a],modelValue:o.row.out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.added_stocks}`),1),e(ve,{"onUpdate:modelValue":[a=>p(o.row,a),a=>o.row.added_stocks=a],modelValue:o.row.added_stocks,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(I,null,{default:t(()=>[l("div",mo,[l("div",po," Overall Total Sales: "+V(b(m.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Ye=r=>(Z("data-v-94be31e2"),r=r(),ee(),r),go=Ye(()=>l("div",{class:"text-h6 text-white"},"Add Softdrinks",-1)),fo={class:"text-subtitle1 text-weight-medium"},vo={class:"q-mb-lg"},yo={key:0,class:"custom-list z-top"},ho=Ye(()=>l("div",null,"Product Name",-1)),bo=Ye(()=>l("div",null,"Category",-1)),wo=Ye(()=>l("div",null,"Price",-1)),xo={class:"row justify-between q-mt-md q-gutter-md"},ko=Ye(()=>l("div",null,"Beginnings",-1)),Vo=Ye(()=>l("div",null,"Added Stocks",-1)),$o=Ye(()=>l("div",null,"Remaining",-1)),Co=Ye(()=>l("div",null,"Softdrinks Out",-1)),So=Ye(()=>l("div",null,"Total Quantity",-1)),Ro=Ye(()=>l("div",null,"Softdrinks Sold",-1)),Po=Ye(()=>l("div",null,"Sales",-1)),Uo={align:"right"},qo={__name:"AddingSoftdrinksReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const C=w.sales_report_id,R=ye(),x=ut(),g=dt();z(()=>g.products);const S=Me(),d=z(()=>S.branchProducts);console.log("branchProduct",d);const y=R.params.branch_id,_=w.user.id,u=N(""),f=N("Softdrinks"),v=async()=>{console.log("branch_id.value:",y),console.log("searchQuery.value:",u.value),console.log("category.value:",f.value),(u.value||f.value)&&await S.searchBranchProducts({query:u.value,branches_id:y,category:f.value})},U=N(!1),c=()=>{U.value=!0},p=i=>{const o=Q=>Q?Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase():"",a=i.firstname?o(i.firstname):"No Firstname",$=i.middlename?o(i.middlename).charAt(0)+".":"",B=i.lastname?o(i.lastname):"No Lastname";return`${a} ${$} ${B}`.trim()},k=i=>i?i.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",b=i=>{console.log("data",i),s.product_id=i.product.id,s.product_name=i.product.name,s.category=i.category,s.price=i.price,u.value=""},s=qe({sales_report_id:C,branch_id:y,user_id:_,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:R.params.branch_id}),m=z(()=>{const i=parseInt(s.sold||0)*parseFloat(s.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)});se(()=>[s.added_stocks,s.beginnings],([i,o])=>{s.total=parseInt(i||0)+parseInt(o||0)}),se(()=>[s.total,s.remaining,s.out],([i,o,a])=>{s.sold=parseInt(i||0)-(parseInt(o||0)+parseInt(a||0))}),se(()=>[s.sold,s.price],([i,o])=>{s.sales=parseInt(i||0)*parseFloat(o||0)});const n=async()=>{try{if(!s.product_name||!s.price||!s.product_id||!s.branch_id||!s.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const i={user_id:s.user_id,branch_id:s.branch_id,sales_report_id:s.sales_report_id,product_id:s.product_id,product_name:s.product_name,price:s.price,beginnings:s.beginnings,remaining:s.remaining,added_stocks:s.added_stocks,out:s.out,sold:s.sold,total:s.total,sales:s.sales};console.log("payload",i),await x.addSoftdrinksProduction(i)}catch{}};return(i,o)=>(h(),D(M,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Softdrinks",onClick:c})]),e(ae,{modelValue:U.value,"onUpdate:modelValue":o[11]||(o[11]=a=>U.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[P(V(r.user.name)+" ",1),e(I,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[go,e(Pe),ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>[l("div",fo," Cashier: "+V(p(r.user.employee)),1)]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",vo,[e(q,{modelValue:u.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>u.value=a),v],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(h(),D("div",yo,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var a;return[(a=d.value)!=null&&a.length?(h(!0),D(M,{key:1},le(d.value,$=>(h(),L(K,{onClick:B=>b($),key:$.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(k($.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[ho,e(q,{modelValue:s.product_name,"onUpdate:modelValue":o[1]||(o[1]=a=>s.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[bo,e(q,{modelValue:s.category,"onUpdate:modelValue":o[2]||(o[2]=a=>s.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[wo,e(q,{modelValue:s.price,"onUpdate:modelValue":o[3]||(o[3]=a=>s.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",xo,[l("div",null,[ko,e(q,{modelValue:s.beginnings,"onUpdate:modelValue":o[4]||(o[4]=a=>s.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Vo,e(q,{modelValue:s.added_stocks,"onUpdate:modelValue":o[5]||(o[5]=a=>s.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[$o,e(q,{modelValue:s.remaining,"onUpdate:modelValue":o[6]||(o[6]=a=>s.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Co,e(q,{modelValue:s.out,"onUpdate:modelValue":o[7]||(o[7]=a=>s.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[So,e(q,{modelValue:s.total,"onUpdate:modelValue":o[8]||(o[8]=a=>s.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ro,e(q,{modelValue:s.sold,"onUpdate:modelValue":o[9]||(o[9]=a=>s.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Po,e(q,{modelValue:m.value,"onUpdate:modelValue":o[10]||(o[10]=a=>m.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",Uo,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var No=G(qo,[["__scopeId","data-v-94be31e2"]]);const Do={class:"row justify-between text-white"},Io=l("div",{class:"text-h6"},"Softdrinks Report",-1),Ao={class:"row justify-end q-mt-md"},Fo={class:"text-h6"},To={__name:"SoftdrinksReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=N(!1),S=N(!0),d=r,y=N(""),_=N({rowsPerPage:0});console.log("Reports data structure:",d.reports);const u=n=>n?n.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",f=async(n,i)=>{console.log("update data of the price",n),console.log("update val of the price",i);try{const o=await de.put("/api/update-softdrinks-sales-price-report/"+n.id,{price:parseInt(i)});console.log("Updated price response:",o.data)}catch(o){console.error(o)}},v=async(n,i)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",i);try{const o=await de.put("/api/update-softdrinks-sales-beginnings-report/"+n.id,{beginnings:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},U=async(n,i)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",i);try{const o=await de.put("/api/update-softdrinks-sales-remaining-report/"+n.id,{remaining:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,i)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",i);try{const o=await de.put("/api/update-softdrinks-sales-out-report/"+n.id,{out:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},p=async(n,i)=>{console.log("update data of the addedstocks",n),console.log("update val of the addedstocks",i);try{const o=await de.put("/api/update-softdrinks-sales-addedstocks-report/"+n.id,{added_stocks:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=[{name:"name",label:"Softdrinks Name",field:n=>(console.log("Row data:",n),n.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:n=>`${n}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:n=>`${n}`},{name:"total_softdrinks",label:"Total Stocks (PCS)",field:n=>Number(n.beginnings||0)+Number(n.added_stocks||0),format:n=>`${n}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:n=>{const i=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),$=Number(n.remaining||0),B=i+o,Q=$+a;return B-Q},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const i=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),$=Number(n.remaining||0),B=Number(n.price||0),Q=i+o,ne=$+a;return(Q-ne)*B},format:n=>`${b(n)}`}],b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),s=z(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),m=z(()=>{const n=s.value.reduce((i,o)=>{const a=Number(o.beginnings||0),$=Number(o.added_stocks||0),B=Number(o.out||0),Q=Number(o.remaining||0),ne=a+$,me=Q+B,xe=(ne-me)*(o.price||0);return console.log(`Adding salesAmount: ${xe} to total: ${i}`),i+xe},0);return console.log("Overall Total:",n),n});return console.log("Filtered Rows:",s.value),(n,i)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=o=>g.value=o),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{style:{"background-color":"#9c27b0"}},{default:t(()=>[l("div",Do,[Io,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:y.value,"onUpdate:modelValue":i[0]||(i[0]=o=>y.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(No,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":i[1]||(i[1]=o=>_.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${u(o.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${b(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>f(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>v(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>U(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.out}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.out=a],modelValue:o.row.out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.added_stocks}`),1),e(ve,{"onUpdate:modelValue":[a=>p(o.row,a),a=>o.row.added_stocks=a],modelValue:o.row.added_stocks,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(I,null,{default:t(()=>[l("div",Ao,[l("div",Fo," Overall Total Sales: "+V(b(m.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}},Bo={class:"row justify-between text-white"},zo=l("div",{class:"text-h6"},"Cake Report",-1),Lo={class:"row justify-end q-mt-md"},jo={class:"text-h6"},Oo={__name:"CakeReport",props:["reports"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=r;console.log("Report cake:",g.reports);const S=z(()=>(console.log("Filtered cake rows:",g.reports||[]),g.reports||[])),d=f=>{const v=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",U=f.firstname?v(f.firstname):"No Firstname",c=f.middlename?v(f.middlename).charAt(0)+".":"",p=f.lastname?v(f.lastname):"No Lastname";return`${U} ${c} ${p}`},y=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(f).replace("\u20B1","\u20B1 "),_=z(()=>{const f=S.value.reduce((v,U)=>{const c=parseFloat(U.cake_report.price)||0;return console.log(`Adding salesAmount: ${c} to total: ${v}`),v+c},0);return console.log("Overall Total Sales computed as:",f),f}),u=[{name:"name",label:"Cake Name",field:f=>(console.log("Row data:",f),f.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:f=>d(f.cake_report.user.employee)},{name:"price",label:"Price",field:f=>y(f.cake_report.price)},{name:"layers",label:"Layers",field:f=>f.cake_report.layers},{name:"sales_status",label:"Sale Status",field:f=>f.cake_report.sales_status}];return(f,v)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C)},{default:t(()=>[e(E,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(I,{style:{"background-color":"#009688"}},{default:t(()=>[l("div",Bo,[zo,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:f.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:u,rows:S.value,"row-key":"name","virtual-scroll":"",pagination:f.pagination,"onUpdate:pagination":v[0]||(v[0]=U=>f.pagination=U),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),l("div",Lo,[l("div",jo," Overall Total Sales: "+V(y(_.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Ge=r=>(Z("data-v-fc9f2a70"),r=r(),ee(),r),Ho=Ge(()=>l("div",{class:"text-h6 text-white"},"Add Other Products",-1)),Mo={class:"text-subtitle1 text-weight-medium"},Eo={class:"q-mb-lg"},Qo={key:0,class:"custom-list z-top"},Ko=Ge(()=>l("div",null,"Product Name",-1)),Yo=Ge(()=>l("div",null,"Category",-1)),Go=Ge(()=>l("div",null,"Price",-1)),Wo={class:"row justify-between q-mt-md q-gutter-md"},Jo=Ge(()=>l("div",null,"Beginnings",-1)),Xo=Ge(()=>l("div",null,"Added Stocks",-1)),Zo=Ge(()=>l("div",null,"Remaining",-1)),en=Ge(()=>l("div",null,"Out",-1)),tn=Ge(()=>l("div",null,"Total Quantity",-1)),ln=Ge(()=>l("div",null,"Sold",-1)),an=Ge(()=>l("div",null,"Sales",-1)),on={align:"right"},nn={__name:"AddingOtherReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const C=w.sales_report_id,R=ye(),x=ut(),g=dt();z(()=>g.products);const S=Me(),d=z(()=>S.branchProducts);console.log("branchProduct",d);const y=R.params.branch_id,_=w.user.id,u=N(""),f=N("Others"),v=async()=>{console.log("branch_id.value:",y),console.log("searchQuery.value:",u.value),console.log("category.value:",f.value),(u.value||f.value)&&await S.searchBranchProducts({query:u.value,branches_id:y,category:f.value})},U=N(!1),c=()=>{U.value=!0},p=i=>{const o=Q=>Q?Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase():"",a=i.firstname?o(i.firstname):"No Firstname",$=i.middlename?o(i.middlename).charAt(0)+".":"",B=i.lastname?o(i.lastname):"No Lastname";return`${a} ${$} ${B}`.trim()},k=i=>i?i.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",b=i=>{console.log("data",i),s.product_id=i.product.id,s.product_name=i.product.name,s.category=i.category,s.price=i.price,u.value=""},s=qe({sales_report_id:C,branch_id:y,user_id:_,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:R.params.branch_id}),m=z(()=>{const i=parseInt(s.sold||0)*parseFloat(s.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)});se(()=>[s.added_stocks,s.beginnings],([i,o])=>{s.total=parseInt(i||0)+parseInt(o||0)}),se(()=>[s.total,s.remaining,s.out],([i,o,a])=>{s.sold=parseInt(i||0)-(parseInt(o||0)+parseInt(a||0))}),se(()=>[s.sold,s.price],([i,o])=>{s.sales=parseInt(i||0)*parseFloat(o||0)});const n=async()=>{try{if(!s.product_name||!s.price||!s.product_id||!s.branch_id||!s.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const i={user_id:s.user_id,branch_id:s.branch_id,sales_report_id:s.sales_report_id,product_id:s.product_id,product_name:s.product_name,price:s.price,beginnings:s.beginnings,remaining:s.remaining,added_stocks:s.added_stocks,out:s.out,sold:s.sold,total:s.total,sales:s.sales};console.log("payload",i),await x.addOtherProductProduction(i)}catch{}};return(i,o)=>(h(),D(M,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:c})]),e(ae,{modelValue:U.value,"onUpdate:modelValue":o[11]||(o[11]=a=>U.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[P(V(r.user.name)+" ",1),e(I,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Ho,e(Pe),ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>[l("div",Mo," Cashier: "+V(p(r.user.employee)),1)]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Eo,[e(q,{modelValue:u.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>u.value=a),v],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(h(),D("div",Qo,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var a;return[(a=d.value)!=null&&a.length?(h(!0),D(M,{key:1},le(d.value,$=>(h(),L(K,{onClick:B=>b($),key:$.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(k($.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Ko,e(q,{modelValue:s.product_name,"onUpdate:modelValue":o[1]||(o[1]=a=>s.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Yo,e(q,{modelValue:s.category,"onUpdate:modelValue":o[2]||(o[2]=a=>s.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Go,e(q,{modelValue:s.price,"onUpdate:modelValue":o[3]||(o[3]=a=>s.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Wo,[l("div",null,[Jo,e(q,{modelValue:s.beginnings,"onUpdate:modelValue":o[4]||(o[4]=a=>s.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Xo,e(q,{modelValue:s.added_stocks,"onUpdate:modelValue":o[5]||(o[5]=a=>s.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Zo,e(q,{modelValue:s.remaining,"onUpdate:modelValue":o[6]||(o[6]=a=>s.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[en,e(q,{modelValue:s.out,"onUpdate:modelValue":o[7]||(o[7]=a=>s.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[tn,e(q,{modelValue:s.total,"onUpdate:modelValue":o[8]||(o[8]=a=>s.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ln,e(q,{modelValue:s.sold,"onUpdate:modelValue":o[9]||(o[9]=a=>s.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[an,e(q,{modelValue:m.value,"onUpdate:modelValue":o[10]||(o[10]=a=>m.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",on,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var sn=G(nn,[["__scopeId","data-v-fc9f2a70"]]);const rn={class:"row justify-between text-white"},dn=l("div",{class:"text-h6"},"Other Products Report",-1),un={class:"row justify-end q-mt-md"},cn={class:"text-h6"},mn={__name:"OtherProductsReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=N(!1),S=N(!0),d=r,y=N(""),_=N({rowsPerPage:0}),u=z(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),f=n=>n?n.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",v=async(n,i)=>{console.log("update data of the price",n),console.log("update val of the price",i);try{const o=await de.put("/api/update-otherProducst-sales-price-report/"+n.id,{price:parseInt(i)});console.log("Updated price response:",o.data)}catch(o){console.error(o)}},U=async(n,i)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",i);try{const o=await de.put("/api/update-otherProducst-sales-beginnings-report/"+n.id,{beginnings:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,i)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",i);try{const o=await de.put("/api/update-otherProducst-sales-remaining-report/"+n.id,{remaining:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},p=async(n,i)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",i);try{const o=await de.put("/api/update-otherProducst-sales-out-report/"+n.id,{out:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=async(n,i)=>{console.log("update data of the updatedAddedStocks",n),console.log("update val of the updatedAddedStocks",i);try{const o=await de.put("/api/update-otherProducst-sales-addedstocks-report/"+n.id,{added_stocks:parseInt(i)});console.log("reponse",o.data)}catch(o){console.error(o)}},b=[{name:"name",label:"Product Name",field:n=>(console.log("Row data:",n),n.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Product Out (PCS)",field:"out",format:n=>`${n}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:n=>`${n}`},{name:"total_other_products",label:"Total Stocks (PCS)",field:n=>Number(n.beginnings||0)+Number(n.added_stocks||0),format:n=>`${n}`},{name:"sold",label:"Product Sold (PCS)",field:n=>{const i=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),$=Number(n.remaining||0),B=i+o,Q=$+a;return B-Q},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const i=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),$=Number(n.remaining||0),B=Number(n.price||0),Q=i+o,ne=$+a;return(Q-ne)*B},format:n=>`${s(n)}`}],s=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),m=z(()=>{const n=u.value.reduce((i,o)=>{const a=Number(o.beginnings||0),$=Number(o.added_stocks||0),B=Number(o.out||0),Q=Number(o.remaining||0),ne=a+$,me=Q+B,xe=(ne-me)*(o.price||0);return console.log(`Adding salesAmount: ${xe} to total: ${i}`),i+xe},0);return console.log("Overall Total Sales computed as:",n),n});return(n,i)=>(h(),D("div",null,[e(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=o=>g.value=o),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{style:{"background-color":"#607d8b"}},{default:t(()=>[l("div",rn,[dn,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:y.value,"onUpdate:modelValue":i[0]||(i[0]=o=>y.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(sn,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:b,rows:u.value,"row-key":"name","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":i[1]||(i[1]=o=>_.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${f(o.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${s(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>v(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>U(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.out}`),1),e(ve,{"onUpdate:modelValue":[a=>p(o.row,a),a=>o.row.out=a],modelValue:o.row.out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(o=>[e(X,{props:o},{default:t(()=>[l("span",null,V(`${o.row.added_stocks}`),1),e(ve,{"onUpdate:modelValue":[a=>k(o.row,a),a=>o.row.added_stocks=a],modelValue:o.row.added_stocks,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":$=>a.value=$,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ge(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(I,null,{default:t(()=>[l("div",un,[l("div",cn," Overall Total Sales: "+V(s(m.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"])]))}};const pn=r=>(Z("data-v-59913400"),r=r(),ee(),r),_n=pn(()=>l("div",{class:"text-h6",align:"center"},"Products Report",-1)),gn={class:"item-start q-gutter-md",align:"center"},fn={__name:"ProductsReport",props:["sales_Reports"],setup(r){const w=r,C=w.sales_Reports;console.log("sales report2sss",C);const R=Ee(),x=(_,u,f)=>{R.dialog({component:Ma,componentProps:{reports:_,sales_report_id:u,user:f}})},g=(_,u,f)=>{R.dialog({component:_o,componentProps:{reports:_,sales_report_id:u,user:f}})},S=(_,u,f)=>{R.dialog({component:To,componentProps:{reports:_,sales_report_id:u,user:f}})},d=(_,u,f)=>{R.dialog({component:Oo,componentProps:{reports:_,sales_report_id:u,user:f}})},y=(_,u,f)=>{R.dialog({component:mn,componentProps:{reports:_,sales_report_id:u,user:f}})};return(_,u)=>(h(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(I,null,{default:t(()=>[_n]),_:1}),e(I,null,{default:t(()=>[l("div",gn,[e(F,{onClick:u[0]||(u[0]=f=>x(w.sales_Reports[0].bread_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(F,{onClick:u[1]||(u[1]=f=>g(w.sales_Reports[0].selecta_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(F,{onClick:u[2]||(u[2]=f=>S(w.sales_Reports[0].softdrinks_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(F,{onClick:u[3]||(u[3]=f=>d(w.sales_Reports[0].cake_sales_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(F,{onClick:u[4]||(u[4]=f=>y(w.sales_Reports[0].other_products_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var vn=G(fn,[["__scopeId","data-v-59913400"]]);const yn={class:"row justify-between text-white"},hn=l("div",{class:"text-h6"},"Denomination Report",-1),bn={class:"row text-weight-regular text-subtitle1"},wn={class:"col-6"},xn={class:"col-6"},kn={class:"row justify-end q-mt-md"},Vn={class:"text-h6"},$n={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(r){const{dialogRef:w,onDialogHide:C}=Be(),x=r.reports[0]||{},g=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(d),S=z(()=>{const d={oneThousandBills:1e3,fiveHundredBills:500,twoHundredBills:200,oneHundredBills:100,fiftyBills:50,twentyBills:20,twentyCoins:20,tenCoins:10,fiveCoins:5,oneCoins:1,twentyFiveCents:.25};return Object.keys(d).reduce((y,_)=>y+(x[_]||0)*d[_],0)});return(d,y)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C)},{default:t(()=>[e(E,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(I,{style:{"background-color":"#03a9f4"}},{default:t(()=>[l("div",yn,[hn,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,null,{default:t(()=>[l("div",bn,[l("div",wn,[l("div",null,"1000 Bills: "+V(ce(x).oneThousandBills),1),l("div",null,"500 Bills: "+V(ce(x).fiveHundredBills),1),l("div",null,"200 Bills: "+V(ce(x).twoHundredBills),1),l("div",null,"100 Bills: "+V(ce(x).oneHundredBills),1),l("div",null,"50 Bills: "+V(ce(x).fiftyBills),1),l("div",null,"20 Bills: "+V(ce(x).twentyBills),1)]),l("div",xn,[l("div",null,"20 coins: "+V(ce(x).twentyCoins),1),l("div",null,"10 coins: "+V(ce(x).tenCoins),1),l("div",null,"5 coins: "+V(ce(x).fiveCoins),1),l("div",null,"1 coins: "+V(ce(x).oneCoins),1),l("div",null,"25 cents: "+V(ce(x).twentyFiveCents),1)])])]),_:1}),e(I,null,{default:t(()=>[l("div",kn,[l("div",Vn," Overall Total Denomination: "+V(g(S.value)),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Cn=r=>(Z("data-v-43ad17ba"),r=r(),ee(),r),Sn=Cn(()=>l("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),Rn={class:"q-gutter-x-md",align:"center"},Pn={__name:"DenominationReport",props:["sales_Reports"],setup(r){const w=r;w.sales_Reports,console.log("Denomination report",w);const C=Ee(),R=(x,g)=>{C.dialog({component:$n,componentProps:{reports:x,total:g}})};return(x,g)=>(h(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(I,null,{default:t(()=>[Sn]),_:1}),e(I,null,{default:t(()=>[l("div",Rn,[e(F,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:g[0]||(g[0]=S=>R(w.sales_Reports[0].denomination_reports,w.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var Un=G(Pn,[["__scopeId","data-v-43ad17ba"]]);const qn=wt("expenses",()=>{const r=N([]),w=N(null);return{expenses:r,expense:w,addingExpense:async R=>{try{const x=await de.post("/api/employee-adding-expense",R);console.log(x.data),re.create({type:"positive",message:"Employee expenses successfully created",setTimeout:1e3})}catch(x){console.log(x),re.create({type:"negative",message:"Error creating employee expenses",setTimeout:1e3})}}}});const Nn=r=>(Z("data-v-2df7ead9"),r=r(),ee(),r),Dn={class:"row justify-between"},In=Nn(()=>l("div",{class:"text-h6"},"Expenses",-1)),An={class:"q-gutter-y-md"},Fn={class:"row q-gutter-x-md"},Tn={align:"right"},Bn={class:"",align:"right"},zn={__name:"AddingExpenses",props:{reports:{type:Array,default:()=>[]},user:{type:Object,default:()=>({})},sales_report_id:{type:[String,Number],default:null},user_id:{type:[String,Number],default:null}},setup(r){const w=qn(),C=r,R=C.sales_report_id||"N/A",x=C.reports[0]&&C.reports[0].branch_id||"Unknown",g=C.user_id||"Unknown",S=N(!1),d=N([]),y=qe({user_expense_id:"",name:"",amount:0,description:""}),_=()=>{y.name&&y.amount&&y.description?(d.value.push({user_expense_id:y.user_expense_id,name:y.name,amount:y.amount,description:y.description}),u()):re.create({type:"negative",message:"Please fill all fields before adding.",timeout:2e3})},u=()=>{y.user_expense_id="",y.name="",y.amount=0,y.description=""},f=c=>{d.value.splice(c,1)},v=()=>{S.value=!0},U=async()=>{const c={sales_report_id:R,branch_id:x,user_id:g,expenses:d.value.map(p=>({name:p.name,amount:p.amount,description:p.description}))};await w.addingExpense(c),re.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),u()};return(c,p)=>(h(),D(M,null,[l("div",null,[e(F,{class:"bg-gradient text-white",outlined:"",label:"Expenses Report",onClick:v})]),e(ae,{modelValue:S.value,"onUpdate:modelValue":p[3]||(p[3]=k=>S.value=k),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(I,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Dn,[In,l("div",null,[ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])])])]),_:1}),e(I,null,{default:t(()=>[l("div",An,[l("div",Fn,[l("div",null,[e(q,{modelValue:y.name,"onUpdate:modelValue":p[0]||(p[0]=k=>y.name=k),outlined:"",dense:"",style:{width:"300px"},placeholder:"Name"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:y.amount,"onUpdate:modelValue":p[1]||(p[1]=k=>y.amount=k),"reverse-fill-mask":"",outlined:"",type:"number",dense:"",style:{width:"100px"},label:"Amount"},null,8,["modelValue"])])]),l("div",null,[e(q,{modelValue:y.description,"onUpdate:modelValue":p[2]||(p[2]=k=>y.description=k),placeholder:"Description",outlined:"",autogrow:"",style:{width:"415px"}},null,8,["modelValue"])]),l("div",Tn,[e(F,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:_})]),l("div",null,[e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Description")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Amount")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,{class:"text-overline"})]),_:1})]),_:1}),l("div",null,[(h(!0),D(M,null,le(d.value,(k,b)=>(h(),L(K,{key:b,class:"q-gutter-xs"},{default:t(()=>[e(A,{class:"q-ma-sm text-subtitle2"},{default:t(()=>[e(T,{caption:""},{default:t(()=>[P(V(k.name),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm"},{default:t(()=>[e(T,{caption:""},{default:t(()=>[P(V(k.description),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm"},{default:t(()=>[e(T,{caption:""},{default:t(()=>[P(V(k.amount),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(F,{onClick:s=>f(b),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),l("div",Bn,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:U})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ln=G(zn,[["__scopeId","data-v-2df7ead9"]]);const jn={class:"row justify-between text-white"},On=l("div",{class:"text-h6"},"Expenses Report",-1),Hn={class:"row justify-end q-mt-md"},Mn={class:"text-h6"},En={__name:"ExpensesDialog",props:{reports:Array,user:Object,sales_report_id:Number,user_id:Number},setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=N(!1),S=N(!0),d=N(""),y=N({rowsPerPage:0}),_=r,u=_.reports;console.log("Expenses total",_.total);const f=m=>m?m.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",v=async(m,n)=>{console.log("update data of the updateName",m),console.log("update val of the updateName",n);try{const i=await de.put("/api/update-expenses-sales-name-report/"+m.id,{name:n});console.log("Updated expenses amount response:",i.data)}catch(i){console.error(i)}},U=async(m,n)=>{console.log("update data of the description",m),console.log("update val of the description",n);try{const i=await de.put("/api/update-expenses-sales-description-report/"+m.id,{description:n});console.log("Updated expenses amount response:",i.data)}catch(i){console.error(i)}},c=async(m,n)=>{console.log("update data of the amount",m),console.log("update val of the amount",n);try{const i=await de.put("/api/update-expenses-sales-amount-report/"+m.id,{amount:parseFloat(n)});console.log("Updated expenses amount response:",i.data)}catch(i){console.error(i)}},p=[{name:"name",label:"Expenses Name",field:m=>(console.log("Row data:",m),m.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",_.reports);const k=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),b=z(()=>(console.log("Filtered rows:",_.reports||[]),_.reports||[])),s=z(()=>b.value.reduce((n,i)=>{const o=parseFloat(i.amount)||0;return n+o},0));return console.log("Expenses:",b.value),(m,n)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),onOk:m.handleButtonClick,onCancel:ce(x),modelValue:g.value,"onUpdate:modelValue":n[2]||(n[2]=i=>g.value=i),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{style:{"background-color":"#03a9f4"}},{default:t(()=>[l("div",jn,[On,ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=i=>d.value=i),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(Ln,{reports:ce(u),user:_.user,sales_report_id:_.sales_report_id,user_id:_.user_id},null,8,["reports","user","sales_report_id","user_id"])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:d.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":n[1]||(n[1]=i=>y.value=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(X,{props:i},{default:t(()=>[l("span",null,V(`${f(i.row.name)}`),1),e(ve,{"onUpdate:modelValue":[o=>v(i.row,o),o=>i.row.name=o],modelValue:i.row.name,"auto-save":""},{default:t(o=>[e(q,{class:"text-capitalize",modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",autofocus:"",counter:"",onKeyup:ge(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-description":t(i=>[e(X,{props:i},{default:t(()=>[l("span",null,V(`${f(i.row.description)}`),1),e(ve,{"onUpdate:modelValue":[o=>U(i.row,o),o=>i.row.description=o],modelValue:i.row.description,"auto-save":""},{default:t(o=>[e(q,{class:"text-capitalize",modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",autofocus:"",counter:"",onKeyup:ge(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-amount":t(i=>[e(X,{props:i},{default:t(()=>[l("span",null,V(k(i.row.amount)),1),e(ve,{"onUpdate:modelValue":[o=>c(i.row,parseFloat(o)),o=>i.row.amount=o],modelValue:i.row.amount,"auto-save":""},{default:t(o=>[e(q,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,modelModifiers:{number:!0},dense:"",type:"number",mask:"##0.00",autofocus:"",counter:"",onKeyup:ge(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(I,null,{default:t(()=>[l("div",Hn,[l("div",Mn," Overall Total Expenses: "+V(k(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel","modelValue","maximized"]))}};const Qn=r=>(Z("data-v-601d27dc"),r=r(),ee(),r),Kn=Qn(()=>l("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Yn={class:"q-gutter-x-md",align:"center"},Gn={__name:"ExpensesReport",props:["sales_Reports"],setup(r){const w=r;console.log("Expenses Datassssss",w.sales_Reports);const C=Ee(),R=(x,g,S,d)=>{C.dialog({component:En,componentProps:{reports:x,user:g,sales_report_id:S,user_id:d}})};return(x,g)=>(h(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(I,null,{default:t(()=>[Kn]),_:1}),e(I,null,{default:t(()=>[l("div",Yn,[e(F,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:g[0]||(g[0]=S=>R(w.sales_Reports[0].expenses_reports,w.sales_Reports[0].user.employee,w.sales_Reports[0].id,w.sales_Reports[0].user_id))})])]),_:1})]),_:1})]))}};var Wn=G(Gn,[["__scopeId","data-v-601d27dc"]]);const Jn=wt("employee-credits",()=>{const r=N([]),w=N(null);return{credits:r,credit:w,addingCredits:async x=>{console.log("Employee Credits Data:",x);try{const g=await de.post("/api/employee-adding-credits",x);console.log(g.data),re.create({type:"positive",message:"Employee credits successfully created",setTimeout:1e3})}catch(g){console.log(g),re.create({type:"negative",message:"Error creating employee credits",setTimeout:1e3})}},savingCredits:async x=>{console.log("Employee Credits Data:",x);try{const g=await de.post("/api/employee-saving-credits",x);console.log(g.data),re.create({type:"positive",message:"Employee credits successfully created",setTimeout:1e3})}catch(g){console.log(g),re.create({type:"negative",message:"Error creating employee credits",setTimeout:1e3})}}}});const Dt=r=>(Z("data-v-d97b60f8"),r=r(),ee(),r),Xn=Dt(()=>l("div",{class:"text-h6 text-white"},"Credits",-1)),Zn={class:"q-gutter-y-md"},es={key:0,class:"custom-list z-top"},ts={class:"row q-gutter-sm"},ls={key:0,class:"custom-list z-top"},as={align:"right"},os={class:"row justify-between"},ns=Dt(()=>l("div",null,"Credits Total",-1)),ss={class:"q-mt-lg"},rs={__name:"AddingCredit",props:{reports:{type:Array,default:()=>[]},user:{type:Object,default:()=>({})},saleReportId:{type:[String,Number],default:null},userId:{type:[String,Number],default:null}},setup(r){var O,_e;const w=r,C=w.saleReportId,R=w.userId,x=((O=w.reports[0])==null?void 0:O.id)||"",g=ht();z(()=>g.users);const S=Jn(),d=St(),y=z(()=>d.employees),_=Ie(),u=z(()=>_.products);console.log("products search",u.value);const f=_.user;console.log("userdata",f);const v=((_e=f==null?void 0:f.device)==null?void 0:_e.reference_id)||"",U=N(!1),c=N(""),p=N(""),k=N(!1),b=N(!1);let s=!1,m=!1;const n=N(!1),i=N(!1),o=N(!1),a=async()=>{c.value&&(i.value=!0,console.log("searchQuery.value",c.value),await d.searchEmployee(c.value),i.value=!1,k.value=!0)},$=()=>{U.value=!0},B=qe({credit_user_id:"",name:"",product_id:"",productName:"",price:0,pieces:"",creditTotal:0}),Q=()=>{c.value="",p.value="",B.credit_user_id="",B.name="",B.product_id="",B.productName="",B.price="",B.pieces="",B.creditTotal="",De.value=[]},ne=()=>{p.value="",B.product_id="",B.productName="",B.price="",B.pieces=""},me=z(()=>c.value&&y.value.length>0),Ue=Y=>{console.log("credit",Y),c.value=`${Y.firstname} ${Y.middlename?Y.middlename.charAt(0)+".":""} ${Y.lastname}`,B.credit_user_id=Y.id,B.name=`${Y.firstname} ${Y.middlename?Y.middlename.charAt(0)+".":""} ${Y.lastname}`,s=!0,k.value=!1},xe=async()=>{if(p.value){o.value=!0;const Y=await _.searchBranchProducts(p.value,v);console.log("response",Y),o.value=!1,b.value=!0}},pe=z(()=>p.value&&u.value.length>0);console.log("Product search datasss:",u.value);const ke=Y=>{p.value=Y.name,B.productName=Y.name,B.product_id=Y.id,B.price=Y.price,m=!0,b.value=!1},Fe=N(""),De=N([]),Le=()=>{const Y=parseFloat(B.price),oe=parseInt(B.pieces);if(!isNaN(Y)&&!isNaN(oe)){const W=Y*oe;Fe.value=W.toFixed(2)}else Fe.value="";console.log("productCreditTotalAmount",Fe.value)},H=()=>{const Y=Fe.value;De.value.push({credit_user_id:B.credit_user_id,product_id:B.product_id,name:B.name,productName:B.productName,price:B.price,pieces:B.pieces,totalAmount:Y}),console.log("creditList",De.value),ne()},j=Y=>{De.value.splice(Y,1)};se(c,Y=>{Y.length>2&&!s?a():k.value=!1,s=!1}),se(p,Y=>{Y.length>2&&!m?xe():b.value=!1,m=!1}),se(De,Y=>{const oe=Y.reduce((W,Ve)=>W+parseFloat(Ve.totalAmount),0);B.creditTotal=oe.toFixed(2)},{deep:!0}),se([()=>B.price,()=>B.pieces],Le),se(Fe,Y=>{console.log("productCreditTotalAmoun",Y)});const J=async()=>{const Y={sales_report_id:C,user_id:R,branch_id:v,employee_credits_id:x,credits:De.value.map(oe=>{var W;return{credit_user_id:oe.credit_user_id,branch_id:((W=f==null?void 0:f.employee)==null?void 0:W.branch_id)||"",productName:oe.productName,product_id:oe.product_id,price:oe.price,pieces:oe.pieces,totalAmount:oe.totalAmount}})};x?(await S.addingCredits(Y),console.log("Updating existing employee credit record:",Y)):(await S.savingCredits(Y),console.log("Creating new employee credit record:",Y)),U.value=!1,Q()};return(Y,oe)=>(h(),D(M,null,[l("div",null,[e(F,{class:"bg-gradient text-white",outlined:"",label:"Add Credits",onClick:$})]),e(ae,{modelValue:U.value,"onUpdate:modelValue":oe[4]||(oe[4]=W=>U.value=W),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(I,{class:"row bg-gradient text-white"},{default:t(()=>[Xn,P(" "+V(r.saleReportId)+" "+V(ce(R))+" ",1),e(Pe),ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>[l("div",Zn,[l("div",null,[l("div",null,[e(q,{modelValue:c.value,"onUpdate:modelValue":oe[0]||(oe[0]=W=>c.value=W),outlined:"",dense:"",rounded:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[i.value?(h(),L(Oe,{key:1,color:"grey",size:"sm"})):(h(),L(te,{key:0,name:"search"}))]),default:t(()=>[me.value&&k.value?(h(),D("div",es,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>[n.value?(h(),L(K,{key:0},{default:t(()=>[e(A,null,{default:t(()=>[e(Oe,{color:"primary"})]),_:1})]),_:1})):we("",!0),!n.value&&!y.value.length?(h(),L(K,{key:1},{default:t(()=>[e(A,null,{default:t(()=>[P(" No data available in this branch. ")]),_:1})]),_:1})):(h(!0),D(M,{key:2},le(y.value,W=>(h(),L(K,{onClick:Ve=>Ue(W),key:W.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(`
                                  ${W==null?void 0:W.firstname} ${W!=null&&W.middlename?(W==null?void 0:W.middlename.charAt(0).toUpperCase())+".":""} ${W==null?void 0:W.lastname}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])])]),l("div",ts,[l("div",null,[e(q,{modelValue:p.value,"onUpdate:modelValue":oe[1]||(oe[1]=W=>p.value=W),placeholder:"Search Product",outlined:"",flat:"",debounce:"500",dense:"",style:{width:"240px"}},{append:t(()=>[o.value?(h(),L(Oe,{key:1,color:"grey",size:"sm"})):(h(),L(te,{key:0,name:"search"}))]),default:t(()=>[pe.value&&b.value?(h(),D("div",ls,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>[(h(!0),D(M,null,le(u.value,W=>(h(),L(K,{onClick:Ve=>ke(W),key:W.name,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(W.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[e(q,{modelValue:B.price,"onUpdate:modelValue":oe[2]||(oe[2]=W=>B.price=W),"reverse-fill-mask":"",outlined:"",readonly:"",flat:"",dense:"",style:{width:"80px"},label:"Price"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:B.pieces,"onUpdate:modelValue":oe[3]||(oe[3]=W=>B.pieces=W),"reverse-fill-mask":"",outlined:"",type:"number",flat:"",dense:"",style:{width:"80px"},label:"Pcs"},null,8,["modelValue"])])]),l("div",as,[e(F,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:H})]),l("div",null,[e(et,{outlined:"",dense:"",readonly:""},{control:t(()=>[l("div",null,[(h(!0),D(M,null,le(De.value,(W,Ve)=>(h(),L(K,{key:Ve,class:"q-gutter-xs"},{default:t(()=>[e(A,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[P(V(W.productName),1)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Pcs")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(W.pieces),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Price")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(W.price),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Total")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(W.totalAmount),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(F,{onClick:je=>j(Ve),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),l("div",os,[l("div",null,[ns,e(et,{outlined:"",dense:"",readonly:"",style:{width:"120px"}},{control:t(()=>[P(V(B.creditTotal),1)]),_:1})]),l("div",ss,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:J})])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ds=G(rs,[["__scopeId","data-v-d97b60f8"]]);const is={class:"row justify-between text-white"},us=l("div",{class:"text-h6"},"Credits Report",-1),cs={class:"row justify-end q-mt-md"},ms={class:"text-h6"},ps={__name:"CreditsReportDialog",props:{reports:{type:Array,default:()=>[]},user:{type:Object,default:()=>({})},salesReportId:{type:Number,default:null},userId:{type:Number,default:null}},setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be(),g=N(!1),S=N(!0),d=r;console.log("Credit Reports:",d.reports),console.log("User Data:",d.user),console.log("Sales Report ID:",d.salesReportId),console.log("User ID:",d.userId);const y=N(""),_=N({rowsPerPage:0}),u=d.reports;d.user,u.length||console.warn("No credit reports provided!");const f=z(()=>u.flatMap(s=>{var m;return((m=s.credit_products)==null?void 0:m.map(n=>{const i=parseInt(n.pieces,10)||0,o=parseFloat(n.price)||0,a=i*o;return{...n,total_amount:a}}))||[]})),v=s=>s?s.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",U=s=>{const m=a=>a?a.charAt(0).toUpperCase()+a.slice(1).toLowerCase():"",n=s.firstname?m(s.firstname):"No Firstname",i=s.middlename?m(s.middlename).charAt(0)+".":"",o=s.lastname?m(s.lastname):"No Lastname";return`${n} ${i} ${o}`.trim()},c=[{name:"name",label:"Employee Name",field:s=>U(s.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:s=>{var m;return((m=s.product)==null?void 0:m.name)||"N/A"},align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}],p=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),k=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),b=z(()=>f.value.reduce((m,n)=>{const i=parseFloat(n.total_amount)||0;return m+i},0));return(s,m)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),onOk:s.handleButtonClick,onCancel:ce(x),modelValue:g.value,"onUpdate:modelValue":m[2]||(m[2]=n=>g.value=n),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(I,{style:{"background-color":"#03a9f4"}},{default:t(()=>[l("div",is,[us,P(" "+V(r.salesReportId)+V(r.userId)+" ",1),ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])]),_:1}),e(I,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:y.value,"onUpdate:modelValue":m[0]||(m[0]=n=>y.value=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(ds,{reports:ce(u),user:d.user,userId:r.userId,saleReportId:r.salesReportId},null,8,["reports","user","userId","saleReportId"])])]),_:1}),e(I,null,{default:t(()=>[e($e,{filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:f.value,"row-key":"name","virtual-scroll":"",pagination:_.value,"onUpdate:pagination":m[1]||(m[1]=n=>_.value=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(n=>[e(X,{props:n},{default:t(()=>[l("span",null,V(`${v(n.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(X,{props:n},{default:t(()=>[l("span",null,V(`${p(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(n=>[e(X,{props:n},{default:t(()=>[l("span",null,V(`${k(n.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(I,null,{default:t(()=>[l("div",cs,[l("div",ms," Overall Total Expenses: "+V(p(b.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel","modelValue","maximized"]))}};const _s=r=>(Z("data-v-6d15202d"),r=r(),ee(),r),gs=_s(()=>l("div",{class:"text-h6",align:"center"},"Credits Report",-1)),fs={class:"q-gutter-x-md",align:"center"},vs={__name:"CreditsReport",props:["sales_Reports"],setup(r){const w=r;console.log("sales_Reports to send in creditsss",w.sales_Reports);const C=Ee(),R=(x,g,S,d)=>{C.dialog({component:ps,componentProps:{reports:x,user:g,salesReportId:S,userId:d}})};return(x,g)=>(h(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(I,null,{default:t(()=>[gs]),_:1}),e(I,null,{default:t(()=>[l("div",fs,[e(F,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:g[0]||(g[0]=S=>R(w.sales_Reports[0].credit_reports,w.sales_Reports[0].user.employee,w.sales_Reports[0].id,w.sales_Reports[0].user_id))})])]),_:1}),e(I)]),_:1})]))}};var ys=G(vs,[["__scopeId","data-v-6d15202d"]]);const hs=r=>(Z("data-v-715043fe"),r=r(),ee(),r),bs={class:"q-mt-lg row items-start q-gutter-md justify-center"},ws={class:"row justify-between"},xs=hs(()=>l("div",{class:"text-h6"},"Sales Report",-1)),ks={align:"right"},Vs={class:"text-subtitle1 text-weight-regular"},$s={class:"row q-gutter-sm q-pa-md"},Cs={class:"q-ma-sm"},Ss={class:"q-ma-sm",align:"center"},Rs=["src"],Ps={__name:"SalesReportPanel",props:["salesReport"],setup(r){vt.exports.vfs=Ct;const w=r,C=w.salesReport;console.log("reportsDatasssss",w.salesReport);const R=N(!0),x=N(!1),g=N(""),S=v=>Re.formatDate(v,"MMMM DD, YYYY"),d=v=>{const U=new Date(v),c={hour:"2-digit",minute:"2-digit",hour12:!0};return U.toLocaleTimeString(void 0,c)},y=v=>{const U=b=>b?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase():"",c=v.firstname?U(v.firstname):"No Firstname",p=v.middlename?U(v.middlename).charAt(0)+".":"",k=v.lastname?U(v.lastname):"No Lastname";return`${c} ${p} ${k}`.trim()},_=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(v).replace("\u20B1","\u20B1	"),u=v=>{var De,Le;const U=z(()=>v.credit_reports.flatMap(H=>H.credit_products));console.log("All Credit Products:",U.value);const c=[{title:"Bread Production",data:(v.bread_reports||[]).map(H=>{const j=Number(H.beginnings)||0,J=Number(H.new_production)||0,O=Number(H.remaining)||0,_e=Number(H.bread_out)||0,Y=Number(H.price)||0,oe=j+J,W=O+_e,Ve=oe-W,je=Ve*Y;return{...H,total:oe,bread_sold:Ve,sales:je}}),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(v.selecta_reports||[]).map(H=>{const j=Number(H.beginnings||0),J=Number(H.added_stocks||0),O=Number(H.out||0),_e=Number(H.remaining||0),Y=Number(H.price||0),oe=j+J,W=_e+O,Ve=oe-W,je=Ve*Y;return{...H,total:oe,sold:Ve,sales:je}}),columns:["selecta.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(v.softdrinks_reports||[]).map(H=>{const j=Number(H.beginnings||0),J=Number(H.added_stocks||0),O=Number(H.out||0),_e=Number(H.remaining||0),Y=Number(H.price||0),oe=j+J,W=_e+O,Ve=oe-W,je=Ve*Y;return{...H,total:oe,sold:Ve,sales:je}}),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(v.other_products_reports||[]).map(H=>{const j=Number(H.beginnings||0),J=Number(H.added_stocks||0),O=Number(H.out||0),_e=Number(H.remaining||0),Y=Number(H.price||0),oe=j+J,W=_e+O,Ve=oe-W,je=Ve*Y;return{...H,total:oe,sold:Ve,sales:je}}),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:v.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],p=v.expenses_reports||[],k=U.value||[],b=v.denomination_reports[0]||[],s=v.denomination_total;v.over_total;const m={bills:[{name:"One Thousand",pcs:b.oneThousandBills||0,value:(b.oneThousandBills||0)*1e3},{name:"Five Hundred",pcs:b.fiveHundredBills||0,value:(b.fiveHundredBills||0)*500},{name:"Two Hundred",pcs:b.twoHundredBills||0,value:(b.twoHundredBills||0)*200},{name:"One Hundred",pcs:b.oneHundredBills||0,value:(b.oneHundredBills||0)*100},{name:"Fifty",pcs:b.fiftyBills||0,value:(b.fiftyBills||0)*50},{name:"Twenty",pcs:b.twentyBills||0,value:(b.twentyBills||0)*20}],coins:[{name:"Twenty",pcs:b.twentyCoins||0,value:(b.twentyCoins||0)*20},{name:"Ten",pcs:b.tenCoins||0,value:(b.tenCoins||0)*10},{name:"Five",pcs:b.fiveCoins||0,value:(b.fiveCoins||0)*5},{name:"One",pcs:b.oneCoins||0,value:(b.oneCoins||0)*1},{name:"Twenty Five Cents",pcs:b.twentyFiveCents||0,value:(b.twentyFiveCents||0)*.25}]},n=(H,j,J)=>{const O=(Y,oe)=>oe.split(".").reduce((W,Ve)=>W?W[Ve]:0,Y),_e=J.reduce((Y,oe)=>(Y[oe]=H.reduce((W,Ve)=>W+parseFloat(O(Ve,oe))||0,0),Y),{});return[...H.map(Y=>j.map(oe=>{if(oe==="cake_report.user.employee"){const W=O(Y,"cake_report.user.employee");return{text:W?y(W):"No Employee",style:"body",alignment:"center"}}return{text:oe.includes(".")?O(Y,oe)||"-":Y[oe]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:j.length-J.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(j.length-J.length-1).fill({}),...J.map(Y=>({text:`\u20B1 ${_e[Y].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let i=0;const o=k.length>0?k.map(H=>{const j=(H.price||0)*(H.pieces||0);return i+=j,[{text:H.credit_user_id?y(H.credit_user_id):"No Employee",style:"body",alignment:"center"},{text:H.product.name,style:"body",alignment:"center"},{text:H.pieces,style:"body",alignment:"center"},{text:_(H.price),style:"body",alignment:"center"},{text:_(j),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];o.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:_(i),style:"bodyBold",alignment:"center",colSpan:2},{}]);let a=0;const $=p.length>0?p.map(H=>{const j=parseFloat(H.amount.replace(/[^0-9.-]+/g,""));return isNaN(j)||(a+=j),[{text:H.name,style:"body",alignment:"center"},{text:H.description,style:"body",alignment:"center"},{text:`${_(j)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];$.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${_(a)}`,style:"bodyBold",alignment:"center"}]);const B=m.bills.map((H,j)=>{var J,O;return[{text:H.name,style:"body",alignment:"center"},{text:H.pcs,style:"body",alignment:"center"},{text:((J=m.coins[j])==null?void 0:J.name)||"",style:"body",alignment:"center"},{text:((O=m.coins[j])==null?void 0:O.pcs)||"0",style:"body",alignment:"center"}]});B.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${_(s)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const Q=c.map(({title:H,data:j,columns:J,totals:O})=>({stack:[{text:H,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(J.length).fill("*"),body:[J.map(_e=>({text:_e.split(".").pop().replace(/_/g," ").replace(/\b\w/g,Y=>Y.toUpperCase()),style:"tableHeader",alignment:"center"})),...n(j,J,O)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),ne=c.reduce((H,j)=>{const J=j.data.reduce((O,_e)=>O+(_e.sales||0),0);return H+J},0),me=m.bills.reduce((H,j)=>H+j.value,0)+m.coins.reduce((H,j)=>H+j.value,0),Ue=a+i,xe=ne-Ue;let pe=0,ke=0;me>xe?pe=me-xe:me<xe&&(ke=xe-me);const Fe={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:_(me),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:_(ne),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:_(a),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:_(i),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:_(pe),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${_(ke)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${((De=v.branch)==null?void 0:De.name)||"No Name"}
          Cashier: ${(Le=v.user)!=null&&Le.employee?y(v.user.employee):"No Name"}
          Date: ${S(v.created_at)}
Time: ${d(v.created_at)}
`,margin:[0,0,0,10]},{}]},...Q,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...$]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...o]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...B]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},Fe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},f=v=>{const U=u(v);vt.exports.createPdf(U).getDataUrl(c=>{g.value=c,x.value=!0})};return(v,U)=>(h(),D(M,null,[e(E,{class:"my-card q-pa-md"},{default:t(()=>[e(I,null,{default:t(()=>[l("div",bs,[(h(!0),D(M,null,le(ce(C),(c,p)=>(h(),D("div",{key:p},[e(E,{flat:"",dense:"",bordered:""},{default:t(()=>[e(I,null,{default:t(()=>[l("div",ws,[xs,l("div",ks,[e(F,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:k=>f(c)},null,8,["onClick"]),l("div",null,[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P(" Print Report ")]),_:1})])])]),l("div",Vs,[l("div",null,"Name: "+V(y(c.user.employee)),1),l("div",null,"Date: "+V(S(c.created_at)),1),l("div",null,"Time: "+V(d(c.created_at)),1)])]),_:2},1024),l("div",$s,[e(vn,{sales_Reports:[c]},null,8,["sales_Reports"]),e(Un,{sales_Reports:[c]},null,8,["sales_Reports"]),e(Wn,{sales_Reports:[c]},null,8,["sales_Reports"]),e(ys,{sales_Reports:[c]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(ae,{modelValue:x.value,"onUpdate:modelValue":U[0]||(U[0]=c=>x.value=c),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[l("div",Cs,[l("div",Ss,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(he,null,{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])]),l("div",null,[l("iframe",{src:g.value,width:"100%",height:"700px"},null,8,Rs)])])]),_:1},8,["modelValue","maximized"])],64))}};var Us=G(Ps,[["__scopeId","data-v-715043fe"]]);const qs={class:"text-h6"},Ns={class:"row q-gutter-x-md"},Ds={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(r,{emit:w}){const{dialogRef:C,onDialogHide:R,onDialogOK:x,onDialogCancel:g}=Be(),S=r;console.log("production report sss",S.reports);const d=S.reports.baker_reports;console.log("bakerReportsssss",d);const y=S.reports.sales_reports,_=S.reports.sales_reports_id;console.log("sales_report_id",_);const u=w,f=N("bakerReport"),v=N(!0),U=N(!1),c=k=>k?k.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join(" "):"",p=()=>{u("selectReport",S.reports),U.value=!0};return(k,b)=>(h(),L(ae,{ref_key:"dialogRef",ref:C,modelValue:U.value,"onUpdate:modelValue":b[2]||(b[2]=s=>U.value=s),onHide:ce(R),onOk:p,onCancel:ce(g),maximized:v.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[l("div",qs,V(`${c(r.reports.branch_name)} ( ${r.reportLabel} Reports)`),1),e(Pe),l("div",Ns,[l("div",null,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])])]),_:1}),e(I,null,{default:t(()=>[l("div",null,[e(st,{modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=s=>f.value=s),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(Ce,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(Ce,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),l("div",null,[e(rt,{modelValue:f.value,"onUpdate:modelValue":b[1]||(b[1]=s=>f.value=s),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(Se,{name:"bakerReport"},{default:t(()=>[e(ba,{bakersReport:ce(d),sales_report_id:ce(_)},null,8,["bakersReport","sales_report_id"])]),_:1}),e(Se,{name:"salesReport"},{default:t(()=>[e(Us,{salesReport:ce(y)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var Is=G(Ds,[["__scopeId","data-v-50a1a3d7"]]);const As={key:0,class:"custom-list z-top"},Fs={__name:"ReportSearch",setup(r){var f,v;const w=mt(),C=N(""),R=mt(),x=nt(),g=z(()=>R.user);console.log("erw:",g.value);const S=z(()=>x.branchRecipe),d=((v=(f=g.value)==null?void 0:f.employee)==null?void 0:v.branch_id)||"";console.log("branch_id",d);const y=async()=>{x.searchBranchRecipe(C.value,d),console.log("searchQuery.value",C.value),console.log("branch_id",d)},_=U=>{console.log("branch recipe",U),w.setRecipe(U),C.value=""},u=U=>U?U.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"";return console.log("recipessss",S.value),(U,c)=>(h(),L(q,{modelValue:C.value,"onUpdate:modelValue":[c[0]||(c[0]=p=>C.value=p),y],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Recipe",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[C.value?(h(),D("div",As,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var p;return[(p=S.value)!=null&&p.length?(h(!0),D(M,{key:1},le(S.value,k=>(h(),L(K,{onClick:b=>_(k),key:k.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(u(k==null?void 0:k.name)),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{side:""},{default:t(()=>[P(V(k==null?void 0:k.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"]))}};var Ts=G(Fs,[["__scopeId","data-v-698d08f6"]]);const kt=r=>(Z("data-v-6d81fac9"),r=r(),ee(),r),Bs={class:"row justify-center"},zs={class:"text-h6 q-ma-sm"},Ls={class:"row q-gutter-sm"},js={class:"row q-mt-sm q-gutter-sm"},Os={class:"q-mb-md"},Hs=kt(()=>l("div",{class:"q-mt-sm"},"Kilo",-1)),Ms={class:"q-mt-md q-gutter-md"},Es={key:0},Qs=kt(()=>l("div",{class:"q-mt-sm"},null,-1)),Ks=kt(()=>l("div",{class:"text-h6 q-mt-sm",align:"center"},"Ingredients List",-1)),Ys={class:"q-mt-lg"},Gs={class:"ingredient-quantity"},Ws={class:"ingredient-quantity"},Js={__name:"RecipeInput",setup(r){const w=mt(),C=z(()=>w.user),R=N(!1),x=z(()=>w.recipes);console.log("erwe:",x.value);const S=ye().params.branch_id,d=z(()=>{var b,s,m,n;const p=(s=(b=x.value)==null?void 0:b.name)!=null?s:"Recipe Name",k=(n=(m=x.value)==null?void 0:m.category)!=null?n:"Category";return`${p} - ${k}`}),y=p=>p?p.split(" ").map(k=>k.charAt(0).toUpperCase()+k.slice(1).toLowerCase()).join(" "):"",_=qe({user_id:null,branch_id:null,branch_recipe_id:null,recipe_name:"",recipe_category:"",kilo:0,short:0,over:0,target:0,actual_target:0,breads:[]}),u=()=>{var b;const p=parseFloat(_.kilo),k=parseFloat((b=x.value)==null?void 0:b.target);if(!isNaN(p)&&!isNaN(k)){const s=p*k;_.actual_target=Math.ceil(s)}else _.actual_target=0},f=()=>{const p=_.breads.reduce((b,s)=>b+(parseFloat(s.value)||0),0),k=_.actual_target;p===k?(_.short=0,_.over=0):p>k?(_.over=p-k,_.short=0):p<k&&(_.short=k-p,_.over=0)},v=()=>{var p,k;x.value="",d.value="",_.recipe_name="",_.kilo="",_.short=0,_.over=0,_.target=0,_.actual_target=0,_.breads=((k=(p=x.value)==null?void 0:p.bread_groups)==null?void 0:k.map(b=>({id:b.product_id,bread_name:b.bread_name,value:""})))||[]},U=()=>{console.log("Report datasss:",_),R.value=!0,setTimeout(async()=>{var p,k,b,s,m;try{_.user_id=((p=C.value)==null?void 0:p.data.id)||"",_.branch_id=S,_.branch_recipe_id=((k=x.value)==null?void 0:k.id)||"",_.recipe_name=((b=x.value)==null?void 0:b.name)||"",_.target=((s=x.value)==null?void 0:s.target)||"",_.recipe_category=((m=x.value)==null?void 0:m.category)||"";const n={user_id:_.user_id,branch_id:_.branch_id,branch_recipe_id:_.branch_recipe_id,recipe_name:_.recipe_name,recipe_category:_.recipe_category,status:"confirmed",kilo:_.kilo,short:_.short,over:_.over,target:_.target,actual_target:_.actual_target,breads:_.breads.map(i=>({bread_id:i.id,bread_name:i.bread_name,bread_production:parseInt(i.value,10)||0})),ingredients:c.value.map(i=>({ingredients_id:i.raw_materials_id,code:i.code,quantity:i.multipliedQuantity,unit:i.unit}))};console.log("reportssss dATA:",n),w.setReport(n),console.log("Report data set to store:",w.reports),re.create({message:`${d.value} added to list`,type:"positive",position:"center",timeout:500}),v(),w.recipes={}}catch(n){console.error("Error generating report:",n)}finally{R.value=!1}},1e3)},c=z(()=>{var k;const p=parseFloat(_.kilo)||0;return(((k=x.value)==null?void 0:k.ingredients)||[]).map(b=>{const s=parseFloat(b.quantity)||0,m=p*s,n=m%1===0?m:parseFloat(m.toFixed(2));return{...b,multipliedQuantity:n}})});return se(()=>_.kilo,()=>{u(),f()}),se(()=>{var p;return(p=x.value)==null?void 0:p.ingredients},()=>{f()},{deep:!0}),se(()=>_.breads.map(p=>p.value),f,{deep:!0}),se(()=>{var p;return(p=x.value)==null?void 0:p.bread_groups},()=>{var p;_.breads=Array.isArray((p=x.value)==null?void 0:p.bread_groups)?x.value.bread_groups.map(k=>({id:k.product_id,bread_name:k.bread_name,value:""})):[],f()}),(p,k)=>{var b;return h(),D("div",Bs,[l("div",null,[l("div",null,[l("div",zs,V(y(d.value)),1)]),l("div",Ls,[l("div",null,[P(" Target Pcs "),l("div",null,[e(et,{readonly:"",outlined:"",type:"number",dense:"",label:((b=x.value)==null?void 0:b.target)||0,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])]),l("div",null,[P(" Actual Target "),l("div",null,[e(et,{readonly:"",outlined:"",dense:"",label:_.actual_target,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])])]),l("div",js,[l("div",null,[P(" Short "),l("div",null,[e(et,{readonly:"",outlined:"",type:"number",dense:"",label:_.short,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])]),l("div",null,[P(" Over "),l("div",null,[e(et,{readonly:"",outlined:"",dense:"",label:_.over,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])])]),l("div",Os,[Hs,l("div",null,[e(q,{outlined:"",dense:"",modelValue:_.kilo,"onUpdate:modelValue":k[0]||(k[0]=s=>_.kilo=s),type:"number",placeholder:"kgs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),l("div",Ms,[_.breads.length?(h(),D("div",Es,[(h(!0),D(M,null,le(_.breads,(s,m)=>(h(),D("div",{key:s.id,class:"q-my-md"},[l("div",null,[l("div",null,V(s.bread_name),1),l("div",null,[e(q,{outlined:"",modelValue:_.breads[m].value,"onUpdate:modelValue":n=>_.breads[m].value=n,dense:"",type:"number",placeholder:"Pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])):we("",!0)]),Qs,e(F,{outline:"",dense:"",size:"md",icon:"add",label:"Report",class:"text-purple",loading:R.value,onClick:U},{isLoading:t(()=>[e(Oe,{size:"20px"})]),_:1},8,["loading"])]),l("div",null,[Ks,l("div",Ys,[e(et,{readonly:"",outlined:"",style:{width:"400px","max-width":"450px","min-width":"100px"}},{control:t(()=>[e(fe,{dense:"",separator:""},{default:t(()=>[(h(!0),D(M,null,le(c.value,(s,m)=>(h(),L(K,{key:m,class:"q-pa-xs justify-between"},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"ingredient-name"},{default:t(()=>[P(V(s.code),1)]),_:2},1024)]),_:2},1024),e(A,{side:"",class:"text-right"},{default:t(()=>[l("div",Gs,V(s.multipliedQuantity),1)]),_:2},1024),e(A,{side:"",class:"text-right"},{default:t(()=>[l("div",Ws,V(s.unit),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])}}};var Xs=G(Js,[["__scopeId","data-v-6d81fac9"]]);const gt=r=>(Z("data-v-03b82b5f"),r=r(),ee(),r),Zs=gt(()=>l("div",{class:"text-h6",align:"center"},"Report List",-1)),er={class:"q-pa-md row wrap justify-center"},tr={class:"row justify-between q-gutter-x-md"},lr={class:"row items-center"},ar={class:"text-subtitle1 q-ml-sm"},or={class:"content-section"},nr={class:"q-mt-xs row justify-between"},sr=gt(()=>l("div",null,"Kilo",-1)),rr={class:"q-mt-xs row justify-between"},dr=gt(()=>l("div",null,"Short",-1)),ir={class:"q-mt-xs row justify-between"},ur=gt(()=>l("div",null,"Over",-1)),cr={class:"q-mt-xs row justify-between"},mr=gt(()=>l("div",null,"Actual Target",-1)),pr={class:"q-pl-md"},_r={class:"row justify-between"},gr={class:"q-pl-md"},fr={class:"row justify-between"},vr={__name:"ReportList",setup(r){const w=mt(),C=z(()=>w.reports);console.log("bakers report:",C.value);const R=g=>{w.removeReport(g)},x=g=>g?g.split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1).toLowerCase()).join(" "):"";return(g,S)=>(h(),D(M,null,[Zs,l("div",er,[e(Kt,{items:C.value,"scroll-target":"body","virtual-scroll-horizontal":"",class:"my-virtual-scroll"},{default:t(({item:d,index:y})=>[(h(),L(E,{flat:"",bordered:"",class:"q-gutter-sm my-card",key:y},{default:t(()=>[e(I,null,{default:t(()=>[l("div",tr,[l("div",lr,[e(te,{name:"assignment",color:"primary"}),l("div",ar,V(x(d.recipe_name))+" - "+V(d.recipe_category),1)]),l("div",null,[e(F,{flat:"",round:"",icon:"close",onClick:_=>R(y),class:"text-negative close-btn"},null,8,["onClick"])])])]),_:2},1024),e(pt),e(I,null,{default:t(()=>[l("div",or,[l("div",nr,[sr,l("div",null,V(d.kilo)+" kgs",1)]),l("div",rr,[dr,l("div",null,V(d.short)+" pcs",1)]),l("div",ir,[ur,l("div",null,V(d.over)+" pcs",1)]),l("div",cr,[mr,l("div",null,V(d.actual_target)+" pcs",1)]),(h(),L($t,{key:"breads-"+y,label:"Breads",dense:"",class:""},{default:t(()=>[l("ul",pr,[(h(!0),D(M,null,le(d.breads,(_,u)=>(h(),D("li",{key:"bread-"+u,class:"q-my-sm"},[l("div",_r,[l("div",null,V(_.bread_name),1),l("div",null,V(_.bread_production),1)])]))),128))])]),_:2},1024)),(h(),L($t,{key:"ingredients-"+y,label:"Ingredients",dense:"",class:""},{default:t(()=>[l("ul",gr,[(h(!0),D(M,null,le(d.ingredients,(_,u)=>(h(),D("li",{key:"ingredient-"+u,class:"q-my-sm"},[l("div",fr,[l("div",null,V(_.code),1),l("div",null,V(_.quantity)+" "+V(_.unit),1)])]))),128))])]),_:2},1024))])]),_:2},1024)]),_:2},1024))]),_:1},8,["items"])])],64))}};var yr=G(vr,[["__scopeId","data-v-03b82b5f"]]);const hr=l("div",{class:"text-h6"},"Baker Report",-1),br={class:"row q-gutter-x-md"},wr={key:0,class:"custom-list z-top"},xr={align:"right"},kr={__name:"AddBakerReport",setup(r){const w=ht(),C=z(()=>w.users);console.log("userdatasssss  ",C.value);const R=mt(),x=N(!1),g=N(!0),S=N(!1);N("");let d=!1;const y=N(!1),_=N(""),u=N(),f=N(!1),v=N(!1),U=N(""),c=()=>x.value=!0,p=async()=>{_.value&&(S.value=!0,console.log("searchQuery.value",_.value),await w.searchUser(_.value),S.value=!1,y.value=!0)},k=z(()=>_.value&&C.value.length>0),b=i=>{if(!i)return"";const{firstname:o,middlename:a,lastname:$}=i,B=o.split(" ").map(me=>me.charAt(0).toUpperCase()+me.slice(1)).join(" "),Q=a?`${a.charAt(0).toUpperCase()}.`:"",ne=$.charAt(0).toUpperCase();return`${B} ${Q} ${ne}${$.slice(1)}`},s=i=>{console.log("Baker Reports",i),_.value=`${i.firstname} ${i.middlename?i.middlename.charAt(0)+".":""} ${i.lastname}`,u.value=i.id,d=!0,y.value=!1};se(_,i=>{i.length>2&&!d?p():y.value=!1,d=!1});const m=()=>{if(!U.value||!v.value)return null;const i=`${U.value} ${v.value}`;return new Date(i).toISOString().slice(0,19).replace("T"," ")},n=async()=>{const i=m();if(!i){console.error("Invalid date or time selected");return}try{f.value=!0;const o=R.reports.map(a=>({...a,created_at:i,user_id:u.value}));console.log("reportsWithTimestamp",o),await R.adminBakerCreateReports(o)}catch(o){console.log(o)}finally{f.value=!1}};return(i,o)=>(h(),D(M,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Baker Report",color:"purple",onClick:c})]),e(ae,{modelValue:x.value,"onUpdate:modelValue":o[4]||(o[4]=a=>x.value=a),maximized:g.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#9c27b0"}},{default:t(()=>[hr,e(Pe),l("div",br,[l("div",null,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])])]),_:1}),e(I,{class:"row q-gutter-lg"},{default:t(()=>[l("div",null,[e(q,{modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=a=>_.value=a),outlined:"",dense:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[S.value?(h(),L(Oe,{key:1,color:"grey",size:"sm"})):(h(),L(te,{key:0,name:"search"}))]),default:t(()=>[k.value&&y.value?(h(),D("div",wr,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>[f.value?(h(),L(K,{key:0},{default:t(()=>[e(A,null,{default:t(()=>[e(Oe,{color:"primary"})]),_:1})]),_:1})):we("",!0),!f.value&&!C.value.length?(h(),L(K,{key:1},{default:t(()=>[e(A,null,{default:t(()=>[P(" No data available in this branch. ")]),_:1})]),_:1})):(h(!0),D(M,{key:2},le(C.value,a=>(h(),L(K,{onClick:$=>s(a),key:a.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(b(a)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),e(q,{modelValue:U.value,"onUpdate:modelValue":o[1]||(o[1]=a=>U.value=a),type:"date",outlined:"",dense:""},null,8,["modelValue"]),e(ft,{"keep-color":"",modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=a=>v.value=a),val:"03:00 PM",label:"AM",color:"cyan"},null,8,["modelValue"]),e(ft,{"keep-color":"",modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=a=>v.value=a),val:"03:00 AM",label:"PM",color:"deep-orange"},null,8,["modelValue"])]),_:1}),e(I,null,{default:t(()=>[e(Ts)]),_:1}),e(I,null,{default:t(()=>[e(Xs)]),_:1}),e(I,null,{default:t(()=>[e(yr)]),_:1}),e(I,null,{default:t(()=>[l("div",xr,[e(F,{color:"red-6",icon:"edit",label:"Create",onClick:n,loading:f.value},null,8,["loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])],64))}};const We=r=>(Z("data-v-27064cab"),r=r(),ee(),r),Vr=We(()=>l("div",{class:"text-h6 text-white"},"Bread",-1)),$r={class:"q-mb-lg"},Cr={key:0,class:"custom-list z-top"},Sr=We(()=>l("div",null,"Product Name",-1)),Rr={class:"row justify-between q-mt-md q-gutter-md"},Pr=We(()=>l("div",null,"Category",-1)),Ur=We(()=>l("div",null,"Price",-1)),qr={class:"row justify-between q-mt-md q-gutter-md"},Nr=We(()=>l("div",null,"Beginnings",-1)),Dr=We(()=>l("div",null,"New Production",-1)),Ir=We(()=>l("div",null,"Remaining",-1)),Ar=We(()=>l("div",null,"Bread Out",-1)),Fr=We(()=>l("div",null,"Total Quantity",-1)),Tr=We(()=>l("div",null,"Bread Sold",-1)),Br=We(()=>l("div",null,"Sales",-1)),zr={align:"right"},Lr={__name:"BreadReport",props:["userData"],setup(r){const w=Ie(),C=ye(),R=Me(),x=z(()=>R.branchProducts),g=N(!1),S=C.params.branch_id,d=N(""),y=N(!1),_=r,u=()=>{g.value=!0},f=N("Bread"),v=async()=>{console.log("branch_id.value:",S),console.log("searchQuery.value:",d.value),console.log("category.value:",f.value),(d.value||f.value)&&await R.searchBranchProducts({query:d.value,branches_id:S,category:f.value})},U=m=>m?m.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",c=m=>{console.log("data",m),p.product_id=m.product.id,p.product_name=m.product.name,p.category=m.category,p.price=m.price,d.value=""},p=qe({branch_id:S,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,new_production:0,bread_out:0,bread_sold:0,total:0,sales:0,branches_id:C.params.branch_id}),k=()=>{p.name="",p.product_id="",p.product_name="",p.category="",p.price="",p.beginnings="",p.remaining="",p.new_production="",p.bread_out="",p.bread_sold="",p.total="",p.sales=""},b=z(()=>{const m=parseInt(p.bread_sold||0)*parseFloat(p.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(m)});se(()=>[p.new_production,p.beginnings],([m,n])=>{p.total=parseInt(m||0)+parseInt(n||0)}),se(()=>[p.total,p.remaining,p.bread_out],([m,n,i])=>{p.bread_sold=parseInt(m||0)-(parseInt(n||0)+parseInt(i||0))}),se(()=>[p.bread_sold,p.price],([m,n])=>{p.sales=parseInt(m||0)*parseFloat(n||0)});const s=async()=>{try{y.value=!0;const m={user_id:_.userData,branch_id:p.branch_id,product_id:p.product_id,name:p.product_name,total:p.total,bread_sold:p.bread_sold,bread_out:p.bread_out,beginnings:p.beginnings,remaining:p.remaining,price:p.price,sales:p.sales,new_production:p.new_production,branch_new_production:0};console.log("payload",m),w.updateBreadReport(m),re.create({message:"Product added successfully",color:"positive",position:"top"}),k()}catch(m){console.log(m)}finally{y.value=!1}};return(m,n)=>(h(),D(M,null,[e(F,{"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button",onClick:u}),e(ae,{modelValue:g.value,"onUpdate:modelValue":n[11]||(n[11]=i=>g.value=i),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row items-center bg-backgroud"},{default:t(()=>[Vr,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>[l("div",$r,[e(q,{modelValue:d.value,"onUpdate:modelValue":[n[0]||(n[0]=i=>d.value=i),v],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(h(),D("div",Cr,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var i;return[(i=x.value)!=null&&i.length?(h(!0),D(M,{key:1},le(x.value,o=>(h(),L(K,{onClick:a=>c(o),key:o.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(U(o.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])])]),_:1}),e(I,null,{default:t(()=>[l("div",null,[Sr,e(q,{modelValue:p.product_name,"onUpdate:modelValue":n[1]||(n[1]=i=>p.product_name=i),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Rr,[l("div",null,[Pr,e(q,{modelValue:p.category,"onUpdate:modelValue":n[2]||(n[2]=i=>p.category=i),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])]),l("div",null,[Ur,e(q,{modelValue:p.price,"onUpdate:modelValue":n[3]||(n[3]=i=>p.price=i),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])])]),l("div",qr,[l("div",null,[Nr,e(q,{modelValue:p.beginnings,"onUpdate:modelValue":n[4]||(n[4]=i=>p.beginnings=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Dr,e(q,{modelValue:p.new_production,"onUpdate:modelValue":n[5]||(n[5]=i=>p.new_production=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ir,e(q,{modelValue:p.remaining,"onUpdate:modelValue":n[6]||(n[6]=i=>p.remaining=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ar,e(q,{modelValue:p.bread_out,"onUpdate:modelValue":n[7]||(n[7]=i=>p.bread_out=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Fr,e(q,{modelValue:p.total,"onUpdate:modelValue":n[8]||(n[8]=i=>p.total=i),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Tr,e(q,{modelValue:p.bread_sold,"onUpdate:modelValue":n[9]||(n[9]=i=>p.bread_sold=i),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Br,e(q,{modelValue:b.value,"onUpdate:modelValue":n[10]||(n[10]=i=>b.value=i),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",zr,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:s,loading:y.value},null,8,["loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var jr=G(Lr,[["__scopeId","data-v-27064cab"]]);const Or={};function Hr(r,w){return h(),L(F,{"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"})}var Mr=G(Or,[["render",Hr]]);const Je=r=>(Z("data-v-56107cd8"),r=r(),ee(),r),Er=Je(()=>l("div",{class:"text-h6 text-white"},"Add Other Products",-1)),Qr={class:"q-mb-lg"},Kr={key:0,class:"custom-list z-top"},Yr=Je(()=>l("div",null,"Product Name",-1)),Gr=Je(()=>l("div",null,"Category",-1)),Wr=Je(()=>l("div",null,"Price",-1)),Jr={class:"row justify-between q-mt-md q-gutter-md"},Xr=Je(()=>l("div",null,"Beginnings",-1)),Zr=Je(()=>l("div",null,"Added Stocks",-1)),ed=Je(()=>l("div",null,"Remaining",-1)),td=Je(()=>l("div",null,"Out",-1)),ld=Je(()=>l("div",null,"Total Quantity",-1)),ad=Je(()=>l("div",null,"Sold",-1)),od=Je(()=>l("div",null,"Sales",-1)),nd={align:"right"},sd={__name:"OtherProductsReport",props:["userData"],setup(r){const w=Ie(),C=ye(),R=Me(),x=z(()=>R.branchProducts),g=N(!1),S=C.params.branch_id,d=N(""),y=r,_=()=>{g.value=!0},u=N("Others"),f=async()=>{console.log("branch_id.value:",S),console.log("searchQuery.value:",d.value),console.log("category.value:",u.value),(d.value||u.value)&&await R.searchBranchProducts({query:d.value,branches_id:S,category:u.value})},v=s=>s?s.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",U=s=>{console.log("data",s),c.product_id=s.product.id,c.product_name=s.product.name,c.category=s.category,c.price=s.price,d.value=""},c=qe({branch_id:S,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:C.params.branch_id}),p=()=>{c.name="",c.product_id="",c.product_name="",c.category="",c.price="",c.beginnings="",c.remaining="",c.added_stocks="",c.out="",c.sold="",c.total="",c.sales=""},k=z(()=>{const s=parseInt(c.sold||0)*parseFloat(c.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)});se(()=>[c.added_stocks,c.beginnings],([s,m])=>{c.total=parseInt(s||0)+parseInt(m||0)}),se(()=>[c.total,c.remaining,c.out],([s,m,n])=>{c.sold=parseInt(s||0)-(parseInt(m||0)+parseInt(n||0))}),se(()=>[c.sold,c.price],([s,m])=>{c.sales=parseInt(s||0)*parseFloat(m||0)});const b=async()=>{const s={user_id:y.userData,branch_id:c.branch_id,product_id:c.product_id,name:c.product_name,total:c.total,price:c.price,beginnings:c.beginnings,remaining:c.remaining,added_stocks:c.added_stocks,out:c.out,sold:c.sold,sales:c.sales,new_production:c.added_stocks};console.log("payload",s),w.updateOtherProductsReport(s),re.create({message:"Product added successfully",color:"positive",position:"top"}),p()};return(s,m)=>(h(),D(M,null,[e(F,{"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button",onClick:_}),e(ae,{modelValue:g.value,"onUpdate:modelValue":m[11]||(m[11]=n=>g.value=n),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Er,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Qr,[e(q,{modelValue:d.value,"onUpdate:modelValue":[m[0]||(m[0]=n=>d.value=n),f],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(h(),D("div",Kr,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var n;return[(n=x.value)!=null&&n.length?(h(!0),D(M,{key:1},le(x.value,i=>(h(),L(K,{onClick:o=>U(i),key:i.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(v(i.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Yr,e(q,{modelValue:c.product_name,"onUpdate:modelValue":m[1]||(m[1]=n=>c.product_name=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Gr,e(q,{modelValue:c.category,"onUpdate:modelValue":m[2]||(m[2]=n=>c.category=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Wr,e(q,{modelValue:c.price,"onUpdate:modelValue":m[3]||(m[3]=n=>c.price=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Jr,[l("div",null,[Xr,e(q,{modelValue:c.beginnings,"onUpdate:modelValue":m[4]||(m[4]=n=>c.beginnings=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Zr,e(q,{modelValue:c.added_stocks,"onUpdate:modelValue":m[5]||(m[5]=n=>c.added_stocks=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ed,e(q,{modelValue:c.remaining,"onUpdate:modelValue":m[6]||(m[6]=n=>c.remaining=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[td,e(q,{modelValue:c.out,"onUpdate:modelValue":m[7]||(m[7]=n=>c.out=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ld,e(q,{modelValue:c.total,"onUpdate:modelValue":m[8]||(m[8]=n=>c.total=n),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ad,e(q,{modelValue:c.sold,"onUpdate:modelValue":m[9]||(m[9]=n=>c.sold=n),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[od,e(q,{modelValue:k.value,"onUpdate:modelValue":m[10]||(m[10]=n=>k.value=n),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",nd,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:b})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var rd=G(sd,[["__scopeId","data-v-56107cd8"]]);const Xe=r=>(Z("data-v-5377385c"),r=r(),ee(),r),dd=Xe(()=>l("div",{class:"text-h6 text-white"},"Add Selecta",-1)),id={class:"q-mb-lg"},ud={key:0,class:"custom-list z-top"},cd=Xe(()=>l("div",null,"Product Name",-1)),md=Xe(()=>l("div",null,"Category",-1)),pd=Xe(()=>l("div",null,"Price",-1)),_d={class:"row justify-between q-mt-md q-gutter-md"},gd=Xe(()=>l("div",null,"Beginnings",-1)),fd=Xe(()=>l("div",null,"Added Stocks",-1)),vd=Xe(()=>l("div",null,"Remaining",-1)),yd=Xe(()=>l("div",null,"Selecta Out",-1)),hd=Xe(()=>l("div",null,"Total Quantity",-1)),bd=Xe(()=>l("div",null,"Selecta Sold",-1)),wd=Xe(()=>l("div",null,"Sales",-1)),xd={align:"right"},kd={__name:"SelectaReport",props:["userData"],setup(r){const w=Ie(),C=ye(),R=Me(),x=z(()=>R.branchProducts),g=N(!1),S=C.params.branch_id,d=N(""),y=r,_=()=>{g.value=!0},u=N("Selecta"),f=async()=>{console.log("branch_id.value:",S),console.log("searchQuery.value:",d.value),console.log("category.value:",u.value),(d.value||u.value)&&await R.searchBranchProducts({query:d.value,branches_id:S,category:u.value})},v=s=>s?s.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",U=s=>{console.log("data",s),c.product_id=s.product.id,c.product_name=s.product.name,c.category=s.category,c.price=s.price,d.value=""},c=qe({branch_id:S,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:C.params.branch_id}),p=()=>{c.name="",c.product_id="",c.product_name="",c.category="",c.price="",c.beginnings="",c.remaining="",c.added_stocks="",c.out="",c.sold="",c.total="",c.sales=""},k=z(()=>{const s=parseInt(c.sold||0)*parseFloat(c.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)});se(()=>[c.added_stocks,c.beginnings],([s,m])=>{c.total=parseInt(s||0)+parseInt(m||0)}),se(()=>[c.total,c.remaining,c.out],([s,m,n])=>{c.sold=parseInt(s||0)-(parseInt(m||0)+parseInt(n||0))}),se(()=>[c.sold,c.price],([s,m])=>{c.sales=parseInt(s||0)*parseFloat(m||0)});const b=async()=>{const s={user_id:y.userData,branch_id:c.branch_id,product_id:c.product_id,name:c.product_name,total:c.total,price:c.price,beginnings:c.beginnings,remaining:c.remaining,added_stocks:c.added_stocks,out:c.out,sold:c.sold,sales:c.sales,new_production:c.added_stocks};console.log("Selecta",s),w.updateSelectaReport(s),re.create({message:"Product added successfully",color:"positive",position:"top"}),p()};return(s,m)=>(h(),D(M,null,[e(F,{"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button",onClick:_}),e(ae,{modelValue:g.value,"onUpdate:modelValue":m[11]||(m[11]=n=>g.value=n),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[dd,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",id,[e(q,{modelValue:d.value,"onUpdate:modelValue":[m[0]||(m[0]=n=>d.value=n),f],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(h(),D("div",ud,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var n;return[(n=x.value)!=null&&n.length?(h(!0),D(M,{key:1},le(x.value,i=>(h(),L(K,{onClick:o=>U(i),key:i.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(v(i.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[cd,e(q,{modelValue:c.product_name,"onUpdate:modelValue":m[1]||(m[1]=n=>c.product_name=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[md,e(q,{modelValue:c.category,"onUpdate:modelValue":m[2]||(m[2]=n=>c.category=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[pd,e(q,{modelValue:c.price,"onUpdate:modelValue":m[3]||(m[3]=n=>c.price=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",_d,[l("div",null,[gd,e(q,{modelValue:c.beginnings,"onUpdate:modelValue":m[4]||(m[4]=n=>c.beginnings=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[fd,e(q,{modelValue:c.added_stocks,"onUpdate:modelValue":m[5]||(m[5]=n=>c.added_stocks=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[vd,e(q,{modelValue:c.remaining,"onUpdate:modelValue":m[6]||(m[6]=n=>c.remaining=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[yd,e(q,{modelValue:c.out,"onUpdate:modelValue":m[7]||(m[7]=n=>c.out=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[hd,e(q,{modelValue:c.total,"onUpdate:modelValue":m[8]||(m[8]=n=>c.total=n),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[bd,e(q,{modelValue:c.sold,"onUpdate:modelValue":m[9]||(m[9]=n=>c.sold=n),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[wd,e(q,{modelValue:k.value,"onUpdate:modelValue":m[10]||(m[10]=n=>k.value=n),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",xd,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:b})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Vd=G(kd,[["__scopeId","data-v-5377385c"]]);const Ze=r=>(Z("data-v-e743229a"),r=r(),ee(),r),$d=Ze(()=>l("div",{class:"text-h6 text-white"},"Add Softdrinks",-1)),Cd={class:"q-mb-lg"},Sd={key:0,class:"custom-list z-top"},Rd=Ze(()=>l("div",null,"Product Name",-1)),Pd=Ze(()=>l("div",null,"Category",-1)),Ud=Ze(()=>l("div",null,"Price",-1)),qd={class:"row justify-between q-mt-md q-gutter-md"},Nd=Ze(()=>l("div",null,"Beginnings",-1)),Dd=Ze(()=>l("div",null,"Added Stocks",-1)),Id=Ze(()=>l("div",null,"Remaining",-1)),Ad=Ze(()=>l("div",null,"Softdrinks Out",-1)),Fd=Ze(()=>l("div",null,"Total Quantity",-1)),Td=Ze(()=>l("div",null,"Softdrinks Sold",-1)),Bd=Ze(()=>l("div",null,"Sales",-1)),zd={align:"right"},Ld={__name:"SoftdrinksReport",props:["userData"],setup(r){const w=Ie(),C=ye(),R=Me(),x=z(()=>R.branchProducts),g=N(!1),S=C.params.branch_id,d=N(""),y=r,_=()=>{g.value=!0},u=N("Softdrinks"),f=async()=>{console.log("branch_id.value:",S),console.log("searchQuery.value:",d.value),console.log("category.value:",u.value),(d.value||u.value)&&await R.searchBranchProducts({query:d.value,branches_id:S,category:u.value})},v=s=>s?s.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",U=s=>{console.log("data",s),c.product_id=s.product.id,c.product_name=s.product.name,c.category=s.category,c.price=s.price,d.value=""},c=qe({branch_id:S,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:C.params.branch_id}),p=()=>{c.name="",c.product_id="",c.product_name="",c.category="",c.price="",c.beginnings="",c.remaining="",c.added_stocks="",c.out="",c.sold="",c.total="",c.sales=""},k=z(()=>{const s=parseInt(c.sold||0)*parseFloat(c.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)});se(()=>[c.added_stocks,c.beginnings],([s,m])=>{c.total=parseInt(s||0)+parseInt(m||0)}),se(()=>[c.total,c.remaining,c.out],([s,m,n])=>{c.sold=parseInt(s||0)-(parseInt(m||0)+parseInt(n||0))}),se(()=>[c.sold,c.price],([s,m])=>{c.sales=parseInt(s||0)*parseFloat(m||0)});const b=async()=>{const s={user_id:y.userData,branch_id:c.branch_id,product_id:c.product_id,name:c.product_name,total:c.total,price:c.price,beginnings:c.beginnings,remaining:c.remaining,added_stocks:c.added_stocks,out:c.out,sold:c.sold,sales:c.sales,new_production:c.added_stocks};console.log("Softdrinks",s),w.updateSoftdrinksReport(s),re.create({message:"Product added successfully",color:"positive",position:"top"}),p()};return(s,m)=>(h(),D(M,null,[e(F,{"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button",onClick:_}),e(ae,{modelValue:g.value,"onUpdate:modelValue":m[11]||(m[11]=n=>g.value=n),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(I,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[$d,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Cd,[e(q,{modelValue:d.value,"onUpdate:modelValue":[m[0]||(m[0]=n=>d.value=n),f],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(h(),D("div",Sd,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var n;return[(n=x.value)!=null&&n.length?(h(!0),D(M,{key:1},le(x.value,i=>(h(),L(K,{onClick:o=>U(i),key:i.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(v(i.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Rd,e(q,{modelValue:c.product_name,"onUpdate:modelValue":m[1]||(m[1]=n=>c.product_name=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Pd,e(q,{modelValue:c.category,"onUpdate:modelValue":m[2]||(m[2]=n=>c.category=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Ud,e(q,{modelValue:c.price,"onUpdate:modelValue":m[3]||(m[3]=n=>c.price=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",qd,[l("div",null,[Nd,e(q,{modelValue:c.beginnings,"onUpdate:modelValue":m[4]||(m[4]=n=>c.beginnings=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Dd,e(q,{modelValue:c.added_stocks,"onUpdate:modelValue":m[5]||(m[5]=n=>c.added_stocks=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Id,e(q,{modelValue:c.remaining,"onUpdate:modelValue":m[6]||(m[6]=n=>c.remaining=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ad,e(q,{modelValue:c.out,"onUpdate:modelValue":m[7]||(m[7]=n=>c.out=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Fd,e(q,{modelValue:c.total,"onUpdate:modelValue":m[8]||(m[8]=n=>c.total=n),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Td,e(q,{modelValue:c.sold,"onUpdate:modelValue":m[9]||(m[9]=n=>c.sold=n),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Bd,e(q,{modelValue:k.value,"onUpdate:modelValue":m[10]||(m[10]=n=>k.value=n),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:t(()=>[l("div",zd,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:b})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var jd=G(Ld,[["__scopeId","data-v-e743229a"]]);const Od={class:"q-mt-lg"},Hd={class:"item-start q-gutter-md",align:"center"},Md={__name:"ProductPage",props:["user"],setup(r){const w=r;return console.log("user from Add sales",w.user),(C,R)=>(h(),D("div",Od,[l("div",Hd,[e(jr,{userData:w.user},null,8,["userData"]),e(Vd,{userData:w.user},null,8,["userData"]),e(jd,{userData:w.user},null,8,["userData"]),e(Mr),e(rd,{userData:w.user},null,8,["userData"])])]))}};var Ed=G(Md,[["__scopeId","data-v-b4ae57da"]]);const ze=r=>(Z("data-v-6335eebf"),r=r(),ee(),r),Qd={class:"q-mt-lg"},Kd={class:"q-gutter-x-md",align:"center"},Yd={class:"row justify-between"},Gd=ze(()=>l("div",{class:"text-h6"},"Demomination Report",-1)),Wd={class:"q-pa-md row q-gutter-md justify-between"},Jd={class:"col-6"},Xd={class:"row justify-between text-weight-light text-h6 q-mt-md"},Zd=ze(()=>l("div",null,"1000 Bills:",-1)),ei={class:"row justify-between text-weight-light text-h6 q-mt-md"},ti=ze(()=>l("div",null,"500 Bills:",-1)),li={class:"row justify-between text-weight-light text-h6 q-mt-md"},ai=ze(()=>l("div",null,"200 Bills:",-1)),oi={class:"row justify-between text-weight-light text-h6 q-mt-md"},ni=ze(()=>l("div",null,"100 Bills:",-1)),si={class:"row justify-between text-weight-light text-h6 q-mt-md"},ri=ze(()=>l("div",null,"50 Bills:",-1)),di={class:"row justify-between text-weight-light text-h6 q-mt-md"},ii=ze(()=>l("div",null,"20 Bills:",-1)),ui={class:"col-5"},ci={class:"row justify-between text-weight-light text-h6 q-mt-md"},mi=ze(()=>l("div",null,"20 coins:",-1)),pi={class:"row justify-between text-weight-light text-h6 q-mt-md"},_i=ze(()=>l("div",null,"10 coins:",-1)),gi={class:"row justify-between text-weight-light text-h6 q-mt-md"},fi=ze(()=>l("div",null,"5 coins:",-1)),vi={class:"row justify-between text-weight-light text-h6 q-mt-md"},yi=ze(()=>l("div",null,"1 coins:",-1)),hi={class:"row justify-between text-weight-light text-h6 q-mt-md"},bi=ze(()=>l("div",null,"25 cents:",-1)),wi={class:"text-h6 q-mt-md",align:"center"},xi=ze(()=>l("div",null,"Total Denomination",-1)),ki={align:"right"},Vi={__name:"DenominationPage",setup(r){const w=Ie(),C=N(!1),R=()=>{C.value=!0},x=()=>{C.value=!1},g=qe({oneThousandBills:0,fiveHundredBills:0,twoHundredBills:0,oneHundredBills:0,fiftyBills:0,twentyBills:0,twentyCoins:0,tenCoins:0,fiveCoins:0,oneCoins:0,twentyFiveCents:0}),S=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(u),d=z(()=>g.oneThousandBills*1e3+g.fiveHundredBills*500+g.twoHundredBills*200+g.oneHundredBills*100+g.fiftyBills*50+g.twentyBills*20+g.twentyCoins*20+g.tenCoins*10+g.fiveCoins*5+g.oneCoins*1+g.twentyFiveCents*.25),y=z(()=>S(d.value)),_=()=>{const u=d.value;w.getDenominationData(g),w.updateDenominationTotal(u),w.calculateCharges(u),console.log("Denomination Data:",g),console.log("Raw Total Denomination:",u),console.log("Formatted Total Denomination:",y.value),x()};return(u,f)=>(h(),D("div",Qd,[l("div",Kd,[e(F,{label:"Denomination",rounded:"",style:{width:"150px"},color:"light-blue-6",class:"user-button",onClick:R})]),e(ae,{modelValue:C.value,"onUpdate:modelValue":f[12]||(f[12]=v=>C.value=v),persistent:""},{default:t(()=>[e(E,{style:{width:"700px"}},{default:t(()=>[e(I,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Yd,[Gd,l("div",null,[e(F,{flat:"",round:"",dense:"",icon:"close",onClick:x})])])]),_:1}),l("div",Wd,[l("div",Jd,[l("div",Xd,[Zd,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.oneThousandBills,"onUpdate:modelValue":f[0]||(f[0]=v=>g.oneThousandBills=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",ei,[ti,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.fiveHundredBills,"onUpdate:modelValue":f[1]||(f[1]=v=>g.fiveHundredBills=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",li,[ai,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.twoHundredBills,"onUpdate:modelValue":f[2]||(f[2]=v=>g.twoHundredBills=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",oi,[ni,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.oneHundredBills,"onUpdate:modelValue":f[3]||(f[3]=v=>g.oneHundredBills=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",si,[ri,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.fiftyBills,"onUpdate:modelValue":f[4]||(f[4]=v=>g.fiftyBills=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",di,[ii,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.twentyBills,"onUpdate:modelValue":f[5]||(f[5]=v=>g.twentyBills=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])])]),l("div",ui,[l("div",ci,[mi,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.twentyCoins,"onUpdate:modelValue":f[6]||(f[6]=v=>g.twentyCoins=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",pi,[_i,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.tenCoins,"onUpdate:modelValue":f[7]||(f[7]=v=>g.tenCoins=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",gi,[fi,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.fiveCoins,"onUpdate:modelValue":f[8]||(f[8]=v=>g.fiveCoins=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",vi,[yi,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.oneCoins,"onUpdate:modelValue":f[9]||(f[9]=v=>g.oneCoins=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",hi,[bi,l("div",null,[e(q,{style:{width:"100px"},modelValue:g.twentyFiveCents,"onUpdate:modelValue":f[10]||(f[10]=v=>g.twentyFiveCents=v),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",wi,[xi,l("div",null,[e(q,{modelValue:y.value,"onUpdate:modelValue":f[11]||(f[11]=v=>y.value=v),outlined:"",readonly:""},null,8,["modelValue"])])])])]),e(I,null,{default:t(()=>[l("div",ki,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:_})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var $i=G(Vi,[["__scopeId","data-v-6335eebf"]]);const Ci=r=>(Z("data-v-e3f27ee6"),r=r(),ee(),r),Si={class:"q-mt-lg"},Ri={class:"q-gutter-x-md",align:"center"},Pi={class:"row justify-between"},Ui=Ci(()=>l("div",{class:"text-h6"},"Expenses",-1)),qi={class:"row q-gutter-x-md"},Ni={class:"",align:"right"},Di={__name:"ExpensesPage",props:["user"],setup(r){const w=Ie(),R=ye().params.branch_id,x=r,g=N(!1),S=()=>{g.value=!0},d=qe({user_expense_id:"",name:"",amount:0,description:""}),y=()=>{d.user_expense_id="",d.name="",d.amount="",d.description=""},_=()=>{const u=parseFloat(d.amount.replace(",",".")),f={...d,user_id:x.user,branch_id:R,amount:u};console.log("expenses from admin",f),w.updateExpensesReport(f),re.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),y()};return(u,f)=>(h(),D("div",Si,[l("div",Ri,[e(F,{label:"Expenses",rounded:"",style:{width:"150px"},color:"light-blue-6",class:"user-button",onClick:S}),e(ae,{modelValue:g.value,"onUpdate:modelValue":f[3]||(f[3]=v=>g.value=v)},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(I,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Pi,[Ui,l("div",null,[ie(e(F,{flat:"",round:"",dense:"",icon:"close"},null,512),[[ue]])])])]),_:1}),e(I,{class:"q-gutter-y-sm"},{default:t(()=>[l("div",qi,[l("div",null,[e(q,{modelValue:d.name,"onUpdate:modelValue":f[0]||(f[0]=v=>d.name=v),outlined:"",dense:"",style:{width:"300px"},placeholder:"Name"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:d.amount,"onUpdate:modelValue":f[1]||(f[1]=v=>d.amount=v),"reverse-fill-mask":"",outlined:"",type:"number",dense:"",style:{width:"100px"},label:"Amount"},null,8,["modelValue"])])]),l("div",null,[e(q,{modelValue:d.description,"onUpdate:modelValue":f[2]||(f[2]=v=>d.description=v),placeholder:"Description",outlined:"",autogrow:"",style:{width:"415px"}},null,8,["modelValue"])]),l("div",Ni,[e(F,{outline:"",dense:"",icon:"add",label:"Add To List",class:"q-pa-sm",size:"sm",onClick:_})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}};var Ii=G(Di,[["__scopeId","data-v-e3f27ee6"]]);const It=r=>(Z("data-v-f7740770"),r=r(),ee(),r),Ai={class:"q-mt-lg"},Fi={class:"q-gutter-x-md",align:"center"},Ti={class:"row justify-between"},Bi=It(()=>l("div",{class:"text-h6"},"Employee Credits",-1)),zi={class:"q-gutter-y-md"},Li={key:0,class:"custom-list z-top"},ji={class:"row q-gutter-sm"},Oi={key:0,class:"custom-list z-top"},Hi={align:"right"},Mi={class:"row justify-between"},Ei=It(()=>l("div",null,"Credits Total",-1)),Qi={__name:"CreditPage",props:["user"],setup(r){const w=ye(),C=ht();z(()=>C.users);const R=St(),x=z(()=>R.employees),g=Ie(),S=z(()=>g.products);console.log("products search",S.value);const d=g.user;console.log("userdata",d);const y=r,_=w.params.branch_id,u=N(!1),f=N(""),v=N(""),U=N(!1),c=N(!1);let p=!1,k=!1;const b=N(!1),s=N(!1),m=N(!1),n=async()=>{f.value&&(s.value=!0,console.log("searchQuery.value",f.value),await R.searchEmployee(f.value),s.value=!1,U.value=!0)},i=()=>{u.value=!0},o=()=>{u.value=!1},a=qe({credit_user_id:"",name:"",product_id:"",productName:"",price:0,pieces:"",creditTotal:0}),$=()=>{f.value="",v.value="",a.credit_user_id="",a.name="",a.product_id="",a.productName="",a.price="",a.pieces="",a.creditTotal="",ke.value=[]},B=()=>{v.value="",a.product_id="",a.productName="",a.price="",a.pieces=""},Q=z(()=>f.value&&x.value.length>0),ne=j=>{console.log("credit",j),f.value=`${j.firstname} ${j.middlename?j.middlename.charAt(0)+".":""} ${j.lastname}`,a.credit_user_id=j.id,a.name=`${j.firstname} ${j.middlename?j.middlename.charAt(0)+".":""} ${j.lastname}`,p=!0,U.value=!1},me=async()=>{if(v.value){m.value=!0;const j=await g.searchBranchProducts(v.value,_);console.log("response",j),m.value=!1,c.value=!0}},Ue=z(()=>v.value&&S.value.length>0);console.log("Product search datasss:",S.value);const xe=j=>{v.value=j.name,a.productName=j.name,a.product_id=j.id,a.price=j.price,k=!0,c.value=!1},pe=N(""),ke=N([]),Fe=()=>{const j=parseFloat(a.price),J=parseInt(a.pieces);if(!isNaN(j)&&!isNaN(J)){const O=j*J;pe.value=O.toFixed(2)}else pe.value="";console.log("productCreditTotalAmount",pe.value)},De=()=>{const j=pe.value;ke.value.push({credit_user_id:a.credit_user_id,product_id:a.product_id,name:a.name,productName:a.productName,price:a.price,pieces:a.pieces,totalAmount:j}),console.log("creditList",ke.value),B()},Le=j=>{ke.value.splice(j,1)};se(f,j=>{j.length>2&&!p?n():U.value=!1,p=!1}),se(v,j=>{j.length>2&&!k?me():c.value=!1,k=!1}),se(ke,j=>{const J=j.reduce((O,_e)=>O+parseFloat(_e.totalAmount),0);a.creditTotal=J.toFixed(2)},{deep:!0}),se([()=>a.price,()=>a.pieces],Fe),se(pe,j=>{console.log("productCreditTotalAmoun",j)});const H=()=>{const j=parseFloat(a.creditTotal),J={user_id:y.user,branch_id:_,credit_user_id:a.credit_user_id,credit_user_name:a.name,total_amount:j,credits:ke.value.map(O=>({credit_user_id:O.credit_user_id,branch_id:_,productName:O.productName,product_id:O.product_id,price:O.price,pieces:O.pieces,totalAmount:O.totalAmount}))};g.updateEmployeeCreditReports(J),console.log("employeeCreditReport admin:",J),re.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),u.value=!1,$()};return(j,J)=>(h(),D("div",Ai,[l("div",Fi,[e(F,{label:"Credit",rounded:"",style:{width:"150px"},color:"light-blue-6",class:"user-button",onClick:i})]),e(ae,{modelValue:u.value,"onUpdate:modelValue":J[4]||(J[4]=O=>u.value=O),persistent:""},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(I,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Ti,[Bi,l("div",null,[e(F,{flat:"",round:"",dense:"",icon:"close",onClick:o})])])]),_:1}),e(I,null,{default:t(()=>[l("div",zi,[l("div",null,[l("div",null,[e(q,{modelValue:f.value,"onUpdate:modelValue":J[0]||(J[0]=O=>f.value=O),outlined:"",dense:"",rounded:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[s.value?(h(),L(Oe,{key:1,color:"grey",size:"sm"})):(h(),L(te,{key:0,name:"search"}))]),default:t(()=>[Q.value&&U.value?(h(),D("div",Li,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>[b.value?(h(),L(K,{key:0},{default:t(()=>[e(A,null,{default:t(()=>[e(Oe,{color:"primary"})]),_:1})]),_:1})):we("",!0),!b.value&&!x.value.length?(h(),L(K,{key:1},{default:t(()=>[e(A,null,{default:t(()=>[P(" No data available in this branch. ")]),_:1})]),_:1})):(h(!0),D(M,{key:2},le(x.value,O=>(h(),L(K,{onClick:_e=>ne(O),key:O.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(`
                                  ${O==null?void 0:O.firstname} ${O!=null&&O.middlename?(O==null?void 0:O.middlename.charAt(0).toUpperCase())+".":""} ${O==null?void 0:O.lastname}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])])]),l("div",ji,[l("div",null,[e(q,{modelValue:v.value,"onUpdate:modelValue":J[1]||(J[1]=O=>v.value=O),placeholder:"Search Product",outlined:"",flat:"",debounce:"500",dense:"",style:{width:"240px"}},{append:t(()=>[m.value?(h(),L(Oe,{key:1,color:"grey",size:"sm"})):(h(),L(te,{key:0,name:"search"}))]),default:t(()=>[Ue.value&&c.value?(h(),D("div",Oi,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>[(h(!0),D(M,null,le(S.value,O=>(h(),L(K,{onClick:_e=>xe(O),key:O.name,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(O.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",null,[e(q,{modelValue:a.price,"onUpdate:modelValue":J[2]||(J[2]=O=>a.price=O),"reverse-fill-mask":"",outlined:"",readonly:"",flat:"",dense:"",style:{width:"80px"},label:"Price"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:a.pieces,"onUpdate:modelValue":J[3]||(J[3]=O=>a.pieces=O),"reverse-fill-mask":"",outlined:"",type:"number",flat:"",dense:"",style:{width:"80px"},label:"Pcs"},null,8,["modelValue"])])]),l("div",Hi,[e(F,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:De})]),l("div",null,[e(et,{outlined:"",dense:"",readonly:""},{control:t(()=>[l("div",null,[(h(!0),D(M,null,le(ke.value,(O,_e)=>(h(),L(K,{key:_e,class:"q-gutter-xs"},{default:t(()=>[e(A,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[P(V(O.productName),1)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Pcs")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(O.pieces),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Price")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(O.price),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Total")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(O.totalAmount),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(F,{onClick:Y=>Le(_e),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),l("div",Mi,[l("div",null,[Ei,e(et,{outlined:"",dense:"",readonly:"",style:{width:"120px"}},{control:t(()=>[P(V(a.creditTotal),1)]),_:1})]),e(F,{outline:"",dense:"",icon:"add",label:"Add To List",class:"q-pa-sm",size:"sm",onClick:H})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Ki=G(Qi,[["__scopeId","data-v-f7740770"]]);const At=r=>(Z("data-v-ab6cecb6"),r=r(),ee(),r),Yi={class:"q-pa-xm"},Gi=At(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Bread Report",-1)),Wi=At(()=>l("span",null,"Action",-1)),Ji={__name:"BreadReportField",setup(r){const w=Ie(),C=z(()=>w.breadReports),R=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g),x=g=>{w.removeBread(g)};return(g,S)=>(h(),D("div",Yi,[Gi,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Product Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Beginnigs")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Remainings")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Bread Out")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sold")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Price")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sales")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[Wi]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(C.value,(d,y)=>(h(),D("div",{key:y},[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.total),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.bread_out),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.bread_sold),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.price)),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.sales)),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:_=>x(y)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}};var Xi=G(Ji,[["__scopeId","data-v-ab6cecb6"]]);const Ft=r=>(Z("data-v-411cf02c"),r=r(),ee(),r),Zi={class:"q-pa-xm"},eu=Ft(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Selecta Report",-1)),tu=Ft(()=>l("span",null,"Action",-1)),lu={__name:"SelectaReportField",setup(r){const w=Ie(),C=z(()=>w.selectaReports),R=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g),x=g=>{w.removeSelecta(g)};return(g,S)=>(h(),D("div",Zi,[eu,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Product Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Beginnigs")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Remainings")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Selecta Out")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sold")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Price")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sales")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[tu]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(C.value,(d,y)=>(h(),D("div",{key:y},[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.beginnings),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.out),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.sold),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.price)),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.sales)),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:_=>x(y)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}};var au=G(lu,[["__scopeId","data-v-411cf02c"]]);const Tt=r=>(Z("data-v-3a7cde0c"),r=r(),ee(),r),ou={class:"q-pa-xm"},nu=Tt(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Softdrinks Report",-1)),su=Tt(()=>l("span",null,"Action",-1)),ru={__name:"SoftdrinksReportField",setup(r){const w=Ie(),C=z(()=>w.softdrinksReports),R=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g),x=g=>{w.removeSoftdrink(g)};return(g,S)=>(h(),D("div",ou,[nu,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Product Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Beginnigs")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Remainings")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Softdrinks Out")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sold")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Price")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sales")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[su]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(C.value,(d,y)=>(h(),D("div",{key:y},[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.beginnings),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.out),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.sold),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.price)),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.sales)),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:_=>x(y)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}};var du=G(ru,[["__scopeId","data-v-3a7cde0c"]]);const iu={class:"q-pa-xm"},uu=l("div",{class:"text-subtitle2 text-weight-light"},"Cake Report",-1),cu={class:"q-py-sm"},mu={class:"q-gutter-md"},pu={__name:"CakeReportField",setup(r){const w=Ie(),C=z(()=>w.cakeReports),R=d=>d?d.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"",x=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(d).replace("\u20B1","\u20B1 "),g=d=>{w.removeCake(d)},S=d=>{switch(d){case"sold":return"green";case"pull out":return"orange";default:return"grey"}};return(d,y)=>(h(),D("div",iu,[uu,e(et,{outlined:"",dense:"",readonly:""},{default:t(()=>[l("div",cu,[l("div",mu,[l("div",null,[(h(!0),D(M,null,le(C.value,(_,u)=>(h(),L(K,{key:u},{default:t(()=>[e(A,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[P(V(R(_.name)),1)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Price")]),_:1}),e(T,{caption:""},{default:t(()=>[P(V(x(_.price)),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P("Status")]),_:1}),e(T,{caption:""},{default:t(()=>[e(be,{outline:"",color:S(_.sales_status)},{default:t(()=>[P(V(_.sales_status),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(F,{color:"red",icon:"close",round:"",dense:"",onClick:f=>g(u)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])])])]),_:1})]))}};const Bt=r=>(Z("data-v-61350a20"),r=r(),ee(),r),_u={class:"q-pa-xm"},gu=Bt(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Other Products Report",-1)),fu=Bt(()=>l("span",null,"Action",-1)),vu={__name:"OtherReportField",setup(r){const w=Ie(),C=z(()=>w.otherProductsReports),R=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g).replace("\u20B1","\u20B1 "),x=g=>{w.removeOtherProducts(g)};return(g,S)=>(h(),D("div",_u,[gu,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Product Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Beginnings")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Remainings")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sold")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Price")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Sales")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[fu]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(C.value,(d,y)=>(h(),L(K,{key:y},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.total),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.sold),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.price)),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(R(d.sales)),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:_=>x(y)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))}};var yu=G(vu,[["__scopeId","data-v-61350a20"]]);const lt=r=>(Z("data-v-f47c7530"),r=r(),ee(),r),hu={class:"row q-gutter-x-md q-gutter-y-md item-start"},bu=lt(()=>l("div",{class:"text-weight-light"},"Bread Total Amount",-1)),wu=lt(()=>l("div",{class:"text-weight-light"},"Selecta Total Amount",-1)),xu=lt(()=>l("div",{class:"text-weight-light"},"Softdrinks Total Amount",-1)),ku=lt(()=>l("div",{class:"text-weight-light"},"Cake Total Amount",-1)),Vu=lt(()=>l("div",{class:"text-weight-light"},"Other Products Total Amount",-1)),$u=lt(()=>l("div",{class:"text-weight-light"},"Expenses Total Amount",-1)),Cu=lt(()=>l("div",{class:"text-weight-light"},"Credits Total Amount",-1)),Su={class:"row q-my-lg justify-between"},Ru={class:"q-gutter-sm q-my-md"},Pu=lt(()=>l("div",{class:"text-weight-light text-h6 q-mt-md"},"Charges Total",-1)),Uu={class:"q-gutter-sm q-my-md"},qu=lt(()=>l("div",{class:"text-weight-bold text-h6 q-mt-md"},"Total Sales",-1)),Nu={__name:"OverAllTotal",setup(r){const w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o).replace("\u20B1","\u20B1 "),C=Ie(),R=z(()=>C.breadTotalAmount),x=z(()=>C.selectaTotalAmount),g=z(()=>C.softdrinksTotalAmount),S=z(()=>C.cakeTotalAmount),d=z(()=>C.otherProductsTotalAmount),y=z(()=>C.expensesSumAmount),_=z(()=>C.creditTotalAmount),u=z(()=>C.getCharges),f=z(()=>C.getDenominationTotal),v=z(()=>R.value+x.value+g.value+S.value+d.value+y.value),U=z(()=>w(R.value)),c=z(()=>w(x.value)),p=z(()=>w(g.value)),k=z(()=>w(S.value)),b=z(()=>w(d.value)),s=z(()=>w(y.value)),m=z(()=>w(_.value));z(()=>w(v.value));const n=z(()=>w(f.value)),i=z(()=>w(u.value));return(o,a)=>(h(),D(M,null,[l("div",hu,[l("div",null,[bu,l("div",null,[e(q,{modelValue:U.value,"onUpdate:modelValue":a[0]||(a[0]=$=>U.value=$),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[wu,l("div",null,[e(q,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=$=>c.value=$),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[xu,l("div",null,[e(q,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=$=>p.value=$),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[ku,l("div",null,[e(q,{modelValue:k.value,"onUpdate:modelValue":a[3]||(a[3]=$=>k.value=$),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[Vu,l("div",null,[e(q,{modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=$=>b.value=$),readonly:"",outlined:"",dense:"",style:{width:"200px"}},null,8,["modelValue"])])]),l("div",null,[$u,l("div",null,[e(q,{modelValue:s.value,"onUpdate:modelValue":a[5]||(a[5]=$=>s.value=$),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[Cu,l("div",null,[e(q,{modelValue:m.value,"onUpdate:modelValue":a[6]||(a[6]=$=>m.value=$),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),l("div",Su,[l("div",Ru,[Pu,l("div",null,[e(q,{modelValue:i.value,"onUpdate:modelValue":a[7]||(a[7]=$=>i.value=$),readonly:"",outlined:"",dense:"",style:{width:"180px"}},null,8,["modelValue"])])]),l("div",Uu,[qu,l("div",null,[e(q,{modelValue:n.value,"onUpdate:modelValue":a[8]||(a[8]=$=>n.value=$),readonly:"",outlined:"",dense:"",style:{width:"180px"}},null,8,["modelValue"])])])])],64))}};var Du=G(Nu,[["__scopeId","data-v-f47c7530"]]);const Iu=r=>(Z("data-v-3af7ade0"),r=r(),ee(),r),Au={class:"q-pa-xm"},Fu=Iu(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Expenses Report",-1)),Tu={__name:"ExpensesReportField",setup(r){const w=Ie(),C=z(()=>w.expensesReports),R=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g),x=g=>{w.removeExpenses(g)};return(g,S)=>(h(),D("div",Au,[Fu,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[P(" Expenses Name ")]),_:1})]),_:1}),e(A,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[P(" Description ")]),_:1})]),_:1}),e(A,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[P(" Amount ")]),_:1})]),_:1}),e(A,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[P(" Action")]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(C.value,(d,y)=>(h(),L(K,{separator:"",key:y},{default:t(()=>[e(A,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,V(d.description),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,V(R(d.amount)),1)]),_:2},1024)]),_:2},1024),e(A,{class:"q-ma-sm q-gutter-sm",align:"center",side:""},{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:_=>x(y)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))}};var Bu=G(Tu,[["__scopeId","data-v-3af7ade0"]]);const zt=r=>(Z("data-v-04340102"),r=r(),ee(),r),zu={class:"q-pa-xm"},Lu=zt(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Employee Credit Report",-1)),ju=zt(()=>l("span",null,"Action",-1)),Ou={__name:"CreditReportField",setup(r){const w=Ie(),C=z(()=>w.employeeCreditReports);console.log("employeeCreditReportsss",C);const R=S=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(S),x=S=>{if(S==null||S==="")return"Invalid Amount";const d=parseFloat(S);return isNaN(d)?"Invalid Amount":new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(d)},g=S=>{w.removeEmployeeCreditReport(S)};return(S,d)=>(h(),D("div",zu,[Lu,e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,{separator:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Employee Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Products Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Price")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[P("Pieces")]),_:1})]),_:1}),e(A,{align:"center"},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Total")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[ju]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(C.value,(y,_)=>(h(),D("div",{key:_},[(h(!0),D(M,null,le(y.credits,(u,f)=>(h(),L(K,{key:f},{default:t(()=>[e(A,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(y.credit_user_name),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(u.productName),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(R(u.price)),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(u.pieces),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(x(u.totalAmount)),1)]),_:2},1024)]),_:2},1024),e(A,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:v=>g(_)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]))),128))]),_:1})]))}};var Hu=G(Ou,[["__scopeId","data-v-04340102"]]);const Mu=r=>(Z("data-v-1f345fe6"),r=r(),ee(),r),Eu=Mu(()=>l("div",{class:"text-h6"},"Sales Report",-1)),Qu={class:"row q-gutter-x-md"},Ku={key:0,class:"custom-list z-top"},Yu={class:"q-my-md",align:"right"},Gu={__name:"AddSalesReport",setup(r){const w=Ie(),C=ht(),x=ye().params.branch_id,g=z(()=>C.users);console.log("userdatasssss  ",g.value);const S=N(!1),d=N(!0),y=N(!1),_=N("");let u=!1;const f=N(!1),v=N(!1),U=N(""),c=N(),p=()=>{S.value=!0},k=async()=>{U.value&&(f.value=!0,console.log("searchQuery.value",U.value),await C.searchUser(U.value),f.value=!1,v.value=!0)},b=z(()=>U.value&&g.value.length>0),s=o=>{if(!o)return"";const{firstname:a,middlename:$,lastname:B}=o,Q=a.split(" ").map(Ue=>Ue.charAt(0).toUpperCase()+Ue.slice(1)).join(" "),ne=$?`${$.charAt(0).toUpperCase()}.`:"",me=B.charAt(0).toUpperCase();return`${Q} ${ne} ${me} ${B.slice(1)}`},m=o=>{console.log("Sales Reports",o),U.value=`${o.firstname} ${o.middlename?o.middlename.charAt(0)+".":""} ${o.lastname}`,c.value=o.id,u=!0,v.value=!1};se(U,o=>{o.length>2&&!u?k():v.value=!1,u=!1});const n=()=>{if(!_.value||!y.value)return null;const o=`${_.value} ${y.value}`;return new Date(o).toISOString().slice(0,19).replace("T"," ")},i=async()=>{const o=n();if(!o){console.error("Invalid date or time selected");return}try{Te.show();const a={user_id:c.value,branch_id:x,created_at:o};await w.adminSubmitReports(a)}catch(a){console.error("Error submitting data:",a)}finally{Te.hide()}};return(o,a)=>(h(),D(M,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Sales Report",color:"orange",onClick:p})]),e(ae,{modelValue:S.value,"onUpdate:modelValue":a[4]||(a[4]=$=>S.value=$),maximized:d.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#ff9800"}},{default:t(()=>[Eu,e(Pe),l("div",Qu,[l("div",null,[ie((h(),L(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[ue]])])])]),_:1}),e(I,{class:"row q-gutter-lg"},{default:t(()=>[l("div",null,[e(q,{modelValue:U.value,"onUpdate:modelValue":a[0]||(a[0]=$=>U.value=$),outlined:"",dense:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[f.value?(h(),L(Oe,{key:1,color:"grey",size:"sm"})):(h(),L(te,{key:0,name:"search"}))]),default:t(()=>[b.value&&v.value?(h(),D("div",Ku,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>[o.loading?(h(),L(K,{key:0},{default:t(()=>[e(A,null,{default:t(()=>[e(Oe,{color:"primary"})]),_:1})]),_:1})):we("",!0),!o.loading&&!g.value.length?(h(),L(K,{key:1},{default:t(()=>[e(A,null,{default:t(()=>[P(" No data available in this branch. ")]),_:1})]),_:1})):(h(!0),D(M,{key:2},le(g.value,$=>(h(),L(K,{onClick:B=>m($),key:$.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(s($)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),e(q,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=$=>_.value=$),type:"date",outlined:"",dense:""},null,8,["modelValue"]),e(ft,{"keep-color":"",modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=$=>y.value=$),val:"08:00 PM",label:"AM",color:"cyan"},null,8,["modelValue"]),e(ft,{"keep-color":"",modelValue:y.value,"onUpdate:modelValue":a[3]||(a[3]=$=>y.value=$),val:"04:00 AM",label:"PM",color:"deep-orange"},null,8,["modelValue"])]),_:1}),e(I,{class:"row q-gutter-sm q-pa-md"},{default:t(()=>[e(Ed,{user:c.value},null,8,["user"]),e(Ii,{user:c.value},null,8,["user"]),e(Ki,{user:c.value},null,8,["user"]),e($i)]),_:1}),e(I,null,{default:t(()=>[e(Du)]),_:1}),e(I,null,{default:t(()=>[l("div",Yu,[e(F,{padding:"sm md",color:"red-6",dense:"",rounded:"",label:"Submit",onClick:i},{default:t(()=>[e(te,{class:"q-mx-sm",left:"",name:"send"})]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e(Hu)]),_:1}),e(I,null,{default:t(()=>[e(Bu)]),_:1}),e(I,null,{default:t(()=>[e(Xi)]),_:1}),e(I,null,{default:t(()=>[e(au)]),_:1}),e(I,null,{default:t(()=>[e(du)]),_:1}),e(I,null,{default:t(()=>[e(pu)]),_:1}),e(I,null,{default:t(()=>[e(yu)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])],64))}};var Wu=G(Gu,[["__scopeId","data-v-1f345fe6"]]);const Ju=r=>(Z("data-v-3c3fd5f1"),r=r(),ee(),r),Xu={class:"row justify-between"},Zu={class:"row q-gutter-md"},ec={key:0,class:"spinner-wrapper"},tc={key:1},lc={key:0,class:"data-error"},ac=Ju(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),oc={class:"row justify-center q-gutter-x-md"},nc={__name:"ProductionTable",setup(r){const w=ye();N("bakerReport");const C=w.params.branch_id;N(!1),N(!0),N(""),N("");const R=N({rowsPerPage:0}),x=ut(),g=N(""),S=z(()=>x.productions);console.log("productionRows:",S.value),N(!0);const d=N(!0),y=N(!1),_=z(()=>g.value?S.value.filter(p=>p.name.toLowerCase().includes(g.value.toLowerCase())):S.value);Ae(async()=>{C&&await u(C)});const u=async p=>{try{d.value=!0;const k=await x.fetchBranchProductions(p);console.log("Fetched data:",k),console.log("Production rows:",S.value),S.value.length||(y.value=!0)}catch{y.value=!0}finally{d.value=!1}};se(g,async p=>{d.value=!0,await new Promise(k=>setTimeout(k,1e3)),d.value=!1,y.value=_.value.length===0});const v=[{name:"reportDate",align:"center",label:"Date",field:"date",format:p=>Re.formatDate(p,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],U=Ee(),c=(p,k)=>{U.dialog({component:Is,componentProps:{reports:p,reportLabel:k}})};return(p,k)=>(h(),D(M,null,[l("div",Xu,[l("div",null,[e(q,{modelValue:g.value,"onUpdate:modelValue":k[0]||(k[0]=b=>g.value=b),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",Zu,[e(kr),e(Wu)])]),d.value?(h(),D("div",ec,[e(_t,{size:"50px",color:"primary"})])):(h(),D("div",tc,[_.value.length===0?(h(),D("div",lc,[e(te,{name:"warning",color:"warning",size:"4em"}),ac])):(h(),L($e,{key:1,class:"table-container sticky-header",filter:g.value,flat:"",style:{height:"450px"},columns:v,rows:_.value,"row-key":"reportDate",pagination:R.value,"onUpdate:pagination":k[1]||(k[1]=b=>R.value=b),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(b=>[e(X,{props:b},{default:t(()=>[l("div",oc,[e(F,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:s=>c(b.row.AM,"AM")},{default:t(()=>[P("AM")]),_:2},1032,["onClick"]),e(F,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:s=>c(b.row.PM,"PM")},{default:t(()=>[P("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var sc=G(nc,[["__scopeId","data-v-3c3fd5f1"]]);const rc={__name:"ProductionPage",setup(r){return(w,C)=>(h(),D("div",null,[e(sc)]))}},dc={__name:"BreadTransactionPage",setup(r){const w=ye(),C=Yt(),R=z(()=>C.pendingBreads),x=w.params.branch_id,g=async()=>{try{const f=await C.fetchPendingBreadsReport(x);console.log("Pending bread reports:",f),console.log("Pending bread reports:",R.value)}catch(f){console.error("Error fetching pending bread reports:",f)}};Ae(async()=>{x&&await g()});const S=f=>Re.formatDate(f,"MMMM DD, YYYY"),d=f=>{const v=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",U=f.firstname?v(f.firstname):"No Firstname",c=f.middlename?v(f.middlename).charAt(0)+".":"",p=f.lastname?v(f.lastname):"No Lastname";return`${U} ${c} ${p}`.trim()},y=[{name:"created_at",label:"Date",align:"left",field:f=>S(f.created_at)||"Not Available",sortable:!0},{name:"employee",label:"Employee",align:"left",field:f=>d(f.employee)||"Not Available",sortable:!0},{name:"from_branch_name",label:"From Branch",align:"left",field:f=>f.from_branch.name||"Not Available",sortable:!0},{name:"to_branch_name",label:"To Branch",align:"left",field:f=>f.to_branch.name||"Not Available"},{name:"product_name",label:"Product",align:"left",field:f=>f.product.name||"Not Available"},{name:"bread-added",label:"Bread Added",align:"center",field:f=>f.bread_added||"Not Available"},{name:"status",label:"Status",align:"center",field:f=>f.status||"Not Available"}],_=f=>f?f.split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join(" "):"",u=f=>{switch(f){case"declined":return"red";case"received":return"green";case"pending":return"orange";default:return"grey"}};return(f,v)=>(h(),D("div",null,[e($e,{flat:"",bordered:"",rows:R.value,columns:y,"row-key":"id"},{"body-cell-status":t(U=>[e(X,{props:U},{default:t(()=>[e(be,{color:u(U.row.status)},{default:t(()=>[P(V(_(U.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))}},ic={class:"row justify-between"},uc=l("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),cc=l("div",{class:"text-h6"},"Decline Report",-1),mc={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){const w=at(),C=N(""),R=N(!1),x=N(!1),g=N({rowsPerPage:0}),S=Ee(),d=r,y=()=>{x.value=!0},_=()=>{R.value=!0},u=async()=>{if(!C.value){S.notify({type:"negative",message:"Remark is required"});return}try{const p=await w.declineReport(d.report.id,C.value);console.log("Report declined:",p),S.notify({type:"negative",message:"Report declined successfully"}),R.value=!1,x.value=!1,C.value=""}catch(p){console.error("Error declining report:",p),S.notify({type:"negative",message:"Failed to decline report"})}},f=async()=>{try{const p=await w.confirmReport(d.report.id);console.log("Report confirmed:",p),S.notify({type:"positive",message:"Report confirmed successfully"}),x.value=!1}catch(p){console.error(p)}},v=z(()=>d.report.selecta_added_stocks||[]),U=p=>{const k=n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"",b=p.firstname?k(p.firstname):"No Firstname",s=p.middlename?k(p.middlename).charAt(0)+".":"",m=p.lastname?k(p.lastname):"No Lastname";return`${b} ${s} ${m}`},c=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,k)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:y})]),e(ae,{modelValue:x.value,"onUpdate:modelValue":k[2]||(k[2]=b=>x.value=b)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",ic,[uc,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:k[0]||(k[0]=b=>x.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(U(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"yellow",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:v.value,columns:c,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:g.value,"onUpdate:pagination":k[1]||(k[1]=b=>g.value=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(I,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(F,{color:"negative",label:"Decline",class:"action-btn",onClick:_}),e(F,{color:"positive",label:"Confirm",class:"action-btn",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:R.value,"onUpdate:modelValue":k[4]||(k[4]=b=>R.value=b)},{default:t(()=>[e(E,null,{default:t(()=>[e(I,null,{default:t(()=>[cc]),_:1}),e(I,null,{default:t(()=>[e(q,{modelValue:C.value,"onUpdate:modelValue":k[3]||(k[3]=b=>C.value=b),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[b=>!!b||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(He,{align:"right"},{default:t(()=>[ie(e(F,{flat:"",label:"Cancel",color:"primary"},null,512),[[ue]]),e(F,{flat:"",label:"Confirm",color:"negative",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const pc=r=>(Z("data-v-08e549d4"),r=r(),ee(),r),_c={class:"q-gutter-md q-ma-md"},gc={class:"row justify-between"},fc={class:"text-subtitle1"},vc={class:"text-subtitle1"},yc={class:"text-subtitle1"},hc={key:1,class:"data-error"},bc=pc(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),wc={__name:"TransactionPendingCard",setup(r){const w=ye(),C=at(),R=z(()=>C.pendingSelectaReports),x=w.params.branch_id,g=N("pending"),S=async()=>{try{const u=await C.fetchPendingSelectaStocks(x,g.value);console.log(R.value)}catch(u){console.error("Error fetching pending stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",_c,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",gc,[l("div",fc,V(d(v.created_at)),1),l("div",vc,V(y(v.created_at)),1),l("div",yc,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),l("div",null,[e(mc,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",hc,[e(te,{name:"warning",color:"warning",size:"4em"}),bc]))])]),_:1})]))}};var xc=G(wc,[["__scopeId","data-v-08e549d4"]]);const kc={class:"row justify-between"},Vc=l("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),$c={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){at(),N(!1);const w=N(!1),C=()=>{w.value=!0};Ee();const R=r,x=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.selecta_added_stocks||[])),g=d=>{const y=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",_=d.firstname?y(d.firstname):"No Firstname",u=d.middlename?y(d.middlename).charAt(0)+".":"",f=d.lastname?y(d.lastname):"No Lastname";return`${_} ${u} ${f}`},S=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,y)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(ae,{modelValue:w.value,"onUpdate:modelValue":y[2]||(y[2]=_=>w.value=_)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",kc,[Vc,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=_=>w.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(g(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"green",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:x.value,columns:S,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":y[1]||(y[1]=_=>d.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Cc=r=>(Z("data-v-c1019cbc"),r=r(),ee(),r),Sc={class:"q-gutter-md q-ma-md"},Rc={class:"row justify-between"},Pc={class:"text-subtitle1"},Uc={class:"text-subtitle1"},qc={class:"text-subtitle1"},Nc={key:1,class:"data-error"},Dc=Cc(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ic={__name:"TransactionConfirmedCard",setup(r){const w=ye(),C=at(),R=z(()=>C.confirmedSelectaReports),x=w.params.branch_id,g=N("confirmed"),S=async()=>{try{const u=await C.fetchConfirmedSelectaStocks(x,g.value);console.log(R.value)}catch(u){console.error("Error fetching confirmed stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",Sc,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Rc,[l("div",Pc,V(d(v.created_at)),1),l("div",Uc,V(y(v.created_at)),1),l("div",qc,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"green",outlined:""},{default:t(()=>[P(V(v.status),1)]),_:2},1024)]),l("div",null,[e($c,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",Nc,[e(te,{name:"warning",color:"warning",size:"4em"}),Dc]))])]),_:1})]))}};var Ac=G(Ic,[["__scopeId","data-v-c1019cbc"]]);const Fc={class:"row justify-between"},Tc=l("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Bc={class:"q-mt-md"},zc={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){at(),N(!1);const w=N(!1),C=()=>{w.value=!0},R=r,x=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.selecta_added_stocks||[])),g=d=>{const y=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",_=d.firstname?y(d.firstname):"No Firstname",u=d.middlename?y(d.middlename).charAt(0)+".":"",f=d.lastname?y(d.lastname):"No Lastname";return`${_} ${u} ${f}`},S=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,y)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(ae,{modelValue:w.value,"onUpdate:modelValue":y[2]||(y[2]=_=>w.value=_)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Fc,[Tc,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=_=>w.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(g(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"red",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})]),l("div",Bc,"Remark: "+V(r.report.remark),1)]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:x.value,columns:S,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":y[1]||(y[1]=_=>d.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Lc=r=>(Z("data-v-6b801095"),r=r(),ee(),r),jc={class:"q-gutter-md q-ma-md"},Oc={class:"row justify-between"},Hc={class:"text-subtitle1"},Mc={class:"text-subtitle1"},Ec={class:"text-subtitle1"},Qc={key:1,class:"data-error"},Kc=Lc(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Yc={__name:"TransactionDeclinedCard",setup(r){const w=ye(),C=at(),R=z(()=>C.declinedSelectaReports),x=w.params.branch_id,g=N("declined"),S=async()=>{try{const u=await C.fetchDeclinedSelectaStocks(x,g.value);console.log("selectedProductsDeclined",R.value)}catch(u){console.error("Error fetching decline stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",jc,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Oc,[l("div",Hc,V(d(v.created_at)),1),l("div",Mc,V(y(v.created_at)),1),l("div",Ec,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"red",outlined:""},{default:t(()=>[P(V(v.status),1)]),_:2},1024)]),l("div",null,[e(zc,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",Qc,[e(te,{name:"warning",color:"warning",size:"4em"}),Kc]))])]),_:1})]))}};var Gc=G(Yc,[["__scopeId","data-v-6b801095"]]);const Wc={class:"q-gutter-y-sm"},Jc={__name:"SelectaTransactionPage",setup(r){const w=N("pendingReports"),C=z(()=>{switch(w.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(R,x)=>(h(),D(M,null,[l("div",Wc,[e(st,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=g=>w.value=g),"indicator-color":C.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(Ce,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(Ce,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(Ce,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(rt,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=g=>w.value=g),animated:""},{default:t(()=>[e(Se,{name:"pendingReports"},{default:t(()=>[e(xc)]),_:1}),e(Se,{name:"confirmReports"},{default:t(()=>[e(Ac)]),_:1}),e(Se,{name:"declineReports"},{default:t(()=>[e(Gc)]),_:1})]),_:1},8,["modelValue"])],64))}};var Xc=G(Jc,[["__scopeId","data-v-6cbd59c6"]]);const Zc={class:"row justify-between"},em=l("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),tm=l("div",{class:"text-h6"},"Decline Report",-1),lm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){const w=it(),C=N(""),R=N(!1),x=N(!1),g=N({rowPerPage:0}),S=Ee(),d=r,y=()=>{x.value=!0},_=()=>{R.value=!0},u=async()=>{if(!C.value){S.notify({type:"negative",message:"Remark is required"});return}try{const p=await w.declineReport(d.report.id,C.value);console.log("Report declined:",p),S.notify({type:"negative",message:"Report declined successfully"}),R.value=!1,x.value=!1,C.value=""}catch(p){console.error("Error declining report:",p),S.notify({type:"negative",message:"Failed to decline report"})}},f=async()=>{try{const p=await w.confirmReport(d.report.id);console.log("Report confirmed:",p),S.notify({type:"positive",message:"Report confirmed successfully"}),x.value=!1}catch(p){console.error(p)}},v=z(()=>d.report.softdrinks_added_stocks||[]),U=p=>{const k=n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"",b=p.firstname?k(p.firstname):"No Firstname",s=p.middlename?k(p.middlename).charAt(0)+".":"",m=p.lastname?k(p.lastname):"No Lastname";return`${b} ${s} ${m}`},c=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,k)=>(h(),D("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:y}),e(ae,{modelValue:x.value,"onUpdate:modelValue":k[2]||(k[2]=b=>x.value=b)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Zc,[em,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:k[0]||(k[0]=b=>x.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(U(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"yellow",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:v.value,columns:c,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:g.value,"onUpdate:pagination":k[1]||(k[1]=b=>g.value=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(I,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(F,{color:"negative",label:"Decline",class:"action-btn",onClick:_}),e(F,{color:"positive",label:"Confirm",class:"action-btn",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:R.value,"onUpdate:modelValue":k[4]||(k[4]=b=>R.value=b)},{default:t(()=>[e(E,null,{default:t(()=>[e(I,null,{default:t(()=>[tm]),_:1}),e(I,null,{default:t(()=>[e(q,{modelValue:C.value,"onUpdate:modelValue":k[3]||(k[3]=b=>C.value=b),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[b=>!!b||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(He,{align:"right"},{default:t(()=>[ie(e(F,{flat:"",label:"Cancel",color:"primary"},null,512),[[ue]]),e(F,{flat:"",label:"Confirm",color:"negative",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const am=r=>(Z("data-v-7ba0107e"),r=r(),ee(),r),om={class:"q-gutter-md q-ma-md"},nm={class:"row justify-between"},sm={class:"text-subtitle1"},rm={class:"text-subtitle1"},dm={class:"text-subtitle1"},im={key:1,class:"data-error"},um=am(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),cm={__name:"TransactionPendingCard",setup(r){const w=ye(),C=it(),R=z(()=>C.pendingSoftdrinksReports),x=w.params.branch_id,g=N("pending"),S=async()=>{try{const u=await C.fetchPendingSoftdrinksStocks(x,g.value);console.log(R.value)}catch(u){console.error("Error fetching pending stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",om,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",nm,[l("div",sm,V(d(v.created_at)),1),l("div",rm,V(y(v.created_at)),1),l("div",dm,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),l("div",null,[e(lm,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",im,[e(te,{name:"warning",color:"warning",size:"4em"}),um]))])]),_:1})]))}};var mm=G(cm,[["__scopeId","data-v-7ba0107e"]]);const pm={class:"row justify-between"},_m=l("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),gm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){it(),N(!1);const w=N(!1),C=()=>{w.value=!0},R=r,x=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.softdrinks_added_stocks||[])),g=d=>{const y=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",_=d.firstname?y(d.firstname):"No Firstname",u=d.middlename?y(d.middlename).charAt(0)+".":"",f=d.lastname?y(d.lastname):"No Lastname";return`${_} ${u} ${f}`},S=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,y)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(ae,{modelValue:w.value,"onUpdate:modelValue":y[2]||(y[2]=_=>w.value=_)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",pm,[_m,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=_=>w.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(g(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"green",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:x.value,columns:S,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":y[1]||(y[1]=_=>d.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const fm=r=>(Z("data-v-2b1290c8"),r=r(),ee(),r),vm={class:"q-gutter-md q-ma-md"},ym={class:"row justify-between"},hm={class:"text-subtitle1"},bm={class:"text-subtitle1"},wm={class:"text-subtitle1"},xm={key:1,class:"data-error"},km=fm(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Vm={__name:"TransactionConfirmedCard",setup(r){const w=ye(),C=it(),R=z(()=>C.confirmedSoftdrinksReports),x=w.params.branch_id,g=N("confirmed"),S=async()=>{try{const u=await C.fetchConfirmedSoftdrinksStocks(x,g.value);console.log(R.value)}catch(u){console.error("Error fetching confirmed stocks",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",vm,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",ym,[l("div",hm,V(d(v.created_at)),1),l("div",bm,V(y(v.created_at)),1),l("div",wm,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"green",outlined:""},{default:t(()=>[P(V(v.status),1)]),_:2},1024)]),l("div",null,[e(gm,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",xm,[e(te,{name:"warning",color:"warning",size:"4em"}),km]))])]),_:1})]))}};var $m=G(Vm,[["__scopeId","data-v-2b1290c8"]]);const Cm={class:"row justify-between"},Sm=l("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Rm={class:"q-mt-md"},Pm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){it();const w=N(!1),C=()=>{w.value=!0},R=r,x=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.softdrinks_added_stocks)),g=d=>{const y=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",_=d.firstname?y(d.firstname):"No Firstname",u=d.middlename?y(d.middlename).charAt(0)+".":"",f=d.lastname?y(d.lastname):"No Lastname";return`${_} ${u} ${f}`},S=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,y)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(ae,{modelValue:w.value,"onUpdate:modelValue":y[2]||(y[2]=_=>w.value=_)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Cm,[Sm,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=_=>w.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(g(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"red",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})]),l("div",Rm,"Remark: "+V(r.report.remark),1)]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:x.value,columns:S,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":y[1]||(y[1]=_=>d.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Um=r=>(Z("data-v-51a1abe5"),r=r(),ee(),r),qm={class:"q-gutter-md q-ma-md"},Nm={class:"row justify-between"},Dm={class:"text-subtitle1"},Im={class:"text-subtitle1"},Am={class:"text-subtitle1"},Fm={key:1,class:"data-error"},Tm=Um(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Bm={__name:"TransactionDeclinedCard",setup(r){const w=ye(),C=it(),R=z(()=>C.declinedSoftdrinksReports),x=w.params.branch_id,g=N("declined"),S=async()=>{try{const u=await C.fetchDeclinedSoftdrinksStocks(x,g.value);console.log("softdrinksProductsDeclined",R.value)}catch(u){console.error("Error fetching decline stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),L(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",qm,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Nm,[l("div",Dm,V(d(v.created_at)),1),l("div",Im,V(y(v.created_at)),1),l("div",Am,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"red",outlined:""},{default:t(()=>[P(V(v.status),1)]),_:2},1024)]),l("div",null,[e(Pm,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",Fm,[e(te,{name:"warning",color:"warning",size:"4em"}),Tm]))])]),_:1}))}};var zm=G(Bm,[["__scopeId","data-v-51a1abe5"]]);const Lm={class:"q-gutter-y-sm"},jm={__name:"SoftdrinksTransactionPage",setup(r){const w=N("pendingReports"),C=z(()=>{switch(w.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(R,x)=>(h(),D(M,null,[l("div",Lm,[e(st,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=g=>w.value=g),"indicator-color":C.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(Ce,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(Ce,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(Ce,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(rt,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=g=>w.value=g),animated:""},{default:t(()=>[e(Se,{name:"pendingReports"},{default:t(()=>[e(mm)]),_:1}),e(Se,{name:"confirmReports"},{default:t(()=>[e($m)]),_:1}),e(Se,{name:"declineReports"},{default:t(()=>[e(zm)]),_:1})]),_:1},8,["modelValue"])],64))}};var Om=G(jm,[["__scopeId","data-v-368f5ccc"]]);const Hm={class:"row justify-between"},Mm=l("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),Em=l("div",{class:"text-h6"},"Decline Report",-1),Qm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){const w=bt(),C=N(""),R=N(!1),x=N(!1),g=N({rowsPerPage:0}),S=()=>{x.value=!0},d=()=>{R.value=!0},y=r,_=async()=>{if(!C.value){re.create({type:"negative",message:"Remark is required"});return}try{const c=await w.declineReport(y.report.id,C.value);console.log("Report declined:",c),re.create({type:"negative",message:"Report declined successfully"}),R.value=!1,x.value=!1,C.value=""}catch(c){console.error("Error declining report:",c),re.create({type:"negative",message:"Failed to decline report"})}},u=async()=>{try{const c=await w.confirmReport(y.report.id);console.log("Report confirmed:",c),re.create({type:"positive",message:"Report confirmed successfully"}),x.value=!1}catch(c){console.error(c)}},f=z(()=>y.report.other_added_stock||[]),v=[{name:"product_name",label:"Product Name",field:c=>c.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:c=>c.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}],U=c=>{const p=m=>m?m.charAt(0).toUpperCase()+m.slice(1).toLowerCase():"",k=c.firstname?p(c.firstname):"No Firstname",b=c.middlename?p(c.middlename).charAt(0)+".":"",s=c.lastname?p(c.lastname):"No Lastname";return`${k} ${b} ${s}`};return(c,p)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:S})]),e(ae,{modelValue:x.value,"onUpdate:modelValue":p[2]||(p[2]=k=>x.value=k)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Hm,[Mm,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=k=>x.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(U(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"yellow",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:f.value,columns:v,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:g.value,"onUpdate:pagination":p[1]||(p[1]=k=>g.value=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(I,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(F,{color:"negative",label:"Decline",class:"action-btn",onClick:d}),e(F,{color:"positive",label:"Confirm",class:"action-btn",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:R.value,"onUpdate:modelValue":p[4]||(p[4]=k=>R.value=k)},{default:t(()=>[e(E,null,{default:t(()=>[e(I,null,{default:t(()=>[Em]),_:1}),e(I,null,{default:t(()=>[e(q,{modelValue:C.value,"onUpdate:modelValue":p[3]||(p[3]=k=>C.value=k),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[k=>!!k||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(He,{align:"right"},{default:t(()=>[ie(e(F,{flat:"",label:"Cancel",color:"primary"},null,512),[[ue]]),e(F,{flat:"",label:"Confirm",color:"negative",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Km=r=>(Z("data-v-355e3e60"),r=r(),ee(),r),Ym={class:"q-gutter-md q-ma-md"},Gm={key:0},Wm={class:"row justify-between"},Jm={class:"text-subtitle1"},Xm={class:"text-subtitle1"},Zm={class:"text-subtitle1"},ep={key:1,class:"data-error"},tp=Km(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),lp={__name:"TransactionPendingCard",setup(r){const w=ye(),C=bt(),R=z(()=>C.pendingOtherReports),x=w.params.branch_id,g=N("pending"),S=async()=>{try{const u=await C.fetchPendingOtherStocks(x,g.value);console.log(R.value)}catch(u){console.error("Error fetching pending stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",Ym,[R.value.length?(h(),D("div",Gm,[(h(!0),D(M,null,le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",Wm,[l("div",Jm,V(d(v.created_at)),1),l("div",Xm,V(y(v.created_at)),1),l("div",Zm,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),l("div",null,[e(Qm,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(h(),D("div",ep,[e(te,{name:"warning",color:"warning",size:"4em"}),tp]))])]),_:1})]))}};var ap=G(lp,[["__scopeId","data-v-355e3e60"]]);const op={class:"row justify-between"},np=l("div",{class:"text-h6"},"Other Added Stocks Report",-1),sp={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){at(),N(!1);const w=N(!1),C=()=>{w.value=!0};Ee();const R=r,x=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.other_added_stock||[])),g=d=>{const y=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",_=d.firstname?y(d.firstname):"No Firstname",u=d.middlename?y(d.middlename).charAt(0)+".":"",f=d.lastname?y(d.lastname):"No Lastname";return`${_} ${u} ${f}`},S=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,y)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(ae,{modelValue:w.value,"onUpdate:modelValue":y[2]||(y[2]=_=>w.value=_)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",op,[np,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=_=>w.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(g(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"green",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})])]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:x.value,columns:S,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":y[1]||(y[1]=_=>d.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const rp=r=>(Z("data-v-5b0a7351"),r=r(),ee(),r),dp={class:"q-gutter-md q-ma-md"},ip={class:"row justify-between"},up={class:"text-subtitle1"},cp={class:"text-subtitle1"},mp={class:"text-subtitle1"},pp={key:1,class:"data-error"},_p=rp(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),gp={__name:"TransactionConfirmedCard",setup(r){const w=ye(),C=bt(),R=z(()=>C.confirmedOtherReports),x=w.params.branch_id,g=N("confirmed"),S=async()=>{try{const u=await C.fetchConfirmedOtherStocks(x,g.value);console.log(R.value)}catch(u){console.error("Error fetching confirmed stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",dp,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",ip,[l("div",up,V(d(v.created_at)),1),l("div",cp,V(y(v.created_at)),1),l("div",mp,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"green",outlined:""},{default:t(()=>[P(V(v.status),1)]),_:2},1024)]),l("div",null,[e(sp,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",pp,[e(te,{name:"warning",color:"warning",size:"4em"}),_p]))])]),_:1})]))}};var fp=G(gp,[["__scopeId","data-v-5b0a7351"]]);const vp={class:"row justify-between"},yp=l("div",{class:"text-h6"},"Others Added Stocks Report",-1),hp={class:"q-mt-md"},bp={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){at(),N(!1);const w=N(!1),C=()=>{w.value=!0},R=r,x=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.other_added_stock||[])),g=d=>{const y=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",_=d.firstname?y(d.firstname):"No Firstname",u=d.middlename?y(d.middlename).charAt(0)+".":"",f=d.lastname?y(d.lastname):"No Lastname";return`${_} ${u} ${f}`},S=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,y)=>(h(),D(M,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(ae,{modelValue:w.value,"onUpdate:modelValue":y[2]||(y[2]=_=>w.value=_)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(I,null,{default:t(()=>[l("div",vp,[yp,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=_=>w.value=!1)})])]),_:1}),e(I,null,{default:t(()=>[l("div",null,"Cashier: "+V(g(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[P(" Status: "),e(be,{color:"red",outlined:""},{default:t(()=>[P(V(r.report.status),1)]),_:1})]),l("div",hp,"Remark: "+V(r.report.remark),1)]),_:1}),e(I,null,{default:t(()=>[e($e,{rows:x.value,columns:S,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":y[1]||(y[1]=_=>d.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const wp=r=>(Z("data-v-67ff56ab"),r=r(),ee(),r),xp={class:"q-gutter-md q-ma-md"},kp={class:"row justify-between"},Vp={class:"text-subtitle1"},$p={class:"text-subtitle1"},Cp={class:"text-subtitle1"},Sp={key:1,class:"data-error"},Rp=wp(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Pp={__name:"TransactionDeclinedCard",setup(r){const w=ye(),C=bt(),R=z(()=>C.declinedOtherReports),x=w.params.branch_id,g=N("declined"),S=async()=>{try{const u=await C.fetchDeclinedOtherStocks(x,g.value);console.log("selectedOtherProductDeclined",R.value)}catch(u){console.error("Error fetching decline stocks:",u)}};Ae(async()=>{x&&await S()});const d=u=>Re.formatDate(u,"MMMM D, YYYY"),y=u=>Re.formatDate(u,"hh:mm A"),_=u=>{const f=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",v=u.firstname?f(u.firstname):"No Firstname",U=u.middlename?f(u.middlename).charAt(0)+".":"",c=u.lastname?f(u.lastname):"No Lastname";return`${v} ${U} ${c}`};return(u,f)=>(h(),D("div",null,[e(tt,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",xp,[R.value.length?(h(!0),D(M,{key:0},le(R.value,(v,U)=>(h(),L(E,{key:U},{default:t(()=>[e(I,null,{default:t(()=>[l("div",kp,[l("div",Vp,V(d(v.created_at)),1),l("div",$p,V(y(v.created_at)),1),l("div",Cp,V(v.branch.name)+" - "+V(_(v.employee)),1),l("div",null,[e(be,{color:"red",outlined:""},{default:t(()=>[P(V(v.status),1)]),_:2},1024)]),l("div",null,[e(bp,{report:v},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),D("div",Sp,[e(te,{name:"warning",color:"warning",size:"4em"}),Rp]))])]),_:1})]))}};var Up=G(Pp,[["__scopeId","data-v-67ff56ab"]]);const qp={class:"q-gutter-y-sm"},Np={__name:"OtherTransactionPage",setup(r){const w=N("pendingReports"),C=z(()=>{switch(w.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(R,x)=>(h(),D(M,null,[l("div",qp,[e(st,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=g=>w.value=g),"indicator-color":C.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(Ce,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(Ce,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(Ce,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(rt,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=g=>w.value=g),animated:""},{default:t(()=>[e(Se,{name:"pendingReports"},{default:t(()=>[e(ap)]),_:1}),e(Se,{name:"confirmReports"},{default:t(()=>[e(fp)]),_:1}),e(Se,{name:"declineReports"},{default:t(()=>[e(Up)]),_:1})]),_:1},8,["modelValue"])],64))}};var Dp=G(Np,[["__scopeId","data-v-b76c19b4"]]);const Ip=r=>(Z("data-v-1debf745"),r=r(),ee(),r),Ap={class:"q-gutter-y-sm"},Fp=Ip(()=>l("h1",null,"Cake",-1)),Tp={__name:"TransactionPage",setup(r){const w=N("bread");return(C,R)=>(h(),D(M,null,[l("div",Ap,[e(st,{modelValue:w.value,"onUpdate:modelValue":R[0]||(R[0]=x=>w.value=x),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(Ce,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(Ce,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(Ce,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(Ce,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(Ce,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(rt,{modelValue:w.value,"onUpdate:modelValue":R[1]||(R[1]=x=>w.value=x),animated:""},{default:t(()=>[e(Se,{name:"bread"},{default:t(()=>[e(dc)]),_:1}),e(Se,{name:"selecta"},{default:t(()=>[e(Xc)]),_:1}),e(Se,{name:"softdrinks"},{default:t(()=>[e(Om)]),_:1}),e(Se,{name:"cake"},{default:t(()=>[e(E,null,{default:t(()=>[Fp]),_:1})]),_:1}),e(Se,{name:"other"},{default:t(()=>[e(Dp)]),_:1})]),_:1},8,["modelValue"])],64))}};var Bp=G(Tp,[["__scopeId","data-v-1debf745"]]);const ot=r=>(Z("data-v-f0d86c36"),r=r(),ee(),r),zp=ot(()=>l("div",{class:"text-h6"},"Create Branch Recipe",-1)),Lp={class:"q-mb-lg"},jp={key:0,class:"custom-list z-top"},Op={class:"q-mb-sm"},Hp=ot(()=>l("div",null,"Recipe Name",-1)),Mp={class:"q-mb-lg"},Ep=ot(()=>l("div",null,"Category",-1)),Qp=ot(()=>l("div",null,"Breads",-1)),Kp={class:"q-mt-md q-gutter-y-sm"},Yp=ot(()=>l("div",{class:"text-weight-thin"},"Ingredients List",-1)),Gp={class:"q-mt-xl q-gutter-y-sm"},Wp={class:"row justify-between"},Jp=ot(()=>l("div",{align:"center"},"Ingredients",-1)),Xp=ot(()=>l("div",{align:"center"},"Quantity",-1)),Zp=["onKeyup"],e_={align:"right"},t_={__name:"RecipeCreate",setup(r){const w=ye(),C=w.params.branch_id,R=Gt(),x=z(()=>R.recipes),g=nt(),S=dt(),d=nt(),y=z(()=>g.branchRecipes),_=N(!1),u=()=>{_.value=!0},f=()=>{clearForm(),_.value=!1},v=H=>H?H.split(" ").map(j=>j.charAt(0).toUpperCase()+j.slice(1).toLowerCase()).join(" "):"",U=N(""),c=async()=>{R.searchRecipe(U.value)},p=z(()=>b.target!==0),k=H=>{b.recipe_id=H.id,b.recipe_name=H.name,b.category=H.category,U.value=""},b=qe({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:w.params.branch_id}),s=N(!1),m=N(null),n=N([]),i=N(n.value),o=N([]),a=N([]),$=qe({name:"",quantity:""}),B=N(a.value);(async()=>{await S.fetchProductsByCategory("Bread"),s.value=!1,n.value=S.breads.map(H=>({label:H.name,value:H.id}))})(),(async()=>{const H="Ingredients";await d.fetchBranchRawMaterials(H,C),s.value=!1,a.value=d.ingredients.map(j=>({label:j.raw_material_name,value:j.raw_material_id,unit:j.ingredient_unit}))})();const me=()=>{$.name="",$.quantity=""},Ue=(H,j)=>{H.length>2&&(n.value.includes(H)||j(H,"add-unique"))},xe=(H,j)=>{j(()=>{if(H==="")i.value=n.value;else{const J=H.toLowerCase();i.value=n.value.filter(O=>O.label.toLowerCase().indexOf(J)>-1)}})},pe=(H,j)=>{j(()=>{if(H==="")B.value=a.value;else{const J=H.toLowerCase();B.value=a.value.filter(O=>O.label.toLowerCase().indexOf(J)>-1)}})},ke=()=>{const H=o.value;function j(_e,Y){return _e.find(oe=>oe.ingredients_id==Y)}const J=$.name.value;j(H,J)?re.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(o.value=[...H,{ingredients_id:$.name.value,label:$.name.label,quantity:$.quantity,unit:$.name.unit}],me())},Fe=H=>{o.value.splice(H,1)};se(()=>$.name,H=>{H&&H.unit?$.unit=H.unit:$.unit=""});const De=()=>{b.recipe_id="",b.target="",m.value=null,o.value=[],$.name="",$.quantity=""},Le=async()=>{const H={recipe_id:b.recipe_id,target:b.target,status:"active",branch_id:b.branches_id,breads:m.value.map(j=>({bread_id:j.value})),ingredients:o.value.map(j=>({ingredient_id:j.ingredients_id,quantity:j.quantity}))};console.log("branchRecipe",H),await g.saveBranchRecipe(H),y.value=await g.fetchBranchRecipes(C),De(),_.value=!1};return(H,j)=>(h(),D(M,null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:u}),e(ae,{modelValue:_.value,"onUpdate:modelValue":j[7]||(j[7]=J=>_.value=J)},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[zp,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,null,{default:t(()=>{var J;return[l("div",Lp,[e(q,{modelValue:U.value,"onUpdate:modelValue":[j[0]||(j[0]=O=>U.value=O),c],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[U.value?(h(),D("div",jp,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var O;return[(O=x.value)!=null&&O.length?(h(!0),D(M,{key:1},le(x.value,_e=>(h(),L(K,{onClick:Y=>k(_e),key:_e.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(v(_e.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"])]),l("div",Op,[Hp,e(q,{modelValue:b.recipe_name,"onUpdate:modelValue":j[1]||(j[1]=O=>b.recipe_name=O),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Mp,[Ep,e(q,{modelValue:b.category,"onUpdate:modelValue":j[2]||(j[2]=O=>b.category=O),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:b.target,"onUpdate:modelValue":j[3]||(j[3]=O=>b.target=O),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),l("div",null,[Qp,e(yt,{modelValue:m.value,"onUpdate:modelValue":j[4]||(j[4]=O=>m.value=O),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:i.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:Ue,onFilter:xe,rules:[O=>O&&O.length>0||"Bread is required"]},{"no-option":t(()=>[e(K,null,{default:t(()=>[e(A,{class:"text-grey"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),l("div",Kp,[Yp,l("div",null,[e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[(h(!0),D(M,null,le(o.value,(O,_e)=>(h(),L(K,{key:_e},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(O.label),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[P(V(O.quantity)+" "+V(O.unit),1)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(F,{onClick:Y=>Fe(_e),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),l("div",Gp,[l("div",Wp,[l("div",null,[Jp,e(yt,{modelValue:$.name,"onUpdate:modelValue":j[5]||(j[5]=O=>$.name=O),debounce:"3000",outlined:"","chips-color":"primary",options:B.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:pe,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(K,null,{default:t(()=>[e(A,{class:"text-grey"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),l("div",null,[Xp,e(q,{modelValue:$.quantity,"onUpdate:modelValue":j[6]||(j[6]=O=>$.quantity=O),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((J=$==null?void 0:$.name)==null?void 0:J.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),l("form",{onKeyup:ge(Ot(ke,["prevent"]),["enter"])},[l("div",e_,[e(F,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:ke})])],40,Zp)])]}),_:1}),e(He,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:f}),e(F,{class:"glossy",color:"teal",label:"Create",onClick:Le,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var l_=G(t_,[["__scopeId","data-v-f0d86c36"]]);const Lt=r=>(Z("data-v-33664d62"),r=r(),ee(),r),a_=Lt(()=>l("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),o_=Lt(()=>l("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),n_={__name:"RecipeDelete",props:["delete"],setup(r){const w=nt(),C=r,R=N(!1),x=()=>{R.value=!0},g=async()=>{await w.deleteRecipe(C.delete.row.id),R.value=!1};return(S,d)=>(h(),D(M,null,[e(F,{onClick:x,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(he,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(ae,{modelValue:R.value,"onUpdate:modelValue":d[0]||(d[0]=y=>R.value=y),persistent:""},{default:t(()=>[e(E,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(I,{class:"q-pt-none q-pb-sm"},{default:t(()=>[a_,o_]),_:1}),e(pt,{class:"q-mb-md"}),e(I,null,{default:t(()=>[e(He,{align:"right",class:"q-pt-none"},{default:t(()=>[ie(e(F,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ue]]),e(F,{dense:"",label:"Delete",color:"negative",onClick:g,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var s_=G(n_,[["__scopeId","data-v-33664d62"]]);const r_=r=>(Z("data-v-7a561dd0"),r=r(),ee(),r),d_={class:"text-h6 text-white"},i_=r_(()=>l("div",{class:"text-h6",align:"center"},"Bread List",-1)),u_={class:"row",align:"center"},c_={__name:"RecipeBreadGroups",props:["breadGroups"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be();console.log("breadGroups",r.breadGroups);const S=d=>d?d.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"";return(d,y)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(I,{class:"row bg-backgroud text-h6"},{default:t(()=>[l("div",d_,V(S(r.breadGroups.name)),1),e(Pe),l("div",null,[ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])])]),_:1}),e(I,null,{default:t(()=>[i_]),_:1}),e(I,null,{default:t(()=>[(h(!0),D(M,null,le(r.breadGroups.bread_groups,(_,u)=>(h(),D("div",{key:u},[l("div",u_,V(_),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var m_=G(c_,[["__scopeId","data-v-7a561dd0"]]);const p_=r=>(Z("data-v-435e3b8f"),r=r(),ee(),r),__={class:"text-h6 text-white"},g_=p_(()=>l("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),f_={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(r){const{dialogRef:w,onDialogHide:C,onDialogOK:R,onDialogCancel:x}=Be();console.log("ingredientGroups",r.ingredientGroups);const S=y=>y?y.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",d=y=>{const _=Number(y.quantity)||0,u=y.unit||"";return _>1e3?`${parseFloat((_/1e3).toFixed(3))} kg`:_>1?`${parseFloat(_.toFixed(3))} ${u}`:`${parseFloat(_.toFixed(3))} ${u}`};return(y,_)=>(h(),L(ae,{ref_key:"dialogRef",ref:w,onHide:ce(C),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(I,{class:"row bg-backgroud text-h6"},{default:t(()=>[l("div",__,V(S(r.ingredientGroups.name)),1),e(Pe),l("div",null,[ie(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ue]])])]),_:1}),e(I,null,{default:t(()=>[g_]),_:1}),e(I,null,{default:t(()=>[e(fe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(K,null,{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(A,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(A,{side:""},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(h(!0),D(M,null,le(r.ingredientGroups.ingredient_groups,(u,f)=>(h(),L(K,{key:f},{default:t(()=>[e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(u.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(u.code),1)]),_:2},1024)]),_:2},1024),e(A,{side:""},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[P(V(d(u)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var v_=G(f_,[["__scopeId","data-v-435e3b8f"]]);const y_=r=>(Z("data-v-15a48d37"),r=r(),ee(),r),h_={class:"row justify-between"},b_={class:"q-my-sm"},w_={key:0,class:"spinner-wrapper"},x_={key:1},k_={key:0,class:"data-error"},V_=y_(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),$_={class:"row justify-center q-gutter-x-md"},C_={__name:"RecipeTable",setup(r){const C=ye().params.branch_id,R=nt(),x=N(""),g=N(!0),S=N([]),d=N(!1),y=N({rowsPerPage:0}),_=["inactive","active"],u=z(()=>R.branchRecipes);console.log("branch recipe",u.value);const f=z(()=>x.value?u.value.filter(a=>a.name.toLowerCase().includes(x.value.toLowerCase())):u.value);Ae(async()=>{C&&await v(C)});const v=async a=>{try{g.value=!0;const $=await R.fetchBranchRecipes(a);u.value=$,console.log("branchRecipeRows",u.value),u.value.length||(d.value=!0),console.log("Branch recipe",u.value)}catch($){console.log("Error fetching recipe",$)}finally{g.value=!1}},U=a=>{const $=Number(a)||0;return parseFloat($.toFixed(3)).toString()},c=a=>!a&&a!==0?"Set Target":typeof a=="number"||!isNaN(a)?(a=parseFloat(a),a%1===0?a:parseFloat(a.toFixed(1))):a;async function p(a,$){try{const B=await de.put("/api/update-target/"+a.id,{target:parseFloat($)});if(console.log("response",B),B.status==200){const Q=S.value.findIndex(ne=>ne.id==a.id);S.value[Q]=$}re.create({type:"positive",message:"Recipe target edited successfully"})}catch(B){console.error("Error updating recipe target:",B),re.create({type:"negative",message:"Failed to edit recipe target"})}}async function k(a,$){try{if((await de.put("/api/branch-update-status/"+a.id,{status:$})).status==200){const Q=S.value.findIndex(ne=>ne.id==a.id);S.value[Q]=$}re.create({type:"positive",message:"Recipe status change successfully"})}catch(B){console.error("Error updating recipe status:",B),re.create({type:"negative",message:"Failed to change recipe status"})}}const b=a=>a?a.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Recipe name",align:"center",field:a=>a.name},{name:"category",label:"Category",align:"center",field:a=>a.recipe},{name:"target",label:"Target",align:"center",field:a=>c(a.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],m=Ee(),n=a=>{console.log("Bread Groups:",a),m.dialog({component:m_,componentProps:{breadGroups:a}})},i=a=>{console.log("Ingredients Groups:",a),m.dialog({component:v_,componentProps:{ingredientGroups:a}})},o=a=>{switch(a){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(a,$)=>(h(),D(M,null,[l("div",h_,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:x.value,"onUpdate:modelValue":$[0]||($[0]=B=>x.value=B),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",b_,[e(l_)])]),g.value?(h(),D("div",w_,[e(_t,{size:"50px",color:"primary"})])):(h(),D("div",x_,[f.value.length===0?(h(),D("div",k_,[e(te,{name:"warning",color:"warning",size:"4em"}),V_])):(h(),L($e,{key:1,class:"table-container sticky-header",filter:x.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:f.value,"row-key":"name","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":$[1]||($[1]=B=>y.value=B),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"450px"}},{"body-cell-name":t(B=>[e(X,{props:B},{default:t(()=>[l("span",null,V(b(B.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(B=>[e(X,{props:B},{default:t(()=>[l("span",null,V(b(B.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(B=>[e(X,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[P(V(U(B.row.target))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit Target")]),_:1})]),e(ve,{"onUpdate:modelValue":[Q=>p(B.row,Q),Q=>B.row.target=Q],modelValue:B.row.target,"auto-save":""},{default:t(Q=>[e(q,{modelValue:Q.value,"onUpdate:modelValue":ne=>Q.value=ne,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:ge(Q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(B=>[e(X,{props:B},{default:t(()=>[e(be,{outline:"",color:o(B.row.status)},{default:t(()=>[P(V(b(B.row.status))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Change Status")]),_:1})]),_:2},1032,["color"]),e(ve,{"onUpdate:modelValue":[Q=>k(B.row,Q),Q=>B.row.status=Q],modelValue:B.row.status,"auto-save":""},{default:t(Q=>[l("span",null,V(B.row.name),1),e(yt,{modelValue:Q.value,"onUpdate:modelValue":ne=>Q.value=ne,dense:"",label:"status",autofocus:"",options:_,counter:"",mask:"###",onKeyup:ge(Q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(B=>[e(X,{props:B},{default:t(()=>[e(F,{"no-caps":"",onClick:Q=>n(B.row),label:`${B.row.bread_groups.length} ${B.row.bread_groups.length===1?"bread":"breads"}`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(B=>[e(X,{props:B},{default:t(()=>[e(F,{"no-caps":"",onClick:Q=>i(B.row),label:`${B.row.ingredient_groups.length} ${B.row.ingredient_groups.length===1?"ingredient":"ingredients"} `,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(B=>[e(X,{props:B},{default:t(()=>[l("div",$_,[e(s_,{delete:B},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var S_=G(C_,[["__scopeId","data-v-15a48d37"]]);const R_={__name:"RecipePage",setup(r){return(w,C)=>(h(),D("div",null,[e(S_)]))}},P_=l("div",{class:"text-h6"},"Create Branch Premix",-1),U_={key:0,class:"custom-list z-top"},q_={class:"q-mb-sm"},N_=l("div",null,"Recipe Name",-1),D_={class:"q-mb-lg"},I_=l("div",null,"Category",-1),A_=l("div",null,"Quantity",-1),F_={__name:"PremixCreate",setup(r){const C=ye().params.branch_id,R=nt(),x=z(()=>R.branchRecipe),g=Rt();z(()=>g.premixes);const S=N(!1),d=()=>{S.value=!0},y=N(""),_=async()=>{R.searchBranchRecipe(y.value,C),console.log("searchQuery.value",y.value),console.log("branchId",C)},u=z(()=>U.available_stocks!==0),f=p=>p?p.split(" ").map(k=>k.charAt(0).toUpperCase()+k.slice(1).toLowerCase()).join(" "):"",v=p=>{U.branch_recipe_id=p.id,U.name=p.name,U.category=p.category,y.value=""},U=qe({branch_recipe_id:"",name:"",category:"",available_stocks:"",branch_id:C,status:"active"}),c=async()=>{console.log(U),await g.savePremix(U)};return(p,k)=>(h(),D("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Premix",onClick:d}),e(ae,{modelValue:S.value,"onUpdate:modelValue":k[4]||(k[4]=b=>S.value=b),persistent:""},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(I,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[P_,e(Pe),ie(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[ue]])]),_:1}),e(I,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[e(q,{modelValue:y.value,"onUpdate:modelValue":[k[0]||(k[0]=b=>y.value=b),_],debounce:"1000",outlined:"",rounded:"",placeholder:"Search premix",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[y.value?(h(),D("div",U_,[e(E,null,{default:t(()=>[e(fe,{separator:""},{default:t(()=>{var b;return[(b=x.value)!=null&&b.length?(h(!0),D(M,{key:1},le(x.value,s=>(h(),L(K,{onClick:m=>v(s),key:s.id,clickable:""},{default:t(()=>[e(A,null,{default:t(()=>[e(T,null,{default:t(()=>[P(V(f(s==null?void 0:s.name)),1)]),_:2},1024)]),_:2},1024),e(A,null,{default:t(()=>[e(T,{side:""},{default:t(()=>[P(V(s==null?void 0:s.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),L(K,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):we("",!0)]),_:1},8,["modelValue"]),l("div",q_,[N_,e(q,{modelValue:U.name,"onUpdate:modelValue":k[1]||(k[1]=b=>U.name=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",D_,[I_,e(q,{modelValue:U.category,"onUpdate:modelValue":k[2]||(k[2]=b=>U.category=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])])]),_:1}),e(I,null,{default:t(()=>[l("div",null,[A_,e(q,{modelValue:U.available_stocks,"onUpdate:modelValue":k[3]||(k[3]=b=>U.available_stocks=b),dense:"",outlined:"",type:"number",suffix:"kg/s"},null,8,["modelValue"])])]),_:1}),e(He,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:p.dismiss},null,8,["onClick"]),e(F,{class:"glossy",color:"teal",label:"Create",onClick:c,disable:!u.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const T_=r=>(Z("data-v-e48691c2"),r=r(),ee(),r),B_={class:"row justify-between"},z_={class:"q-my-sm"},L_={key:0,class:"spinner-wrapper"},j_={key:1},O_={key:0,class:"data-error"},H_=T_(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),M_={__name:"PremixTable",setup(r){const w=Rt(),C=z(()=>w.premixes);console.log("premixRows",C.value);const x=ye().params.branch_id,g=N(!1),S=N("");N(!1);const d=N({rowsPerPage:0}),y=["inactive","active"],_=N([]),u=z(()=>S.value?C.value.filter(b=>b.name.toLowerCase().includes(S.value.toLowerCase())):C.value);Ae(async()=>{x&&await f(x)});const f=async b=>{try{g.value=!0;const s=await w.fetchBranchPremix(b);C.value=s,console.log("premix branch fetch data",C.value)}catch(s){console.log(s)}finally{g.value=!1}},v=async(b,s)=>{console.log("data",b.id),console.log("val",s);try{if((await de.put("/api/branch-premix-update-stocks/"+b.id,{available_stocks:s})).status==200){const n=_.value.findIndex(i=>i.id==b.id);_.value[n]=s}re.create({type:"positive",message:"Premix available stocks edited successfully"})}catch(m){console.error("Error updating recipe target:",m),re.create({type:"negative",message:"Failed to edit premix available stocks"})}},U=async(b,s)=>{try{if((await de.put("/api/branch-premix-update-status/"+b.id,{status:s})).status==200){const n=_.value.findIndex(i=>i.id==b.id);_.value[n]=s}re.create({type:"positive",message:"Premix status edited successfully"})}catch(m){console.error("Error updating recipe target:",m),re.create({type:"negative",message:"Failed to edit premix status"})}},c=b=>b?b.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",p=b=>{if(b==="active")return"teal-5";if(b==="inactive")return"negative"},k=[{name:"name",label:"Premix Name",align:"center",field:b=>b.name},{name:"available_stocks",label:"Available Stocks",align:"center",field:"available_stocks"},{name:"status",label:"Status",align:"center",field:"status"}];return(b,s)=>(h(),D(M,null,[l("div",B_,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:S.value,"onUpdate:modelValue":s[0]||(s[0]=m=>S.value=m),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",z_,[e(F_)])]),g.value?(h(),D("div",L_,[e(_t,{size:"50px",color:"primary"})])):(h(),D("div",j_,[u.value.length===0?(h(),D("div",O_,[e(te,{name:"warning",color:"warning",size:"4em"}),H_])):we("",!0),e($e,{class:"table-container sticky-header",filter:S.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:u.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":s[1]||(s[1]=m=>d.value=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"450px"}},{"body-cell-status":t(m=>[e(X,{props:m},{default:t(()=>[e(be,{outline:"",color:p(m.row.status)},{default:t(()=>[P(V(c(m.row.status))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P(" Change Status ")]),_:1}),e(ve,{"onUpdate:modelValue":[n=>U(m.row,n),n=>m.row.status=n],modelValue:m.row.status,"auto-save":""},{default:t(n=>[l("span",null,V(m.row.name),1),e(yt,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,dense:"",label:"status",autofocus:"",options:y,counter:"",mask:"###",onKeyup:ge(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-available_stocks":t(m=>[e(X,{props:m,class:"cursor-pointer"},{default:t(()=>[l("span",null,[Number(m.row.available_stocks)>=1?(h(),L(be,{key:0,outline:"",class:"text-positive"},{default:t(()=>[P(V(Number(m.row.available_stocks)%1===0?Number(m.row.available_stocks):Number(m.row.available_stocks).toFixed(2).replace(/\.?0+$/,""))+" kgs",1)]),_:2},1024)):(h(),L(be,{key:1,outline:"",class:"text-red-6"},{default:t(()=>[P(V((Number(m.row.available_stocks)*1e3).toFixed(0))+" grams",1)]),_:2},1024))]),e(ve,{"onUpdate:modelValue":[n=>v(m.row,n),n=>m.row.available_stocks=n],modelValue:m.row.available_stocks,modelModifiers:{number:!0},"auto-save":""},{default:t(n=>[e(q,{modelValue:n.value,"onUpdate:modelValue":i=>n.value=i,dense:"",type:"number",step:"0.01",autofocus:"",counter:"",suffix:"kgs",onKeyup:ge(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]))],64))}};var E_=G(M_,[["__scopeId","data-v-e48691c2"]]);const Q_={__name:"PremixPage",setup(r){return(w,C)=>(h(),D("div",null,[e(E_)]))}};const K_={class:"elegant-container q-gutter-md"},Y_={class:"text-h6 row justify-between"},G_={class:"q-gutter-sm"},W_={class:"tab-container"},J_={__name:"BranchIdPage",setup(r){const w=ye(),C=N(""),R=Ht(),x=async _=>(await de.get(`/api/branches/${_}`)).data,g=async()=>{const _=w.params.branch_id,u=await x(_);u&&u.name?C.value=u.name:console.error("Branch data is missing 'name' property or invalid:",u)};Ae(()=>{g()});const S=_=>_?_.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",d=N("products"),y=()=>{Te.show(),R.push("/admin/branches").finally(()=>{Te.hide()})};return(_,u)=>(h(),L(Mt,{padding:""},{default:t(()=>[l("div",K_,[l("div",Y_,[l("div",null,[e(F,{outline:"",flat:"",icon:"arrow_back",onClick:y}),e(Pe)]),l("div",null,[e(te,{name:"fa-solid fa-store",color:"red-6"}),P(" "+V(S(C.value)),1)])]),l("div",G_,[l("div",W_,[e(st,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=f=>d.value=f),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(Ce,{name:"products",label:"Products"}),e(Ce,{name:"rawMaterials",label:"Raw Materials"}),e(Ce,{name:"recipe",label:"Recipe"}),e(Ce,{name:"premix",label:"Premix"}),e(Ce,{name:"production",label:"Production"}),e(Ce,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(E,{class:"q-mt-sm"},{default:t(()=>[e(rt,{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=f=>d.value=f),animated:""},{default:t(()=>[e(Se,{name:"products"},{default:t(()=>[e(wl)]),_:1}),e(Se,{name:"rawMaterials"},{default:t(()=>[e(Ql)]),_:1}),e(Se,{name:"recipe"},{default:t(()=>[e(R_)]),_:1}),e(Se,{name:"premix"},{default:t(()=>[e(Q_)]),_:1}),e(Se,{name:"production"},{default:t(()=>[e(rc)]),_:1}),e(Se,{name:"transaction"},{default:t(()=>[e(Bp)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Og=G(J_,[["__scopeId","data-v-d5e8a05e"]]);export{Og as default};
