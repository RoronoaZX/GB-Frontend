import{bd as ge,c as F,r as C,t as He,o as h,a2 as S,f as e,M as V,w as t,Q as B,I as k,ad as W,J as a,K as J,L as te,e as U,$ as R,a3 as z,a4 as fe,_ as v,bc as Ge,aI as Ve,a1 as E,a0 as Je,N as he,O as Z,R as ee,z as be,u as Qe,ba as Ne,aJ as dt,be as O,d as ct,aH as ut,H as mt,P as tt}from"./index.d78b66d1.js";import{Q as Re}from"./QSpace.676be6be.js";import{Q as Fe,a as re,b as Ie,c as ie}from"./QTabPanels.767bec56.js";import{Q as pt}from"./QPage.200c80c3.js";import{Q as Ae,a as ve,b as ne}from"./QList.c59c02bc.js";import{b as pe}from"./use-virtual-scroll.52d79a3b.js";import{C as X}from"./ClosePopup.db4f0e7f.js";import{u as We}from"./branch-product.96770780.js";import{u as at}from"./product.a42f4e6f.js";import{Q as Ee}from"./QSpinnerDots.933a6f99.js";import{Q as j,a as se}from"./QTable.317b4ef0.js";import{Q as le}from"./QBadge.5b5b71c6.js";import{Q as ae}from"./QTooltip.91afb5fb.js";import{Q as Be}from"./QPopupEdit.65c09d5a.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import{api as Se}from"./axios.418580d8.js";import{u as Xe}from"./branch-rawMaterials.beb51010.js";import{u as _t}from"./raw-material.30c54e4a.js";import{u as we}from"./use-dialog-plugin-component.dfa1ae3f.js";import{Q as ft}from"./QMenu.bbd38aa2.js";import{q as de}from"./date.f28a73b7.js";import{u as Ce}from"./use-quasar.d32221db.js";import{p as Oe,v as lt}from"./vfs_fontes.3eb8cb31.js";import{Q as De}from"./QScrollArea.5171b4d6.js";import{u as qe,a as Le,b as Ye}from"./other-product.f07f62c4.js";import{Q as Ke}from"./QSelect.9222df42.js";import{u as gt}from"./recipe.5d603c91.js";import{u as je}from"./branch-recipe.3eccc265.js";import"./QResizeObserver.7ab45798.js";import"./use-panel.6b8c224a.js";import"./touch.9135741d.js";import"./selection.6b90df7a.js";import"./QVirtualScroll.9e5ea780.js";import"./QScrollObserver.fdd572db.js";import"./TouchPan.8f6aaa3d.js";import"./QChip.a26772a7.js";const vt=a("div",{class:"text-h6"},"Create Branch Product",-1),ht={class:"q-mb-lg"},yt={key:0,class:"custom-list z-top"},bt=a("div",null,"Product Name",-1),wt=a("div",null,"Category",-1),xt={class:"row justify-between"},$t=a("div",null,"Beginnings",-1),kt=a("div",null,"Total Quantity",-1),Ct=a("div",null,"Price",-1),Rt={__name:"ProductCreate",setup(o){const _=ge(),g=at(),y=F(()=>g.products),m=We(),u=C(""),b=async()=>{g.searchProducts(u.value)},s=F(()=>i.price!==0&&i.beginnings!==0&&i.total_quantity!==0),d=C(!1),c=()=>{d.value=!0},n=()=>{$(),d.value=!1},r=w=>w?w.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",l=w=>{i.product_id=w.id,i.product_name=w.name,i.category=w.category,u.value=""},i=He({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:_.params.branch_id}),$=()=>{i.product_id="",i.product_name="",i.category="",i.price=0,i.beginnings=0,i.total_quantity=0},p=async()=>{try{const{product_name:w,...f}=i;await m.createBranchProducts(f),console.log("data to send",f),$(),d.value=!1}catch(w){console.log(w)}};return(w,f)=>(h(),S(z,null,[e(V,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:c}),e(E,{modelValue:d.value,"onUpdate:modelValue":f[6]||(f[6]=q=>d.value=q),persistent:""},{default:t(()=>[e(B,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[vt,e(Re),W(e(V,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(k,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",ht,[e(J,{modelValue:u.value,"onUpdate:modelValue":[f[0]||(f[0]=q=>u.value=q),b],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(h(),S("div",yt,[e(B,null,{default:t(()=>[e(Ae,{separator:""},{default:t(()=>{var q;return[(q=y.value)!=null&&q.length?(h(!0),S(z,{key:1},fe(y.value,D=>(h(),U(ve,{onClick:I=>l(D),key:D.id,clickable:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,null,{default:t(()=>[R(v(r(D.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),U(ve,{key:0},{default:t(()=>[R(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",null,[bt,e(J,{modelValue:i.product_name,"onUpdate:modelValue":f[1]||(f[1]=q=>i.product_name=q),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[wt,e(J,{modelValue:i.category,"onUpdate:modelValue":f[2]||(f[2]=q=>i.category=q),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",xt,[a("div",null,[$t,e(J,{modelValue:i.beginnings,"onUpdate:modelValue":f[3]||(f[3]=q=>i.beginnings=q),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[kt,e(J,{modelValue:i.total_quantity,"onUpdate:modelValue":f[4]||(f[4]=q=>i.total_quantity=q),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[Ct,e(J,{modelValue:i.price,"onUpdate:modelValue":f[5]||(f[5]=q=>i.price=q),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Ve,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(V,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(V,{class:"glossy",color:"teal",label:"Create",onClick:p,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const nt=o=>(Z("data-v-196482e9"),o=o(),ee(),o),Pt=nt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),St=nt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Vt={__name:"ProductDelete",props:["delete"],setup(o){const _=We(),g=o;console.log("delte",g.delete.row.id);const y=async()=>{try{await _.deleteBranchProducts(g.delete.row.id),he.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),m.value=!1}catch(b){console.error(b.message)}},m=C(!1),u=()=>{console.log("ID",g.delete.row.id),m.value=!0};return(b,s)=>(h(),S(z,null,[e(V,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ae,{class:"bg-negative",delay:200},{default:t(()=>[R("Delete")]),_:1})]),_:1}),e(E,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=d=>m.value=d)},{default:t(()=>[e(B,null,{default:t(()=>[e(k,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Pt,St]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Ve,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(V,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(V,{dense:"",label:"Delete",color:"negative",onClick:y,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Dt=Y(Vt,[["__scopeId","data-v-196482e9"]]);const qt=o=>(Z("data-v-c74b6072"),o=o(),ee(),o),Nt={class:"row justify-between"},At={class:"q-my-sm"},Tt={key:0,class:"spinner-wrapper"},Ut={key:1},Bt={key:0,class:"data-error"},Ft=qt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),It={key:1},Lt={__name:"ProductTable",setup(o){const g=ge().params.branch_id,y=We(),m=C(""),u=C(!0),b=C([]),s=C(!1),d=C({rowsPerPage:0}),c=F(()=>y.branchProducts);console.log("branchssdfrer",c.value);const n=F(()=>m.value?c.value.filter(D=>D.name.toLowerCase().includes(m.value.toLowerCase())):c.value),r=D=>D?D.split(" ").map(I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()).join(" "):"";be(async()=>{g&&await l(g)});const l=async D=>{try{u.value=!0;const I=await y.fetchBranchProducts(D);c.value=I,c.value.length||(s.value=!0),console.log("Branch product",c.value)}catch(I){console.log("Error fetching branch product:",I),s.value=!0}finally{u.value=!1}};Qe(m,async D=>{u.value=!0,await new Promise(I=>setTimeout(I,1e3)),u.value=!1,s.value=n.value.length===0});async function i(D,I){try{const N=await Se.put("/api/update-branch-products/"+D.id,{price:parseInt(I)});if(N.status===200){const x=b.value.findIndex(P=>P.id==D.id);b.value[x]=parseInt(I),he.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}async function $(D,I){try{const N=await Se.put("/api/update-branch-products-beginnings/"+D.id,{beginnings:parseInt(I)});if(N.status===200){const x=b.value.findIndex(P=>P.id==D.id);b.value[x]=parseInt(I),he.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}async function p(D,I){try{const N=await Se.put("/api/update-branch-products-total-quantity/"+D.id,{total_quantity:parseInt(I)});if(N.status===200){const x=b.value.findIndex(P=>P.id==D.id);b.value[x]=parseInt(I),he.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}const w=D=>{switch(D){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},f=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(D),q=[{name:"name",label:"Product Name",align:"center",field:D=>D.product.name,format:D=>`${D}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:D=>f(D),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:D=>`${D} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:D=>`${D} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(D,I)=>(h(),S(z,null,[a("div",Nt,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":I[0]||(I[0]=N=>m.value=N),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),a("div",At,[e(Rt)])]),u.value?(h(),S("div",Tt,[e(Ee,{size:"50px",color:"primary"})])):(h(),S("div",Ut,[n.value.length===0?(h(),S("div",Bt,[e(te,{name:"warning",color:"warning",size:"4em"}),Ft])):(h(),U(se,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:q,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":I[1]||(I[1]=N=>d.value=N),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(N=>[e(j,{key:"name",props:N},{default:t(()=>{var x;return[R(v((x=N.row.product)!=null&&x.name?r(N.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(N=>[e(j,{key:"name",props:N},{default:t(()=>[N.row.category?(h(),U(le,{key:0,color:w(N.row.category)},{default:t(()=>[R(v(N.row.category),1)]),_:2},1032,["color"])):(h(),S("span",It,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(N=>[e(j,{props:N,class:"cursor-pointer"},{default:t(()=>[a("span",null,[R(v(f(N.row.price))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit Price")]),_:1})]),e(Be,{"onUpdate:modelValue":[x=>i(N.row,x),x=>N.row.price=x],modelValue:N.row.price,"auto-save":""},{default:t(x=>[e(J,{modelValue:x.value,"onUpdate:modelValue":P=>x.value=P,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Ne(x.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(N=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[R(v(N.row.beginnings?N.row.beginnings:"Set Beginnings")+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit beginnings")]),_:1})]),e(Be,{"onUpdate:modelValue":[x=>$(N.row,x),x=>N.row.beginnings=x],modelValue:N.row.beginnings,"auto-save":""},{default:t(x=>[e(J,{modelValue:x.value,"onUpdate:modelValue":P=>x.value=P,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ne(x.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(N=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[R(v(N.row.total_quantity?N.row.total_quantity:"Set Quantity")+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit quantity")]),_:1})]),e(Be,{"onUpdate:modelValue":[x=>p(N.row,x),x=>N.row.total_quantity=x],modelValue:N.row.total_quantity,"auto-save":""},{default:t(x=>[e(J,{modelValue:x.value,"onUpdate:modelValue":P=>x.value=P,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ne(x.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(N=>[e(j,{class:"q-gutter-x-md",props:N},{default:t(()=>[e(Dt,{delete:N},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Mt=Y(Lt,[["__scopeId","data-v-c74b6072"]]);const zt={class:"q-gutter-sm"},Ht={__name:"ProductPage",setup(o){return(_,g)=>(h(),S("div",zt,[a("div",null,[e(Mt)])]))}},Ot=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),jt={class:"q-mb-lg"},Qt={key:0,class:"custom-list z-top"},Et=a("div",null,"Raw Materials Code",-1),Yt=a("div",null,"Raw Materials Name",-1),Kt=a("div",null,"Category",-1),Gt=a("div",null,"Quantity",-1),Jt={__name:"RawMaterialsCreate",setup(o){const _=ge(),g=_t(),y=F(()=>g.rawMaterials),m=Xe(),u=C(""),b=async()=>{g.searchRawMaterials(u.value)},s=F(()=>l.total_quantity!==""),d=C(!1),c=()=>{d.value=!0},n=()=>{i(),d.value=!1},r=p=>{l.ingredients_id=p.id,l.ingredient_name=p.name,l.ingredient_code=p.code,l.category=p.category,l.unit=p.unit,u.value=""},l=He({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:_.params.branch_id}),i=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},$=async()=>{try{const{product_name:p,...w}=l;await m.createBranchRawMaterials(w),console.log("data to send",w),i(),d.value=!1}catch(p){console.log(p)}};return(p,w)=>(h(),S(z,null,[e(V,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:c,style:{background:"#f43f5e"}}),e(E,{modelValue:d.value,"onUpdate:modelValue":w[5]||(w[5]=f=>d.value=f),persistent:""},{default:t(()=>[e(B,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Ot,e(Re),W(e(V,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(k,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",jt,[e(J,{modelValue:u.value,"onUpdate:modelValue":[w[0]||(w[0]=f=>u.value=f),b],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(h(),S("div",Qt,[e(B,null,{default:t(()=>[e(Ae,{separator:""},{default:t(()=>{var f;return[(f=y.value)!=null&&f.length?(h(!0),S(z,{key:1},fe(y.value,q=>(h(),U(ve,{onClick:D=>r(q),key:q.id,clickable:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,null,{default:t(()=>[R(v(q.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),U(ve,{key:0},{default:t(()=>[R(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Et,e(J,{modelValue:l.ingredient_code,"onUpdate:modelValue":w[1]||(w[1]=f=>l.ingredient_code=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Yt,e(J,{modelValue:l.ingredient_name,"onUpdate:modelValue":w[2]||(w[2]=f=>l.ingredient_name=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Kt,e(J,{modelValue:l.category,"onUpdate:modelValue":w[3]||(w[3]=f=>l.category=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Gt,e(J,{modelValue:l.total_quantity,"onUpdate:modelValue":w[4]||(w[4]=f=>l.total_quantity=f),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[f=>f&&f.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Ve,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(V,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(V,{class:"glossy",color:"teal",label:"Create",onClick:$,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ot=o=>(Z("data-v-17ad5e9f"),o=o(),ee(),o),Wt=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Xt=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Zt={__name:"RawMaterialsTableDelete",props:["delete"],setup(o){const _=Xe(),g=o,y=async()=>{console.log("clickkkd");try{await _.deleteBranchRawMaterials(g.delete.row.id),he.create({type:"negative",icon:"warning",message:`Raw Materials ${g.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),m.value=!1}catch(b){console.error(b.message)}},m=C(!1),u=()=>{m.value=!0};return(b,s)=>(h(),S(z,null,[e(V,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ae,{class:"bg-negative",delay:200},{default:t(()=>[R("Delete")]),_:1})]),_:1}),e(E,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=d=>m.value=d)},{default:t(()=>[e(B,null,{default:t(()=>[e(k,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Wt,Xt]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Ve,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(V,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(V,{dense:"",label:"Delete",color:"negative",onClick:y,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ea=Y(Zt,[["__scopeId","data-v-17ad5e9f"]]);const st=o=>(Z("data-v-74a3fea6"),o=o(),ee(),o),ta={class:"row justify-between"},aa={class:"q-my-sm"},la={key:0,class:"spinner-wrapper"},na={key:1},oa={key:0,class:"data-error"},sa=st(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ra=st(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),ia={class:"row justify-center q-gutter-x-md"},da={__name:"RawMaterialsTable",setup(o){const g=ge().params.branch_id,y=Xe(),m=C(""),u=C(!0),b=C([]),s=C(!1),d=C({rowsPerPage:0}),c=F(()=>y.branchRawMaterials),n=F(()=>m.value?c.value.filter(w=>w.name.toLowerCase().includes(m.value.toLowerCase())):c.value);be(async()=>{console.log("props.branchId in onMounted:",g),g&&await r(g)});const r=async w=>{try{u.value=!0;const f=await y.fetchBranchRawMaterials(w);c.value=f,c.value.length||(s.value=!0),console.log("Branch Raw Materials",c.value)}catch(f){console.log("Error fetching branch product:",f),s.value=!0}finally{u.value=!1}};async function l(w,f){try{const q=await Se.put("/api/update-branch-rawMaterials/"+w.id,{total_quantity:parseInt(f)});if(q.status===200){const D=b.value.findIndex(I=>I.id==w.id);b.value[D]=parseInt(f),he.create({type:"positive",message:q.data.message,timout:1e3,position:"top"})}}catch(q){console.error("Error updating price:",q)}}Qe(m,async w=>{u.value=!0,await new Promise(f=>setTimeout(f,1e3)),u.value=!1,s.value=n.value.length===0});const i=w=>{const f=w.total_quantity;if(w.ingredients.unit==="Grams"&&f<1e3)return"bg-red";let D;return f>=1e3?D=f/1e3:D=f,D<5?D<=2?"bg-red":(D<=3,"bg-warning"):"bg-positive"},$=w=>{const f=w.total_quantity,q=w.ingredients.unit;if(f>1e3){const D=(f/1e3).toFixed(2);return D.endsWith(".00")?`${Math.round(f/1e3)} kilos`:`${D} kilos`}else return f>1?`${f} ${q}`:`${f} ${q}`},p=[{name:"code",label:"Raw Materials Code",align:"center",field:w=>{var f,q;return(q=(f=w==null?void 0:w.ingredients)==null?void 0:f.code)!=null?q:"No Code"},format:w=>`${w}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:w=>{var f,q;return(q=(f=w==null?void 0:w.ingredients)==null?void 0:f.name)!=null?q:"No Code"},format:w=>`${w}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(w,f)=>(h(),S(z,null,[a("div",ta,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=q=>m.value=q),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),a("div",aa,[e(Jt)])]),u.value?(h(),S("div",la,[e(Ee,{size:"50px",color:"primary"})])):(h(),S("div",na,[n.value.length===0?(h(),S("div",oa,[e(te,{name:"warning",color:"warning",size:"4em"}),sa])):(h(),U(se,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":f[1]||(f[1]=q=>d.value=q),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(q=>[e(j,{props:q},{default:t(()=>[e(le,{square:"",class:dt(["text-white cursor-pointer",i(q.row)])},{default:t(()=>[R(v($(q.row))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[ra]),_:1}),e(Be,{"onUpdate:modelValue":[D=>l(q.row,D),D=>q.row.total_quantity=D],modelValue:q.row.total_quantity,"auto-save":""},{default:t(D=>[e(J,{modelValue:D.value,"onUpdate:modelValue":I=>D.value=I,dense:"",suffix:q.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Ne(D.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(q=>[e(j,{props:q},{default:t(()=>[a("div",ia,[e(ea,{delete:q},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ca=Y(da,[["__scopeId","data-v-74a3fea6"]]);const ua={class:"q-gutter-sm"},ma={class:"q-gutter-x-sm"},pa={__name:"RawMaterialsPage",setup(o){return(_,g)=>(h(),S("div",ua,[a("div",ma,[e(le,{label:"Good",class:"text-white",color:"positive"}),e(le,{label:"Warning",class:"text-white",color:"warning"}),e(le,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(ca)])]))}};const _a={class:"text-h6 text-white"},fa={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we();console.log("breadReportsaaasss",o.breadProduction);const b=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",s=[{name:"bread_name",label:"Bread Name",align:"left",field:d=>(console.log("Row data:",d),d.bread.name||"N/A"),format:d=>b(d)},{name:"production",label:"Production",align:"center",field:d=>d.bread_production||d.filling_production||"0"}];return(d,c)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",_a,v(`${b((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Re),a("div",null,[W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]}),_:1}),e(se,{rows:o.breadProduction,columns:s},null,8,["rows"])]),_:1})]),_:1},8,["onHide"]))}};var ga=Y(fa,[["__scopeId","data-v-849d6d20"]]);const va=o=>(Z("data-v-961b0a22"),o=o(),ee(),o),ha={class:"text-h6 text-white"},ya=va(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ba={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we();console.log("ingredientProduction",o.ingredientProduction);const b=d=>{const c=Number(d.quantity)||0,n=d.unit||"";return c>1e3?`${parseFloat((c/1e3).toFixed(3))} kg`:c>1?`${parseFloat(c.toFixed(3))} ${n}`:`${parseFloat(c.toFixed(3))} ${n}`},s=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"";return(d,c)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",ha,v(`${s((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Re),a("div",null,[W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]}),_:1}),e(k,null,{default:t(()=>[ya]),_:1}),e(k,null,{default:t(()=>[e(Ae,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ve,null,{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,{class:"text-overline"},{default:t(()=>[R("Raw Materials Name")]),_:1})]),_:1}),e(ne,null,{default:t(()=>[e(pe,{class:"text-overline"},{default:t(()=>[R("Code")]),_:1})]),_:1}),e(ne,{side:""},{default:t(()=>[e(pe,{class:"text-overline"},{default:t(()=>[R("Quantity")]),_:1})]),_:1})]),_:1}),(h(!0),S(z,null,fe(o.ingredientProduction,(n,r)=>(h(),U(ve,{key:r},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,{class:"text-caption"},{default:t(()=>[R(v(n.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(ne,null,{default:t(()=>[e(pe,{class:"text-caption"},{default:t(()=>[R(v(n.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(ne,{side:""},{default:t(()=>[e(pe,{class:"text-caption"},{default:t(()=>[R(v(b(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var wa=Y(ba,[["__scopeId","data-v-961b0a22"]]);const xa={class:"text-h6 text-dark"},$a={__name:"EditBakersReport",props:["bakerReports"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we();console.log("BakerReports edit data",o.bakerReports);const b=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"";return(s,d)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var c,n,r,l,i,$;return[a("div",xa,v(`${b((r=(n=(c=o.bakerReports)==null?void 0:c.branch_recipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${($=(i=(l=o.bakerReports)==null?void 0:l.branch_recipe)==null?void 0:i.recipe)==null?void 0:$.category}`),1),e(Re),a("div",null,[W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]}),_:1}),e(k,null,{default:t(()=>[R(v(o.bakerReports),1)]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var ka=Y($a,[["__scopeId","data-v-3b3fa9ca"]]);const Ca=o=>(Z("data-v-942e0118"),o=o(),ee(),o),Ra=Ca(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),Pa={class:"text-subtitle1 text-weight-regular"},Sa={class:"q-ma-sm"},Va={class:"q-ma-sm",align:"center"},Da=["src"],qa={__name:"BakerReportPanel",props:["bakersReport"],setup(o){Oe.exports.vfs=lt;const _=o,g=_.bakersReport;console.log("Bakers Report",_.bakersReport);const y=C(!0),m=C(!1);C(!1);const u=C(""),b=Ce(),s=(x,P)=>{b.dialog({component:ga,componentProps:{breadProduction:x,branchRecipe:P}})},d=(x,P)=>{b.dialog({component:wa,componentProps:{ingredientProduction:x,branchRecipe:P}})},c=x=>{b.dialog({component:ka,componentProps:{bakerReports:x}})},n=x=>de.formatDate(x,"MMM. DD, YYYY"),r=x=>{const P=Number(x)||0;return parseFloat(P.toFixed(3)).toString()},l=x=>{const P=Number(x)||0;return parseFloat(P.toFixed(3)).toString()},i=x=>x?x.split(" ").map(P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()).join(" "):"",$=x=>{const P=ue=>ue?ue.charAt(0).toUpperCase()+ue.slice(1).toLowerCase():"",A=x.firstname?P(x.firstname):"No Firstname",T=x.middlename?P(x.middlename).charAt(0)+".":"",K=x.lastname?P(x.lastname):"No Lastname";return`${A} ${T} ${K}`.trim()},p=x=>{const P=new Date(x),A={hour:"2-digit",minute:"2-digit",hour12:!0};return P.toLocaleTimeString(void 0,A)},w=x=>{switch(x){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},f=x=>x?x.split(" ").map(P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()).join(" "):"",q=x=>x?x.recipe_category==="Filling"?x.filling_bakers_reports||[]:x.recipe_category==="Dough"?x.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),D=[{name:"recipe_name",align:"center",label:"Recipe Name",field:x=>x.branch_recipe&&x.branch_recipe.recipe?{name:x.branch_recipe.recipe.name,category:x.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:x=>`${f(x.name)} (${x.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:x=>p(x)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:x=>`${l(x)}`},{name:"actual_target",align:"center",label:"Actual Target",field:x=>x.target*x.kilo,format:x=>`${Math.ceil(x)}`},{name:"over",align:"center",label:"Over",field:"over",format:x=>`${x}`},{name:"short",align:"center",label:"Short",field:"short",format:x=>`${x}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],I=x=>{var Q,ce,Pe,_e,ye,$e,M,H,xe,G,ke,Ue,ze,Ze;console.log("bakerReport",x);const P=`${(Pe=(ce=(Q=x==null?void 0:x.branch_recipe)==null?void 0:Q.recipe)==null?void 0:ce.name)!=null?Pe:"Unkown Recipe"} (${(_e=x==null?void 0:x.recipe_category)!=null?_e:"Unkown Category"})`,A=($e=(ye=x==null?void 0:x.branch_recipe)==null?void 0:ye.target)!=null?$e:0,T=(M=x==null?void 0:x.actual_target)!=null?M:0,K=(H=x==null?void 0:x.kilo)!=null?H:0,ue=(xe=x==null?void 0:x.over)!=null?xe:0,L=(G=x==null?void 0:x.short)!=null?G:0,oe={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:P,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${r(A)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${T} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${K} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${ue} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${L} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${x.branch.name||"No name available"}
                Baker: ${$(((ke=x==null?void 0:x.user)==null?void 0:ke.employee)||"Unknown Baker Name")}
                Recipe: ${((Ue=x.recipe)==null?void 0:Ue.name)||"Unknown Recipe"} (${x.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${n(((ze=_.bakersReport[0])==null?void 0:ze.created_at)||((Ze=_.bakersReport[1])==null?void 0:Ze.created_at)||"No name available")}
                Time: ${p(x.created_at)}
                Status: ${i(x.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...q(x).map(me=>{var Me;return[{text:((Me=me==null?void 0:me.bread)==null?void 0:Me.name)||"Unknown Bread",style:"body"},{text:x.recipe_category==="Filling"?`${(me==null?void 0:me.filling_production)||"0"} pcs`:`${me==null?void 0:me.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(x.ingredient_bakers_reports||[]).map(me=>{var Me,et;return[{text:((Me=me==null?void 0:me.ingredients)==null?void 0:Me.code)||"Unknown Ingredient",style:"body"},{text:`${(me==null?void 0:me.quantity)||"Unknown Quantity"} ${((et=me==null?void 0:me.ingredients)==null?void 0:et.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},oe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},N=x=>{const P=I(x);Oe.exports.createPdf(P).getDataUrl(A=>{u.value=A,m.value=!0})};return(x,P)=>(h(),S("div",null,[e(B,{class:"my-card q-pa-md"},{default:t(()=>{var A,T,K,ue,L,oe;return[Ra,a("div",Pa,[a("div",null," Name: "+v($(((T=(A=O(g)[0])==null?void 0:A.user)==null?void 0:T.employee)||((ue=(K=O(g)[1])==null?void 0:K.user)==null?void 0:ue.employee)||"No name available")),1),a("div",null," Date: "+v(`${n(((L=_.bakersReport[0])==null?void 0:L.created_at)||((oe=_.bakersReport[1])==null?void 0:oe.created_at)||"No name available")}`),1)]),e(k,null,{default:t(()=>[e(se,{class:"table-container sticky-header2",columns:D,rows:O(g),"row-key":"name","header-class":"custom-header"},{"body-cell-status":t(Q=>[e(j,{props:Q},{default:t(()=>[e(le,{align:"middle",color:w(Q.row.status)},{default:t(()=>[R(v(i(Q.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(Q=>[e(j,{props:Q},{default:t(()=>[e(V,{class:"gradient-icon",flat:"",rounded:"",onClick:ce=>s(Q.row.combined_bakers_reports,Q.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon"}),e(ae,{class:"gradient-tooltip"},{default:t(()=>[R("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(Q=>[e(j,{props:Q},{default:t(()=>[e(V,{class:"gradient-icon2",flat:"",rounded:"",onClick:ce=>d(Q.row.ingredient_bakers_reports,Q.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon2"}),e(ae,{class:"gradient-tooltip"},{default:t(()=>[R("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(Q=>[e(j,{props:Q},{default:t(()=>[e(V,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:ce=>x.toggleMenu(Q.row)},null,8,["onClick"]),e(ft,{modelValue:Q.row.menu,"onUpdate:modelValue":ce=>Q.row.menu=ce,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(Ae,{style:{"min-width":"100px"}},{default:t(()=>[W((h(),U(ve,{clickable:"",onClick:ce=>N(Q.row)},{default:t(()=>[e(ne,{avatar:""},{default:t(()=>[e(te,{name:"print"})]),_:1}),e(ne,null,{default:t(()=>[e(pe,null,{default:t(()=>[R("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[X]]),W((h(),U(ve,{clickable:"",onClick:ce=>c(Q.row)},{default:t(()=>[e(ne,{avatar:""},{default:t(()=>[e(te,{name:"edit"})]),_:1}),e(ne,null,{default:t(()=>[e(pe,null,{default:t(()=>[R("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[X]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1})]}),_:1}),e(E,{modelValue:m.value,"onUpdate:modelValue":P[0]||(P[0]=A=>m.value=A),"backdrop-filter":x.backdropFilter,maximized:y.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Sa,[a("div",Va,[W((h(),U(V,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ae,null,{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,Da)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Na=Y(qa,[["__scopeId","data-v-942e0118"]]);const Aa={class:"row justify-between text-white"},Ta=a("div",{class:"text-h6"},"Bread Report",-1),Ua={class:"row justify-end q-mt-md"},Ba={class:"text-h6"},Fa={__name:"BreadReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o,b=C("");console.log("Reports data structure:",u.reports);const s=l=>l?l.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",d=[{name:"name",label:"Bread Name",field:l=>(console.log("Row data:",l),l.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:l=>`${l}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:l=>`${l}`},{name:"total",label:"Bread Total (PCS)",field:"total",field:l=>(l.remaining||0)+(l.new_production||0)},{name:"sales",label:"Total Sales",field:"sales"}],c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),n=F(()=>{if(!b.value||!b.value.trim())return u.reports||[];const l=b.value.trim().toLowerCase();return(u.reports||[]).filter(i=>i.bread.name.toLowerCase().includes(l)||i.price.toString().includes(l)||i.sales.toString().includes(l))}),r=F(()=>{const l=n.value.reduce((i,$)=>{const p=parseFloat($.sales)||0;return console.log(`Adding salesAmount: ${p} to total: ${i}`),i+p},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Overall Total Sales:",r.value),(l,i)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Aa,[Ta,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(J,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:b.value,"onUpdate:modelValue":i[0]||(i[0]=$=>b.value=$),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:d,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":i[1]||(i[1]=$=>l.pagination=$),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,v(`${s($.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,v(`${c($.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,v(`${c($.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ua,[a("div",Ba," Overall Total Sales: "+v(c(r.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ia={class:"row justify-between text-white"},La=a("div",{class:"text-h6"},"Selecta Report",-1),Ma={class:"row justify-end q-mt-md"},za={class:"text-h6"},Ha={__name:"SelectaReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o;console.log("Reports data structure:",u.reports);const b=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Selecta Name",field:r=>(console.log("Row data:",r),r.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=F(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),n=F(()=>{const r=c.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",c.value),(r,l)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ia,[La,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${b(i.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ma,[a("div",za," Overall Total Sales: "+v(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Oa={class:"row justify-between text-white"},ja=a("div",{class:"text-h6"},"Softdrinks Report",-1),Qa={class:"row justify-end q-mt-md"},Ea={class:"text-h6"},Ya={__name:"SoftdrinksReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o;console.log("Reports data structure:",u.reports);const b=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Softdrinks Name",field:r=>(console.log("Row data:",r),r.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=F(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),n=F(()=>{const r=c.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",c.value),(r,l)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Oa,[ja,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${b(i.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Qa,[a("div",Ea," Overall Total Sales: "+v(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ka={class:"row justify-between text-white"},Ga=a("div",{class:"text-h6"},"Cake Report",-1),Ja={class:"row justify-end q-mt-md"},Wa={class:"text-h6"},Xa={__name:"CakeReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o;console.log("Report cake:",u.reports);const b=F(()=>(console.log("Filtered cake rows:",u.reports||[]),u.reports||[])),s=r=>{const l=w=>w?w.charAt(0).toUpperCase()+w.slice(1).toLowerCase():"",i=r.firstname?l(r.firstname):"No Firstname",$=r.middlename?l(r.middlename).charAt(0)+".":"",p=r.lastname?l(r.lastname):"No Lastname";return`${i} ${$} ${p}`},d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r).replace("\u20B1","\u20B1 "),c=F(()=>{const r=b.value.reduce((l,i)=>{const $=parseFloat(i.cake_report.price)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r}),n=[{name:"name",label:"Cake Name",field:r=>(console.log("Row data:",r),r.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:r=>s(r.cake_report.user.employee)},{name:"price",label:"Price",field:r=>d(r.cake_report.price)},{name:"layers",label:"Layers",field:r=>r.cake_report.layers},{name:"sales_status",label:"Sale Status",field:r=>r.cake_report.sales_status}];return(r,l)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",Ka,[Ga,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",Ja,[a("div",Wa," Overall Total Sales: "+v(d(c.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Za={class:"row justify-between text-white"},el=a("div",{class:"text-h6"},"Other Products Report",-1),tl={class:"row justify-end q-mt-md"},al={class:"text-h6"},ll={__name:"OtherProductsReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o,b=F(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),s=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=[{name:"name",label:"Product Name",field:r=>(console.log("Row data:",r),r.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Product Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],n=F(()=>{const r=b.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return(r,l)=>(h(),S("div",null,[e(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",Za,[el,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${s(i.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,v(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",tl,[a("div",al," Overall Total Sales: "+v(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const nl=o=>(Z("data-v-69f74a0d"),o=o(),ee(),o),ol=nl(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),sl={class:"item-start q-gutter-md",align:"center"},rl={__name:"ProductsReport",props:["sales_Reports"],setup(o){const _=o,g=_.sales_Reports;console.log("sales report2",_);const y=Ce(),m=c=>{y.dialog({component:Fa,componentProps:{reports:c}})},u=c=>{y.dialog({component:Ha,componentProps:{reports:c}})},b=c=>{y.dialog({component:Ya,componentProps:{reports:c}})},s=c=>{y.dialog({component:Xa,componentProps:{reports:c}})},d=c=>{y.dialog({component:ll,componentProps:{reports:c}})};return(c,n)=>(h(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[ol]),_:1}),e(k,null,{default:t(()=>[a("div",sl,[e(V,{onClick:n[0]||(n[0]=r=>m(_.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(V,{onClick:n[1]||(n[1]=r=>u(O(g)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(V,{onClick:n[2]||(n[2]=r=>b(O(g)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(V,{onClick:n[3]||(n[3]=r=>s(O(g)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(V,{onClick:n[4]||(n[4]=r=>d(O(g)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var il=Y(rl,[["__scopeId","data-v-69f74a0d"]]);const dl={class:"row justify-between text-white"},cl=a("div",{class:"text-h6"},"Denomination Report",-1),ul={class:"row text-weight-regular text-subtitle1"},ml={class:"col-6"},pl={class:"col-6"},_l={class:"row justify-end q-mt-md"},fl={class:"text-h6"},gl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o;console.log("Denomination Props",u.reports);const b=u.reports[0];console.log("Reports data structure:",u.reports);const s=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c),d=F(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Filtered Rows:",d.value),(c,n)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",dl,[cl,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[a("div",ul,[a("div",ml,[a("div",null,"1000 Bills: "+v(O(b).oneThousandBills),1),a("div",null,"500 Bills: "+v(O(b).fiveHundredBills),1),a("div",null,"200 Bills: "+v(O(b).twoHundredBills),1),a("div",null,"100 Bills: "+v(O(b).oneHundredBills),1),a("div",null,"50 Bills: "+v(O(b).fiftyBills),1),a("div",null,"20 Bills: "+v(O(b).twentyBills),1)]),a("div",pl,[a("div",null,"20 coins: "+v(O(b).twentyCoins),1),a("div",null,"10 coins: "+v(O(b).tenCoins),1),a("div",null,"5 coins: "+v(O(b).fiveCoins),1),a("div",null,"1 coins: "+v(O(b).oneCoins),1),a("div",null,"25 cents: "+v(O(b).twentyFiveCents),1)])])]),_:1}),e(k,null,{default:t(()=>[a("div",_l,[a("div",fl," Overall Total Denomination: "+v(s(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const vl=o=>(Z("data-v-43ad17ba"),o=o(),ee(),o),hl=vl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),yl={class:"q-gutter-x-md",align:"center"},bl={__name:"DenominationReport",props:["sales_Reports"],setup(o){const _=o;_.sales_Reports,console.log("Denomination report",_);const g=Ce(),y=(m,u)=>{g.dialog({component:gl,componentProps:{reports:m,total:u}})};return(m,u)=>(h(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[hl]),_:1}),e(k,null,{default:t(()=>[a("div",yl,[e(V,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:u[0]||(u[0]=b=>y(_.sales_Reports[0].denomination_reports,_.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var wl=Y(bl,[["__scopeId","data-v-43ad17ba"]]);const xl={class:"row justify-between text-white"},$l=a("div",{class:"text-h6"},"Expenses Report",-1),kl={class:"row justify-end q-mt-md"},Cl={class:"text-h6"},Rl={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o;u.reports,console.log("Expenses total",u.total);const b=n=>n?n.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Expenses Name",field:n=>(console.log("Row data:",n),n.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",u.reports);const d=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),c=F(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Expenses:",c.value),(n,r)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g),onOk:n.handleButtonClick,onCancel:O(m)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",xl,[$l,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":r[0]||(r[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,v(`${b(l.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,v(`${d(l.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",kl,[a("div",Cl," Overall Total Expenses: "+v(d(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Pl=o=>(Z("data-v-4747b3c7"),o=o(),ee(),o),Sl=Pl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Vl={class:"q-gutter-x-md",align:"center"},Dl={__name:"ExpensesReport",props:["sales_Reports"],setup(o){const _=o;console.log("Expenses Data",_.sales_Reports[0].expenses_reports);const g=Ce(),y=(m,u)=>{g.dialog({component:Rl,componentProps:{reports:m,total:u}})};return(m,u)=>(h(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[Sl]),_:1}),e(k,null,{default:t(()=>[a("div",Vl,[e(V,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:u[0]||(u[0]=b=>y(_.sales_Reports[0].expenses_reports,_.sales_Reports[0].expenses_total))})])]),_:1})]),_:1})]))}};var ql=Y(Dl,[["__scopeId","data-v-4747b3c7"]]);const Nl={class:"row justify-between text-white"},Al=a("div",{class:"text-h6"},"Credits Report",-1),Tl={class:"row justify-end q-mt-md"},Ul={class:"text-h6"},Bl={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we(),u=o,b=u.reports;console.log("creditReports data",b),b.forEach((i,$)=>{console.log(`Report ${$}:`,i),console.log(`Credit Products for Report ${$}:`,i.credit_products.total_amount)});const s=F(()=>b.flatMap(i=>i.credit_products.map($=>{const p=parseInt($.pieces,10)||0,w=parseFloat($.price)||0,f=p*w;return{...$,total_amount:f}})));console.log("All Credit Products:",s.value[0]);const d=i=>i?i.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",c=i=>{const $=q=>q?q.charAt(0).toUpperCase()+q.slice(1).toLowerCase():"",p=i.firstname?$(i.firstname):"No Firstname",w=i.middlename?$(i.middlename).charAt(0)+".":"",f=i.lastname?$(i.lastname):"No Lastname";return`${p} ${w} ${f}`.trim()},n=[{name:"name",label:"Employee Name",field:i=>c(i.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:i=>i.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",u.reports);const r=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),l=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return(i,$)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g),onOk:i.handleButtonClick,onCancel:O(m)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Nl,[Al,W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:i.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":$[0]||($[0]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,v(`${d(p.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,v(`${r(p.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,v(`${l(p.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Tl,[a("div",Ul," Overall Credits Total: "+v(r(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Fl=o=>(Z("data-v-037b1d7d"),o=o(),ee(),o),Il=Fl(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Ll={class:"q-gutter-x-md",align:"center"},Ml={__name:"CreditsReport",props:["sales_Reports"],setup(o){const _=o,g=Ce(),y=(m,u)=>{g.dialog({component:Bl,componentProps:{reports:m,total:u}})};return(m,u)=>(h(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[Il]),_:1}),e(k,null,{default:t(()=>[a("div",Ll,[e(V,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:u[0]||(u[0]=b=>y(_.sales_Reports[0].credit_reports,_.sales_Reports[0].credit_total))})])]),_:1}),e(k)]),_:1})]))}};var zl=Y(Ml,[["__scopeId","data-v-037b1d7d"]]);const Hl=o=>(Z("data-v-193f57bf"),o=o(),ee(),o),Ol={class:"q-mt-lg row items-start q-gutter-md justify-center"},jl={class:"row justify-between"},Ql=Hl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),El={align:"right"},Yl={class:"text-subtitle1 text-weight-regular"},Kl={class:"row q-gutter-sm q-pa-md"},Gl={class:"q-ma-sm"},Jl={class:"q-ma-sm",align:"center"},Wl=["src"],Xl={__name:"SalesReportPanel",props:["salesReport"],setup(o){Oe.exports.vfs=lt;const _=o,g=_.salesReport;console.log("reportsData",_.salesReport);const y=C(!0),m=C(!1),u=C(""),b=l=>de.formatDate(l,"MMMM DD, YYYY"),s=l=>{const i=new Date(l),$={hour:"2-digit",minute:"2-digit",hour12:!0};return i.toLocaleTimeString(void 0,$)},d=l=>{const i=f=>f?f.charAt(0).toUpperCase()+f.slice(1).toLowerCase():"",$=l.firstname?i(l.firstname):"No Firstname",p=l.middlename?i(l.middlename).charAt(0)+".":"",w=l.lastname?i(l.lastname):"No Lastname";return`${$} ${p} ${w}`.trim()},c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const i=F(()=>l.credit_reports.flatMap(L=>L.credit_products));console.log("All Credit Products:",i.value);const $=[{title:"Bread Production",data:(l.bread_reports||[]).map(L=>({...L,total:(L.new_production||0)+(L.beginnings||0),sales:(L.price||0)*(L.bread_sold||0)})),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(l.selecta_reports||[]).map(L=>({...L,sales:(L.price||0)*L.sold})),columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:l.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(l.softdrinks_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(l.other_products_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:l.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],p=l.expenses_reports||[],w=i.value||[],f=l.denomination_reports[0]||[],q=l.denomination_total;l.products_total_sales,l.charges_amount,l.over_total;const D={bills:[{name:"One Thousand",pcs:f.oneThousandBills||0},{name:"Five Hundred",pcs:f.fiveHundredBills||0},{name:"Two Hundred",pcs:f.twoHundredBills||0},{name:"One Hundred",pcs:f.oneHundredBills||0},{name:"Fifty",pcs:f.fiftyBills||0},{name:"Twenty",pcs:f.twentyBills||0}],coins:[{name:"Twenty",pcs:f.twentyCoins||0},{name:"Ten",pcs:f.tenCoins||0},{name:"Five",pcs:f.fiveCoins||0},{name:"One",pcs:f.oneCoins||0},{name:"Twenty Five Cents",pcs:f.twentyFiveCents||0}]},I=(L,oe,Q)=>{const ce=(_e,ye)=>ye.split(".").reduce(($e,M)=>$e?$e[M]:0,_e),Pe=Q.reduce((_e,ye)=>(_e[ye]=L.reduce(($e,M)=>$e+parseFloat(ce(M,ye))||0,0),_e),{});return[...L.map(_e=>oe.map(ye=>{if(ye==="cake_report.user.employee"){const $e=ce(_e,"cake_report.user.employee");return{text:$e?d($e):"No Employee",style:"body",alignment:"center"}}return{text:ye.includes(".")?ce(_e,ye)||"-":_e[ye]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:oe.length-Q.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(oe.length-Q.length-1).fill({}),...Q.map(_e=>({text:`\u20B1 ${Pe[_e].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let N=0;const x=w.length>0?w.map(L=>{const oe=(L.price||0)*(L.pieces||0);return N+=oe,[{text:d(L.credit_user_id),style:"body",alignment:"center"},{text:L.product.name,style:"body",alignment:"center"},{text:L.pieces,style:"body",alignment:"center"},{text:c(L.price),style:"body",alignment:"center"},{text:c(oe),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];x.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:c(N),style:"bodyBold",alignment:"center",colSpan:2},{}]);let P=0;const A=p.length>0?p.map(L=>{const oe=parseFloat(L.amount.replace(/[^0-9.-]+/g,""));return isNaN(oe)||(P+=oe),[{text:L.name,style:"body",alignment:"center"},{text:L.description,style:"body",alignment:"center"},{text:`${c(oe)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];A.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${c(P)}`,style:"bodyBold",alignment:"center"}]);const T=D.bills.map((L,oe)=>{var Q,ce;return[{text:L.name,style:"body",alignment:"center"},{text:L.pcs,style:"body",alignment:"center"},{text:((Q=D.coins[oe])==null?void 0:Q.name)||"",style:"body",alignment:"center"},{text:((ce=D.coins[oe])==null?void 0:ce.pcs)||"0",style:"body",alignment:"center"}]});T.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${c(q)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const K=$.map(({title:L,data:oe,columns:Q,totals:ce})=>({stack:[{text:L,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(Q.length).fill("*"),body:[Q.map(Pe=>({text:Pe.split(".").pop().replace(/_/g," ").replace(/\b\w/g,_e=>_e.toUpperCase()),style:"tableHeader",alignment:"center"})),...I(oe,Q,ce)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),ue={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:c(q),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:c(l.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:c(P),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:c(N),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:c(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${c(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${d(l.user.employee)}
          Date: ${b(l.created_at)}
Time: ${s(l.created_at)}
`,margin:[0,0,0,10]},{}]},...K,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...A]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...x]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...T]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},ue]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},r=l=>{const i=n(l);Oe.exports.createPdf(i).getDataUrl($=>{u.value=$,m.value=!0})};return(l,i)=>(h(),S(z,null,[e(B,{class:"my-card q-pa-md"},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Ol,[(h(!0),S(z,null,fe(O(g),($,p)=>(h(),S("div",{key:p},[e(B,{flat:"",dense:"",bordered:""},{default:t(()=>[e(k,null,{default:t(()=>[a("div",jl,[Ql,a("div",El,[e(V,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:w=>r($)},null,8,["onClick"]),a("div",null,[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R(" Print Report ")]),_:1})])])]),a("div",Yl,[a("div",null,"Name: "+v(d($.user.employee)),1),a("div",null,"Date: "+v(b($.created_at)),1),a("div",null,"Time: "+v(s($.created_at)),1)])]),_:2},1024),a("div",Kl,[e(il,{sales_Reports:[$]},null,8,["sales_Reports"]),e(wl,{sales_Reports:[$]},null,8,["sales_Reports"]),e(ql,{sales_Reports:[$]},null,8,["sales_Reports"]),e(zl,{sales_Reports:[$]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(E,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=$=>m.value=$),maximized:y.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Gl,[a("div",Jl,[W((h(),U(V,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ae,null,{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,Wl)])])]),_:1},8,["modelValue","maximized"])],64))}};var Zl=Y(Xl,[["__scopeId","data-v-193f57bf"]]);const en={class:"text-h6"},tn={class:"row q-gutter-x-md"},an={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(o,{emit:_}){const{dialogRef:g,onDialogHide:y,onDialogOK:m,onDialogCancel:u}=we(),b=o;console.log("production report",b.reports);const s=b.reports.baker_reports,d=b.reports.sales_reports,c=_,n=C("bakerReport"),r=C(!0),l=C(!1),i=p=>p?p.split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "):"",$=()=>{c("selectReport",b.reports),l.value=!0};return(p,w)=>(h(),U(E,{ref_key:"dialogRef",ref:g,modelValue:l.value,"onUpdate:modelValue":w[2]||(w[2]=f=>l.value=f),onHide:O(y),onOk:$,onCancel:O(u),maximized:r.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(B,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",en,v(`${i(o.reports.branch_name)} ( ${o.reportLabel} Reports)`),1),e(Re),a("div",tn,[a("div",null,[W((h(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])])]),_:1}),e(k,null,{default:t(()=>[a("div",null,[e(Fe,{modelValue:n.value,"onUpdate:modelValue":w[0]||(w[0]=f=>n.value=f),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(re,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(re,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Ie,{modelValue:n.value,"onUpdate:modelValue":w[1]||(w[1]=f=>n.value=f),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(ie,{name:"bakerReport"},{default:t(()=>[e(Na,{bakersReport:O(s)},null,8,["bakersReport"])]),_:1}),e(ie,{name:"salesReport"},{default:t(()=>[e(Zl,{salesReport:O(d)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var ln=Y(an,[["__scopeId","data-v-643ff984"]]);const nn=ct("productions",()=>{const o=C([]),_=C([]);return{productions:o,production:_,fetchAllProduction:async()=>{const m=await Se.get("/api/branch-production-report");o.value=m.data.reports},fetchBranchProductions:async m=>{try{const u=await Se.get(`/api/branches/${m}/production-report`);o.value=u.data}catch(u){console.log(u)}}}});const on=o=>(Z("data-v-12387bc6"),o=o(),ee(),o),sn={key:0,class:"spinner-wrapper"},rn={key:1},dn={key:0,class:"data-error"},cn=on(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),un={class:"row justify-center q-gutter-x-md"},mn={__name:"ProductionTable",setup(o){const _=ge();C("bakerReport");const g=_.params.branch_id;C(!1),C(!0),C(""),C("");const y=C({rowsPerPage:0}),m=nn(),u=C(""),b=F(()=>m.productions);C(!0);const s=C(!0),d=C(!1),c=F(()=>u.value?b.value.filter(p=>p.name.toLowerCase().includes(u.value.toLowerCase())):b.value);be(async()=>{g&&await n(g)});const n=async p=>{try{s.value=!0;const w=await m.fetchBranchProductions(p);console.log("Fetched data:",w),console.log("Production rows:",b.value),b.value.length||(d.value=!0)}catch{d.value=!0}finally{s.value=!1}};Qe(u,async p=>{s.value=!0,await new Promise(w=>setTimeout(w,1e3)),s.value=!1,d.value=c.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:p=>de.formatDate(p,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],i=Ce(),$=(p,w)=>{i.dialog({component:ln,componentProps:{reports:p,reportLabel:w}})};return(p,w)=>(h(),S(z,null,[a("div",null,[e(J,{modelValue:u.value,"onUpdate:modelValue":w[0]||(w[0]=f=>u.value=f),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),s.value?(h(),S("div",sn,[e(Ee,{size:"50px",color:"primary"})])):(h(),S("div",rn,[c.value.length===0?(h(),S("div",dn,[e(te,{name:"warning",color:"warning",size:"4em"}),cn])):(h(),U(se,{key:1,class:"table-container sticky-header",filter:u.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:c.value,"row-key":"reportDate","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":w[1]||(w[1]=f=>y.value=f),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(f=>[e(j,{props:f},{default:t(()=>[a("div",un,[e(V,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:q=>$(f.row.AM,"AM")},{default:t(()=>[R("AM")]),_:2},1032,["onClick"]),e(V,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:q=>$(f.row.PM,"PM")},{default:t(()=>[R("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var pn=Y(mn,[["__scopeId","data-v-12387bc6"]]);const _n={__name:"ProductionPage",setup(o){return(_,g)=>(h(),S("div",null,[e(pn)]))}},fn={class:"row justify-between"},gn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),vn=a("div",{class:"text-h6"},"Decline Report",-1),hn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=qe(),g=C(""),y=C(!1),m=C(!1),u=C({rowsPerPage:0}),b=Ce(),s=o,d=()=>{m.value=!0},c=()=>{y.value=!0},n=async()=>{if(!g.value){b.notify({type:"negative",message:"Remark is required"});return}try{const p=await _.declineReport(s.report.id,g.value);console.log("Report declined:",p),b.notify({type:"negative",message:"Report declined successfully"}),y.value=!1,m.value=!1,g.value=""}catch(p){console.error("Error declining report:",p),b.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const p=await _.confirmReport(s.report.id);console.log("Report confirmed:",p),b.notify({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch(p){console.error(p)}},l=F(()=>s.report.selecta_added_stocks||[]),i=p=>{const w=I=>I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():"",f=p.firstname?w(p.firstname):"No Firstname",q=p.middlename?w(p.middlename).charAt(0)+".":"",D=p.lastname?w(p.lastname):"No Lastname";return`${f} ${q} ${D}`},$=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,w)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:d})]),e(E,{modelValue:m.value,"onUpdate:modelValue":w[2]||(w[2]=f=>m.value=f)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",fn,[gn,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:w[0]||(w[0]=f=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(i(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"yellow",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:l.value,columns:$,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":w[1]||(w[1]=f=>u.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(V,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(V,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:y.value,"onUpdate:modelValue":w[4]||(w[4]=f=>y.value=f)},{default:t(()=>[e(B,null,{default:t(()=>[e(k,null,{default:t(()=>[vn]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:g.value,"onUpdate:modelValue":w[3]||(w[3]=f=>g.value=f),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[f=>!!f||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ve,{align:"right"},{default:t(()=>[W(e(V,{flat:"",label:"Cancel",color:"primary"},null,512),[[X]]),e(V,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const yn=o=>(Z("data-v-08e549d4"),o=o(),ee(),o),bn={class:"q-gutter-md q-ma-md"},wn={class:"row justify-between"},xn={class:"text-subtitle1"},$n={class:"text-subtitle1"},kn={class:"text-subtitle1"},Cn={key:1,class:"data-error"},Rn=yn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Pn={__name:"TransactionPendingCard",setup(o){const _=ge(),g=qe(),y=F(()=>g.pendingSelectaReports),m=_.params.branch_id,u=C("pending"),b=async()=>{try{const n=await g.fetchPendingSelectaStocks(m,u.value);console.log(y.value)}catch(n){console.error("Error fetching pending stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",bn,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",wn,[a("div",xn,v(s(l.created_at)),1),a("div",$n,v(d(l.created_at)),1),a("div",kn,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"yellow",outlined:""},{default:t(()=>[R(" Pending ")]),_:1})]),a("div",null,[e(hn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Cn,[e(te,{name:"warning",color:"warning",size:"4em"}),Rn]))])]),_:1})]))}};var Sn=Y(Pn,[["__scopeId","data-v-08e549d4"]]);const Vn={class:"row justify-between"},Dn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),qn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),g=()=>{_.value=!0};Ce();const y=o,m=F(()=>(console.log("Filtered rows:",y.report||[]),y.report.selecta_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:g})]),e(E,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Vn,[Dn,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(u(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"green",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Nn=o=>(Z("data-v-c1019cbc"),o=o(),ee(),o),An={class:"q-gutter-md q-ma-md"},Tn={class:"row justify-between"},Un={class:"text-subtitle1"},Bn={class:"text-subtitle1"},Fn={class:"text-subtitle1"},In={key:1,class:"data-error"},Ln=Nn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Mn={__name:"TransactionConfirmedCard",setup(o){const _=ge(),g=qe(),y=F(()=>g.confirmedSelectaReports),m=_.params.branch_id,u=C("confirmed"),b=async()=>{try{const n=await g.fetchConfirmedSelectaStocks(m,u.value);console.log(y.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",An,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Tn,[a("div",Un,v(s(l.created_at)),1),a("div",Bn,v(d(l.created_at)),1),a("div",Fn,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"green",outlined:""},{default:t(()=>[R(v(l.status),1)]),_:2},1024)]),a("div",null,[e(qn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",In,[e(te,{name:"warning",color:"warning",size:"4em"}),Ln]))])]),_:1})]))}};var zn=Y(Mn,[["__scopeId","data-v-c1019cbc"]]);const Hn={class:"row justify-between"},On=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),jn={class:"q-mt-md"},Qn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),g=()=>{_.value=!0},y=o,m=F(()=>(console.log("Filtered rows:",y.report||[]),y.report.selecta_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:g})]),e(E,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Hn,[On,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(u(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"red",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})]),a("div",jn,"Remark: "+v(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const En=o=>(Z("data-v-6b801095"),o=o(),ee(),o),Yn={class:"q-gutter-md q-ma-md"},Kn={class:"row justify-between"},Gn={class:"text-subtitle1"},Jn={class:"text-subtitle1"},Wn={class:"text-subtitle1"},Xn={key:1,class:"data-error"},Zn=En(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),eo={__name:"TransactionDeclinedCard",setup(o){const _=ge(),g=qe(),y=F(()=>g.declinedSelectaReports),m=_.params.branch_id,u=C("declined"),b=async()=>{try{const n=await g.fetchDeclinedSelectaStocks(m,u.value);console.log("selectedProductsDeclined",y.value)}catch(n){console.error("Error fetching decline stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Yn,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Kn,[a("div",Gn,v(s(l.created_at)),1),a("div",Jn,v(d(l.created_at)),1),a("div",Wn,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"red",outlined:""},{default:t(()=>[R(v(l.status),1)]),_:2},1024)]),a("div",null,[e(Qn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Xn,[e(te,{name:"warning",color:"warning",size:"4em"}),Zn]))])]),_:1})]))}};var to=Y(eo,[["__scopeId","data-v-6b801095"]]);const ao={class:"q-gutter-y-sm"},lo={__name:"SelectaTransactionPage",setup(o){const _=C("pendingReports"),g=F(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(y,m)=>(h(),S(z,null,[a("div",ao,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":g.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(re,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(re,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(re,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(ie,{name:"pendingReports"},{default:t(()=>[e(Sn)]),_:1}),e(ie,{name:"confirmReports"},{default:t(()=>[e(zn)]),_:1}),e(ie,{name:"declineReports"},{default:t(()=>[e(to)]),_:1})]),_:1},8,["modelValue"])],64))}};var no=Y(lo,[["__scopeId","data-v-6cbd59c6"]]);const oo={class:"row justify-between"},so=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),ro=a("div",{class:"text-h6"},"Decline Report",-1),io={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=Le(),g=C(""),y=C(!1),m=C(!1),u=C({rowPerPage:0}),b=Ce(),s=o,d=()=>{m.value=!0},c=()=>{y.value=!0},n=async()=>{if(!g.value){b.notify({type:"negative",message:"Remark is required"});return}try{const p=await _.declineReport(s.report.id,g.value);console.log("Report declined:",p),b.notify({type:"negative",message:"Report declined successfully"}),y.value=!1,m.value=!1,g.value=""}catch(p){console.error("Error declining report:",p),b.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const p=await _.confirmReport(s.report.id);console.log("Report confirmed:",p),b.notify({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch(p){console.error(p)}},l=F(()=>s.report.softdrinks_added_stocks||[]),i=p=>{const w=I=>I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():"",f=p.firstname?w(p.firstname):"No Firstname",q=p.middlename?w(p.middlename).charAt(0)+".":"",D=p.lastname?w(p.lastname):"No Lastname";return`${f} ${q} ${D}`},$=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,w)=>(h(),S("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:d}),e(E,{modelValue:m.value,"onUpdate:modelValue":w[2]||(w[2]=f=>m.value=f)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",oo,[so,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:w[0]||(w[0]=f=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(i(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"yellow",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:l.value,columns:$,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":w[1]||(w[1]=f=>u.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(V,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(V,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:y.value,"onUpdate:modelValue":w[4]||(w[4]=f=>y.value=f)},{default:t(()=>[e(B,null,{default:t(()=>[e(k,null,{default:t(()=>[ro]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:g.value,"onUpdate:modelValue":w[3]||(w[3]=f=>g.value=f),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[f=>!!f||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ve,{align:"right"},{default:t(()=>[W(e(V,{flat:"",label:"Cancel",color:"primary"},null,512),[[X]]),e(V,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const co=o=>(Z("data-v-7ba0107e"),o=o(),ee(),o),uo={class:"q-gutter-md q-ma-md"},mo={class:"row justify-between"},po={class:"text-subtitle1"},_o={class:"text-subtitle1"},fo={class:"text-subtitle1"},go={key:1,class:"data-error"},vo=co(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ho={__name:"TransactionPendingCard",setup(o){const _=ge(),g=Le(),y=F(()=>g.pendingSoftdrinksReports),m=_.params.branch_id,u=C("pending"),b=async()=>{try{const n=await g.fetchPendingSoftdrinksStocks(m,u.value);console.log(y.value)}catch(n){console.error("Error fetching pending stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",uo,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",mo,[a("div",po,v(s(l.created_at)),1),a("div",_o,v(d(l.created_at)),1),a("div",fo,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"yellow",outlined:""},{default:t(()=>[R(" Pending ")]),_:1})]),a("div",null,[e(io,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",go,[e(te,{name:"warning",color:"warning",size:"4em"}),vo]))])]),_:1})]))}};var yo=Y(ho,[["__scopeId","data-v-7ba0107e"]]);const bo={class:"row justify-between"},wo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),xo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Le(),C(!1);const _=C(!1),g=()=>{_.value=!0},y=o,m=F(()=>(console.log("Filtered rows:",y.report||[]),y.report.softdrinks_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:g})]),e(E,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",bo,[wo,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(u(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"green",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const $o=o=>(Z("data-v-2b1290c8"),o=o(),ee(),o),ko={class:"q-gutter-md q-ma-md"},Co={class:"row justify-between"},Ro={class:"text-subtitle1"},Po={class:"text-subtitle1"},So={class:"text-subtitle1"},Vo={key:1,class:"data-error"},Do=$o(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),qo={__name:"TransactionConfirmedCard",setup(o){const _=ge(),g=Le(),y=F(()=>g.confirmedSoftdrinksReports),m=_.params.branch_id,u=C("confirmed"),b=async()=>{try{const n=await g.fetchConfirmedSoftdrinksStocks(m,u.value);console.log(y.value)}catch(n){console.error("Error fetching confirmed stocks",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ko,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Co,[a("div",Ro,v(s(l.created_at)),1),a("div",Po,v(d(l.created_at)),1),a("div",So,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"green",outlined:""},{default:t(()=>[R(v(l.status),1)]),_:2},1024)]),a("div",null,[e(xo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Vo,[e(te,{name:"warning",color:"warning",size:"4em"}),Do]))])]),_:1})]))}};var No=Y(qo,[["__scopeId","data-v-2b1290c8"]]);const Ao={class:"row justify-between"},To=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Uo={class:"q-mt-md"},Bo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Le();const _=C(!1),g=()=>{_.value=!0},y=o,m=F(()=>(console.log("Filtered rows:",y.report||[]),y.report.softdrinks_added_stocks)),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:g})]),e(E,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Ao,[To,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(u(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"red",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})]),a("div",Uo,"Remark: "+v(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Fo=o=>(Z("data-v-51a1abe5"),o=o(),ee(),o),Io={class:"q-gutter-md q-ma-md"},Lo={class:"row justify-between"},Mo={class:"text-subtitle1"},zo={class:"text-subtitle1"},Ho={class:"text-subtitle1"},Oo={key:1,class:"data-error"},jo=Fo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Qo={__name:"TransactionDeclinedCard",setup(o){const _=ge(),g=Le(),y=F(()=>g.declinedSoftdrinksReports),m=_.params.branch_id,u=C("declined"),b=async()=>{try{const n=await g.fetchDeclinedSoftdrinksStocks(m,u.value);console.log("softdrinksProductsDeclined",y.value)}catch(n){console.error("Error fetching decline stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),U(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Io,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Lo,[a("div",Mo,v(s(l.created_at)),1),a("div",zo,v(d(l.created_at)),1),a("div",Ho,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"red",outlined:""},{default:t(()=>[R(v(l.status),1)]),_:2},1024)]),a("div",null,[e(Bo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Oo,[e(te,{name:"warning",color:"warning",size:"4em"}),jo]))])]),_:1}))}};var Eo=Y(Qo,[["__scopeId","data-v-51a1abe5"]]);const Yo={class:"q-gutter-y-sm"},Ko={__name:"SoftdrinksTransactionPage",setup(o){const _=C("pendingReports"),g=F(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(y,m)=>(h(),S(z,null,[a("div",Yo,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":g.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(re,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(re,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(re,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(ie,{name:"pendingReports"},{default:t(()=>[e(yo)]),_:1}),e(ie,{name:"confirmReports"},{default:t(()=>[e(No)]),_:1}),e(ie,{name:"declineReports"},{default:t(()=>[e(Eo)]),_:1})]),_:1},8,["modelValue"])],64))}};var Go=Y(Ko,[["__scopeId","data-v-368f5ccc"]]);const Jo={class:"row justify-between"},Wo=a("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),Xo=a("div",{class:"text-h6"},"Decline Report",-1),Zo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=Ye(),g=C(""),y=C(!1),m=C(!1),u=C({rowsPerPage:0}),b=()=>{m.value=!0},s=()=>{y.value=!0},d=o,c=async()=>{if(!g.value){he.create({type:"negative",message:"Remark is required"});return}try{const $=await _.declineReport(d.report.id,g.value);console.log("Report declined:",$),he.create({type:"negative",message:"Report declined successfully"}),y.value=!1,m.value=!1,g.value=""}catch($){console.error("Error declining report:",$),he.create({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const $=await _.confirmReport(d.report.id);console.log("Report confirmed:",$),he.create({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch($){console.error($)}},r=F(()=>d.report.other_added_stock||[]),l=[{name:"product_name",label:"Product Name",field:$=>$.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:$=>$.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:$=>$.added_stocks?`${$.added_stocks} pcs`:"N/A"}],i=$=>{const p=D=>D?D.charAt(0).toUpperCase()+D.slice(1).toLowerCase():"",w=$.firstname?p($.firstname):"No Firstname",f=$.middlename?p($.middlename).charAt(0)+".":"",q=$.lastname?p($.lastname):"No Lastname";return`${w} ${f} ${q}`};return($,p)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:b})]),e(E,{modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=w=>m.value=w)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Jo,[Wo,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=w=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(i(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"yellow",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:r.value,columns:l,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":p[1]||(p[1]=w=>u.value=w),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(V,{color:"negative",label:"Decline",class:"action-btn",onClick:s}),e(V,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(E,{modelValue:y.value,"onUpdate:modelValue":p[4]||(p[4]=w=>y.value=w)},{default:t(()=>[e(B,null,{default:t(()=>[e(k,null,{default:t(()=>[Xo]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:g.value,"onUpdate:modelValue":p[3]||(p[3]=w=>g.value=w),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[w=>!!w||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ve,{align:"right"},{default:t(()=>[W(e(V,{flat:"",label:"Cancel",color:"primary"},null,512),[[X]]),e(V,{flat:"",label:"Confirm",color:"negative",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const es=o=>(Z("data-v-355e3e60"),o=o(),ee(),o),ts={class:"q-gutter-md q-ma-md"},as={key:0},ls={class:"row justify-between"},ns={class:"text-subtitle1"},os={class:"text-subtitle1"},ss={class:"text-subtitle1"},rs={key:1,class:"data-error"},is=es(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ds={__name:"TransactionPendingCard",setup(o){const _=ge(),g=Ye(),y=F(()=>g.pendingOtherReports),m=_.params.branch_id,u=C("pending"),b=async()=>{try{const n=await g.fetchPendingOtherStocks(m,u.value);console.log(y.value)}catch(n){console.error("Error fetching pending stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ts,[y.value.length?(h(),S("div",as,[(h(!0),S(z,null,fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",ls,[a("div",ns,v(s(l.created_at)),1),a("div",os,v(d(l.created_at)),1),a("div",ss,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"yellow",outlined:""},{default:t(()=>[R(" Pending ")]),_:1})]),a("div",null,[e(Zo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(h(),S("div",rs,[e(te,{name:"warning",color:"warning",size:"4em"}),is]))])]),_:1})]))}};var cs=Y(ds,[["__scopeId","data-v-355e3e60"]]);const us={class:"row justify-between"},ms=a("div",{class:"text-h6"},"Other Added Stocks Report",-1),ps={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),g=()=>{_.value=!0};Ce();const y=o,m=F(()=>(console.log("Filtered rows:",y.report||[]),y.report.other_added_stock||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:g})]),e(E,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",us,[ms,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(u(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"green",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const _s=o=>(Z("data-v-5b0a7351"),o=o(),ee(),o),fs={class:"q-gutter-md q-ma-md"},gs={class:"row justify-between"},vs={class:"text-subtitle1"},hs={class:"text-subtitle1"},ys={class:"text-subtitle1"},bs={key:1,class:"data-error"},ws=_s(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),xs={__name:"TransactionConfirmedCard",setup(o){const _=ge(),g=Ye(),y=F(()=>g.confirmedOtherReports),m=_.params.branch_id,u=C("confirmed"),b=async()=>{try{const n=await g.fetchConfirmedOtherStocks(m,u.value);console.log(y.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",fs,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",gs,[a("div",vs,v(s(l.created_at)),1),a("div",hs,v(d(l.created_at)),1),a("div",ys,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"green",outlined:""},{default:t(()=>[R(v(l.status),1)]),_:2},1024)]),a("div",null,[e(ps,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",bs,[e(te,{name:"warning",color:"warning",size:"4em"}),ws]))])]),_:1})]))}};var $s=Y(xs,[["__scopeId","data-v-5b0a7351"]]);const ks={class:"row justify-between"},Cs=a("div",{class:"text-h6"},"Others Added Stocks Report",-1),Rs={class:"q-mt-md"},Ps={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),g=()=>{_.value=!0},y=o,m=F(()=>(console.log("Filtered rows:",y.report||[]),y.report.other_added_stock||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(h(),S(z,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:g})]),e(E,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",ks,[Cs,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+v(u(o.report.employee)),1),a("div",null," Branch: "+v(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"red",outlined:""},{default:t(()=>[R(v(o.report.status),1)]),_:1})]),a("div",Rs,"Remark: "+v(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Ss=o=>(Z("data-v-67ff56ab"),o=o(),ee(),o),Vs={class:"q-gutter-md q-ma-md"},Ds={class:"row justify-between"},qs={class:"text-subtitle1"},Ns={class:"text-subtitle1"},As={class:"text-subtitle1"},Ts={key:1,class:"data-error"},Us=Ss(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Bs={__name:"TransactionDeclinedCard",setup(o){const _=ge(),g=Ye(),y=F(()=>g.declinedOtherReports),m=_.params.branch_id,u=C("declined"),b=async()=>{try{const n=await g.fetchDeclinedOtherStocks(m,u.value);console.log("selectedOtherProductDeclined",y.value)}catch(n){console.error("Error fetching decline stocks:",n)}};be(async()=>{m&&await b()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(h(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Vs,[y.value.length?(h(!0),S(z,{key:0},fe(y.value,(l,i)=>(h(),U(B,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Ds,[a("div",qs,v(s(l.created_at)),1),a("div",Ns,v(d(l.created_at)),1),a("div",As,v(l.branch.name)+" - "+v(c(l.employee)),1),a("div",null,[e(le,{color:"red",outlined:""},{default:t(()=>[R(v(l.status),1)]),_:2},1024)]),a("div",null,[e(Ps,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Ts,[e(te,{name:"warning",color:"warning",size:"4em"}),Us]))])]),_:1})]))}};var Fs=Y(Bs,[["__scopeId","data-v-67ff56ab"]]);const Is={class:"q-gutter-y-sm"},Ls={__name:"OtherTransactionPage",setup(o){const _=C("pendingReports"),g=F(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(y,m)=>(h(),S(z,null,[a("div",Is,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":g.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(re,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(re,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(re,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(ie,{name:"pendingReports"},{default:t(()=>[e(cs)]),_:1}),e(ie,{name:"confirmReports"},{default:t(()=>[e($s)]),_:1}),e(ie,{name:"declineReports"},{default:t(()=>[e(Fs)]),_:1})]),_:1},8,["modelValue"])],64))}};var Ms=Y(Ls,[["__scopeId","data-v-b76c19b4"]]);const rt=o=>(Z("data-v-0a732ed6"),o=o(),ee(),o),zs={class:"q-gutter-y-sm"},Hs=rt(()=>a("h1",null,"Bread",-1)),Os=rt(()=>a("h1",null,"Cake",-1)),js={__name:"TransactionPage",setup(o){const _=C("bread");return(g,y)=>(h(),S(z,null,[a("div",zs,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":y[0]||(y[0]=m=>_.value=m),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(re,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(re,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(re,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(re,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(re,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":y[1]||(y[1]=m=>_.value=m),animated:""},{default:t(()=>[e(ie,{name:"bread"},{default:t(()=>[e(B,null,{default:t(()=>[Hs]),_:1})]),_:1}),e(ie,{name:"selecta"},{default:t(()=>[e(no)]),_:1}),e(ie,{name:"softdrinks"},{default:t(()=>[e(Go)]),_:1}),e(ie,{name:"cake"},{default:t(()=>[e(B,null,{default:t(()=>[Os]),_:1})]),_:1}),e(ie,{name:"other"},{default:t(()=>[e(Ms)]),_:1})]),_:1},8,["modelValue"])],64))}};var Qs=Y(js,[["__scopeId","data-v-0a732ed6"]]);const Te=o=>(Z("data-v-f0d86c36"),o=o(),ee(),o),Es=Te(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),Ys={class:"q-mb-lg"},Ks={key:0,class:"custom-list z-top"},Gs={class:"q-mb-sm"},Js=Te(()=>a("div",null,"Recipe Name",-1)),Ws={class:"q-mb-lg"},Xs=Te(()=>a("div",null,"Category",-1)),Zs=Te(()=>a("div",null,"Breads",-1)),er={class:"q-mt-md q-gutter-y-sm"},tr=Te(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),ar={class:"q-mt-xl q-gutter-y-sm"},lr={class:"row justify-between"},nr=Te(()=>a("div",{align:"center"},"Ingredients",-1)),or=Te(()=>a("div",{align:"center"},"Quantity",-1)),sr=["onKeyup"],rr={align:"right"},ir={__name:"RecipeCreate",setup(o){const _=ge(),g=_.params.branch_id,y=gt(),m=F(()=>y.recipes),u=je(),b=at(),s=je(),d=F(()=>u.branchRecipes),c=C(!1),n=()=>{c.value=!0},r=()=>{clearForm(),c.value=!1},l=M=>M?M.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase()).join(" "):"",i=C(""),$=async()=>{y.searchRecipe(i.value)},p=F(()=>f.target!==0),w=M=>{f.recipe_id=M.id,f.recipe_name=M.name,f.category=M.category,i.value=""},f=He({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:_.params.branch_id}),q=C(!1),D=C(null),I=C([]),N=C(I.value),x=C([]),P=C([]),A=He({name:"",quantity:""}),T=C(P.value);(async()=>{await b.fetchProductsByCategory("Bread"),q.value=!1,I.value=b.breads.map(M=>({label:M.name,value:M.id}))})(),(async()=>{const M="Ingredients";await s.fetchBranchRawMaterials(M,g),q.value=!1,P.value=s.ingredients.map(H=>({label:H.raw_material_name,value:H.raw_material_id,unit:H.ingredient_unit}))})();const L=()=>{A.name="",A.quantity=""},oe=(M,H)=>{M.length>2&&(I.value.includes(M)||H(M,"add-unique"))},Q=(M,H)=>{H(()=>{if(M==="")N.value=I.value;else{const xe=M.toLowerCase();N.value=I.value.filter(G=>G.label.toLowerCase().indexOf(xe)>-1)}})},ce=(M,H)=>{H(()=>{if(M==="")T.value=P.value;else{const xe=M.toLowerCase();T.value=P.value.filter(G=>G.label.toLowerCase().indexOf(xe)>-1)}})},Pe=()=>{const M=x.value;function H(ke,Ue){return ke.find(ze=>ze.ingredients_id==Ue)}const xe=A.name.value;H(M,xe)?he.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(x.value=[...M,{ingredients_id:A.name.value,label:A.name.label,quantity:A.quantity,unit:A.name.unit}],L())},_e=M=>{x.value.splice(M,1)};Qe(()=>A.name,M=>{M&&M.unit?A.unit=M.unit:A.unit=""});const ye=()=>{f.recipe_id="",f.target="",D.value=null,x.value=[],A.name="",A.quantity=""},$e=async()=>{const M={recipe_id:f.recipe_id,target:f.target,status:"active",branch_id:f.branches_id,breads:D.value.map(H=>({bread_id:H.value})),ingredients:x.value.map(H=>({ingredient_id:H.ingredients_id,quantity:H.quantity}))};console.log("branchRecipe",M),await u.saveBranchRecipe(M),d.value=await u.fetchBranchRecipes(g),ye(),c.value=!1};return(M,H)=>(h(),S(z,null,[e(V,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:n}),e(E,{modelValue:c.value,"onUpdate:modelValue":H[7]||(H[7]=xe=>c.value=xe)},{default:t(()=>[e(B,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Es,e(Re),W(e(V,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(k,null,{default:t(()=>{var xe;return[a("div",Ys,[e(J,{modelValue:i.value,"onUpdate:modelValue":[H[0]||(H[0]=G=>i.value=G),$],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(te,{name:"search"})])]),default:t(()=>[i.value?(h(),S("div",Ks,[e(B,null,{default:t(()=>[e(Ae,{separator:""},{default:t(()=>{var G;return[(G=m.value)!=null&&G.length?(h(!0),S(z,{key:1},fe(m.value,ke=>(h(),U(ve,{onClick:Ue=>w(ke),key:ke.id,clickable:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,null,{default:t(()=>[R(v(l(ke.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),U(ve,{key:0},{default:t(()=>[R(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",Gs,[Js,e(J,{modelValue:f.recipe_name,"onUpdate:modelValue":H[1]||(H[1]=G=>f.recipe_name=G),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",Ws,[Xs,e(J,{modelValue:f.category,"onUpdate:modelValue":H[2]||(H[2]=G=>f.category=G),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(J,{modelValue:f.target,"onUpdate:modelValue":H[3]||(H[3]=G=>f.target=G),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),a("div",null,[Zs,e(Ke,{modelValue:D.value,"onUpdate:modelValue":H[4]||(H[4]=G=>D.value=G),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:N.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:oe,onFilter:Q,rules:[G=>G&&G.length>0||"Bread is required"]},{"no-option":t(()=>[e(ve,null,{default:t(()=>[e(ne,{class:"text-grey"},{default:t(()=>[R(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",er,[tr,a("div",null,[e(Ae,{dense:"",separator:"",class:"box"},{default:t(()=>[(h(!0),S(z,null,fe(x.value,(G,ke)=>(h(),U(ve,{key:ke},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,null,{default:t(()=>[R(v(G.label),1)]),_:2},1024)]),_:2},1024),e(ne,null,{default:t(()=>[R(v(G.quantity)+" "+v(G.unit),1)]),_:2},1024),e(ne,{side:""},{default:t(()=>[e(V,{onClick:Ue=>_e(ke),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",ar,[a("div",lr,[a("div",null,[nr,e(Ke,{modelValue:A.name,"onUpdate:modelValue":H[5]||(H[5]=G=>A.name=G),debounce:"3000",outlined:"","chips-color":"primary",options:T.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:ce,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ve,null,{default:t(()=>[e(ne,{class:"text-grey"},{default:t(()=>[R(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[or,e(J,{modelValue:A.quantity,"onUpdate:modelValue":H[6]||(H[6]=G=>A.quantity=G),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((xe=A==null?void 0:A.name)==null?void 0:xe.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Ne(ut(Pe,["prevent"]),["enter"])},[a("div",rr,[e(V,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Pe})])],40,sr)])]}),_:1}),e(Ve,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(V,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(V,{class:"glossy",color:"teal",label:"Create",onClick:$e,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var dr=Y(ir,[["__scopeId","data-v-f0d86c36"]]);const it=o=>(Z("data-v-33664d62"),o=o(),ee(),o),cr=it(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ur=it(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),mr={__name:"RecipeDelete",props:["delete"],setup(o){const _=je(),g=o,y=C(!1),m=()=>{y.value=!0},u=async()=>{await _.deleteRecipe(g.delete.row.id),y.value=!1};return(b,s)=>(h(),S(z,null,[e(V,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(ae,{class:"bg-negative",delay:200},{default:t(()=>[R("Delete")]),_:1})]),_:1}),e(E,{modelValue:y.value,"onUpdate:modelValue":s[0]||(s[0]=d=>y.value=d),persistent:""},{default:t(()=>[e(B,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(k,{class:"q-pt-none q-pb-sm"},{default:t(()=>[cr,ur]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Ve,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(V,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(V,{dense:"",label:"Delete",color:"negative",onClick:u,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var pr=Y(mr,[["__scopeId","data-v-33664d62"]]);const _r=o=>(Z("data-v-7a561dd0"),o=o(),ee(),o),fr={class:"text-h6 text-white"},gr=_r(()=>a("div",{class:"text-h6",align:"center"},"Bread List",-1)),vr={class:"row",align:"center"},hr={__name:"RecipeBreadGroups",props:["breadGroups"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we();console.log("breadGroups",o.breadGroups);const b=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"";return(s,d)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(B,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",fr,v(b(o.breadGroups.name)),1),e(Re),a("div",null,[W(e(V,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])])]),_:1}),e(k,null,{default:t(()=>[gr]),_:1}),e(k,null,{default:t(()=>[(h(!0),S(z,null,fe(o.breadGroups.bread_groups,(c,n)=>(h(),S("div",{key:n},[a("div",vr,v(c),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var yr=Y(hr,[["__scopeId","data-v-7a561dd0"]]);const br=o=>(Z("data-v-435e3b8f"),o=o(),ee(),o),wr={class:"text-h6 text-white"},xr=br(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),$r={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(o){const{dialogRef:_,onDialogHide:g,onDialogOK:y,onDialogCancel:m}=we();console.log("ingredientGroups",o.ingredientGroups);const b=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",s=d=>{const c=Number(d.quantity)||0,n=d.unit||"";return c>1e3?`${parseFloat((c/1e3).toFixed(3))} kg`:c>1?`${parseFloat(c.toFixed(3))} ${n}`:`${parseFloat(c.toFixed(3))} ${n}`};return(d,c)=>(h(),U(E,{ref_key:"dialogRef",ref:_,onHide:O(g),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(B,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",wr,v(b(o.ingredientGroups.name)),1),e(Re),a("div",null,[W(e(V,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])])]),_:1}),e(k,null,{default:t(()=>[xr]),_:1}),e(k,null,{default:t(()=>[e(Ae,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ve,null,{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,{class:"text-overline"},{default:t(()=>[R("Raw Materials Name")]),_:1})]),_:1}),e(ne,null,{default:t(()=>[e(pe,{class:"text-overline"},{default:t(()=>[R("Code")]),_:1})]),_:1}),e(ne,{side:""},{default:t(()=>[e(pe,{class:"text-overline"},{default:t(()=>[R("Quantity")]),_:1})]),_:1})]),_:1}),(h(!0),S(z,null,fe(o.ingredientGroups.ingredient_groups,(n,r)=>(h(),U(ve,{key:r},{default:t(()=>[e(ne,null,{default:t(()=>[e(pe,{class:"text-caption"},{default:t(()=>[R(v(n.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(ne,null,{default:t(()=>[e(pe,{class:"text-caption"},{default:t(()=>[R(v(n.code),1)]),_:2},1024)]),_:2},1024),e(ne,{side:""},{default:t(()=>[e(pe,{class:"text-caption"},{default:t(()=>[R(v(s(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var kr=Y($r,[["__scopeId","data-v-435e3b8f"]]);const Cr=o=>(Z("data-v-89832402"),o=o(),ee(),o),Rr={class:"row justify-between"},Pr={class:"q-my-sm"},Sr={key:0,class:"spinner-wrapper"},Vr={key:1},Dr={key:0,class:"data-error"},qr=Cr(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Nr={class:"row justify-center q-gutter-x-md"},Ar={__name:"RecipeTable",setup(o){const g=ge().params.branch_id,y=je(),m=C(""),u=C(!0),b=C([]),s=C(!1),d=C({rowsPerPage:0}),c=["inactive","active"],n=F(()=>y.branchRecipes);console.log("branch recipe",n.value);const r=F(()=>m.value?n.value.filter(P=>P.name.toLowerCase().includes(m.value.toLowerCase())):n.value);be(async()=>{g&&await l(g)});const l=async P=>{try{u.value=!0;const A=await y.fetchBranchRecipes(P);n.value=A,console.log("branchRecipeRows",n.value),n.value.length||(s.value=!0),console.log("Branch recipe",n.value)}catch(A){console.log("Error fetching recipe",A)}finally{u.value=!1}},i=P=>{const A=Number(P)||0;return parseFloat(A.toFixed(3)).toString()},$=P=>!P&&P!==0?"Set Target":typeof P=="number"||!isNaN(P)?(P=parseFloat(P),P%1===0?P:parseFloat(P.toFixed(1))):P;async function p(P,A){try{const T=await Se.put("/api/update-target/"+P.id,{target:parseFloat(A)});if(console.log("response",T),T.status==200){const K=b.value.findIndex(ue=>ue.id==P.id);b.value[K]=A}he.create({type:"positive",message:"Recipe target edited successfully"})}catch(T){console.error("Error updating recipe target:",T),he.create({type:"negative",message:"Failed to edit recipe target"})}}async function w(P,A){try{if((await Se.put("/api/branch-update-status/"+P.id,{status:A})).status==200){const K=b.value.findIndex(ue=>ue.id==P.id);b.value[K]=A}he.create({type:"positive",message:"Recipe status change successfully"})}catch(T){console.error("Error updating recipe status:",T),he.create({type:"negative",message:"Failed to change recipe status"})}}const f=P=>P?P.split(" ").map(A=>A.charAt(0).toUpperCase()+A.slice(1).toLowerCase()).join(" "):"",q=[{name:"name",label:"Recipe name",align:"center",field:P=>P.name},{name:"category",label:"Category",align:"center",field:P=>P.recipe},{name:"target",label:"Target",align:"center",field:P=>$(P.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],D=Ce(),I=P=>{console.log("Bread Groups:",P),D.dialog({component:yr,componentProps:{breadGroups:P}})},N=P=>{console.log("Ingredients Groups:",P),D.dialog({component:kr,componentProps:{ingredientGroups:P}})},x=P=>{switch(P){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(P,A)=>(h(),S(z,null,[a("div",Rr,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":A[0]||(A[0]=T=>m.value=T),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Pr,[e(dr)])]),u.value?(h(),S("div",Sr,[e(Ee,{size:"50px",color:"primary"})])):(h(),S("div",Vr,[r.value.length===0?(h(),S("div",Dr,[e(te,{name:"warning",color:"warning",size:"4em"}),qr])):(h(),U(se,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:q,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":A[1]||(A[1]=T=>d.value=T),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(T=>[e(j,{props:T},{default:t(()=>[a("span",null,v(f(T.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(T=>[e(j,{props:T},{default:t(()=>[a("span",null,v(f(T.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(T=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[R(v(i(T.row.target))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit Target")]),_:1})]),e(Be,{"onUpdate:modelValue":[K=>p(T.row,K),K=>T.row.target=K],modelValue:T.row.target,"auto-save":""},{default:t(K=>[e(J,{modelValue:K.value,"onUpdate:modelValue":ue=>K.value=ue,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:Ne(K.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(T=>[e(j,{props:T},{default:t(()=>[e(le,{outline:"",color:x(T.row.status)},{default:t(()=>[R(v(f(T.row.status))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Change Status")]),_:1})]),_:2},1032,["color"]),e(Be,{"onUpdate:modelValue":[K=>w(T.row,K),K=>T.row.status=K],modelValue:T.row.status,"auto-save":""},{default:t(K=>[a("span",null,v(T.row.name),1),e(Ke,{modelValue:K.value,"onUpdate:modelValue":ue=>K.value=ue,dense:"",label:"status",autofocus:"",options:c,counter:"",mask:"###",onKeyup:Ne(K.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(T=>[e(j,{props:T},{default:t(()=>[e(V,{"no-caps":"",onClick:K=>I(T.row),label:`${T.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(T=>[e(j,{props:T},{default:t(()=>[e(V,{"no-caps":"",onClick:K=>N(T.row),label:`${T.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(T=>[e(j,{props:T},{default:t(()=>[a("div",Nr,[e(pr,{delete:T},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Tr=Y(Ar,[["__scopeId","data-v-89832402"]]);const Ur={__name:"RecipePage",setup(o){return(_,g)=>(h(),S("div",null,[e(Tr)]))}};const Br={class:"elegant-container q-gutter-md"},Fr={class:"text-h6 row justify-between"},Ir={class:"q-gutter-sm"},Lr={class:"tab-container"},Mr={__name:"BranchIdPage",setup(o){const _=ge(),g=C(""),y=mt(),m=async c=>(await Se.get(`/api/branches/${c}`)).data,u=async()=>{const c=_.params.branch_id,n=await m(c);n&&n.name?g.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};be(()=>{u()});const b=c=>c?c.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",s=C("products"),d=()=>{tt.show(),y.push("/admin/branches").finally(()=>{tt.hide()})};return(c,n)=>(h(),U(pt,{padding:""},{default:t(()=>[a("div",Br,[a("div",Fr,[a("div",null,[e(V,{outline:"",flat:"",icon:"arrow_back",onClick:d}),e(Re)]),a("div",null,[e(te,{name:"fa-solid fa-store",color:"red-6"}),R(" "+v(b(g.value)),1)])]),a("div",Ir,[a("div",Lr,[e(Fe,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=r=>s.value=r),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(re,{name:"products",label:"Products"}),e(re,{name:"rawMaterials",label:"Raw Materials"}),e(re,{name:"recipe",label:"Recipe"}),e(re,{name:"production",label:"Production"}),e(re,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(B,{class:"q-mt-sm"},{default:t(()=>[e(Ie,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=r=>s.value=r),animated:""},{default:t(()=>[e(ie,{name:"products"},{default:t(()=>[e(Ht)]),_:1}),e(ie,{name:"rawMaterials"},{default:t(()=>[e(pa)]),_:1}),e(ie,{name:"recipe"},{default:t(()=>[e(Ur)]),_:1}),e(ie,{name:"production"},{default:t(()=>[e(_n)]),_:1}),e(ie,{name:"transaction"},{default:t(()=>[e(Qs)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var $i=Y(Mr,[["__scopeId","data-v-eb7c826e"]]);export{$i as default};
