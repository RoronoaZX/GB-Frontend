import{g as w,c as u,j as q,k as U,a8 as V,ah as ce,aa as z,ai as re,r as x,l as G,aj as de,V as J,a6 as fe,a7 as ve,ak as me,y as ge,a9 as he,al as be,ab as ke,am as qe,ac as ye,an as Ce,u as W,ao as xe,ap as Pe,aq as Se,ar as H,C as Te,as as Be,at as Ee,A as Oe,W as _e,au as Fe,av as we}from"./index.cf98c727.js";import{u as Re,v as I,a as Ae,b as Ke,c as Me,p as $,r as N,s as De,d as Le}from"./position-engine.63ce013e.js";var We=w({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:v}){const s=u(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>q("div",{class:s.value},U(v.default))}}),He=w({name:"QItem",props:{...V,...ce,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:v,emit:s}){const{proxy:{$q:f}}=G(),i=z(e,f),{hasLink:c,linkAttrs:r,linkClass:m,linkTag:y,navigateOnClick:g}=re(),n=x(null),o=x(null),l=u(()=>e.clickable===!0||c.value===!0||e.tag==="label"),d=u(()=>e.disable!==!0&&l.value===!0),P=u(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(c.value===!0&&e.active===null?m.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(d.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),S=u(()=>{if(e.insetLevel===void 0)return null;const a=f.lang.rtl===!0?"Right":"Left";return{["padding"+a]:16+e.insetLevel*56+"px"}});function T(a){d.value===!0&&(o.value!==null&&(a.qKeyEvent!==!0&&document.activeElement===n.value?o.value.focus():document.activeElement===o.value&&n.value.focus()),g(a))}function C(a){if(d.value===!0&&de(a,[13,32])===!0){J(a),a.qKeyEvent=!0;const h=new MouseEvent("click",a);h.qKeyEvent=!0,n.value.dispatchEvent(h)}s("keyup",a)}function B(){const a=fe(v.default,[]);return d.value===!0&&a.unshift(q("div",{class:"q-focus-helper",tabindex:-1,ref:o})),a}return()=>{const a={ref:n,class:P.value,style:S.value,role:"listitem",onClick:T,onKeyup:C};return d.value===!0?(a.tabindex=e.tabindex||"0",Object.assign(a,r.value)):l.value===!0&&(a["aria-disabled"]="true"),q(y.value,a,B())}}}),Ie=w({name:"QMenu",inheritAttrs:!1,props:{...Re,...ve,...V,...me,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:I},self:{type:String,validator:I},offset:{type:Array,validator:Ae},scrollTarget:ge,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...he,"click","escapeKey"],setup(e,{slots:v,emit:s,attrs:f}){let i=null,c,r,m;const y=G(),{proxy:g}=y,{$q:n}=g,o=x(null),l=x(!1),d=u(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),P=z(e,n),{registerTick:S,removeTick:T}=be(),{registerTimeout:C}=ke(),{transitionProps:B,transitionStyle:a}=qe(e),{localScrollTarget:h,changeScrollEvent:X,unconfigureScrollTarget:Y}=Ke(e,Q),{anchorEl:b,canShow:Z}=Me({showing:l}),{hide:R}=ye({showing:l,canShow:Z,handleShow:ne,handleHide:oe,hideOnRouteChange:d,processOnMount:!0}),{showPortal:A,hidePortal:K,renderPortal:p}=Ce(y,o,le,"menu"),E={anchorEl:b,innerRef:o,onClickOutside(t){if(e.persistent!==!0&&l.value===!0)return R(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&J(t),!0}},M=u(()=>$(e.anchor||(e.cover===!0?"center middle":"bottom start"),n.lang.rtl)),ee=u(()=>e.cover===!0?M.value:$(e.self||"top start",n.lang.rtl)),te=u(()=>(e.square===!0?" q-menu--square":"")+(P.value===!0?" q-menu--dark q-dark":"")),ae=u(()=>e.autoClose===!0?{onClick:ue}:{}),D=u(()=>l.value===!0&&e.persistent!==!0);W(D,t=>{t===!0?(Fe(_),Le(E)):(H(_),N(E))});function O(){_e(()=>{let t=o.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function ne(t){if(i=e.noRefocus===!1?document.activeElement:null,xe(j),A(),Q(),c=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const F=Pe(t);if(F.left!==void 0){const{top:se,left:ie}=b.value.getBoundingClientRect();c={left:F.left-ie,top:F.top-se}}}r===void 0&&(r=W(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,k)),e.noFocus!==!0&&document.activeElement.blur(),S(()=>{k(),e.noFocus!==!0&&O()}),C(()=>{n.platform.is.ios===!0&&(m=e.autoClose,o.value.click()),k(),A(!0),s("show",t)},e.transitionDuration)}function oe(t){T(),K(),L(!0),i!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),C(()=>{K(!0),s("hide",t)},e.transitionDuration)}function L(t){c=void 0,r!==void 0&&(r(),r=void 0),(t===!0||l.value===!0)&&(Se(j),Y(),N(E),H(_)),t!==!0&&(i=null)}function Q(){(b.value!==null||e.scrollTarget!==void 0)&&(h.value=Te(b.value,e.scrollTarget),X(h.value,k))}function ue(t){m!==!0?(Be(g,t),s("click",t)):m=!1}function j(t){D.value===!0&&e.noFocus!==!0&&we(o.value,t.target)!==!0&&O()}function _(t){s("escapeKey"),R(t)}function k(){De({targetEl:o.value,offset:e.offset,anchorEl:b.value,anchorOrigin:M.value,selfOrigin:ee.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function le(){return q(Ee,B.value,()=>l.value===!0?q("div",{role:"menu",...f,ref:o,tabindex:-1,class:["q-menu q-position-engine scroll"+te.value,f.class],style:[f.style,a.value],...ae.value},U(v.default)):null)}return Oe(L),Object.assign(g,{focus:O,updatePosition:k}),p}});export{Ie as Q,He as a,We as b};
