import{d as g,r as s,N as n}from"./index.a4e8ffb6.js";import{api as o}from"./axios.82e5ba61.js";const y=g("dtrs",()=>{const v=s(null),t=s([]),c=s([]),i=s({}),l=e=>{console.log("Setting user in DTR store:",e.data),i.value=e.data},p=async(e,r,d)=>{try{const a=await o.get("/api/dtr",{params:{page:e,per_page:r,search:d}});return a&&a.data?(t.value=a.data,a.data):(console.warn("No data returned from API."),t.value=[],[])}catch(a){return console.error("Error fetching DTR data:",a),t.value=[],[]}};return{dtr:v,dtrs:t,dtrCutOffData:c,user:i,setUser:l,fetchDTR:p,fetchDTRRange:async e=>{console.log("Fetching DTR Range with data:",e);const r=await o.post("/api/dtr-data",e);console.log("DTR Range response:",r),c.value=r.data},saveOvertime:async e=>{const r=await o.post("/api/saveOvertime",e);t.value=r.data,p(),n.create({type:"positive",message:"Over Time Save"})},searchDTR:async e=>{try{console.log("Searching for DTR with keyword:",e);const r=await o.post(`/api/search-drt?keyword=${e}`);console.log("DTR response:",r),t.value=r.data}catch(r){console.error("Error searching DTR:",r)}},approveOvertime:async e=>{console.log("Approving overtime with data:",e);try{const r=await o.post("/api/approveOvertime",e);return n.create({type:"positive",message:"Over Time Approved"}),r.data}catch(r){console.error("Error approving overtime:",r)}},declineOvertime:async e=>{const r=await o.post("/api/declineOvertime",e);return n.create({type:"negative",message:"Over Time Declined"}),r.data}}});export{y as u};
