import{g as E,r as x,c as b,j as y,L as S,ad as Z,b9 as oe,l as M,i as ie,h as j,bn as G,bi as ue,k as R,a7 as de,a9 as ce,n as pe,x as me,ae as _e,t as B,z as O,o as q,e as k,w as d,f as l,I as V,J as u,bo as ve,Z as X,a2 as U,bc as Y,K as C,Q as I,O as ee,R as te,$ as z,a3 as N,a4 as F,_ as D,M as Q,a1 as fe,H as he,a0 as K,aI as ge,ba as be,N as ye}from"./index.cf5b631e.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as qe}from"./QSlideTransition.8b8d7588.js";import{u as xe,d as we,a as $e,b as Ce,c as Se}from"./use-panel.739bacd2.js";import{C as Ue}from"./ClosePopup.7c4d4e75.js";import{Q as Ve,a as W,b as Pe}from"./QList.b02fc07c.js";import"./branch.4695e586.js";import{u as De}from"./employee.517ccbee.js";import{Q as ae}from"./QChip.336c967d.js";import{u as se}from"./user.9275e300.js";import{Q as P}from"./QSkeleton.3413bd6a.js";import{Q as ke}from"./QPopupEdit.e05a5f36.js";import{Q as Ie}from"./QPage.88469114.js";import{q as Ae}from"./date.d9f56e4c.js";import{u as Ne}from"./use-quasar.bbb886ae.js";import"./QPopupProxy.c9706387.js";import"./QTable.2d9bda93.js";import"./touch.9135741d.js";import"./selection.5f9bd923.js";import"./warehouse.5f02fbf7.js";import"./axios.c8339da7.js";import"./QMenu.039abd03.js";import"./QVirtualScroll.fe485750.js";import"./use-virtual-scroll.a5b3adad.js";import"./QSelect.396bd51e.js";var le=E({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(t,{attrs:_}){const{proxy:{$q:o}}=M(),h=x(null),p=b(()=>t.stepper.modelValue===t.step.name),f=b(()=>{const i=t.step.disable;return i===!0||i===""}),m=b(()=>{const i=t.step.error;return i===!0||i===""}),n=b(()=>{const i=t.step.done;return f.value===!1&&(i===!0||i==="")}),g=b(()=>{const i=t.step.headerNav,v=i===!0||i===""||i===void 0;return f.value===!1&&t.stepper.headerNav&&v}),w=b(()=>t.step.prefix&&(p.value===!1||t.stepper.activeIcon==="none")&&(m.value===!1||t.stepper.errorIcon==="none")&&(n.value===!1||t.stepper.doneIcon==="none")),$=b(()=>{const i=t.step.icon||t.stepper.inactiveIcon;if(p.value===!0){const v=t.step.activeIcon||t.stepper.activeIcon;return v==="none"?i:v||o.iconSet.stepper.active}if(m.value===!0){const v=t.step.errorIcon||t.stepper.errorIcon;return v==="none"?i:v||o.iconSet.stepper.error}if(f.value===!1&&n.value===!0){const v=t.step.doneIcon||t.stepper.doneIcon;return v==="none"?i:v||o.iconSet.stepper.done}return i}),r=b(()=>{const i=m.value===!0?t.step.errorColor||t.stepper.errorColor:void 0;if(p.value===!0){const v=t.step.activeColor||t.stepper.activeColor||t.step.color;return v!==void 0?v:i}return i!==void 0?i:f.value===!1&&n.value===!0?t.step.doneColor||t.stepper.doneColor||t.step.color||t.stepper.inactiveColor:t.step.color||t.stepper.inactiveColor}),s=b(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(r.value!==void 0?` text-${r.value}`:"")+(m.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(w.value===!0?"prefix":"icon"):"")+(p.value===!0?" q-stepper__tab--active":"")+(n.value===!0?" q-stepper__tab--done":"")+(g.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(f.value===!0?" q-stepper__tab--disabled":"")),a=b(()=>t.stepper.headerNav!==!0?!1:g.value);function e(){h.value!==null&&h.value.focus(),p.value===!1&&t.goToPanel(t.step.name)}function c(i){i.keyCode===13&&p.value===!1&&t.goToPanel(t.step.name)}return()=>{const i={class:s.value};g.value===!0&&(i.onClick=e,i.onKeyup=c,Object.assign(i,f.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:_.tabindex||0}));const v=[y("div",{class:"q-focus-helper",tabindex:-1,ref:h}),y("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[y("span",{class:"row flex-center"},[w.value===!0?t.step.prefix:y(S,{name:$.value})])])];if(t.step.title!==void 0&&t.step.title!==null){const A=[y("div",{class:"q-stepper__title"},t.step.title)];t.step.caption!==void 0&&t.step.caption!==null&&A.push(y("div",{class:"q-stepper__caption"},t.step.caption)),v.push(y("div",{class:"q-stepper__label q-stepper__line relative-position"},A))}return Z(y("div",i,v),[[oe,a.value]])}}});function re(t){return y("div",{class:"q-stepper__step-content"},[y("div",{class:"q-stepper__step-inner"},R(t.default))])}const J={setup(t,{slots:_}){return()=>re(_)}};var L=E({name:"QStep",props:{...xe,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(t,{slots:_,emit:o}){const{proxy:{$q:h}}=M(),p=ie(G,j);if(p===j)return console.error("QStep needs to be a child of QStepper"),j;const{getCache:f}=we(),m=x(null),n=b(()=>p.value.modelValue===t.name),g=b(()=>h.platform.is.ios!==!0&&h.platform.is.chrome===!0||n.value!==!0||p.value.vertical!==!0?{}:{onScroll(r){const{target:s}=r;s.scrollTop>0&&(s.scrollTop=0),t.onScroll!==void 0&&o("scroll",r)}}),w=b(()=>typeof t.name=="string"||typeof t.name=="number"?t.name:String(t.name));function $(){const r=p.value.vertical;return r===!0&&p.value.keepAlive===!0?y(ue,p.value.keepAliveProps.value,n.value===!0?[y(p.value.needsUniqueKeepAliveWrapper.value===!0?f(w.value,()=>({...J,name:w.value})):J,{key:w.value},_.default)]:void 0):r!==!0||n.value===!0?re(_):void 0}return()=>y("div",{ref:m,class:"q-stepper__step",role:"tabpanel",...g.value},p.value.vertical===!0?[y(le,{stepper:p.value,step:t,goToPanel:p.value.goToPanel}),p.value.animated===!0?y(qe,$):$()]:[$()])}}),Qe=E({name:"QStepperNavigation",setup(t,{slots:_}){return()=>y("div",{class:"q-stepper__nav"},R(_.default))}});const Re=/(-\w)/g;function Be(t){const _={};for(const o in t){const h=o.replace(Re,p=>p[1].toUpperCase());_[h]=t[o]}return _}var ze=E({name:"QStepper",props:{...de,...$e,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Ce,setup(t,{slots:_}){const o=M(),h=ce(t,o.proxy.$q),{updatePanelsList:p,isValidPanelName:f,updatePanelIndex:m,getPanelContent:n,getPanels:g,panelDirectives:w,goToPanel:$,keepAliveProps:r,needsUniqueKeepAliveWrapper:s}=Se();pe(G,b(()=>({goToPanel:$,keepAliveProps:r,needsUniqueKeepAliveWrapper:s,...t})));const a=b(()=>`q-stepper q-stepper--${t.vertical===!0?"vertical":"horizontal"}`+(t.flat===!0?" q-stepper--flat":"")+(t.bordered===!0?" q-stepper--bordered":"")+(h.value===!0?" q-stepper--dark q-dark":"")),e=b(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${t.alternativeLabels===!0?"alternative":"standard"}-labels`+(t.flat===!1||t.bordered===!0?" q-stepper__header--border":"")+(t.contracted===!0?" q-stepper__header--contracted":"")+(t.headerClass!==void 0?` ${t.headerClass}`:""));function c(){const i=R(_.message,[]);if(t.vertical===!0){f(t.modelValue)&&m();const v=y("div",{class:"q-stepper__content"},R(_.default));return i===void 0?[v]:i.concat(v)}return[y("div",{class:e.value},g().map(v=>{const A=Be(v.props);return y(le,{key:A.name,stepper:t,step:A,goToPanel:$})})),i,_e("div",{class:"q-stepper__content q-panel-parent"},n(),"cont",t.swipeable,()=>w.value)]}return()=>(p(_),y("div",{class:a.value},me(_.navigation,c())))}});const Fe=t=>(ee("data-v-94f93548"),t=t(),te(),t),Ee={class:"text-h6",align:"center"},Te={for:"fileInput"},je=["src"],Ke={key:0,class:"overlay"},Le=Fe(()=>u("div",null,"Profile",-1)),Me={class:"q-gutter-y-sm"},Oe="Profile Picture",Ye={__name:"UserStep1",props:["userData"],emits:["updateData"],setup(t){x("");const _=x(!0),o=x(!0),h=x(150),p=x(!1),f=x("https://cdn.quasar.dev/img/boy-avatar.png"),{userData:m}=t,n=B({email:"",password:"",confirmPass:""});O(()=>{Object.assign(n,m)});const g=()=>{f.value="https://cdn.quasar.dev/img/boy-avatar.png"},w=()=>{console.log("Edit image clicked")},$=r=>{const s=r.target.files[0];if(s){const a=new FileReader;a.onload=()=>{f.value=a.result},a.readAsDataURL(s)}};return(r,s)=>(q(),k(I,{flat:"",class:"q-pa-sm",style:{width:"500px","max-width":"80vw"}},{default:d(()=>[l(V,null,{default:d(()=>[u("div",Ee,[u("div",{class:"profile-picture",style:ve({width:h.value+"px",height:h.value+"px"})},[u("label",Te,[l(X,{size:"150px",color:"grey-2"},{default:d(()=>[u("img",{src:f.value,alt:Oe,onError:g},null,40,je)]),_:1}),u("input",{type:"file",outlined:"",id:"fileInput",accept:"image/*",style:{display:"none"},onChange:$},null,32)]),p.value?(q(),U("div",Ke,[l(S,{name:"edit",onClick:w,class:"edit-icon"})])):Y("",!0)],4),Le])]),_:1}),l(V,null,{default:d(()=>[u("div",Me,[u("div",null,[l(C,{"onUpdate:modelValue":[s[0]||(s[0]=a=>r.$emit("updateData",n)),s[1]||(s[1]=a=>n.email=a)],modelValue:n.email,outlined:"",dense:"",placeholder:"email","lazy-rules":"",rules:[a=>a&&a.length>0||"Email required"],type:"email",suffix:"@gmail.com"},{prepend:d(()=>[l(S,{name:"mail"})]),_:1},8,["modelValue","rules"])]),u("div",null,[l(C,{modelValue:n.password,"onUpdate:modelValue":[s[3]||(s[3]=a=>n.password=a),s[4]||(s[4]=a=>r.$emit("updateData",n))],outlined:"",dense:"",placeholder:"Password",type:_.value?"password":"text","lazy-rules":"",rules:[a=>a&&a.length>0||"Password is required"]},{prepend:d(()=>[l(S,{name:"lock"})]),append:d(()=>[l(S,{name:_.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=a=>_.value=!_.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),u("div",null,[l(C,{modelValue:n.confirmPass,"onUpdate:modelValue":[s[6]||(s[6]=a=>n.confirmPass=a),s[7]||(s[7]=a=>r.$emit("updateData",n))],outlined:"",dense:"",type:o.value?"password":"text",placeholder:"Confirm password","lazy-rules":"",rules:[()=>n.password===n.confirmPass||"Passwords doesn't match"]},{prepend:d(()=>[l(S,{name:"lock"})]),append:d(()=>[l(S,{name:o.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[5]||(s[5]=a=>o.value=!o.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])])])]),_:1})]),_:1}))}};var He=T(Ye,[["__scopeId","data-v-94f93548"]]);const We={class:"q-my-md"},Je={key:0,class:"custom-list z-top"},Ze={class:"q-gutter-y-sm"},Ge={class:"q-gutter-y-sm q-mx-auto"},Xe={class:"row q-gutter-x-sm item-start"},et={class:"row q-gutter-x-md"},tt=u("div",null,"Designation",-1),at={class:"row q-gutter-x-md"},st={__name:"UserStep2",props:{userData:{type:Object,default:()=>({})}},emits:["updateData"],setup(t,{emit:_}){const o=_,{userData:h}=t,p=De(),f=x(""),m=b(()=>p.employees),n=async()=>{f.value.trim()&&await p.searchEmployeesWithDesignation(f.value)},g=s=>{const a=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",e=s.firstname?a(s.firstname):"No Firstname",c=s.middlename?a(s.middlename).charAt(0)+".":"",i=s.lastname?a(s.lastname):"No Lastname";return`${e} ${c} ${i}`},w=s=>{if(!s)return"Not Applicable";const[a,e]=s.split(":"),c=new Date;return c.setHours(a,e),c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})},$=s=>{var a,e,c,i;r.employee_id=s.id||"Not Available",r.user_first_name=s.firstname||"",r.user_middle_name=s.middlename||"",r.user_last_name=s.lastname||"",r.user_address=s.address||"No Address",r.user_birthdate=s.birthdate||"Not Provided",r.user_sex=s.sex||"Unknown",r.user_phone_number=s.phone||"No Phone",r.user_position=s.position||"Not Assigned",r.user_branch_name=((e=(a=s.branch_employee)==null?void 0:a.branch)==null?void 0:e.name)||"Not Applicable",r.user_time_shift=(c=s.branch_employee)!=null&&c.time_shift?w((i=s.branch_employee)==null?void 0:i.time_shift):"Not Applicable",f.value="",o("updateData",r)},r=B({employee_id:"",user_first_name:"",user_middle_name:"",user_last_name:"",user_address:"",user_birthdate:"",user_sex:"",user_phone_number:"",user_position:"",user_branch_name:"",user_time_shift:""});return console.log("userPersonalInfoForm:",r),O(()=>{Object.assign(r,h)}),(s,a)=>(q(),k(I,{flat:"",style:{width:"500px","max-width":"80vw"}},{default:d(()=>[u("div",We,[l(C,{dense:"",rounded:"",outlined:"",placeholder:"Search employee",modelValue:f.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>f.value=e),n],debounce:"500"},{append:d(()=>[l(S,{name:"search"})]),default:d(()=>[f.value?(q(),U("div",Je,[l(I,null,{default:d(()=>[l(Ve,{separator:""},{default:d(()=>{var e;return[(e=m.value)!=null&&e.length?(q(!0),U(N,{key:1},F(m.value,c=>(q(),k(W,{onClick:i=>$(c),key:c.id,clickable:""},{default:d(()=>[l(Pe,null,{default:d(()=>[z(D(g(c)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(q(),k(W,{key:0},{default:d(()=>[z(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):Y("",!0)]),_:1},8,["modelValue"])]),l(V,null,{default:d(()=>[u("div",Ze,[u("div",Ge,[l(C,{class:"text-capitalize",modelValue:r.user_first_name,"onUpdate:modelValue":[a[1]||(a[1]=e=>r.user_first_name=e),a[2]||(a[2]=e=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"First Name",rules:[e=>e&&e.length>0||"Required"]},null,8,["modelValue","rules"]),l(C,{class:"text-capitalize",modelValue:r.user_middle_name,"onUpdate:modelValue":[a[3]||(a[3]=e=>r.user_middle_name=e),a[4]||(a[4]=e=>s.$emit("updateData",r))],outlined:"",readonly:"",dense:"",label:"Middle Name",rules:[e=>e&&e.length>0||"Required"]},null,8,["modelValue","rules"]),l(C,{class:"text-capitalize",modelValue:r.user_last_name,"onUpdate:modelValue":[a[5]||(a[5]=e=>r.user_last_name=e),a[6]||(a[6]=e=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Last Name",rules:[e=>e&&e.length>0||"Required"]},null,8,["modelValue","rules"]),l(C,{class:"text-capitalize",modelValue:r.user_address,"onUpdate:modelValue":[a[7]||(a[7]=e=>r.user_address=e),a[8]||(a[8]=e=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Address",rules:[e=>e&&e.length>0||"Required"]},null,8,["modelValue","rules"])]),u("div",Xe,[u("div",null,[l(C,{modelValue:r.user_birthdate,"onUpdate:modelValue":[a[9]||(a[9]=e=>r.user_birthdate=e),a[10]||(a[10]=e=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Birthdate",type:"date",style:{width:"230px"},rules:[e=>e&&e.length>0||"Required"]},null,8,["modelValue","rules"])]),u("div",null,[l(C,{modelValue:r.user_sex,"onUpdate:modelValue":[a[11]||(a[11]=e=>r.user_sex=e),a[12]||(a[12]=e=>s.$emit("updateData",r))],dense:"",outlined:"",readonly:"",label:"Sex",options:s.genderOptions,rules:[e=>e&&e.length>0||"Required"],style:{width:"120px"},behavior:"menu","hide-dropdown-icon":""},null,8,["modelValue","options","rules"])])]),u("div",et,[u("div",null,[l(C,{modelValue:r.user_phone_number,"onUpdate:modelValue":[a[13]||(a[13]=e=>r.user_phone_number=e),a[14]||(a[14]=e=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Phone Number",mask:"+(63) ### - ### - ####",placeholder:"(+63) ### - ### - ####",rules:[e=>e&&e.length>0||"Required"],style:{width:"300px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])]),u("div",null,[l(C,{modelValue:r.user_position,"onUpdate:modelValue":[a[15]||(a[15]=e=>r.user_position=e),a[16]||(a[16]=e=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"","hide-dropdown-icon":"",label:"Position",options:s.positionOptions,rules:[e=>e&&e.length>0||"Required"],style:{width:"150px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options","rules"])])]),tt,u("div",at,[u("div",null,[l(C,{modelValue:r.user_branch_name,"onUpdate:modelValue":[a[17]||(a[17]=e=>r.user_branch_name=e),a[18]||(a[18]=e=>s.$emit("updateData",r))],outlined:"",flat:"",readonly:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:s.filterBranchOptions,label:"Branch",onFilter:s.filteredBranches,style:{width:"250px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":"",behavior:"menu"},null,8,["modelValue","options","onFilter"])]),u("div",null,[l(C,{outlined:"",modelValue:r.user_time_shift,"onUpdate:modelValue":[a[19]||(a[19]=e=>r.user_time_shift=e),a[20]||(a[20]=e=>s.$emit("updateData",r))],flat:"",dense:"",readonly:"",mask:"##:## AA",label:"Time Schedule",rules:s.valididateTime,hint:"Format: 01:00 AM/PM",style:{width:"200px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"])])])])]),_:1})]),_:1}))}},lt=u("div",{class:"text-h6"},"User Profile",-1),rt={class:"col-6"},nt={class:"col-6"},ot={class:"q-pa-sm"},it={__name:"UserStepFinish",props:["userData"],emits:["save"],setup(t,{emit:_}){const{userData:o}=t;console.log("user data",o);function h(f){return f.split(/[\s,]+/).map(m=>m.split(/([.-]+)/).map(g=>g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()).join("")).join(" ")}const p=b(()=>[{label:"Username:",value:`${o.email}@gmail.com`},{label:"Full Name:",value:`${o.user_first_name.charAt(0).toUpperCase()}${o.user_first_name.slice(1)} ${o.user_middle_name.charAt(0).toUpperCase()}${o.user_middle_name.slice(1)} ${o.user_last_name.charAt(0).toUpperCase()}${o.user_last_name.slice(1)}`},{label:"Address:",value:h(o.user_address)},{label:"Birthdate:",value:o.user_birthdate.charAt(0).toUpperCase()+o.user_birthdate.slice(1)},{label:"Sex:",value:o.user_sex.charAt(0).toUpperCase()+o.user_sex.slice(1)},{label:"Position:",value:`${o.user_position.charAt(0).toUpperCase()+o.user_position.slice(1)}`},{label:"Phone Number:",value:o.user_phone_number.charAt(0).toUpperCase()+o.user_phone_number.slice(1)},{label:"Position:",value:o.user_position.charAt(0).toUpperCase()+o.user_position.slice(1)},{label:"Designation:",value:o.user_position||""},{label:"Branch:",value:o.user_branch_name||""},{label:"Time Shift:",value:o.user_time_shift||""}]);return(f,m)=>(q(),k(I,{flat:""},{default:d(()=>[l(V,null,{default:d(()=>[lt]),_:1}),l(V,null,{default:d(()=>[(q(!0),U(N,null,F(p.value,(n,g)=>(q(),U("div",{key:g,class:"row"},[u("div",rt,[l(ae,{square:"",color:"grey-1"},{default:d(()=>[z(D(n.label),1)]),_:2},1024)]),u("div",nt,[u("div",ot,D(n.value),1)])]))),128))]),_:1})]),_:1}))}};const ut={class:"q-ma-xm",align:"right"},dt={__name:"UsersCreate",setup(t){const _=b(()=>o.users),o=se(),h=x(1),p=x(!0);x(!1);const f=x(!1),m=B({email:"",password:"",confirmPass:""}),n=B({employee_id:"",user_first_name:"",user_middle_name:"",user_last_name:"",user_address:"",user_birthdate:"",user_sex:"",user_phone_number:"",user_position:"",user_branch_name:"",user_time_shift:""}),g=c=>{Object.assign(m,c),p.value=!(m.password&&m.confirmPass&&m.password===m.confirmPass)},w=c=>{console.log("setsuer data",c),Object.assign(n,c),p.value=!(n.employee_id&&n.user_first_name&&n.user_last_name&&n.user_address&&n.user_birthdate&&n.user_sex&&n.user_phone_number&&n.user_position&&n.user_branch_name)},$=b(()=>({...m,...n})),r=()=>{f.value=!0},s=()=>{h.value===3?e():h.value++},a=()=>{m.email="",m.password="",m.confirmPass="",n.employee_id="",n.user_first_name="",n.user_middle_name="",n.user_last_name="",n.user_address="",n.user_birthdate="",n.user_sex="",n.user_phone_number="",n.user_position="",n.user_branch_name="",n.user_time_shift="",h.value=1,p.value=!0},e=async()=>{try{const c={employee_id:n.employee_id,email:`${m.email}@gmail.com`,password:m.password,role:n.user_position};console.log("userdata to send:",c),await o.registerUser(c),f.value=!1,a(),_.value=await o.fetchUsers()}catch{}};return(c,i)=>(q(),U(N,null,[u("div",null,[l(Q,{class:"text-dark q-pa-sm",outline:"",icon:"add_circle",label:"Add User",onClick:r})]),l(fe,{modelValue:f.value,"onUpdate:modelValue":i[2]||(i[2]=v=>f.value=v),persistent:"","full-height":""},{default:d(()=>[l(I,null,{default:d(()=>[u("div",ut,[Z(l(Q,{class:"q-ma-sm",icon:"close",flat:"",dense:"",round:""},null,512),[[Ue]])]),u("div",null,[l(ze,{class:"",modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=v=>h.value=v),ref:"stepper",animated:"","done-color":"green","active-color":"blue","inactive-color":"grey",flat:"",align:"center"},{navigation:d(()=>[l(Qe,{class:"q-ma-none"},{default:d(()=>[u("div",null,[h.value>1?(q(),k(Q,{key:0,flat:"",color:"primary",onClick:i[0]||(i[0]=v=>c.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):Y("",!0),l(Q,{disable:p.value,onClick:s,color:"primary",label:h.value===3?"Save":"Continue"},null,8,["disable","label"])])]),_:1})]),default:d(()=>[l(L,{name:1,title:"Sign Up",icon:"settings",done:h.value>1},{default:d(()=>[l(He,{onUpdateData:g,userData:m},null,8,["userData"])]),_:1},8,["done"]),l(L,{name:2,title:"Personal Info",icon:"settings",done:h.value>2},{default:d(()=>[l(st,{onUpdateData:w,userData:n},null,8,["userData"])]),_:1},8,["done"]),l(L,{name:3,title:"Checked Personal Info",icon:"settings",done:h.value>3},{default:d(()=>[l(it,{userData:$.value,onSave:e},null,8,["userData"])]),_:1},8,["done"])]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])],64))}};var ct=T(dt,[["__scopeId","data-v-6c977e5e"]]);const ne=t=>(ee("data-v-32e889b7"),t=t(),te(),t),pt={class:"q-pa-md elegant-container"},mt={key:0,class:"skeleton-wrapper row q-col-gutter-md"},_t={key:1,class:"data-error"},vt=ne(()=>u("div",null,"No data available",-1)),ft={key:2,class:"q-pa-md row q-col-gutter-md"},ht=ne(()=>u("img",{src:"https://cdn.quasar.dev/img/mountains.jpg"},null,-1)),gt={class:"q-mt-lg"},bt={class:"text-h6 text-weight-medium elegant-name text-capitalize"},yt={class:"q-mb-sm elegant-detail"},qt={class:"email-display"},xt={class:"email-text"},wt={class:"q-mb-sm elegant-detail"},$t={class:"q-mb-sm elegant-detail"},Ct={class:"q-mb-sm elegant-detail text-capitalize"},St={__name:"UsersCard",setup(t){const _=se();he(),x(null),Ne();const o=b(()=>_.users);console.log("userdatasssss  ",o.value),O(async()=>{await h()});const h=async()=>{try{m.value=!0,o.value=await _.fetchUsers(),o.value.length||(n.value=!0),console.log("Users",o.value)}catch(s){console.log("error fetching recipe: ",s),n.value=!0}finally{m.value=!1}},p=s=>Ae.formatDate(s,"MMMM D, YYYY"),f=s=>{if(!s)return"";const{firstname:a,middlename:e,lastname:c}=s,i=a.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" "),v=e?`${e.charAt(0).toUpperCase()}.`:"",A=c.charAt(0).toUpperCase();return`${i} ${v} ${A}${c.slice(1)}`},m=x(!0),n=x(!1),g=x(""),w=async()=>{m.value=!0,n.value=!1,await _.searchUser(g.value),m.value=!1},$=async(s,a)=>{try{const e=s.id;o.value.email=a,await _.updateEmail(e,a),ye.create({type:"positive",message:"yeah"})}catch(e){console.log("===================================="),console.log("ERRRR",e),console.log("====================================")}},r=s=>{switch(s){case"Super Admin":return"blue-10";case"Admin":return"purple-10";case"Supervisor":return"teal-7";case"Scaler":return"green-8";case"Lamesador":return"orange-5";case"Hornero":return"red-6";case"Baker":return"brown";case"Cake Maker":return"brown-4";case"Cashier":return"green-5";case"Sales Clerk":return"blue-5";case"Utility":return"grey-7";case"Not Yet Assigned":return"grey-4";default:return"grey-4"}};return(s,a)=>(q(),k(Ie,null,{default:d(()=>[u("div",pt,[u("div",null,[l(C,{class:"q-pb-lg",modelValue:g.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>g.value=e),w],outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"100%","max-width":"600px"}},{append:d(()=>[l(S,{name:"search"})]),_:1},8,["modelValue"])]),m.value?(q(),U("div",mt,[(q(),U(N,null,F(8,e=>u("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:e},[l(I,{class:"user-card skeleton-card"},{default:d(()=>[l(P,{height:"200px",class:"q-mb-md"}),l(V,{class:"text-center"},{default:d(()=>[l(P,{type:"circle",size:"80px",class:"q-mb-md"}),l(P,{type:"text",width:"60%",class:"q-mt-lg"}),l(P,{type:"text",width:"40%",class:"q-mt-sm"})]),_:1}),l(K),l(V,null,{default:d(()=>[l(P,{type:"text",width:"80%",class:"q-mb-sm"}),l(P,{type:"text",width:"60%",class:"q-mb-sm"}),l(P,{type:"text",width:"70%",class:"q-mb-sm"}),l(P,{type:"text",width:"50%",class:"q-mb-sm"}),l(P,{type:"text",width:"90%",class:"q-mt-md"})]),_:1}),l(K),l(ge,{class:"q-pa-md text-center"},{default:d(()=>[l(P,{type:"rect",width:"40%",height:"36px"})]),_:1})]),_:1})])),64))])):n.value?(q(),U("div",_t,[l(S,{name:"error",size:"50px",color:"negative"}),vt])):(q(),U("div",ft,[(q(!0),U(N,null,F(o.value,e=>(q(),U("div",{key:e.id,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[l(I,{class:"user-card"},{default:d(()=>[ht,l(V,{class:"text-center"},{default:d(()=>[u("div",null,[l(X,{icon:"person",size:"80px",color:"primary","text-color":"white",class:"q-mb-md absolute",style:{top:"0",left:"12px",transform:"translateY(-50%)"}})]),u("div",gt,[u("div",bt,D(f(e)),1),l(ae,{color:r(e.role),"text-color":"white",class:"q-mt-sm elegant-chip"},{default:d(()=>[z(D(e.role),1)]),_:2},1032,["color"])])]),_:2},1024),l(K,{class:"separator q-mx-md"}),l(V,null,{default:d(()=>[u("div",yt,[l(S,{name:"mail",class:"q-mr-sm"}),l(ke,{"onUpdate:modelValue":[c=>$(e,c),c=>e.email=c],modelValue:e.email,title:"Edit Email",persistent:"","auto-save":"",buttons:"","label-set":"Save","label-cancel":"Close",fit:"","transition-show":"scale","transition-hide":"scale"},{default:d(c=>[l(C,{modelValue:c.value,"onUpdate:modelValue":i=>c.value=i,dense:"",type:"email",rules:[s.emailRule],placeholder:"Email",class:"popup-input",filled:"",borderless:"",onKeyup:be(c.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"]),u("div",qt,[u("span",xt,D(e.email),1),l(S,{name:"edit",size:"sm",class:"edit-icon text-light-green-13"})])]),u("div",wt,[l(S,{name:"calendar_today",class:"q-mr-sm"}),u("span",null,D(p(e.birthdate)),1)]),u("div",$t,[l(S,{name:"smartphone",class:"q-mr-sm"}),u("span",null,D(e.phone),1)]),u("div",Ct,[l(S,{name:"location_on",class:"q-mr-sm"}),u("span",null,D(e.address),1)])]),_:2},1024)]),_:2},1024)]))),128))]))])]),_:1}))}};var Ut=T(St,[["__scopeId","data-v-32e889b7"]]);const Vt={align:"right"},Pt={__name:"UsersPage",setup(t){return(_,o)=>(q(),k(I,{class:"elegant-container",flat:""},{default:d(()=>[l(V,null,{default:d(()=>[u("div",Vt,[l(ct)])]),_:1}),l(V,null,{default:d(()=>[l(Ut)]),_:1})]),_:1}))}};var ta=T(Pt,[["__scopeId","data-v-6734ec34"]]);export{ta as default};
