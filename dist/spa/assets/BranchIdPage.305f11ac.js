import{bd as ce,c as U,r as q,t as Ie,o as h,a2 as S,f as e,M as N,w as t,Q as T,I as P,ad as ee,J as a,K as E,L as le,e as A,$ as V,a3 as I,a4 as se,_ as f,bc as Qe,aI as ke,a1 as K,a0 as Te,N as pe,O as X,R as Z,z as _e,u as He,ba as Re,aJ as rt,be as F,d as it,aH as dt,H as ct,P as Je}from"./index.04e5d2a1.js";import{Q as Ue}from"./QSpace.2c2f2edb.js";import{Q as Be,a as ae,b as Ae,c as oe}from"./QTabPanels.884a00c0.js";import{Q as ut}from"./QPage.1e0ef3aa.js";import{Q as Fe,a as he,b as $e}from"./QList.cac99ad7.js";import{b as ze}from"./use-virtual-scroll.d9a82e64.js";import{C as te}from"./ClosePopup.75c7dc8b.js";import{u as Ee}from"./branch-product.595f4f73.js";import{u as Ze}from"./product.5c4dec6d.js";import{Q as Le}from"./QSpinnerDots.49edc050.js";import{Q as z}from"./QTd.c6470de7.js";import{Q as W}from"./QBadge.faf807a8.js";import{Q as J}from"./QTooltip.69398712.js";import{Q as qe}from"./QPopupEdit.dcc33f33.js";import{Q as ne}from"./QTable.567840bb.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";import{api as be}from"./axios.51ed7a81.js";import{u as Ye}from"./branch-rawMaterials.e3c7ae3e.js";import{u as et}from"./raw-material.3f55bb55.js";import{u as we}from"./use-dialog-plugin-component.2a6690e0.js";import{q as re}from"./date.77b26df7.js";import{p as Me,v as tt}from"./vfs_fontes.3eb8cb31.js";import{u as Ce}from"./use-quasar.16217ffd.js";import{Q as Ve}from"./QScrollArea.dfe41ab4.js";import{u as De,a as Ne}from"./softdrinks-products.60428fa4.js";import{Q as Oe}from"./QSelect.8847eac9.js";import{Q as Xe}from"./QChip.86896193.js";import{u as mt}from"./recipe.59c9d67b.js";import{u as Ke}from"./branch-recipe.ed595699.js";import"./QResizeObserver.92867d05.js";import"./use-panel.505210cf.js";import"./touch.9135741d.js";import"./selection.2d402656.js";import"./QMenu.30ddde90.js";import"./QVirtualScroll.dfc83220.js";import"./QScrollObserver.84a8d28b.js";import"./TouchPan.2ca12d25.js";const pt=a("div",{class:"text-h6"},"Create Branch Product",-1),_t={class:"q-mb-lg"},ft={key:0,class:"custom-list z-top"},gt=a("div",null,"Product Name",-1),vt=a("div",null,"Category",-1),yt={class:"row justify-between"},ht=a("div",null,"Beginnings",-1),bt=a("div",null,"Total Quantity",-1),wt=a("div",null,"Price",-1),xt={__name:"ProductCreate",setup(s){const v=ce(),x=Ze(),w=U(()=>x.products),g=Ee(),m=q(""),y=async()=>{x.searchProducts(m.value)},i=U(()=>r.price!==0&&r.beginnings!==0&&r.total_quantity!==0),p=q(!1),b=()=>{p.value=!0},o=()=>{_(),p.value=!1},n=u=>u?u.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",l=u=>{r.product_id=u.id,r.product_name=u.name,r.category=u.category,m.value=""},r=Ie({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:v.params.branch_id}),_=()=>{r.product_id="",r.product_name="",r.category="",r.price=0,r.beginnings=0,r.total_quantity=0},c=async()=>{try{const{product_name:u,...d}=r;await g.createBranchProducts(d),console.log("data to send",d),_(),p.value=!1}catch(u){console.log(u)}};return(u,d)=>(h(),S(I,null,[e(N,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:b}),e(K,{modelValue:p.value,"onUpdate:modelValue":d[6]||(d[6]=R=>p.value=R),persistent:""},{default:t(()=>[e(T,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(P,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[pt,e(Ue),ee(e(N,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e(P,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",_t,[e(E,{modelValue:m.value,"onUpdate:modelValue":[d[0]||(d[0]=R=>m.value=R),y],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(le,{name:"search"})])]),default:t(()=>[m.value?(h(),S("div",ft,[e(T,null,{default:t(()=>[e(Fe,{separator:""},{default:t(()=>{var R;return[(R=w.value)!=null&&R.length?(h(!0),S(I,{key:1},se(w.value,$=>(h(),A(he,{onClick:D=>l($),key:$.id,clickable:""},{default:t(()=>[e($e,null,{default:t(()=>[e(ze,null,{default:t(()=>[V(f(n($.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),A(he,{key:0},{default:t(()=>[V(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Qe("",!0)]),_:1},8,["modelValue"])]),a("div",null,[gt,e(E,{modelValue:r.product_name,"onUpdate:modelValue":d[1]||(d[1]=R=>r.product_name=R),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[vt,e(E,{modelValue:r.category,"onUpdate:modelValue":d[2]||(d[2]=R=>r.category=R),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",yt,[a("div",null,[ht,e(E,{modelValue:r.beginnings,"onUpdate:modelValue":d[3]||(d[3]=R=>r.beginnings=R),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[bt,e(E,{modelValue:r.total_quantity,"onUpdate:modelValue":d[4]||(d[4]=R=>r.total_quantity=R),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[wt,e(E,{modelValue:r.price,"onUpdate:modelValue":d[5]||(d[5]=R=>r.price=R),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(ke,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(N,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:o}),e(N,{class:"glossy",color:"teal",label:"Create",onClick:c,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const at=s=>(X("data-v-196482e9"),s=s(),Z(),s),$t=at(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),kt=at(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Ct={__name:"ProductDelete",props:["delete"],setup(s){const v=Ee(),x=s;console.log("delte",x.delete.row.id);const w=async()=>{try{await v.deleteBranchProducts(x.delete.row.id),pe.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),g.value=!1}catch(y){console.error(y.message)}},g=q(!1),m=()=>{console.log("ID",x.delete.row.id),g.value=!0};return(y,i)=>(h(),S(I,null,[e(N,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(J,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=p=>g.value=p)},{default:t(()=>[e(T,null,{default:t(()=>[e(P,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[$t,kt]),_:1}),e(Te,{class:"q-mb-md"}),e(P,null,{default:t(()=>[e(ke,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(N,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(N,{dense:"",label:"Delete",color:"negative",onClick:w,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Rt=G(Ct,[["__scopeId","data-v-196482e9"]]);const Pt=s=>(X("data-v-7e992bc7"),s=s(),Z(),s),St={class:"row justify-between"},qt={class:"q-my-sm"},Vt={key:0,class:"spinner-wrapper"},Dt={key:1},Nt={key:0,class:"data-error"},Tt=Pt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ut={key:1},Bt={__name:"ProductTable",setup(s){const x=ce().params.branch_id,w=Ee(),g=q(""),m=q(!0),y=q([]),i=q(!1),p=q({rowsPerPage:0}),b=U(()=>w.branchProducts);console.log("branchssdfrer",b.value);const o=U(()=>g.value?b.value.filter($=>$.name.toLowerCase().includes(g.value.toLowerCase())):b.value),n=$=>$?$.split(" ").map(D=>D.charAt(0).toUpperCase()+D.slice(1).toLowerCase()).join(" "):"";_e(async()=>{x&&await l(x)});const l=async $=>{try{m.value=!0;const D=await w.fetchBranchProducts($);b.value=D,b.value.length||(i.value=!0),console.log("Branch product",b.value)}catch(D){console.log("Error fetching branch product:",D),i.value=!0}finally{m.value=!1}};He(g,async $=>{m.value=!0,await new Promise(D=>setTimeout(D,1e3)),m.value=!1,i.value=o.value.length===0});async function r($,D){try{const k=await be.put("/api/update-branch-products/"+$.id,{price:parseInt(D)});if(k.status===200){const C=y.value.findIndex(M=>M.id==$.id);y.value[C]=parseInt(D),pe.create({type:"positive",message:k.data.message,timout:1e3,position:"top"})}}catch(k){console.error("Error updating price:",k)}}async function _($,D){try{const k=await be.put("/api/update-branch-products-beginnings/"+$.id,{beginnings:parseInt(D)});if(k.status===200){const C=y.value.findIndex(M=>M.id==$.id);y.value[C]=parseInt(D),pe.create({type:"positive",message:k.data.message,timout:1e3,position:"top"})}}catch(k){console.error("Error updating price:",k)}}async function c($,D){try{const k=await be.put("/api/update-branch-products-total-quantity/"+$.id,{total_quantity:parseInt(D)});if(k.status===200){const C=y.value.findIndex(M=>M.id==$.id);y.value[C]=parseInt(D),pe.create({type:"positive",message:k.data.message,timout:1e3,position:"top"})}}catch(k){console.error("Error updating price:",k)}}const u=$=>{switch($){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},d=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format($),R=[{name:"name",label:"Product Name",align:"center",field:$=>$.product.name,format:$=>`${$}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:$=>d($),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:$=>`${$} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:$=>`${$} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return($,D)=>(h(),S(I,null,[a("div",St,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:g.value,"onUpdate:modelValue":D[0]||(D[0]=k=>g.value=k),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(le,{name:"search"})]),_:1},8,["modelValue"])]),a("div",qt,[e(xt)])]),m.value?(h(),S("div",Vt,[e(Le,{size:"50px",color:"primary"})])):(h(),S("div",Dt,[o.value.length===0?(h(),S("div",Nt,[e(le,{name:"warning",color:"warning",size:"4em"}),Tt])):(h(),A(ne,{key:1,class:"table-container sticky-header",filter:g.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:R,rows:o.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":D[1]||(D[1]=k=>p.value=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(k=>[e(z,{key:"name",props:k},{default:t(()=>{var C;return[V(f((C=k.row.product)!=null&&C.name?n(k.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(k=>[e(z,{key:"name",props:k},{default:t(()=>[k.row.category?(h(),A(W,{key:0,color:u(k.row.category)},{default:t(()=>[V(f(k.row.category),1)]),_:2},1032,["color"])):(h(),S("span",Ut,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(k=>[e(z,{props:k,class:"cursor-pointer"},{default:t(()=>[a("span",null,[V(f(d(k.row.price))+" ",1),e(J,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit Price")]),_:1})]),e(qe,{"onUpdate:modelValue":[C=>r(k.row,C),C=>k.row.price=C],modelValue:k.row.price,"auto-save":""},{default:t(C=>[e(E,{modelValue:C.value,"onUpdate:modelValue":M=>C.value=M,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(k=>[e(z,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[V(f(k.row.beginnings?k.row.beginnings:"Set Beginnings")+" ",1),e(J,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit beginnings")]),_:1})]),e(qe,{"onUpdate:modelValue":[C=>_(k.row,C),C=>k.row.beginnings=C],modelValue:k.row.beginnings,"auto-save":""},{default:t(C=>[e(E,{modelValue:C.value,"onUpdate:modelValue":M=>C.value=M,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(k=>[e(z,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[V(f(k.row.total_quantity?k.row.total_quantity:"Set Quantity")+" ",1),e(J,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit quantity")]),_:1})]),e(qe,{"onUpdate:modelValue":[C=>c(k.row,C),C=>k.row.total_quantity=C],modelValue:k.row.total_quantity,"auto-save":""},{default:t(C=>[e(E,{modelValue:C.value,"onUpdate:modelValue":M=>C.value=M,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(k=>[e(z,{class:"q-gutter-x-md",props:k},{default:t(()=>[e(Rt,{delete:k},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var At=G(Bt,[["__scopeId","data-v-7e992bc7"]]);const It={class:"q-gutter-sm"},Ft={__name:"ProductPage",setup(s){return(v,x)=>(h(),S("div",It,[a("div",null,[e(At)])]))}},zt=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Mt={class:"q-mb-lg"},Ht={key:0,class:"custom-list z-top"},Lt=a("div",null,"Raw Materials Code",-1),jt=a("div",null,"Raw Materials Name",-1),Ot=a("div",null,"Category",-1),Qt=a("div",null,"Quantity",-1),Et={__name:"RawMaterialsCreate",setup(s){const v=ce(),x=et(),w=U(()=>x.rawMaterials),g=Ye(),m=q(""),y=async()=>{x.searchRawMaterials(m.value)},i=U(()=>l.total_quantity!==""),p=q(!1),b=()=>{p.value=!0},o=()=>{r(),p.value=!1},n=c=>{l.ingredients_id=c.id,l.ingredient_name=c.name,l.ingredient_code=c.code,l.category=c.category,l.unit=c.unit,m.value=""},l=Ie({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:v.params.branch_id}),r=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},_=async()=>{try{const{product_name:c,...u}=l;await g.createBranchRawMaterials(u),console.log("data to send",u),r(),p.value=!1}catch(c){console.log(c)}};return(c,u)=>(h(),S(I,null,[e(N,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:b,style:{background:"#f43f5e"}}),e(K,{modelValue:p.value,"onUpdate:modelValue":u[5]||(u[5]=d=>p.value=d),persistent:""},{default:t(()=>[e(T,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(P,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[zt,e(Ue),ee(e(N,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e(P,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Mt,[e(E,{modelValue:m.value,"onUpdate:modelValue":[u[0]||(u[0]=d=>m.value=d),y],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(le,{name:"search"})])]),default:t(()=>[m.value?(h(),S("div",Ht,[e(T,null,{default:t(()=>[e(Fe,{separator:""},{default:t(()=>{var d;return[(d=w.value)!=null&&d.length?(h(!0),S(I,{key:1},se(w.value,R=>(h(),A(he,{onClick:$=>n(R),key:R.id,clickable:""},{default:t(()=>[e($e,null,{default:t(()=>[e(ze,null,{default:t(()=>[V(f(R.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),A(he,{key:0},{default:t(()=>[V(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Qe("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Lt,e(E,{modelValue:l.ingredient_code,"onUpdate:modelValue":u[1]||(u[1]=d=>l.ingredient_code=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[jt,e(E,{modelValue:l.ingredient_name,"onUpdate:modelValue":u[2]||(u[2]=d=>l.ingredient_name=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Ot,e(E,{modelValue:l.category,"onUpdate:modelValue":u[3]||(u[3]=d=>l.category=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Qt,e(E,{modelValue:l.total_quantity,"onUpdate:modelValue":u[4]||(u[4]=d=>l.total_quantity=d),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[d=>d&&d.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(ke,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(N,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:o}),e(N,{class:"glossy",color:"teal",label:"Create",onClick:_,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const lt=s=>(X("data-v-17ad5e9f"),s=s(),Z(),s),Yt=lt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Kt=lt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Gt={__name:"RawMaterialsTableDelete",props:["delete"],setup(s){const v=Ye(),x=s,w=async()=>{console.log("clickkkd");try{await v.deleteBranchRawMaterials(x.delete.row.id),pe.create({type:"negative",icon:"warning",message:`Raw Materials ${x.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),g.value=!1}catch(y){console.error(y.message)}},g=q(!1),m=()=>{g.value=!0};return(y,i)=>(h(),S(I,null,[e(N,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(J,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=p=>g.value=p)},{default:t(()=>[e(T,null,{default:t(()=>[e(P,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Yt,Kt]),_:1}),e(Te,{class:"q-mb-md"}),e(P,null,{default:t(()=>[e(ke,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(N,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(N,{dense:"",label:"Delete",color:"negative",onClick:w,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Wt=G(Gt,[["__scopeId","data-v-17ad5e9f"]]);const nt=s=>(X("data-v-74a3fea6"),s=s(),Z(),s),Jt={class:"row justify-between"},Xt={class:"q-my-sm"},Zt={key:0,class:"spinner-wrapper"},ea={key:1},ta={key:0,class:"data-error"},aa=nt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),la=nt(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),na={class:"row justify-center q-gutter-x-md"},oa={__name:"RawMaterialsTable",setup(s){const x=ce().params.branch_id,w=Ye(),g=q(""),m=q(!0),y=q([]),i=q(!1),p=q({rowsPerPage:0}),b=U(()=>w.branchRawMaterials),o=U(()=>g.value?b.value.filter(u=>u.name.toLowerCase().includes(g.value.toLowerCase())):b.value);_e(async()=>{console.log("props.branchId in onMounted:",x),x&&await n(x)});const n=async u=>{try{m.value=!0;const d=await w.fetchBranchRawMaterials(u);b.value=d,b.value.length||(i.value=!0),console.log("Branch Raw Materials",b.value)}catch(d){console.log("Error fetching branch product:",d),i.value=!0}finally{m.value=!1}};async function l(u,d){try{const R=await be.put("/api/update-branch-rawMaterials/"+u.id,{total_quantity:parseInt(d)});if(R.status===200){const $=y.value.findIndex(D=>D.id==u.id);y.value[$]=parseInt(d),pe.create({type:"positive",message:R.data.message,timout:1e3,position:"top"})}}catch(R){console.error("Error updating price:",R)}}He(g,async u=>{m.value=!0,await new Promise(d=>setTimeout(d,1e3)),m.value=!1,i.value=o.value.length===0});const r=u=>{const d=u.total_quantity;if(u.ingredients.unit==="Grams"&&d<1e3)return"bg-red";let $;return d>=1e3?$=d/1e3:$=d,$<5?$<=2?"bg-red":($<=3,"bg-warning"):"bg-positive"},_=u=>{const d=u.total_quantity,R=u.ingredients.unit;if(d>1e3){const $=(d/1e3).toFixed(2);return $.endsWith(".00")?`${Math.round(d/1e3)} kilos`:`${$} kilos`}else return d>1?`${d} ${R}`:`${d} ${R}`},c=[{name:"code",label:"Raw Materials Code",align:"center",field:u=>{var d,R;return(R=(d=u==null?void 0:u.ingredients)==null?void 0:d.code)!=null?R:"No Code"},format:u=>`${u}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:u=>{var d,R;return(R=(d=u==null?void 0:u.ingredients)==null?void 0:d.name)!=null?R:"No Code"},format:u=>`${u}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(u,d)=>(h(),S(I,null,[a("div",Jt,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=R=>g.value=R),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(le,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Xt,[e(Et)])]),m.value?(h(),S("div",Zt,[e(Le,{size:"50px",color:"primary"})])):(h(),S("div",ea,[o.value.length===0?(h(),S("div",ta,[e(le,{name:"warning",color:"warning",size:"4em"}),aa])):(h(),A(ne,{key:1,class:"table-container sticky-header",filter:g.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:o.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":d[1]||(d[1]=R=>p.value=R),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(R=>[e(z,{props:R},{default:t(()=>[e(W,{square:"",class:rt(["text-white cursor-pointer",r(R.row)])},{default:t(()=>[V(f(_(R.row))+" ",1),e(J,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[la]),_:1}),e(qe,{"onUpdate:modelValue":[$=>l(R.row,$),$=>R.row.total_quantity=$],modelValue:R.row.total_quantity,"auto-save":""},{default:t($=>[e(E,{modelValue:$.value,"onUpdate:modelValue":D=>$.value=D,dense:"",suffix:R.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Re($.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(R=>[e(z,{props:R},{default:t(()=>[a("div",na,[e(Wt,{delete:R},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var sa=G(oa,[["__scopeId","data-v-74a3fea6"]]);const ra={class:"q-gutter-sm"},ia={class:"q-gutter-x-sm"},da={__name:"RawMaterialsPage",setup(s){return(v,x)=>(h(),S("div",ra,[a("div",ia,[e(W,{label:"Good",class:"text-white",color:"positive"}),e(W,{label:"Warning",class:"text-white",color:"warning"}),e(W,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(sa)])]))}};const Ge=s=>(X("data-v-239e42ee"),s=s(),Z(),s),ca=Ge(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),ua={class:"text-subtitle1 text-weight-regular"},ma={class:"row q-gutter-md"},pa={class:"text-h6 row justify-between"},_a={class:"row items-start q-gutter-x-md text-overline elegant-text"},fa={class:"row q-gutter-x-sm q-gutter-y-xm"},ga={class:"row q-gutter-x-sm q-gutter-y-xm"},va={class:"row q-gutter-x-sm"},ya={class:"row q-gutter-x-sm"},ha={class:"row"},ba={class:"col-6"},wa=Ge(()=>a("div",{class:"text-subtitle1",align:"center"},"Ingredients",-1)),xa={class:"row justify-center q-gutter-x-lg q-pa-lg"},$a={class:"row items-start"},ka={class:"col-6"},Ca=Ge(()=>a("div",{class:"text-subtitle1",align:"center"},"Bread",-1)),Ra={class:"row justify-center q-gutter-x-lg q-pa-lg"},Pa={key:0},Sa={key:1},qa={key:2},Va={class:"q-ma-sm"},Da={class:"q-ma-sm",align:"center"},Na=["src"],Ta={__name:"BakerReportPanel",props:["bakersReport"],setup(s){Me.exports.vfs=tt;const v=s,x=v.bakersReport;console.log("Bakers Report",v.bakersReport);const w=q(!0),g=q(!1),m=q(""),y=_=>re.formatDate(_,"MMM. DD, YYYY"),i=_=>_?_.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",p=_=>{const c=$=>$?$.charAt(0).toUpperCase()+$.slice(1).toLowerCase():"",u=_.firstname?c(_.firstname):"No Firstname",d=_.middlename?c(_.middlename).charAt(0)+".":"",R=_.lastname?c(_.lastname):"No Lastname";return`${u} ${d} ${R}`.trim()},b=_=>{const c=new Date(_),u={hour:"2-digit",minute:"2-digit",hour12:!0};return c.toLocaleTimeString(void 0,u)},o=_=>{switch(_){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},n=_=>_?_.recipe_category==="Filling"?_.filling_bakers_reports||[]:_.recipe_category==="Dough"?_.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),l=_=>{var C,M,j,L;console.log("bakerReport",_);const c=`${_.branch_recipe.recipe.name} (${_.recipe_category})`,u=_.branch_recipe.recipe.target,d=_.actual_target,R=_.kilo,$=_.over,D=_.short,k={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:c,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${u} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${d} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${R} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${$} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${D} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${_.branch.name||"No name available"}
                Baker: ${p(((C=_==null?void 0:_.user)==null?void 0:C.employee)||"Unknown Baker Name")}
                Recipe: ${((M=_.recipe)==null?void 0:M.name)||"Unknown Recipe"} (${_.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${y(((j=v.bakersReport[0])==null?void 0:j.created_at)||((L=v.bakersReport[1])==null?void 0:L.created_at)||"No name available")}
                Time: ${b(_.created_at)}
                Status: ${i(_.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...n(_).map(Y=>{var ie;return[{text:((ie=Y==null?void 0:Y.bread)==null?void 0:ie.name)||"Unknown Bread",style:"body"},{text:_.recipe_category==="Filling"?`${(Y==null?void 0:Y.filling_production)||"0"} pcs`:`${Y==null?void 0:Y.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(_.ingredient_bakers_reports||[]).map(Y=>{var ie,Q;return[{text:((ie=Y==null?void 0:Y.ingredients)==null?void 0:ie.code)||"Unknown Ingredient",style:"body"},{text:`${(Y==null?void 0:Y.quantity)||"Unknown Quantity"} ${((Q=Y==null?void 0:Y.ingredients)==null?void 0:Q.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},k]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},r=_=>{const c=l(_);Me.exports.createPdf(c).getDataUrl(u=>{m.value=u,g.value=!0})};return(_,c)=>(h(),S("div",null,[e(T,{class:"my-card q-pa-md"},{default:t(()=>{var u,d,R,$,D,k;return[ca,a("div",ua,[a("div",null," Name: "+f(p(((d=(u=F(x)[0])==null?void 0:u.user)==null?void 0:d.employee)||(($=(R=F(x)[1])==null?void 0:R.user)==null?void 0:$.employee)||"No name available")),1),a("div",null," Date: "+f(`${y(((D=v.bakersReport[0])==null?void 0:D.created_at)||((k=v.bakersReport[1])==null?void 0:k.created_at)||"No name available")}`),1)]),e(P,null,{default:t(()=>[a("div",ma,[(h(!0),S(I,null,se(F(x),(C,M)=>(h(),S("div",{key:M,class:"row q-gutter-sm"},[e(T,{flat:"",dense:"",bordered:"",class:"q-pa-md q-my-sm user-card",style:{width:"675px","max-width":"1500px"}},{default:t(()=>{var j;return[a("div",pa,[a("div",null,f(`${i((j=C.branch_recipe.recipe)==null?void 0:j.name)||"Unknown Recipe"} (${C.recipe_category||"Unknown Category"})`),1),e(N,{padding:"xs md",label:"Print",icon:"print",outline:"",onClick:L=>r(C),class:"user-button"},null,8,["onClick"])]),a("div",null,"Time: "+f(b(C.created_at)),1),a("div",null,[V(" Status: "),e(W,{align:"middle",color:o(C.status)},{default:t(()=>[V(f(i(C.status)),1)]),_:2},1032,["color"])]),e(P,null,{default:t(()=>[a("div",_a,[a("div",fa,[V(" Actual Target: "),a("div",null,[e(W,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${(C==null?void 0:C.actual_target)||"No target"} pcs`),1)]),_:2},1024)])]),a("div",ga,[V(" Kilo: "),a("div",null,[e(W,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${(C==null?void 0:C.kilo)||"No Kilo"} kgs`),1)]),_:2},1024)])]),a("div",va,[V(" Over: "),a("div",null,[e(W,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${C.over} pcs`),1)]),_:2},1024)])]),a("div",ya,[V(" Short: "),a("div",null,[e(W,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${C.short} pcs`),1)]),_:2},1024)])])])]),_:2},1024),e(P,null,{default:t(()=>[a("div",ha,[a("div",ba,[wa,a("div",xa,[a("div",null,[(h(!0),S(I,null,se(C.ingredient_bakers_reports||[],(L,Y)=>{var ie,Q;return h(),S("div",{key:Y,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,f(((ie=L==null?void 0:L.ingredients)==null?void 0:ie.name)||"Unknown Ingredient"),1),a("div",$a,f(`${(L==null?void 0:L.quantity)||"Unknown Quantity"} ${((Q=L==null?void 0:L.ingredients)==null?void 0:Q.unit)||""}`),1)])}),128))])])]),a("div",ka,[Ca,a("div",Ra,[a("div",null,[(h(!0),S(I,null,se(n(C),(L,Y)=>{var ie;return h(),S("div",{key:Y,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,f(((ie=L==null?void 0:L.bread)==null?void 0:ie.name)||"Unknown Bread"),1),a("div",null,[C.recipe_category==="Filling"?(h(),S("div",Pa,f(`${(L==null?void 0:L.filling_production)||"0"} pcs`),1)):C.recipe_category==="Dough"?(h(),S("div",Sa,f(`${L==null?void 0:L.bread_new_production} pcs`),1)):(h(),S("div",qa,f("0 pcs")))])])}),128))])])])])]),_:2},1024)]}),_:2},1024)]))),128))])]),_:1})]}),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":c[0]||(c[0]=u=>g.value=u),"backdrop-filter":_.backdropFilter,maximized:w.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Va,[a("div",Da,[ee((h(),A(N,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(J,null,{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])]),a("div",null,[a("iframe",{src:m.value,width:"100%",height:"700px"},null,8,Na)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Ua=G(Ta,[["__scopeId","data-v-239e42ee"]]);const Ba={class:"row justify-between text-white"},Aa=a("div",{class:"text-h6"},"Bread Report",-1),Ia={class:"row justify-end q-mt-md"},Fa={class:"text-h6"},za={__name:"BreadReport",props:["reports"],setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s;console.log("Reports data structure:",m.reports);const y=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",i=[{name:"name",label:"Bread Name",field:n=>(console.log("Row data:",n),n.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:n=>`${n}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:n=>`${n}`},{name:"total",label:"Bread Total (PCS)",field:"total",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],p=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),b=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),o=U(()=>{const n=b.value.reduce((l,r)=>{const _=parseFloat(r.sales)||0;return console.log(`Adding salesAmount: ${_} to total: ${l}`),l+_},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Overall Total Sales:",o.value),(n,l)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Ba,[Aa,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":l[0]||(l[0]=r=>n.pagination=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${y(r.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(P,null,{default:t(()=>[a("div",Ia,[a("div",Fa," Overall Total Sales: "+f(p(o.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ma={class:"row justify-between text-white"},Ha=a("div",{class:"text-h6"},"Selecta Report",-1),La={class:"row justify-end q-mt-md"},ja={class:"text-h6"},Oa={__name:"SelectaReport",props:["reports"],setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s;console.log("Reports data structure:",m.reports);const y=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",i=[{name:"name",label:"Selecta Name",field:n=>(console.log("Row data:",n),n.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],p=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),b=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),o=U(()=>{const n=b.value.reduce((l,r)=>{const _=parseFloat(r.sales)||0;return console.log(`Adding salesAmount: ${_} to total: ${l}`),l+_},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",b.value),(n,l)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ma,[Ha,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":l[0]||(l[0]=r=>n.pagination=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${y(r.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(P,null,{default:t(()=>[a("div",La,[a("div",ja," Overall Total Sales: "+f(p(o.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Qa={class:"row justify-between text-white"},Ea=a("div",{class:"text-h6"},"Softdrinks Report",-1),Ya={class:"row justify-end q-mt-md"},Ka={class:"text-h6"},Ga={__name:"SoftdrinksReport",props:["reports"],setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s;console.log("Reports data structure:",m.reports);const y=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",i=[{name:"name",label:"Softdrinks Name",field:n=>(console.log("Row data:",n),n.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],p=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),b=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),o=U(()=>{const n=b.value.reduce((l,r)=>{const _=parseFloat(r.sales)||0;return console.log(`Adding salesAmount: ${_} to total: ${l}`),l+_},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",b.value),(n,l)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Qa,[Ea,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":l[0]||(l[0]=r=>n.pagination=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${y(r.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(P,null,{default:t(()=>[a("div",Ya,[a("div",Ka," Overall Total Sales: "+f(p(o.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Wa={class:"row justify-between text-white"},Ja=a("div",{class:"text-h6"},"Cake Report",-1),Xa={class:"row justify-end q-mt-md"},Za={class:"text-h6"},el={__name:"CakeReport",props:["reports"],setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s;console.log("Report cake:",m.reports);const y=U(()=>(console.log("Filtered cake rows:",m.reports||[]),m.reports||[])),i=n=>{const l=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",r=n.firstname?l(n.firstname):"No Firstname",_=n.middlename?l(n.middlename).charAt(0)+".":"",c=n.lastname?l(n.lastname):"No Lastname";return`${r} ${_} ${c}`},p=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n).replace("\u20B1","\u20B1 "),b=U(()=>{const n=y.value.reduce((l,r)=>{const _=parseFloat(r.cake_report.price)||0;return console.log(`Adding salesAmount: ${_} to total: ${l}`),l+_},0);return console.log("Overall Total Sales computed as:",n),n}),o=[{name:"name",label:"Cake Name",field:n=>(console.log("Row data:",n),n.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:n=>i(n.cake_report.user.employee)},{name:"price",label:"Price",field:n=>p(n.cake_report.price)},{name:"layers",label:"Layers",field:n=>n.cake_report.layers},{name:"sales_status",label:"Sale Status",field:n=>n.cake_report.sales_status}];return(n,l)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",Wa,[Ja,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:o,rows:y.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":l[0]||(l[0]=r=>n.pagination=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",Xa,[a("div",Za," Overall Total Sales: "+f(p(b.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},tl={class:"row justify-between text-white"},al=a("div",{class:"text-h6"},"Other Products Report",-1),ll={class:"row justify-end q-mt-md"},nl={class:"text-h6"},ol={__name:"OtherProductsReport",props:["reports"],setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s,y=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),i=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",p=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),b=[{name:"name",label:"Product Name",field:n=>(console.log("Row data:",n),n.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Product Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],o=U(()=>{const n=y.value.reduce((l,r)=>{const _=parseFloat(r.sales)||0;return console.log(`Adding salesAmount: ${_} to total: ${l}`),l+_},0);return console.log("Overall Total Sales computed as:",n),n});return(n,l)=>(h(),S("div",null,[e(K,{ref_key:"dialogRef",ref:v,onHide:F(x)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",tl,[al,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:b,rows:y.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":l[0]||(l[0]=r=>n.pagination=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${i(r.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(r=>[e(z,{props:r},{default:t(()=>[a("span",null,f(`${p(r.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(P,null,{default:t(()=>[a("div",ll,[a("div",nl," Overall Total Sales: "+f(p(o.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const sl=s=>(X("data-v-0eb81aec"),s=s(),Z(),s),rl=sl(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),il={class:"item-start q-gutter-md",align:"center"},dl={class:"text-weight-regular text-subtitle1"},cl={__name:"ProductsReport",props:["sales_Reports"],setup(s){const v=s,x=v.sales_Reports;console.log("sales report2",v);const w=Ce(),g=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(o),m=o=>{w.dialog({component:za,componentProps:{reports:o}})},y=o=>{w.dialog({component:Oa,componentProps:{reports:o}})},i=o=>{w.dialog({component:Ga,componentProps:{reports:o}})},p=o=>{w.dialog({component:el,componentProps:{reports:o}})},b=o=>{w.dialog({component:ol,componentProps:{reports:o}})};return(o,n)=>(h(),S("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(P,null,{default:t(()=>[rl]),_:1}),e(P,null,{default:t(()=>[a("div",il,[e(N,{onClick:n[0]||(n[0]=l=>m(v.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(N,{onClick:n[1]||(n[1]=l=>y(F(x)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(N,{onClick:n[2]||(n[2]=l=>i(F(x)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(N,{onClick:n[3]||(n[3]=l=>p(F(x)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(N,{onClick:n[4]||(n[4]=l=>b(F(x)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1}),e(P,null,{default:t(()=>[a("div",dl," Total sales: "+f(g(F(x)[0].products_total_sales)),1)]),_:1})]),_:1})]))}};var ul=G(cl,[["__scopeId","data-v-0eb81aec"]]);const ml={class:"row justify-between text-white"},pl=a("div",{class:"text-h6"},"Denomination Report",-1),_l={class:"row text-weight-regular text-subtitle1"},fl={class:"col-6"},gl={class:"col-6"},vl={class:"row justify-end q-mt-md"},yl={class:"text-h6"},hl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s;console.log("Denomination Props",m.reports);const y=m.reports[0];console.log("Reports data structure:",m.reports);const i=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(b),p=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[]));return console.log("Filtered Rows:",p.value),(b,o)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",ml,[pl,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[a("div",_l,[a("div",fl,[a("div",null,"1000 Bills: "+f(F(y).oneThousandBills),1),a("div",null,"500 Bills: "+f(F(y).fiveHundredBills),1),a("div",null,"200 Bills: "+f(F(y).twoHundredBills),1),a("div",null,"100 Bills: "+f(F(y).oneHundredBills),1),a("div",null,"50 Bills: "+f(F(y).fiftyBills),1),a("div",null,"20 Bills: "+f(F(y).twentyBills),1)]),a("div",gl,[a("div",null,"20 coins: "+f(F(y).twentyCoins),1),a("div",null,"10 coins: "+f(F(y).tenCoins),1),a("div",null,"5 coins: "+f(F(y).fiveCoins),1),a("div",null,"1 coins: "+f(F(y).oneCoins),1),a("div",null,"25 cents: "+f(F(y).twentyFiveCents),1)])])]),_:1}),e(P,null,{default:t(()=>[a("div",vl,[a("div",yl," Overall Total Denomination: "+f(i(s.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const bl=s=>(X("data-v-0bfb79ef"),s=s(),Z(),s),wl=bl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),xl={class:"q-gutter-x-md",align:"center"},$l={class:"text-weight-regular text-subtitle1"},kl={__name:"DenominationReport",props:["sales_Reports"],setup(s){const v=s;v.sales_Reports,console.log("Denomination report",v);const x=Ce(),w=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),g=(m,y)=>{x.dialog({component:hl,componentProps:{reports:m,total:y}})};return(m,y)=>(h(),S("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(P,null,{default:t(()=>[wl]),_:1}),e(P,null,{default:t(()=>[a("div",xl,[e(N,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:y[0]||(y[0]=i=>g(v.sales_Reports[0].denomination_reports,v.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1}),e(P,null,{default:t(()=>[a("div",$l," Total Denomination : "+f(w(v.sales_Reports[0].denomination_total)),1)]),_:1})]),_:1})]))}};var Cl=G(kl,[["__scopeId","data-v-0bfb79ef"]]);const Rl={class:"row justify-between text-white"},Pl=a("div",{class:"text-h6"},"Expenses Report",-1),Sl={class:"row justify-end q-mt-md"},ql={class:"text-h6"},Vl={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s;m.reports,console.log("Expenses total",m.total);const y=o=>o?o.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",i=[{name:"name",label:"Expenses Name",field:o=>(console.log("Row data:",o),o.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",m.reports);const p=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(o),b=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[]));return console.log("Expenses:",b.value),(o,n)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x),onOk:o.handleButtonClick,onCancel:F(g)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Rl,[Pl,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:o.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:o.pagination,"onUpdate:pagination":n[0]||(n[0]=l=>o.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(z,{props:l},{default:t(()=>[a("span",null,f(`${y(l.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[e(z,{props:l},{default:t(()=>[a("span",null,f(`${p(l.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(P,null,{default:t(()=>[a("div",Sl,[a("div",ql," Overall Total Expenses: "+f(p(s.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Dl=s=>(X("data-v-338c99d0"),s=s(),Z(),s),Nl=Dl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Tl={class:"q-gutter-x-md",align:"center"},Ul={class:"text-weight-regular text-subtitle1"},Bl={__name:"ExpensesReport",props:["sales_Reports"],setup(s){const v=s;console.log("Expenses Data",v.sales_Reports[0].expenses_reports);const x=Ce(),w=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),g=(m,y)=>{x.dialog({component:Vl,componentProps:{reports:m,total:y}})};return(m,y)=>(h(),S("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(P,null,{default:t(()=>[Nl]),_:1}),e(P,null,{default:t(()=>[a("div",Tl,[e(N,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:y[0]||(y[0]=i=>g(v.sales_Reports[0].expenses_reports,v.sales_Reports[0].expenses_total))})])]),_:1}),e(P,null,{default:t(()=>[a("div",Ul," Total Expenses : "+f(w(v.sales_Reports[0].expenses_total)),1)]),_:1})]),_:1})]))}};var Al=G(Bl,[["__scopeId","data-v-338c99d0"]]);const Il={class:"row justify-between text-white"},Fl=a("div",{class:"text-h6"},"Credits Report",-1),zl={class:"row justify-end q-mt-md"},Ml={class:"text-h6"},Hl={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(s){const{dialogRef:v,onDialogHide:x,onDialogOK:w,onDialogCancel:g}=we(),m=s,y=m.reports;console.log("creditReports data",y),y.forEach((r,_)=>{console.log(`Report ${_}:`,r),console.log(`Credit Products for Report ${_}:`,r.credit_products.total_amount)});const i=U(()=>y.flatMap(r=>r.credit_products.map(_=>{const c=parseInt(_.pieces,10)||0,u=parseFloat(_.price)||0,d=c*u;return{..._,total_amount:d}})));console.log("All Credit Products:",i.value[0]);const p=r=>r?r.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",b=r=>{const _=R=>R?R.charAt(0).toUpperCase()+R.slice(1).toLowerCase():"",c=r.firstname?_(r.firstname):"No Firstname",u=r.middlename?_(r.middlename).charAt(0)+".":"",d=r.lastname?_(r.lastname):"No Lastname";return`${c} ${u} ${d}`.trim()},o=[{name:"name",label:"Employee Name",field:r=>b(r.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:r=>r.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",m.reports);const n=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),l=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r);return(r,_)=>(h(),A(K,{ref_key:"dialogRef",ref:v,onHide:F(x),onOk:r.handleButtonClick,onCancel:F(g)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(P,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Il,[Fl,ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(P,null,{default:t(()=>[e(ne,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:o,rows:i.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":_[0]||(_[0]=c=>r.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(c=>[e(z,{props:c},{default:t(()=>[a("span",null,f(`${p(c.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(c=>[e(z,{props:c},{default:t(()=>[a("span",null,f(`${n(c.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(c=>[e(z,{props:c},{default:t(()=>[a("span",null,f(`${l(c.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(P,null,{default:t(()=>[a("div",zl,[a("div",Ml," Overall Credits Total: "+f(n(s.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Ll=s=>(X("data-v-29d6ba68"),s=s(),Z(),s),jl=Ll(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Ol={class:"q-gutter-x-md",align:"center"},Ql={class:"text-weight-regular text-subtitle1"},El={__name:"CreditsReport",props:["sales_Reports"],setup(s){const v=s,x=Ce(),w=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),g=(m,y)=>{x.dialog({component:Hl,componentProps:{reports:m,total:y}})};return(m,y)=>(h(),S("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(P,null,{default:t(()=>[jl]),_:1}),e(P,null,{default:t(()=>[a("div",Ol,[e(N,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:y[0]||(y[0]=i=>g(v.sales_Reports[0].credit_reports,v.sales_Reports[0].credit_total))})])]),_:1}),e(P,null,{default:t(()=>[a("div",Ql," Total Credits : "+f(w(v.sales_Reports[0].credit_total)),1)]),_:1}),e(P)]),_:1})]))}};var Yl=G(El,[["__scopeId","data-v-29d6ba68"]]);const Kl=s=>(X("data-v-5a5f240d"),s=s(),Z(),s),Gl={class:"q-mt-lg row items-start q-gutter-md justify-center"},Wl={class:"row justify-between"},Jl=Kl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Xl={align:"right"},Zl={class:"text-subtitle1 text-weight-regular"},en={class:"row q-gutter-sm q-pa-md"},tn={class:"q-ma-sm"},an={class:"q-ma-sm",align:"center"},ln=["src"],nn={__name:"SalesReportPanel",props:["salesReport"],setup(s){Me.exports.vfs=tt;const v=s,x=v.salesReport;console.log("reportsData",v.salesReport);const w=q(!0),g=q(!1),m=q(""),y=l=>re.formatDate(l,"MMMM DD, YYYY"),i=l=>{const r=new Date(l),_={hour:"2-digit",minute:"2-digit",hour12:!0};return r.toLocaleTimeString(void 0,_)},p=l=>{const r=d=>d?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():"",_=l.firstname?r(l.firstname):"No Firstname",c=l.middlename?r(l.middlename).charAt(0)+".":"",u=l.lastname?r(l.lastname):"No Lastname";return`${_} ${c} ${u}`.trim()},b=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),o=l=>{const r=U(()=>l.credit_reports.flatMap(Q=>Q.credit_products));console.log("All Credit Products:",r.value);const _=[{title:"Bread Production",data:l.bread_reports||[],columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:l.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:l.softdrinks_reports||[],columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:l.other_products_reports||[],columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:l.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],c=l.expenses_reports||[],u=r.value||[],d=l.credit_total,R=l.denomination_reports[0]||[],$=l.denomination_total,D=l.expenses_total;l.products_total_sales,l.charges_amount,l.over_total;const k={bills:[{name:"One Thousand",pcs:R.oneThousandBills||0},{name:"Five Hundred",pcs:R.fiveHundredBills||0},{name:"Two Hundred",pcs:R.twoHundredBills||0},{name:"One Hundred",pcs:R.oneHundredBills||0},{name:"Fifty",pcs:R.fiftyBills||0},{name:"Twenty",pcs:R.twentyBills||0}],coins:[{name:"Twenty",pcs:R.twentyCoins||0},{name:"Ten",pcs:R.tenCoins||0},{name:"Five",pcs:R.fiveCoins||0},{name:"One",pcs:R.oneCoins||0},{name:"Twenty Five Cents",pcs:R.twentyFiveCents||0}]},C=(Q,fe,ue)=>{const ge=(de,me)=>me.split(".").reduce((ye,B)=>ye?ye[B]:0,de),Se=ue.reduce((de,me)=>(de[me]=Q.reduce((ye,B)=>ye+parseFloat(ge(B,me))||0,0),de),{});return[...Q.map(de=>fe.map(me=>{if(me==="cake_report.user.employee"){const ye=ge(de,"cake_report.user.employee");return{text:ye?p(ye):"No Employee",style:"body",alignment:"center"}}return{text:me.includes(".")?ge(de,me)||"-":de[me]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:fe.length-ue.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(fe.length-ue.length-1).fill({}),...ue.map(de=>({text:`\u20B1 ${Se[de].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]},M=u.length>0?u.map(Q=>[{text:p(Q.credit_user_id),style:"body",alignment:"center"},{text:Q.product.name,style:"body",alignment:"center"},{text:Q.pieces,style:"body",alignment:"center"},{text:Q.price,style:"body",alignment:"center"},{text:Q.total_amount,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:5,alignment:"center"}]];M.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:`${b(d)}`,style:"bodyBold",alignment:"center",colSpan:2},{}]);const j=c.length>0?c.map(Q=>[{text:Q.name,style:"body",alignment:"center"},{text:Q.description,style:"body",alignment:"center"},{text:`${b(Q.amount)}`,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:3,alignment:"center"}]];j.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${b(D)}`,style:"bodyBold",alignment:"center"}]);const L=k.bills.map((Q,fe)=>{var ue,ge;return[{text:Q.name,style:"body",alignment:"center"},{text:Q.pcs,style:"body",alignment:"center"},{text:((ue=k.coins[fe])==null?void 0:ue.name)||"",style:"body",alignment:"center"},{text:((ge=k.coins[fe])==null?void 0:ge.pcs)||"0",style:"body",alignment:"center"}]});L.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${b($)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const Y=_.map(({title:Q,data:fe,columns:ue,totals:ge})=>({stack:[{text:Q,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(ue.length).fill("*"),body:[ue.map(Se=>({text:Se.split(".").pop().replace(/_/g," ").replace(/\b\w/g,de=>de.toUpperCase()),style:"tableHeader",alignment:"center"})),...C(fe,ue,ge)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),ie={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:b($),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:b(l.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:b(D),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:b(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${b(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${p(l.user.employee)}
          Date: ${y(l.created_at)}
Time: ${i(l.created_at)}
`,margin:[0,0,0,10]},{}]},...Y,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...j]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...M]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...L]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},ie]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},n=l=>{const r=o(l);Me.exports.createPdf(r).getDataUrl(_=>{m.value=_,g.value=!0})};return(l,r)=>(h(),S(I,null,[e(T,{class:"my-card q-pa-md"},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Gl,[(h(!0),S(I,null,se(F(x),(_,c)=>(h(),S("div",{key:c},[e(T,{flat:"",dense:"",bordered:""},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Wl,[Jl,a("div",Xl,[e(N,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:u=>n(_)},null,8,["onClick"]),a("div",null,[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V(" Print Report ")]),_:1})])])]),a("div",Zl,[a("div",null,"Name: "+f(p(_.user.employee)),1),a("div",null,"Date: "+f(y(_.created_at)),1),a("div",null,"Time: "+f(i(_.created_at)),1)])]),_:2},1024),a("div",en,[e(ul,{sales_Reports:[_]},null,8,["sales_Reports"]),e(Cl,{sales_Reports:[_]},null,8,["sales_Reports"]),e(Al,{sales_Reports:[_]},null,8,["sales_Reports"]),e(Yl,{sales_Reports:[_]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=_=>g.value=_),maximized:w.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",tn,[a("div",an,[ee((h(),A(N,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(J,null,{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])]),a("div",null,[a("iframe",{src:m.value,width:"100%",height:"700px"},null,8,ln)])])]),_:1},8,["modelValue","maximized"])],64))}};var on=G(nn,[["__scopeId","data-v-5a5f240d"]]);const sn={class:"text-h6"},rn={class:"row q-gutter-x-md"},dn={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(s,{emit:v}){const{dialogRef:x,onDialogHide:w,onDialogOK:g,onDialogCancel:m}=we(),y=s;console.log("production report",y.reports);const i=y.reports.baker_reports,p=y.reports.sales_reports,b=v,o=q("bakerReport"),n=q(!0),l=q(!1),r=c=>c?c.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",_=()=>{b("selectReport",y.reports),l.value=!0};return(c,u)=>(h(),A(K,{ref_key:"dialogRef",ref:x,modelValue:l.value,"onUpdate:modelValue":u[2]||(u[2]=d=>l.value=d),onHide:F(w),onOk:_,onCancel:F(m),maximized:n.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(T,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(P,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",sn,f(`${r(s.reports.branch_name)} ( ${s.reportLabel} Reports)`),1),e(Ue),a("div",rn,[a("div",null,[ee((h(),A(N,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(J,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[te]])])])]),_:1}),e(P,null,{default:t(()=>[a("div",null,[e(Be,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=d=>o.value=d),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(ae,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(ae,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Ae,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=d=>o.value=d),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(oe,{name:"bakerReport"},{default:t(()=>[e(Ua,{bakersReport:F(i)},null,8,["bakersReport"])]),_:1}),e(oe,{name:"salesReport"},{default:t(()=>[e(on,{salesReport:F(p)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var cn=G(dn,[["__scopeId","data-v-643ff984"]]);const un=it("productions",()=>{const s=q([]),v=q([]);return{productions:s,production:v,fetchAllProduction:async()=>{const g=await be.get("/api/branch-production-report");s.value=g.data.reports},fetchBranchProductions:async g=>{try{const m=await be.get(`/api/branches/${g}/production-report`);s.value=m.data}catch(m){console.log(m)}}}});const mn=s=>(X("data-v-12387bc6"),s=s(),Z(),s),pn={key:0,class:"spinner-wrapper"},_n={key:1},fn={key:0,class:"data-error"},gn=mn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),vn={class:"row justify-center q-gutter-x-md"},yn={__name:"ProductionTable",setup(s){const v=ce();q("bakerReport");const x=v.params.branch_id;q(!1),q(!0),q(""),q("");const w=q({rowsPerPage:0}),g=un(),m=q(""),y=U(()=>g.productions);q(!0);const i=q(!0),p=q(!1),b=U(()=>m.value?y.value.filter(c=>c.name.toLowerCase().includes(m.value.toLowerCase())):y.value);_e(async()=>{x&&await o(x)});const o=async c=>{try{i.value=!0;const u=await g.fetchBranchProductions(c);console.log("Fetched data:",u),console.log("Production rows:",y.value),y.value.length||(p.value=!0)}catch{p.value=!0}finally{i.value=!1}};He(m,async c=>{i.value=!0,await new Promise(u=>setTimeout(u,1e3)),i.value=!1,p.value=b.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:c=>re.formatDate(c,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],r=Ce(),_=(c,u)=>{r.dialog({component:cn,componentProps:{reports:c,reportLabel:u}})};return(c,u)=>(h(),S(I,null,[a("div",null,[e(E,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=d=>m.value=d),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(le,{name:"search"})]),_:1},8,["modelValue"])]),i.value?(h(),S("div",pn,[e(Le,{size:"50px",color:"primary"})])):(h(),S("div",_n,[b.value.length===0?(h(),S("div",fn,[e(le,{name:"warning",color:"warning",size:"4em"}),gn])):(h(),A(ne,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:b.value,"row-key":"reportDate","virtual-scroll":"",pagination:w.value,"onUpdate:pagination":u[1]||(u[1]=d=>w.value=d),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(d=>[e(z,{props:d},{default:t(()=>[a("div",vn,[e(N,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:R=>_(d.row.AM,"AM")},{default:t(()=>[V("AM")]),_:2},1032,["onClick"]),e(N,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:R=>_(d.row.PM,"PM")},{default:t(()=>[V("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var hn=G(yn,[["__scopeId","data-v-12387bc6"]]);const bn={__name:"ProductionPage",setup(s){return(v,x)=>(h(),S("div",null,[e(hn)]))}},wn={class:"row justify-between"},xn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),$n=a("div",{class:"text-h6"},"Decline Report",-1),kn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(s){const v=De(),x=q(""),w=q(!1),g=q(!1),m=q({rowsPerPage:0}),y=Ce(),i=s,p=()=>{g.value=!0},b=()=>{w.value=!0},o=async()=>{if(!x.value){y.notify({type:"negative",message:"Remark is required"});return}try{const c=await v.declineReport(i.report.id,x.value);console.log("Report declined:",c),y.notify({type:"negative",message:"Report declined successfully"}),w.value=!1,g.value=!1,x.value=""}catch(c){console.error("Error declining report:",c),y.notify({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const c=await v.confirmReport(i.report.id);console.log("Report confirmed:",c),y.notify({type:"positive",message:"Report confirmed successfully"}),g.value=!1}catch(c){console.error(c)}},l=U(()=>i.report.selecta_added_stocks||[]),r=c=>{const u=D=>D?D.charAt(0).toUpperCase()+D.slice(1).toLowerCase():"",d=c.firstname?u(c.firstname):"No Firstname",R=c.middlename?u(c.middlename).charAt(0)+".":"",$=c.lastname?u(c.lastname):"No Lastname";return`${d} ${R} ${$}`},_=[{name:"product_name",label:"Product Name",field:c=>c.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:c=>c.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,u)=>(h(),S(I,null,[a("div",null,[e(N,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:p})]),e(K,{modelValue:g.value,"onUpdate:modelValue":u[2]||(u[2]=d=>g.value=d)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(P,null,{default:t(()=>[a("div",wn,[xn,e(N,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:u[0]||(u[0]=d=>g.value=!1)})])]),_:1}),e(P,null,{default:t(()=>[a("div",null,"Cashier: "+f(r(s.report.employee)),1),a("div",null," Branch: "+f(s.report.branch.name),1),a("div",null,[V(" Status: "),e(W,{color:"yellow",outlined:""},{default:t(()=>[V(f(s.report.status),1)]),_:1})])]),_:1}),e(P,null,{default:t(()=>[e(ne,{rows:l.value,columns:_,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":u[1]||(u[1]=d=>m.value=d),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(P,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(N,{color:"negative",label:"Decline",class:"action-btn",onClick:b}),e(N,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:w.value,"onUpdate:modelValue":u[4]||(u[4]=d=>w.value=d)},{default:t(()=>[e(T,null,{default:t(()=>[e(P,null,{default:t(()=>[$n]),_:1}),e(P,null,{default:t(()=>[e(E,{modelValue:x.value,"onUpdate:modelValue":u[3]||(u[3]=d=>x.value=d),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[d=>!!d||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(ke,{align:"right"},{default:t(()=>[ee(e(N,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(N,{flat:"",label:"Confirm",color:"negative",onClick:o})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Cn=s=>(X("data-v-08e549d4"),s=s(),Z(),s),Rn={class:"q-gutter-md q-ma-md"},Pn={class:"row justify-between"},Sn={class:"text-subtitle1"},qn={class:"text-subtitle1"},Vn={class:"text-subtitle1"},Dn={key:1,class:"data-error"},Nn=Cn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Tn={__name:"TransactionPendingCard",setup(s){const v=ce(),x=De(),w=U(()=>x.pendingSelectaReports),g=v.params.branch_id,m=q("pending"),y=async()=>{try{const o=await x.fetchPendingSelectaStocks(g,m.value);console.log(w.value)}catch(o){console.error("Error fetching pending stocks:",o)}};_e(async()=>{g&&await y()});const i=o=>re.formatDate(o,"MMMM D, YYYY"),p=o=>re.formatDate(o,"hh:mm A"),b=o=>{const n=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",l=o.firstname?n(o.firstname):"No Firstname",r=o.middlename?n(o.middlename).charAt(0)+".":"",_=o.lastname?n(o.lastname):"No Lastname";return`${l} ${r} ${_}`};return(o,n)=>(h(),S("div",null,[e(Ve,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Rn,[w.value.length?(h(!0),S(I,{key:0},se(w.value,(l,r)=>(h(),A(T,{key:r},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Pn,[a("div",Sn,f(i(l.created_at)),1),a("div",qn,f(p(l.created_at)),1),a("div",Vn,f(l.branch.name)+" - "+f(b(l.employee)),1),a("div",null,[e(W,{color:"yellow",outlined:""},{default:t(()=>[V(" Pending ")]),_:1})]),a("div",null,[e(kn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Dn,[e(le,{name:"warning",color:"warning",size:"4em"}),Nn]))])]),_:1})]))}};var Un=G(Tn,[["__scopeId","data-v-08e549d4"]]);const Bn={class:"row justify-between"},An=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),In={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(s){De(),q(!1);const v=q(!1),x=()=>{v.value=!0};Ce();const w=s,g=U(()=>(console.log("Filtered rows:",w.report||[]),w.report.selecta_added_stocks||[])),m=i=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",b=i.firstname?p(i.firstname):"No Firstname",o=i.middlename?p(i.middlename).charAt(0)+".":"",n=i.lastname?p(i.lastname):"No Lastname";return`${b} ${o} ${n}`},y=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,p)=>(h(),S(I,null,[a("div",null,[e(N,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=b=>v.value=b)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Bn,[An,e(N,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=b=>v.value=!1)})])]),_:1}),e(P,null,{default:t(()=>[a("div",null,"Cashier: "+f(m(s.report.employee)),1),a("div",null," Branch: "+f(s.report.branch.name),1),a("div",null,[V(" Status: "),e(W,{color:"green",outlined:""},{default:t(()=>[V(f(s.report.status),1)]),_:1})])]),_:1}),e(P,null,{default:t(()=>[e(ne,{rows:g.value,columns:y,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":p[1]||(p[1]=b=>i.pagination=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Fn=s=>(X("data-v-c1019cbc"),s=s(),Z(),s),zn={class:"q-gutter-md q-ma-md"},Mn={class:"row justify-between"},Hn={class:"text-subtitle1"},Ln={class:"text-subtitle1"},jn={class:"text-subtitle1"},On={key:1,class:"data-error"},Qn=Fn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),En={__name:"TransactionConfirmedCard",setup(s){const v=ce(),x=De(),w=U(()=>x.confirmedSelectaReports),g=v.params.branch_id,m=q("confirmed"),y=async()=>{try{const o=await x.fetchConfirmedSelectaStocks(g,m.value);console.log(w.value)}catch(o){console.error("Error fetching confirmed stocks:",o)}};_e(async()=>{g&&await y()});const i=o=>re.formatDate(o,"MMMM D, YYYY"),p=o=>re.formatDate(o,"hh:mm A"),b=o=>{const n=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",l=o.firstname?n(o.firstname):"No Firstname",r=o.middlename?n(o.middlename).charAt(0)+".":"",_=o.lastname?n(o.lastname):"No Lastname";return`${l} ${r} ${_}`};return(o,n)=>(h(),S("div",null,[e(Ve,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",zn,[w.value.length?(h(!0),S(I,{key:0},se(w.value,(l,r)=>(h(),A(T,{key:r},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Mn,[a("div",Hn,f(i(l.created_at)),1),a("div",Ln,f(p(l.created_at)),1),a("div",jn,f(l.branch.name)+" - "+f(b(l.employee)),1),a("div",null,[e(W,{color:"green",outlined:""},{default:t(()=>[V(f(l.status),1)]),_:2},1024)]),a("div",null,[e(In,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",On,[e(le,{name:"warning",color:"warning",size:"4em"}),Qn]))])]),_:1})]))}};var Yn=G(En,[["__scopeId","data-v-c1019cbc"]]);const Kn={class:"row justify-between"},Gn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Wn={class:"q-mt-md"},Jn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(s){De(),q(!1);const v=q(!1),x=()=>{v.value=!0},w=s,g=U(()=>(console.log("Filtered rows:",w.report||[]),w.report.selecta_added_stocks||[])),m=i=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",b=i.firstname?p(i.firstname):"No Firstname",o=i.middlename?p(i.middlename).charAt(0)+".":"",n=i.lastname?p(i.lastname):"No Lastname";return`${b} ${o} ${n}`},y=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,p)=>(h(),S(I,null,[a("div",null,[e(N,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=b=>v.value=b)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Kn,[Gn,e(N,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=b=>v.value=!1)})])]),_:1}),e(P,null,{default:t(()=>[a("div",null,"Cashier: "+f(m(s.report.employee)),1),a("div",null," Branch: "+f(s.report.branch.name),1),a("div",null,[V(" Status: "),e(W,{color:"red",outlined:""},{default:t(()=>[V(f(s.report.status),1)]),_:1})]),a("div",Wn,"Remark: "+f(s.report.remark),1)]),_:1}),e(P,null,{default:t(()=>[e(ne,{rows:g.value,columns:y,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":p[1]||(p[1]=b=>i.pagination=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Xn=s=>(X("data-v-6b801095"),s=s(),Z(),s),Zn={class:"q-gutter-md q-ma-md"},eo={class:"row justify-between"},to={class:"text-subtitle1"},ao={class:"text-subtitle1"},lo={class:"text-subtitle1"},no={key:1,class:"data-error"},oo=Xn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),so={__name:"TransactionDeclinedCard",setup(s){const v=ce(),x=De(),w=U(()=>x.declinedSelectaReports),g=v.params.branch_id,m=q("declined"),y=async()=>{try{const o=await x.fetchDeclinedSelectaStocks(g,m.value);console.log("selectedProductsDeclined",w.value)}catch(o){console.error("Error fetching decline stocks:",o)}};_e(async()=>{g&&await y()});const i=o=>re.formatDate(o,"MMMM D, YYYY"),p=o=>re.formatDate(o,"hh:mm A"),b=o=>{const n=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",l=o.firstname?n(o.firstname):"No Firstname",r=o.middlename?n(o.middlename).charAt(0)+".":"",_=o.lastname?n(o.lastname):"No Lastname";return`${l} ${r} ${_}`};return(o,n)=>(h(),S("div",null,[e(Ve,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Zn,[w.value.length?(h(!0),S(I,{key:0},se(w.value,(l,r)=>(h(),A(T,{key:r},{default:t(()=>[e(P,null,{default:t(()=>[a("div",eo,[a("div",to,f(i(l.created_at)),1),a("div",ao,f(p(l.created_at)),1),a("div",lo,f(l.branch.name)+" - "+f(b(l.employee)),1),a("div",null,[e(W,{color:"red",outlined:""},{default:t(()=>[V(f(l.status),1)]),_:2},1024)]),a("div",null,[e(Jn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",no,[e(le,{name:"warning",color:"warning",size:"4em"}),oo]))])]),_:1})]))}};var ro=G(so,[["__scopeId","data-v-6b801095"]]);const io={class:"q-gutter-y-sm"},co={__name:"SelectaTransactionPage",setup(s){const v=q("pendingReports");return(x,w)=>(h(),S(I,null,[a("div",io,[e(Be,{modelValue:v.value,"onUpdate:modelValue":w[0]||(w[0]=g=>v.value=g),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(ae,{class:"text-white",name:"pendingReports",icon:"event_available",label:"Pending Reports"}),e(ae,{class:"text-white",name:"confirmReports",icon:"calendar_month",label:"Confirm Reports"}),e(ae,{class:"text-white",name:"declineReports",icon:"calendar_month",label:"Decline Reports"})]),_:1},8,["modelValue"])]),e(Ae,{modelValue:v.value,"onUpdate:modelValue":w[1]||(w[1]=g=>v.value=g),animated:""},{default:t(()=>[e(oe,{name:"pendingReports"},{default:t(()=>[e(Un)]),_:1}),e(oe,{name:"confirmReports"},{default:t(()=>[e(Yn)]),_:1}),e(oe,{name:"declineReports"},{default:t(()=>[e(ro)]),_:1})]),_:1},8,["modelValue"])],64))}};var uo=G(co,[["__scopeId","data-v-7b10af9c"]]);const mo={class:"row justify-between"},po=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),_o=a("div",{class:"text-h6"},"Decline Report",-1),fo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(s){const v=Ne(),x=q(""),w=q(!1),g=q(!1),m=q({rowPerPage:0}),y=Ce(),i=s,p=()=>{g.value=!0},b=()=>{w.value=!0},o=async()=>{if(!x.value){y.notify({type:"negative",message:"Remark is required"});return}try{const c=await v.declineReport(i.report.id,x.value);console.log("Report declined:",c),y.notify({type:"negative",message:"Report declined successfully"}),w.value=!1,g.value=!1,x.value=""}catch(c){console.error("Error declining report:",c),y.notify({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const c=await v.confirmReport(i.report.id);console.log("Report confirmed:",c),y.notify({type:"positive",message:"Report confirmed successfully"}),g.value=!1}catch(c){console.error(c)}},l=U(()=>i.report.softdrinks_added_stocks||[]),r=c=>{const u=D=>D?D.charAt(0).toUpperCase()+D.slice(1).toLowerCase():"",d=c.firstname?u(c.firstname):"No Firstname",R=c.middlename?u(c.middlename).charAt(0)+".":"",$=c.lastname?u(c.lastname):"No Lastname";return`${d} ${R} ${$}`},_=[{name:"product_name",label:"Product Name",field:c=>c.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:c=>c.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,u)=>(h(),S("div",null,[e(N,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:p}),e(K,{modelValue:g.value,"onUpdate:modelValue":u[2]||(u[2]=d=>g.value=d)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(P,null,{default:t(()=>[a("div",mo,[po,e(N,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:u[0]||(u[0]=d=>g.value=!1)})])]),_:1}),e(P,null,{default:t(()=>[a("div",null,"Cashier: "+f(r(s.report.employee)),1),a("div",null," Branch: "+f(s.report.branch.name),1),a("div",null,[V(" Status: "),e(W,{color:"yellow",outlined:""},{default:t(()=>[V(f(s.report.status),1)]),_:1})])]),_:1}),e(P,null,{default:t(()=>[e(ne,{rows:l.value,columns:_,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":u[1]||(u[1]=d=>m.value=d),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(P,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(N,{color:"negative",label:"Decline",class:"action-btn",onClick:b}),e(N,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:w.value,"onUpdate:modelValue":u[4]||(u[4]=d=>w.value=d)},{default:t(()=>[e(T,null,{default:t(()=>[e(P,null,{default:t(()=>[_o]),_:1}),e(P,null,{default:t(()=>[e(E,{modelValue:x.value,"onUpdate:modelValue":u[3]||(u[3]=d=>x.value=d),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[d=>!!d||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(ke,{align:"right"},{default:t(()=>[ee(e(N,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(N,{flat:"",label:"Confirm",color:"negative",onClick:o})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const go=s=>(X("data-v-7ba0107e"),s=s(),Z(),s),vo={class:"q-gutter-md q-ma-md"},yo={class:"row justify-between"},ho={class:"text-subtitle1"},bo={class:"text-subtitle1"},wo={class:"text-subtitle1"},xo={key:1,class:"data-error"},$o=go(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ko={__name:"TransactionPendingCard",setup(s){const v=ce(),x=Ne(),w=U(()=>x.pendingSoftdrinksReports),g=v.params.branch_id,m=q("pending"),y=async()=>{try{const o=await x.fetchPendingSoftdrinksStocks(g,m.value);console.log(w.value)}catch(o){console.error("Error fetching pending stocks:",o)}};_e(async()=>{g&&await y()});const i=o=>re.formatDate(o,"MMMM D, YYYY"),p=o=>re.formatDate(o,"hh:mm A"),b=o=>{const n=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",l=o.firstname?n(o.firstname):"No Firstname",r=o.middlename?n(o.middlename).charAt(0)+".":"",_=o.lastname?n(o.lastname):"No Lastname";return`${l} ${r} ${_}`};return(o,n)=>(h(),S("div",null,[e(Ve,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",vo,[w.value.length?(h(!0),S(I,{key:0},se(w.value,(l,r)=>(h(),A(T,{key:r},{default:t(()=>[e(P,null,{default:t(()=>[a("div",yo,[a("div",ho,f(i(l.created_at)),1),a("div",bo,f(p(l.created_at)),1),a("div",wo,f(l.branch.name)+" - "+f(b(l.employee)),1),a("div",null,[e(W,{color:"yellow",outlined:""},{default:t(()=>[V(" Pending ")]),_:1})]),a("div",null,[e(fo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",xo,[e(le,{name:"warning",color:"warning",size:"4em"}),$o]))])]),_:1})]))}};var Co=G(ko,[["__scopeId","data-v-7ba0107e"]]);const Ro={class:"row justify-between"},Po=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),So={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(s){Ne(),q(!1);const v=q(!1),x=()=>{v.value=!0},w=s,g=U(()=>(console.log("Filtered rows:",w.report||[]),w.report.softdrinks_added_stocks||[])),m=i=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",b=i.firstname?p(i.firstname):"No Firstname",o=i.middlename?p(i.middlename).charAt(0)+".":"",n=i.lastname?p(i.lastname):"No Lastname";return`${b} ${o} ${n}`},y=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,p)=>(h(),S(I,null,[a("div",null,[e(N,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=b=>v.value=b)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Ro,[Po,e(N,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=b=>v.value=!1)})])]),_:1}),e(P,null,{default:t(()=>[a("div",null,"Cashier: "+f(m(s.report.employee)),1),a("div",null," Branch: "+f(s.report.branch.name),1),a("div",null,[V(" Status: "),e(W,{color:"green",outlined:""},{default:t(()=>[V(f(s.report.status),1)]),_:1})])]),_:1}),e(P,null,{default:t(()=>[e(ne,{rows:g.value,columns:y,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":p[1]||(p[1]=b=>i.pagination=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const qo=s=>(X("data-v-2b1290c8"),s=s(),Z(),s),Vo={class:"q-gutter-md q-ma-md"},Do={class:"row justify-between"},No={class:"text-subtitle1"},To={class:"text-subtitle1"},Uo={class:"text-subtitle1"},Bo={key:1,class:"data-error"},Ao=qo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Io={__name:"TransactionConfirmedCard",setup(s){const v=ce(),x=Ne(),w=U(()=>x.confirmedSoftdrinksReports),g=v.params.branch_id,m=q("confirmed"),y=async()=>{try{const o=await x.fetchConfirmedSoftdrinksStocks(g,m.value);console.log(w.value)}catch(o){console.error("Error fetching confirmed stocks",o)}};_e(async()=>{g&&await y()});const i=o=>re.formatDate(o,"MMMM D, YYYY"),p=o=>re.formatDate(o,"hh:mm A"),b=o=>{const n=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",l=o.firstname?n(o.firstname):"No Firstname",r=o.middlename?n(o.middlename).charAt(0)+".":"",_=o.lastname?n(o.lastname):"No Lastname";return`${l} ${r} ${_}`};return(o,n)=>(h(),S("div",null,[e(Ve,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Vo,[w.value.length?(h(!0),S(I,{key:0},se(w.value,(l,r)=>(h(),A(T,{key:r},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Do,[a("div",No,f(i(l.created_at)),1),a("div",To,f(p(l.created_at)),1),a("div",Uo,f(l.branch.name)+" - "+f(b(l.employee)),1),a("div",null,[e(W,{color:"green",outlined:""},{default:t(()=>[V(f(l.status),1)]),_:2},1024)]),a("div",null,[e(So,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Bo,[e(le,{name:"warning",color:"warning",size:"4em"}),Ao]))])]),_:1})]))}};var Fo=G(Io,[["__scopeId","data-v-2b1290c8"]]);const zo={class:"row justify-between"},Mo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Ho={class:"q-mt-md"},Lo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(s){Ne();const v=q(!1),x=()=>{v.value=!0},w=s,g=U(()=>(console.log("Filtered rows:",w.report||[]),w.report.softdrinks_added_stocks)),m=i=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",b=i.firstname?p(i.firstname):"No Firstname",o=i.middlename?p(i.middlename).charAt(0)+".":"",n=i.lastname?p(i.lastname):"No Lastname";return`${b} ${o} ${n}`},y=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,p)=>(h(),S(I,null,[a("div",null,[e(N,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=b=>v.value=b)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(P,null,{default:t(()=>[a("div",zo,[Mo,e(N,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=b=>v.value=!1)})])]),_:1}),e(P,null,{default:t(()=>[a("div",null,"Cashier: "+f(m(s.report.employee)),1),a("div",null," Branch: "+f(s.report.branch.name),1),a("div",null,[V(" Status: "),e(W,{color:"red",outlined:""},{default:t(()=>[V(f(s.report.status),1)]),_:1})]),a("div",Ho,"Remark: "+f(s.report.remark),1)]),_:1}),e(P,null,{default:t(()=>[e(ne,{rows:g.value,columns:y,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":p[1]||(p[1]=b=>i.pagination=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const jo=s=>(X("data-v-51a1abe5"),s=s(),Z(),s),Oo={class:"q-gutter-md q-ma-md"},Qo={class:"row justify-between"},Eo={class:"text-subtitle1"},Yo={class:"text-subtitle1"},Ko={class:"text-subtitle1"},Go={key:1,class:"data-error"},Wo=jo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Jo={__name:"TransactionDeclinedCard",setup(s){const v=ce(),x=Ne(),w=U(()=>x.declinedSoftdrinksReports),g=v.params.branch_id,m=q("declined"),y=async()=>{try{const o=await x.fetchDeclinedSoftdrinksStocks(g,m.value);console.log("softdrinksProductsDeclined",w.value)}catch(o){console.error("Error fetching decline stocks:",o)}};_e(async()=>{g&&await y()});const i=o=>re.formatDate(o,"MMMM D, YYYY"),p=o=>re.formatDate(o,"hh:mm A"),b=o=>{const n=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",l=o.firstname?n(o.firstname):"No Firstname",r=o.middlename?n(o.middlename).charAt(0)+".":"",_=o.lastname?n(o.lastname):"No Lastname";return`${l} ${r} ${_}`};return(o,n)=>(h(),A(Ve,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Oo,[w.value.length?(h(!0),S(I,{key:0},se(w.value,(l,r)=>(h(),A(T,{key:r},{default:t(()=>[e(P,null,{default:t(()=>[a("div",Qo,[a("div",Eo,f(i(l.created_at)),1),a("div",Yo,f(p(l.created_at)),1),a("div",Ko,f(l.branch.name)+" - "+f(b(l.employee)),1),a("div",null,[e(W,{color:"red",outlined:""},{default:t(()=>[V(f(l.status),1)]),_:2},1024)]),a("div",null,[e(Lo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(h(),S("div",Go,[e(le,{name:"warning",color:"warning",size:"4em"}),Wo]))])]),_:1}))}};var Xo=G(Jo,[["__scopeId","data-v-51a1abe5"]]);const Zo={class:"q-gutter-y-sm"},es={__name:"SoftdrinksTransactionPage",setup(s){const v=q("pendingReports");return(x,w)=>(h(),S(I,null,[a("div",Zo,[e(Be,{modelValue:v.value,"onUpdate:modelValue":w[0]||(w[0]=g=>v.value=g),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(ae,{class:"text-white",name:"pendingReports",icon:"event_available",label:"Pending Reports"}),e(ae,{class:"text-white",name:"confirmReports",icon:"calendar_month",label:"Confirm Reports"}),e(ae,{class:"text-white",name:"declineReports",icon:"calendar_month",label:"Decline Reports"})]),_:1},8,["modelValue"])]),e(Ae,{modelValue:v.value,"onUpdate:modelValue":w[1]||(w[1]=g=>v.value=g),animated:""},{default:t(()=>[e(oe,{name:"pendingReports"},{default:t(()=>[e(Co)]),_:1}),e(oe,{name:"confirmReports"},{default:t(()=>[e(Fo)]),_:1}),e(oe,{name:"declineReports"},{default:t(()=>[e(Xo)]),_:1})]),_:1},8,["modelValue"])],64))}};var ts=G(es,[["__scopeId","data-v-a42350e8"]]);const as=s=>(X("data-v-d3b67328"),s=s(),Z(),s),ls={class:"q-gutter-y-sm"},ns=as(()=>a("h1",null,"Bread",-1)),os={__name:"TransactionPage",setup(s){const v=q("bread");return(x,w)=>(h(),S(I,null,[a("div",ls,[e(Be,{modelValue:v.value,"onUpdate:modelValue":w[0]||(w[0]=g=>v.value=g),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(ae,{class:"text-white",name:"bread",icon:"event_available",label:"Bread"}),e(ae,{class:"text-white",name:"selecta",icon:"event_available",label:"Selecta"}),e(ae,{class:"text-white",name:"softdrinks",icon:"calendar_month",label:"Softdrinks"}),e(ae,{class:"text-white",name:"cake",icon:"calendar_month",label:"Cake"}),e(ae,{class:"text-white",name:"other",icon:"calendar_month",label:"Others"})]),_:1},8,["modelValue"])]),e(Ae,{modelValue:v.value,"onUpdate:modelValue":w[1]||(w[1]=g=>v.value=g),animated:""},{default:t(()=>[e(oe,{name:"bread"},{default:t(()=>[e(T,null,{default:t(()=>[ns]),_:1})]),_:1}),e(oe,{name:"selecta"},{default:t(()=>[e(uo)]),_:1}),e(oe,{name:"softdrinks"},{default:t(()=>[e(ts)]),_:1})]),_:1},8,["modelValue"])],64))}};var ss=G(os,[["__scopeId","data-v-d3b67328"]]);const Pe=s=>(X("data-v-2adb6214"),s=s(),Z(),s),rs=Pe(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),is={class:"q-mb-lg"},ds={key:0,class:"custom-list z-top"},cs={class:"q-mb-sm"},us=Pe(()=>a("div",null,"Recipe Name",-1)),ms={class:"q-mb-lg"},ps=Pe(()=>a("div",null,"Category",-1)),_s=Pe(()=>a("div",null,"Breads",-1)),fs={class:"q-mt-md q-gutter-y-sm"},gs=Pe(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),vs={class:"q-mt-xl q-gutter-y-sm"},ys={class:"row justify-between"},hs=Pe(()=>a("div",{align:"center"},"Ingredients",-1)),bs=Pe(()=>a("div",{align:"center"},"Quantity",-1)),ws=["onKeyup"],xs={align:"right"},$s={__name:"RecipeCreate",setup(s){const v=ce(),x=v.params.branch_id,w=mt(),g=U(()=>w.recipes),m=Ke(),y=Ze(),i=et(),p=U(()=>m.branchRecipes),b=q(!1),o=()=>{b.value=!0},n=()=>{clearForm(),b.value=!1},l=B=>B?B.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase()).join(" "):"",r=q(""),_=async()=>{w.searchRecipe(r.value)},c=U(()=>d.target!==0),u=B=>{d.recipe_id=B.id,d.recipe_name=B.name,d.category=B.category,r.value=""},d=Ie({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:v.params.branch_id}),R=q(!1),$=q(null),D=q([]),k=q(D.value),C=q([]),M=q([]),j=Ie({name:"",quantity:""}),L=q(M.value);(async()=>{await y.fetchProductsByCategory("Bread"),R.value=!1,D.value=y.breads.map(B=>({label:B.name,value:B.id}))})(),(async()=>{await i.fetchIngredients("Ingredients"),R.value=!1,M.value=i.ingredients.map(B=>({label:B.name,value:B.id,unit:B.unit}))})();const Q=()=>{j.name="",j.quantity=""},fe=(B,H)=>{B.length>2&&(D.value.includes(B)||H(B,"add-unique"))},ue=(B,H)=>{H(()=>{if(B==="")k.value=D.value;else{const ve=B.toLowerCase();k.value=D.value.filter(O=>O.label.toLowerCase().indexOf(ve)>-1)}})},ge=(B,H)=>{H(()=>{if(B==="")L.value=M.value;else{const ve=B.toLowerCase();L.value=M.value.filter(O=>O.label.toLowerCase().indexOf(ve)>-1)}})},Se=()=>{const B=C.value;function H(xe,je){return xe.find(st=>st.ingredients_id==je)}const ve=j.name.value;H(B,ve)?pe.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(C.value=[...B,{ingredients_id:j.name.value,label:j.name.label,quantity:j.quantity,unit:j.name.unit}],Q())},de=B=>{C.value.splice(B,1)};He(()=>j.name,B=>{B&&B.unit?j.unit=B.unit:j.unit=""});const me=()=>{d.recipe_id="",d.target="",$.value=null,C.value=[],j.name="",j.quantity=""},ye=async()=>{const B={recipe_id:d.recipe_id,target:d.target,status:"active",branch_id:d.branches_id,breads:$.value.map(H=>({bread_id:H.value})),ingredients:C.value.map(H=>({ingredient_id:H.ingredients_id,quantity:H.quantity}))};console.log("branchRecipe",B),await m.saveBranchRecipe(B),p.value=await m.fetchBranchRecipes(x),me(),b.value=!1};return(B,H)=>(h(),S(I,null,[e(N,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:o}),e(K,{modelValue:b.value,"onUpdate:modelValue":H[7]||(H[7]=ve=>b.value=ve)},{default:t(()=>[e(T,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(P,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[rs,e(Ue),ee(e(N,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e(P,null,{default:t(()=>{var ve;return[a("div",is,[e(E,{modelValue:r.value,"onUpdate:modelValue":[H[0]||(H[0]=O=>r.value=O),_],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(le,{name:"search"})])]),default:t(()=>[r.value?(h(),S("div",ds,[e(T,null,{default:t(()=>[e(Fe,{separator:""},{default:t(()=>{var O;return[(O=g.value)!=null&&O.length?(h(!0),S(I,{key:1},se(g.value,xe=>(h(),A(he,{onClick:je=>u(xe),key:xe.id,clickable:""},{default:t(()=>[e($e,null,{default:t(()=>[e(ze,null,{default:t(()=>[V(f(l(xe.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),A(he,{key:0},{default:t(()=>[V(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Qe("",!0)]),_:1},8,["modelValue"])]),a("div",cs,[us,e(E,{modelValue:d.recipe_name,"onUpdate:modelValue":H[1]||(H[1]=O=>d.recipe_name=O),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",ms,[ps,e(E,{modelValue:d.category,"onUpdate:modelValue":H[2]||(H[2]=O=>d.category=O),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(E,{modelValue:d.target,"onUpdate:modelValue":H[3]||(H[3]=O=>d.target=O),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs"},null,8,["modelValue"])]),a("div",null,[_s,e(Oe,{modelValue:$.value,"onUpdate:modelValue":H[4]||(H[4]=O=>$.value=O),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:k.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:fe,onFilter:ue,rules:[O=>O&&O.length>0||"Bread is required"]},{"no-option":t(()=>[e(he,null,{default:t(()=>[e($e,{class:"text-grey"},{default:t(()=>[V(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",fs,[gs,a("div",null,[e(Fe,{dense:"",separator:"",class:"box"},{default:t(()=>[(h(!0),S(I,null,se(C.value,(O,xe)=>(h(),A(he,{key:xe},{default:t(()=>[e($e,null,{default:t(()=>[e(ze,null,{default:t(()=>[V(f(O.label),1)]),_:2},1024)]),_:2},1024),e($e,null,{default:t(()=>[V(f(O.quantity)+" "+f(O.unit),1)]),_:2},1024),e($e,{side:""},{default:t(()=>[e(N,{onClick:je=>de(xe),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",vs,[a("div",ys,[a("div",null,[hs,e(Oe,{modelValue:j.name,"onUpdate:modelValue":H[5]||(H[5]=O=>j.name=O),debounce:"3000",outlined:"","chips-color":"primary",options:L.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:ge,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(he,null,{default:t(()=>[e($e,{class:"text-grey"},{default:t(()=>[V(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[bs,e(E,{modelValue:j.quantity,"onUpdate:modelValue":H[6]||(H[6]=O=>j.quantity=O),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((ve=j==null?void 0:j.name)==null?void 0:ve.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Re(dt(Se,["prevent"]),["enter"])},[a("div",xs,[e(N,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Se})])],40,ws)])]}),_:1}),e(ke,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(N,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(N,{class:"glossy",color:"teal",label:"Create",onClick:ye,disable:!c.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ks=G($s,[["__scopeId","data-v-2adb6214"]]);const ot=s=>(X("data-v-33664d62"),s=s(),Z(),s),Cs=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Rs=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Ps={__name:"RecipeDelete",props:["delete"],setup(s){const v=Ke(),x=s,w=q(!1),g=()=>{w.value=!0},m=async()=>{await v.deleteRecipe(x.delete.row.id),w.value=!1};return(y,i)=>(h(),S(I,null,[e(N,{onClick:g,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(J,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(K,{modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=p=>w.value=p),persistent:""},{default:t(()=>[e(T,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(P,{class:"q-pt-none q-pb-sm"},{default:t(()=>[Cs,Rs]),_:1}),e(Te,{class:"q-mb-md"}),e(P,null,{default:t(()=>[e(ke,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(N,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(N,{dense:"",label:"Delete",color:"negative",onClick:m,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ss=G(Ps,[["__scopeId","data-v-33664d62"]]);const We=s=>(X("data-v-44694ce1"),s=s(),Z(),s),qs={class:"row justify-between"},Vs={class:"q-my-sm"},Ds={key:0,class:"spinner-wrapper"},Ns={key:1},Ts={key:0,class:"data-error"},Us=We(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Bs=We(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Breads List ",-1)),As=We(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Ingredients List ",-1)),Is={class:"row justify-center q-gutter-x-md"},Fs={__name:"RecipeTable",setup(s){const x=ce().params.branch_id,w=Ke(),g=q(""),m=q(!0),y=q([]),i=q(!1),p=q({rowsPerPage:0}),b=["inactive","active"],o=U(()=>w.branchRecipes);console.log("branch recipe",o.value);const n=U(()=>g.value?o.value.filter($=>$.name.toLowerCase().includes(g.value.toLowerCase())):o.value);_e(async()=>{x&&await l(x)});const l=async $=>{try{m.value=!0;const D=await w.fetchBranchRecipes($);o.value=D,console.log("branchRecipeRows",o.value),o.value.length||(i.value=!0),console.log("Branch recipe",o.value)}catch(D){console.log("Error fetching recipe",D)}finally{m.value=!1}},r=$=>!$&&$!==0?"Set Target":typeof $=="number"||!isNaN($)?($=parseFloat($),$%1===0?$:parseFloat($.toFixed(1))):$;async function _($,D){try{const k=await be.put("/api/update-target/"+$.id,{target:parseFloat(D)});if(console.log("response",k),k.status==200){const C=y.value.findIndex(M=>M.id==$.id);y.value[C]=D}pe.create({type:"positive",message:"Recipe target edited successfully"})}catch(k){console.error("Error updating recipe target:",k),pe.create({type:"negative",message:"Failed to edit recipe target"})}}async function c($,D){try{if((await be.put("/api/branch-update-status/"+$.id,{status:D})).status==200){const C=y.value.findIndex(M=>M.id==$.id);y.value[C]=D}pe.create({type:"positive",message:"Recipe status change successfully"})}catch(k){console.error("Error updating recipe status:",k),pe.create({type:"negative",message:"Failed to change recipe status"})}}const u=$=>$?$.split(" ").map(D=>D.charAt(0).toUpperCase()+D.slice(1).toLowerCase()).join(" "):"",d=[{name:"name",label:"Recipe name",align:"center",field:$=>$.name},{name:"category",label:"Category",align:"center",field:$=>$.recipe},{name:"target",label:"Target",align:"center",field:$=>r($.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],R=$=>{switch($){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return($,D)=>(h(),S(I,null,[a("div",qs,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:g.value,"onUpdate:modelValue":D[0]||(D[0]=k=>g.value=k),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(le,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Vs,[e(ks)])]),m.value?(h(),S("div",Ds,[e(Le,{size:"50px",color:"primary"})])):(h(),S("div",Ns,[n.value.length===0?(h(),S("div",Ts,[e(le,{name:"warning",color:"warning",size:"4em"}),Us])):(h(),A(ne,{key:1,class:"table-container sticky-header",filter:g.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:d,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":D[1]||(D[1]=k=>p.value=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(k=>[e(z,{props:k},{default:t(()=>[a("span",null,f(u(k.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(k=>[e(z,{props:k},{default:t(()=>[a("span",null,f(u(k.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(k=>[e(z,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[V(f(r(k.row.target))+" ",1),e(J,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit Target")]),_:1})]),e(qe,{"onUpdate:modelValue":[C=>_(k.row,C),C=>k.row.target=C],modelValue:k.row.target,"auto-save":""},{default:t(C=>[e(E,{modelValue:C.value,"onUpdate:modelValue":M=>C.value=M,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(k=>[e(z,{props:k},{default:t(()=>[e(W,{outline:"",color:R(k.row.status)},{default:t(()=>[V(f(u(k.row.status))+" ",1),e(J,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Change Status")]),_:1})]),_:2},1032,["color"]),e(qe,{"onUpdate:modelValue":[C=>c(k.row,C),C=>k.row.status=C],modelValue:k.row.status,"auto-save":""},{default:t(C=>[a("span",null,f(k.row.name),1),e(Oe,{modelValue:C.value,"onUpdate:modelValue":M=>C.value=M,dense:"",label:"status",autofocus:"",options:b,counter:"",mask:"###",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(k=>[e(z,{props:k},{default:t(()=>[e(J,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1"},{default:t(()=>[Bs,e(Te,{class:"q-mb-md",color:"yellow"}),(h(!0),S(I,null,se(k.row.bread_groups,C=>(h(),S("div",{key:C},f(C),1))),128))]),_:2},1024),e(Xe,{square:"",outline:"",color:"red-6",class:"text-white"},{default:t(()=>[V(f(k.row.bread_groups.length)+" breads ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(k=>[e(z,{props:k},{default:t(()=>[e(J,{delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"300px"}},{default:t(()=>[As,e(Te,{class:"q-mb-md",color:"yellow"}),(h(!0),S(I,null,se(k.row.ingredient_groups,C=>(h(),S("div",{class:"row justify-between",key:C.ingredient_name},[a("div",null,f(C.ingredient_name),1),a("div",null,f(C.quantity)+" "+f(C.unit),1)]))),128))]),_:2},1024),e(Xe,{square:"",outline:"",color:"purple-6",class:"text-white"},{default:t(()=>[V(f(k.row.ingredient_groups.length)+" ingredients ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-action":t(k=>[e(z,{props:k},{default:t(()=>[a("div",Is,[e(Ss,{delete:k},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var zs=G(Fs,[["__scopeId","data-v-44694ce1"]]);const Ms={__name:"RecipePage",setup(s){return(v,x)=>(h(),S("div",null,[e(zs)]))}};const Hs={class:"elegant-container q-gutter-md"},Ls={class:"text-h6 row justify-between"},js={class:"q-gutter-sm"},Os={class:"tab-container"},Qs={__name:"BranchIdPage",setup(s){const v=ce(),x=q(""),w=ct(),g=async b=>(await be.get(`/api/branches/${b}`)).data,m=async()=>{const b=v.params.branch_id,o=await g(b);o&&o.name?x.value=o.name:console.error("Branch data is missing 'name' property or invalid:",o)};_e(()=>{m()});const y=b=>b?b.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",i=q("products"),p=()=>{Je.show(),w.push("/admin/branches").finally(()=>{Je.hide()})};return(b,o)=>(h(),A(ut,{padding:""},{default:t(()=>[a("div",Hs,[a("div",Ls,[a("div",null,[e(N,{outline:"",flat:"",icon:"arrow_back",onClick:p}),e(Ue)]),a("div",null,[e(le,{name:"fa-solid fa-store",color:"red-6"}),V(" "+f(y(x.value)),1)])]),a("div",js,[a("div",Os,[e(Be,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=n=>i.value=n),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(ae,{name:"products",label:"Products"}),e(ae,{name:"rawMaterials",label:"Raw Materials"}),e(ae,{name:"recipe",label:"Recipe"}),e(ae,{name:"production",label:"Production"}),e(ae,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(T,{class:"q-mt-sm"},{default:t(()=>[e(Ae,{modelValue:i.value,"onUpdate:modelValue":o[1]||(o[1]=n=>i.value=n),animated:""},{default:t(()=>[e(oe,{name:"products"},{default:t(()=>[e(Ft)]),_:1}),e(oe,{name:"rawMaterials"},{default:t(()=>[e(da)]),_:1}),e(oe,{name:"recipe"},{default:t(()=>[e(Ms)]),_:1}),e(oe,{name:"production"},{default:t(()=>[e(bn)]),_:1}),e(oe,{name:"transaction"},{default:t(()=>[e(ss)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var qr=G(Qs,[["__scopeId","data-v-eb7c826e"]]);export{qr as default};
