import{bd as A,r as u,t as k,o as f,a2 as M,e,M as p,w as l,Q as q,I as g,ad as V,a0 as w,J as t,K as v,$ as S,aI as B,a1 as D,a3 as N,u as T,c as y,L as Q,aJ as W,_ as $}from"./index.9d41a448.js";import{Q as O}from"./QSpace.073e76c5.js";import{a as z,b as F}from"./QList.947946e1.js";import{Q as I}from"./QSelect.837eeafe.js";import{C}from"./ClosePopup.bfadaadf.js";import{u as L}from"./warehouse-rawMaterials.66052109.js";import{Q as J}from"./QChip.0657df15.js";import{Q as K}from"./QTd.68363949.js";import{Q as P}from"./QTable.b15f5d1e.js";import"./use-virtual-scroll.584cd8e9.js";import"./QMenu.6f6f9668.js";import"./selection.e07b7265.js";import"./axios.71c2d668.js";import"./raw-material.4d08957b.js";import"./QVirtualScroll.b7ad36a5.js";const E=t("div",{class:"text-h6"},"Add Supply",-1),G=t("div",{class:"q-my-sm"},"Supplier's Company Name",-1),j=t("div",{class:"q-my-sm"},"Supplier's Name",-1),H={class:"row q-gutter-x-sm"},X=t("div",{class:"q-my-sm"},"Raw Materials Name",-1),Y=t("div",{class:"q-my-sm"},"Amount",-1),Z=t("div",{class:"q-my-sm"},"Unit",-1),ee={class:"q-mt-sm"},ae={__name:"WarehouseIngredientsCreateSupply",setup(x){A().params.warehouse_id;const i=u(!1),h=["Grams","Kgs","Pcs"],_=L(),b=()=>{i.value=!0};u(!1),u([]);const o=u([]),r=k({name:"",quantity:""}),n=u(o.value);(async c=>{await _.fetchWarehouseRawMaterials(c),o.value=_.warehouseRawMaterials.map(a=>({label:a.name,value:a.id,unit:a.unit}))})();const R=(c,a)=>{a(()=>{if(c==="")n.value=o.value;else{const s=c.toLowerCase();n.value=o.value.filter(U=>U.label.toLowerCase().indexOf(s)>-1)}})},d=k({companyName:"",supplierName:"",ingredientName:"",ingredientAmount:"",unit:null});return(c,a)=>(f(),M(N,null,[e(p,{class:"q-pa-sm",color:"red",dense:"",elevated:"",icon:"add_circle",label:"Add Supply",onClick:b}),e(D,{modelValue:i.value,"onUpdate:modelValue":a[5]||(a[5]=s=>i.value=s)},{default:l(()=>[e(q,{class:"my-card",style:{width:"900px"}},{default:l(()=>[e(g,{class:"row items-center"},{default:l(()=>[E,e(O),V(e(p,{icon:"close",flat:"",dense:"",round:""},null,512),[[C]])]),_:1}),e(w),e(g,{class:"q-my-md q-mx-sm q-gutter-y-sm"},{default:l(()=>[t("div",null,[G,e(v,{modelValue:d.companyName,"onUpdate:modelValue":a[0]||(a[0]=s=>d.companyName=s),outlined:"",dense:""},null,8,["modelValue"])]),t("div",null,[j,e(v,{modelValue:d.supplierName,"onUpdate:modelValue":a[1]||(a[1]=s=>d.supplierName=s),outlined:"",dense:""},null,8,["modelValue"])])]),_:1}),e(w),e(g,null,{default:l(()=>[t("div",H,[t("div",null,[X,e(I,{modelValue:r.name,"onUpdate:modelValue":a[2]||(a[2]=s=>r.name=s),debounce:"3000",outlined:"","chips-color":"primary",options:n.value,dense:"",label:"Raw Materials",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:R,style:{width:"320px","max-width":"350px","min-width":"20px"}},{"no-option":l(()=>[e(z,null,{default:l(()=>[e(F,{class:"text-grey"},{default:l(()=>[S(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),t("div",null,[Y,e(v,{modelValue:d.ingredientAmount,"onUpdate:modelValue":a[3]||(a[3]=s=>d.ingredientAmount=s),type:"number",outlined:"",dense:"",style:{width:"80px","max-width":"150px","min-width":"none"}},null,8,["modelValue"])]),t("div",null,[Z,e(I,{modelValue:d.unit,"onUpdate:modelValue":a[4]||(a[4]=s=>d.unit=s),options:h,outlined:"",dense:"",style:{width:"90px","max-width":"100px","min-width":"none"}},null,8,["modelValue"])]),t("div",ee,[e(p,{size:"sm",outline:"",dense:"",icon:"add",color:"purple"})])])]),_:1}),e(w),e(B,{class:"row q-ma-md",align:"right"},{default:l(()=>[V(e(p,{class:"glossy",color:"grey-9",label:"Cancel"},null,512),[[C]]),e(p,{class:"glossy",color:"teal",label:"Create"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},te={__name:"WarehouseIngredientsTable",setup(x){const m=u(""),i=u(!1);T(m,()=>{i.value=!0,setTimeout(()=>{i.value=!1})});const h=[{name:"name",label:"Ingredients Name",align:"center",field:o=>o.name,format:o=>`${o}`,sortable:!0},{name:"availableStocks",align:"center",label:"Available Stocks",field:"availableStocks",sortable:!0}],_=[{name:"Ingredients 1",availableStocks:"50 kgs"},{name:"Ingredients 2",availableStocks:"70 kgs"},{name:"Ingredients 3",availableStocks:"20 g"},{name:"Ingredients 4",availableStocks:"50 kgs"},{name:"Ingredients 5",availableStocks:"30 kgs"},{name:"Ingredients 5",availableStocks:"10 kgs"}],b=o=>{const r=parseInt(o);return r<=20?"bg-red":r<=50?"bg-warning":"bg-primary"};return(o,r)=>(f(),M(N,null,[t("div",null,[e(v,{rounded:"",outlined:"",dense:"",debounce:"300",modelValue:m.value,"onUpdate:modelValue":r[0]||(r[0]=n=>m.value=n),placeholder:"Search",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:l(()=>[i.value?(f(),y(Q,{key:1,thickness:2,color:"teal",size:"1em"})):(f(),y(Q,{key:0,name:"search"}))]),_:1},8,["modelValue"])]),t("div",null,[e(P,{filter:m.value,flat:"",columns:h,rows:_,"row-key":"name","virtual-scroll":""},{"body-cell-availableStocks":l(n=>[e(K,{props:n},{default:l(()=>[e(J,{square:"",class:W(["text-white",b(n.row.availableStocks)])},{default:l(()=>[S($(n.row.availableStocks),1)]),_:2},1032,["class"])]),_:2},1032,["props"])]),_:1},8,["filter"])])],64))}},le={align:"right"},be={__name:"WarehouseIngredients",setup(x){return(m,i)=>(f(),y(q,{flat:""},{default:l(()=>[e(g,{class:"text-h6"},{default:l(()=>[S(" Ingredients ")]),_:1}),e(w),e(g,{class:"q-gutter-md"},{default:l(()=>[t("div",le,[e(ae)]),t("div",null,[e(te)])]),_:1})]),_:1}))}};export{be as default};
