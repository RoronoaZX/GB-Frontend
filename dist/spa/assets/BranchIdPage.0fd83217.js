import{d as He,n as R,g as A,P as we,N as Y,bd as fe,t as Ve,o as g,a2 as C,a as e,M as B,w as t,Q as z,I as V,ad as Z,J as a,K as L,L as se,c as M,$ as S,a3 as E,a4 as pe,_ as x,bc as Fe,aI as $e,a1 as W,a0 as Re,O as te,R as ae,z as Pe,u as Te,ba as xe,aJ as lt,be as U,aH as nt,H as ot}from"./index.2488befc.js";import{Q as Ce}from"./QSpace.8d413f0e.js";import{Q as Ge,a as he,b as We,c as be}from"./QTabPanels.e071f1e7.js";import{Q as st}from"./QPage.4eb30200.js";import{Q as me,a as ge}from"./QItem.fb6af401.js";import{a as Se}from"./rtl.a477e97f.js";import{Q as Be}from"./QList.8b8d29b6.js";import{C as ee}from"./ClosePopup.bbf827b8.js";import{api as G}from"./axios.c5436407.js";import{u as Ae}from"./product.913a8043.js";import{Q as Ie}from"./QSpinnerDots.6aaec4c4.js";import{Q as de}from"./QBadge.30c980dc.js";import{Q as j}from"./QTd.abce335d.js";import{Q as K}from"./QTooltip.c0c68c63.js";import{Q as ke}from"./QPopupEdit.6c6bfc86.js";import{Q as _e}from"./QTable.d263a165.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import{u as Qe}from"./raw-material.04d5b18f.js";import{u as ye}from"./use-dialog-plugin-component.4d3cfa43.js";import{q as ze}from"./date.954b5edc.js";import{p as De}from"./vfs_fonts.02fb2d2e.js";import{u as qe}from"./use-quasar.0f1562d6.js";import{Q as Me,a as Ye}from"./QSelect.fbe57a46.js";import{u as rt}from"./recipe.cbafa405.js";import{u as Oe}from"./branch-recipe.1e03d432.js";import"./QResizeObserver.08cf486d.js";import"./use-panel.2e79322f.js";import"./touch.9135741d.js";import"./selection.36dda4ef.js";import"./QMenu.78e71e3f.js";import"./QVirtualScroll.cfc22429.js";import"./use-virtual-scroll.a9e7ec22.js";const Le=He("branchProducts",()=>{const r=R(null),_=R([]),b=R([]),P=Ae(),y=A(()=>P.products);return console.log("Branch PRoductssss:",y.value),{branchId:b,branchProduct:r,branchProducts:_,fetchBranchProducts:async d=>{const n=await G.get(`/api/branches/${d}/products`);_.value=n.data},createBranchProducts:async d=>{we.show();try{const{category:n,price:k}=d,l=await G.post("/api/branch-products",d);if(l.data.message==="Branch product saved successfully"){const $=y.value.find(w=>w.id===d.product_id),u={...l.data,category:n||"No Category",price:k?parseInt(k):0,product:$||{name:"No Product",category:"Unknown"},total_quantity:d.total_quantity};_.value.unshift(u),Y.create({type:"positive",message:"Branch product saved successfully",position:"top"})}else l.data.message==="The product already exists in this branch."&&Y.create({type:"warning",message:"The product already exists in this branch.",position:"top"})}catch{Y.create({type:"negative",message:"An error occurred while saving the branch product.",position:"top"})}finally{we.hide()}},updateBranchProductPrice:async d=>{await G.put(`/api/update-branch-products/${d}`,{price:newPrice});const n=_.value.findIndex(k=>k.id===d);n!==-1&&(_.value[n].price=newPrice)},deleteBranchProducts:async d=>{await G.delete(`/api/branch-products/${d}`),_.value=_.value.filter(n=>n.id!==d)}}}),it=a("div",{class:"text-h6"},"Create Branch Product",-1),dt={class:"q-mb-lg"},ct={key:0,class:"custom-list z-top"},ut=a("div",null,"Product Name",-1),pt=a("div",null,"Category",-1),mt={class:"row justify-between"},_t=a("div",null,"Beginnings",-1),gt=a("div",null,"Total Quantity",-1),ft=a("div",null,"Price",-1),yt={__name:"ProductCreate",setup(r){const _=fe(),b=Ae(),P=A(()=>b.products),y=Le(),i=R(""),p=async()=>{b.searchProducts(i.value)},v=A(()=>l.price!==0&&l.beginnings!==0&&l.total_quantity!==0),h=R(!1),d=()=>{h.value=!0},n=()=>{$(),h.value=!1},k=w=>{l.product_id=w.id,l.product_name=w.name,l.category=w.category,i.value=""},l=Ve({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:_.params.branch_id}),$=()=>{l.product_id="",l.product_name="",l.category="",l.price=0,l.beginnings=0,l.total_quantity=0},u=async()=>{try{const{product_name:w,...o}=l;await y.createBranchProducts(o),console.log("data to send",o),$(),h.value=!1}catch(w){console.log(w)}};return(w,o)=>(g(),C(E,null,[e(B,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:d}),e(W,{modelValue:h.value,"onUpdate:modelValue":o[6]||(o[6]=s=>h.value=s),persistent:""},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[it,e(Ce),Z(e(B,{icon:"close",flat:"",dense:"",round:""},null,512),[[ee]])]),_:1}),e(V,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",dt,[e(L,{modelValue:i.value,"onUpdate:modelValue":[o[0]||(o[0]=s=>i.value=s),p],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(se,{name:"search"})])]),default:t(()=>[i.value?(g(),C("div",ct,[e(z,null,{default:t(()=>[e(Be,{separator:""},{default:t(()=>{var s;return[(s=P.value)!=null&&s.length?(g(!0),C(E,{key:1},pe(P.value,c=>(g(),M(me,{onClick:m=>k(c),key:c.id,clickable:""},{default:t(()=>[e(ge,null,{default:t(()=>[e(Se,null,{default:t(()=>[S(x(c.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(g(),M(me,{key:0},{default:t(()=>[S(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Fe("",!0)]),_:1},8,["modelValue"])]),a("div",null,[ut,e(L,{modelValue:l.product_name,"onUpdate:modelValue":o[1]||(o[1]=s=>l.product_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[pt,e(L,{modelValue:l.category,"onUpdate:modelValue":o[2]||(o[2]=s=>l.category=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",mt,[a("div",null,[_t,e(L,{modelValue:l.beginnings,"onUpdate:modelValue":o[3]||(o[3]=s=>l.beginnings=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[gt,e(L,{modelValue:l.total_quantity,"onUpdate:modelValue":o[4]||(o[4]=s=>l.total_quantity=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[ft,e(L,{modelValue:l.price,"onUpdate:modelValue":o[5]||(o[5]=s=>l.price=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e($e,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(B,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(B,{class:"glossy",color:"teal",label:"Create",onClick:u,disable:!v.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Je=r=>(te("data-v-196482e9"),r=r(),ae(),r),vt=Je(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ht=Je(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),bt={__name:"ProductDelete",props:["delete"],setup(r){const _=Le(),b=r;console.log("delte",b.delete.row.id);const P=async()=>{try{await _.deleteBranchProducts(b.delete.row.id),Y.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),y.value=!1}catch(p){console.error(p.message)}},y=R(!1),i=()=>{console.log("ID",b.delete.row.id),y.value=!0};return(p,v)=>(g(),C(E,null,[e(B,{onClick:i,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(K,{class:"bg-negative",delay:200},{default:t(()=>[S("Delete")]),_:1})]),_:1}),e(W,{modelValue:y.value,"onUpdate:modelValue":v[0]||(v[0]=h=>y.value=h)},{default:t(()=>[e(z,null,{default:t(()=>[e(V,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[vt,ht]),_:1}),e(Re,{class:"q-mb-md"}),e(V,null,{default:t(()=>[e($e,{align:"right",class:"q-pt-none"},{default:t(()=>[Z(e(B,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ee]]),e(B,{dense:"",label:"Delete",color:"negative",onClick:P,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var wt=J(bt,[["__scopeId","data-v-196482e9"]]);const xt=r=>(te("data-v-6813cfca"),r=r(),ae(),r),$t={class:"row justify-between"},Rt={class:"q-my-sm"},kt={key:0,class:"spinner-wrapper"},Pt={key:1},Ct={key:0,class:"data-error"},qt=xt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Vt={__name:"ProductTable",setup(r){const b=fe().params.branch_id,P=Le(),y=R(""),i=R(!0),p=R([]),v=R(!1),h=R({rowsPerPage:0}),d=A(()=>P.branchProducts);console.log("branchssdfrer",d.value);const n=A(()=>y.value?d.value.filter(s=>s.name.toLowerCase().includes(y.value.toLowerCase())):d.value);Pe(async()=>{b&&await k(b)});const k=async s=>{try{i.value=!0;const c=await P.fetchBranchProducts(s);d.value=c,d.value.length||(v.value=!0),console.log("Branch product",d.value)}catch(c){console.log("Error fetching branch product:",c),v.value=!0}finally{i.value=!1}};Te(y,async s=>{i.value=!0,await new Promise(c=>setTimeout(c,1e3)),i.value=!1,v.value=n.value.length===0});async function l(s,c){try{const m=await G.put("/api/update-branch-products/"+s.id,{price:parseInt(c)});if(m.status===200){const f=p.value.findIndex(q=>q.id==s.id);p.value[f]=parseInt(c),Y.create({type:"positive",message:m.data.message,timout:1e3,position:"top"})}}catch(m){console.error("Error updating price:",m)}}async function $(s,c){try{const m=await G.put("/api/update-branch-products-total-quantity/"+s.id,{total_quantity:parseInt(c)});if(m.status===200){const f=p.value.findIndex(q=>q.id==s.id);p.value[f]=parseInt(c),Y.create({type:"positive",message:m.data.message,timout:1e3,position:"top"})}}catch(m){console.error("Error updating price:",m)}}const u=s=>{switch(s){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},w=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),o=[{name:"name",label:"Product Name",align:"center",field:s=>s.product.name,format:s=>`${s}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:s=>w(s),sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:s=>`${s} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(s,c)=>(g(),C(E,null,[a("div",$t,[a("div",null,[e(L,{class:"q-pb-lg q-pl-md",modelValue:y.value,"onUpdate:modelValue":c[0]||(c[0]=m=>y.value=m),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(se,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Rt,[e(yt)])]),i.value?(g(),C("div",kt,[e(Ie,{size:"50px",color:"primary"})])):(g(),C("div",Pt,[n.value.length===0?(g(),C("div",Ct,[e(se,{name:"warning",color:"warning",size:"4em"}),qt])):(g(),M(_e,{key:1,class:"table-container sticky-header",filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:o,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":c[1]||(c[1]=m=>h.value=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-category":t(m=>[e(j,{key:"name",props:m},{default:t(()=>[e(de,{color:u(m.row.category)},{default:t(()=>[S(x(m.row.category),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-price":t(m=>[e(j,{props:m,class:"cursor-pointer"},{default:t(()=>[a("span",null,[S(x(w(m.row.price))+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[S("Edit Price")]),_:1})]),e(ke,{"onUpdate:modelValue":[f=>l(m.row,f),f=>m.row.price=f],modelValue:m.row.price,"auto-save":""},{default:t(f=>[e(L,{modelValue:f.value,"onUpdate:modelValue":q=>f.value=q,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:xe(f.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-total_quantity":t(m=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[S(x(m.row.total_quantity?m.row.total_quantity:"Set Quantity")+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[S("Edit quantity")]),_:1})]),e(ke,{"onUpdate:modelValue":[f=>$(m.row,f),f=>m.row.total_quantity=f],modelValue:m.row.total_quantity,"auto-save":""},{default:t(f=>[e(L,{modelValue:f.value,"onUpdate:modelValue":q=>f.value=q,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:xe(f.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(m=>[e(j,{class:"q-gutter-x-md",props:m},{default:t(()=>[e(wt,{delete:m},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var St=J(Vt,[["__scopeId","data-v-6813cfca"]]);const Bt={class:"q-gutter-sm"},Dt={__name:"ProductPage",setup(r){return(_,b)=>(g(),C("div",Bt,[a("div",null,[e(St)])]))}},je=He("branchRawMaterial",()=>{const r=R(null),_=R([]),b=R([]),P=Qe(),y=A(()=>P.rawMaterials);return{branchId:b,branchRawMaterial:r,branchRawMaterials:_,fetchBranchRawMaterials:async d=>{const n=await G.get(`/api/branch/${d}/rawMaterials`);_.value=n.data},createBranchRawMaterials:async d=>{we.show();try{const n=await G.post("/api/branch-raw-materials",d);if(n.data.message==="Branch Raw Materials saved successfully"){const k=y.value.find($=>$.id===d.ingredients_id),l={...n.data,ingredients:k||{name:"No Name",code:"Unknown"},total_quantity:d.total_quantity};_.value.unshift(l),Y.create({type:"positive",message:"Branch Raw Materials saved successfully",position:"top"})}else n.data.message==="The RawMaterials already exists in this branch."&&Y.create({type:"warning",message:"The Raw Materials already exists in this branch.",position:"top"})}catch{Y.create({type:"negative",message:"An error occurred while saving the branch product.",position:"top"})}finally{we.hide()}},updateBranchRawMaterials:async d=>{await G.put(`/api/update-branch-products/${d}`,{price:newPrice});const n=_.value.findIndex(k=>k.id===d);n!==-1&&(_.value[n].price=newPrice)},deleteBranchRawMaterials:async d=>{await G.delete(`/api/branch-raw-materials/${d}`),_.value=_.value.filter(n=>n.id!==d)}}}),Tt=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),It={class:"q-mb-lg"},Ut={key:0,class:"custom-list z-top"},Nt=a("div",null,"Raw Materials Code",-1),Mt=a("div",null,"Raw Materials Name",-1),Ht=a("div",null,"Category",-1),Ft=a("div",null,"Quantity",-1),At={__name:"RawMaterialsCreate",setup(r){const _=fe(),b=Qe(),P=A(()=>b.rawMaterials),y=je(),i=R(""),p=async()=>{b.searchRawMaterials(i.value)},v=A(()=>l.total_quantity!==""),h=R(!1),d=()=>{h.value=!0},n=()=>{$(),h.value=!1},k=w=>{l.ingredients_id=w.id,l.ingredient_name=w.name,l.ingredient_code=w.code,l.category=w.category,l.unit=w.unit,i.value=""},l=Ve({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:_.params.branch_id}),$=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},u=async()=>{try{const{product_name:w,...o}=l;await y.createBranchRawMaterials(o),console.log("data to send",o),$(),h.value=!1}catch(w){console.log(w)}};return(w,o)=>(g(),C(E,null,[e(B,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:d,style:{background:"#f43f5e"}}),e(W,{modelValue:h.value,"onUpdate:modelValue":o[5]||(o[5]=s=>h.value=s),persistent:""},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Tt,e(Ce),Z(e(B,{icon:"close",flat:"",dense:"",round:""},null,512),[[ee]])]),_:1}),e(V,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",It,[e(L,{modelValue:i.value,"onUpdate:modelValue":[o[0]||(o[0]=s=>i.value=s),p],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(se,{name:"search"})])]),default:t(()=>[i.value?(g(),C("div",Ut,[e(z,null,{default:t(()=>[e(Be,{separator:""},{default:t(()=>{var s;return[(s=P.value)!=null&&s.length?(g(!0),C(E,{key:1},pe(P.value,c=>(g(),M(me,{onClick:m=>k(c),key:c.id,clickable:""},{default:t(()=>[e(ge,null,{default:t(()=>[e(Se,null,{default:t(()=>[S(x(c.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(g(),M(me,{key:0},{default:t(()=>[S(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Fe("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Nt,e(L,{modelValue:l.ingredient_code,"onUpdate:modelValue":o[1]||(o[1]=s=>l.ingredient_code=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Mt,e(L,{modelValue:l.ingredient_name,"onUpdate:modelValue":o[2]||(o[2]=s=>l.ingredient_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Ht,e(L,{modelValue:l.category,"onUpdate:modelValue":o[3]||(o[3]=s=>l.category=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Ft,e(L,{modelValue:l.total_quantity,"onUpdate:modelValue":o[4]||(o[4]=s=>l.total_quantity=s),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[s=>s&&s.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e($e,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(B,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(B,{class:"glossy",color:"teal",label:"Create",onClick:u,disable:!v.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Xe=r=>(te("data-v-17ad5e9f"),r=r(),ae(),r),Qt=Xe(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),zt=Xe(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Ot={__name:"RawMaterialsTableDelete",props:["delete"],setup(r){const _=je(),b=r,P=async()=>{console.log("clickkkd");try{await _.deleteBranchRawMaterials(b.delete.row.id),Y.create({type:"negative",icon:"warning",message:`Raw Materials ${b.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),y.value=!1}catch(p){console.error(p.message)}},y=R(!1),i=()=>{y.value=!0};return(p,v)=>(g(),C(E,null,[e(B,{onClick:i,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(K,{class:"bg-negative",delay:200},{default:t(()=>[S("Delete")]),_:1})]),_:1}),e(W,{modelValue:y.value,"onUpdate:modelValue":v[0]||(v[0]=h=>y.value=h)},{default:t(()=>[e(z,null,{default:t(()=>[e(V,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Qt,zt]),_:1}),e(Re,{class:"q-mb-md"}),e(V,null,{default:t(()=>[e($e,{align:"right",class:"q-pt-none"},{default:t(()=>[Z(e(B,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ee]]),e(B,{dense:"",label:"Delete",color:"negative",onClick:P,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Lt=J(Ot,[["__scopeId","data-v-17ad5e9f"]]);const Ze=r=>(te("data-v-74a3fea6"),r=r(),ae(),r),jt={class:"row justify-between"},Et={class:"q-my-sm"},Kt={key:0,class:"spinner-wrapper"},Yt={key:1},Gt={key:0,class:"data-error"},Wt=Ze(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Jt=Ze(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),Xt={class:"row justify-center q-gutter-x-md"},Zt={__name:"RawMaterialsTable",setup(r){const b=fe().params.branch_id,P=je(),y=R(""),i=R(!0),p=R([]),v=R(!1),h=R({rowsPerPage:0}),d=A(()=>P.branchRawMaterials),n=A(()=>y.value?d.value.filter(o=>o.name.toLowerCase().includes(y.value.toLowerCase())):d.value);Pe(async()=>{console.log("props.branchId in onMounted:",b),b&&await k(b)});const k=async o=>{try{i.value=!0;const s=await P.fetchBranchRawMaterials(o);d.value=s,d.value.length||(v.value=!0),console.log("Branch Raw Materials",d.value)}catch(s){console.log("Error fetching branch product:",s),v.value=!0}finally{i.value=!1}};async function l(o,s){try{const c=await G.put("/api/update-branch-rawMaterials/"+o.id,{total_quantity:parseInt(s)});if(c.status===200){const m=p.value.findIndex(f=>f.id==o.id);p.value[m]=parseInt(s),Y.create({type:"positive",message:c.data.message,timout:1e3,position:"top"})}}catch(c){console.error("Error updating price:",c)}}Te(y,async o=>{i.value=!0,await new Promise(s=>setTimeout(s,1e3)),i.value=!1,v.value=n.value.length===0});const $=o=>{const s=o.total_quantity;if(o.ingredients.unit==="Grams"&&s<1e3)return"bg-red";let m;return s>=1e3?m=s/1e3:m=s,m<5?m<=2?"bg-red":(m<=3,"bg-warning"):"bg-positive"},u=o=>{const s=o.total_quantity,c=o.ingredients.unit;if(s>1e3){const m=(s/1e3).toFixed(2);return m.endsWith(".00")?`${Math.round(s/1e3)} kilos`:`${m} kilos`}else return s>1?`${s} ${c}`:`${s} ${c}`},w=[{name:"code",label:"Raw Materials Code",align:"center",field:o=>{var s,c;return(c=(s=o==null?void 0:o.ingredients)==null?void 0:s.code)!=null?c:"No Code"},format:o=>`${o}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:o=>{var s,c;return(c=(s=o==null?void 0:o.ingredients)==null?void 0:s.name)!=null?c:"No Code"},format:o=>`${o}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(o,s)=>(g(),C(E,null,[a("div",jt,[a("div",null,[e(L,{class:"q-pb-lg q-pl-md",modelValue:y.value,"onUpdate:modelValue":s[0]||(s[0]=c=>y.value=c),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(se,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Et,[e(At)])]),i.value?(g(),C("div",Kt,[e(Ie,{size:"50px",color:"primary"})])):(g(),C("div",Yt,[n.value.length===0?(g(),C("div",Gt,[e(se,{name:"warning",color:"warning",size:"4em"}),Wt])):(g(),M(_e,{key:1,class:"table-container sticky-header",filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:w,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":s[1]||(s[1]=c=>h.value=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(c=>[e(j,{props:c},{default:t(()=>[e(de,{square:"",class:lt(["text-white cursor-pointer",$(c.row)])},{default:t(()=>[S(x(u(c.row))+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[Jt]),_:1}),e(ke,{"onUpdate:modelValue":[m=>l(c.row,m),m=>c.row.total_quantity=m],modelValue:c.row.total_quantity,"auto-save":""},{default:t(m=>[e(L,{modelValue:m.value,"onUpdate:modelValue":f=>m.value=f,dense:"",suffix:c.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:xe(m.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(c=>[e(j,{props:c},{default:t(()=>[a("div",Xt,[e(Lt,{delete:c},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ea=J(Zt,[["__scopeId","data-v-74a3fea6"]]);const ta={class:"q-gutter-sm"},aa={class:"q-gutter-x-sm"},la={__name:"RawMaterialsPage",setup(r){return(_,b)=>(g(),C("div",ta,[a("div",aa,[e(de,{label:"Good",class:"text-white",color:"positive"}),e(de,{label:"Warning",class:"text-white",color:"warning"}),e(de,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(ea)])]))}};const Ee=r=>(te("data-v-599ac8aa"),r=r(),ae(),r),na=Ee(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),oa={class:"text-subtitle1 text-weight-regular"},sa={class:"row q-gutter-md"},ra={class:"text-h6 row justify-between"},ia={class:"row items-start q-gutter-x-md text-overline elegant-text"},da={class:"row q-gutter-x-sm q-gutter-y-xm"},ca={class:"row q-gutter-x-sm q-gutter-y-xm"},ua={class:"row q-gutter-x-sm"},pa={class:"row q-gutter-x-sm"},ma={class:"row"},_a={class:"col-6"},ga=Ee(()=>a("div",{class:"text-subtitle1",align:"center"},"Ingredients",-1)),fa={class:"row justify-center q-gutter-x-lg q-pa-lg"},ya={class:"row items-start"},va={class:"col-6"},ha=Ee(()=>a("div",{class:"text-subtitle1",align:"center"},"Bread",-1)),ba={class:"row justify-center q-gutter-x-lg q-pa-lg"},wa={key:0},xa={key:1},$a={key:2},Ra={class:"q-ma-sm"},ka={class:"q-ma-sm",align:"center"},Pa=["src"],Ca={__name:"BakerReportPanel",props:["bakersReport"],setup(r){De.exports.vfs=void 0;const _=r,b=_.bakersReport;console.log("Bakers Report",_.bakersReport);const P=R(!0),y=R(!1),i=R(""),p=u=>ze.formatDate(u,"MMM. DD, YYYY"),v=u=>{const w=m=>m?m.charAt(0).toUpperCase()+m.slice(1).toLowerCase():"",o=u.firstname?w(u.firstname):"No Firstname",s=u.middlename?w(u.middlename).charAt(0)+".":"",c=u.lastname?w(u.lastname):"No Lastname";return`${o} ${s} ${c}`.trim()},h=u=>{const w=new Date(u),o={hour:"2-digit",minute:"2-digit",hour12:!0};return w.toLocaleTimeString(void 0,o)},d=u=>{switch(u){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},n=u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase(),k=u=>u?u.recipe_category==="Filling"?u.filling_bakers_reports||[]:u.recipe_category==="Dough"?u.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),l=u=>{var D,O,oe,H;console.log("bakerReport",u);const w=`${u.branch_recipe.recipe.name} (${u.recipe_category})`,o=u.branch_recipe.recipe.target,s=u.actual_target,c=u.kilo,m=u.over,f=u.short,q={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:w,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${o} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${s} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${c} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${m} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${f} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${u.branch.name||"No name available"}
                Baker: ${v(((D=u==null?void 0:u.user)==null?void 0:D.employee)||"Unknown Baker Name")}
                Recipe: ${((O=u.recipe)==null?void 0:O.name)||"Unknown Recipe"} (${u.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${p(((oe=_.bakersReport[0])==null?void 0:oe.created_at)||((H=_.bakersReport[1])==null?void 0:H.created_at)||"No name available")}
                Time: ${h(u.created_at)}
                Status: ${n(u.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...k(u).map(Q=>{var X;return[{text:((X=Q==null?void 0:Q.bread)==null?void 0:X.name)||"Unknown Bread",style:"body"},{text:u.recipe_category==="Filling"?`${(Q==null?void 0:Q.filling_production)||"0"} pcs`:`${Q==null?void 0:Q.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(u.ingredient_bakers_reports||[]).map(Q=>{var X,F;return[{text:((X=Q==null?void 0:Q.ingredients)==null?void 0:X.code)||"Unknown Ingredient",style:"body"},{text:`${(Q==null?void 0:Q.quantity)||"Unknown Quantity"} ${((F=Q==null?void 0:Q.ingredients)==null?void 0:F.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},q]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},$=u=>{const w=l(u);De.exports.createPdf(w).getDataUrl(o=>{i.value=o,y.value=!0})};return(u,w)=>(g(),C("div",null,[e(z,{class:"my-card q-pa-md"},{default:t(()=>{var o,s,c,m,f,q;return[na,a("div",oa,[a("div",null," Name: "+x(v(((s=(o=U(b)[0])==null?void 0:o.user)==null?void 0:s.employee)||((m=(c=U(b)[1])==null?void 0:c.user)==null?void 0:m.employee)||"No name available")),1),a("div",null," Date: "+x(`${p(((f=_.bakersReport[0])==null?void 0:f.created_at)||((q=_.bakersReport[1])==null?void 0:q.created_at)||"No name available")}`),1)]),e(V,null,{default:t(()=>[a("div",sa,[(g(!0),C(E,null,pe(U(b),(D,O)=>(g(),C("div",{key:O,class:"row q-gutter-sm"},[e(z,{flat:"",dense:"",bordered:"",class:"q-pa-md q-my-sm user-card",style:{width:"675px","max-width":"1500px"}},{default:t(()=>{var oe;return[a("div",ra,[a("div",null,x(`${((oe=D.branch_recipe.recipe)==null?void 0:oe.name)||"Unknown Recipe"} (${D.recipe_category||"Unknown Category"})`),1),e(B,{padding:"xs md",label:"Print",icon:"print",outline:"",onClick:H=>$(D),class:"user-button"},null,8,["onClick"])]),a("div",null,"Time: "+x(h(D.created_at)),1),a("div",null,[S(" Status: "),e(de,{align:"middle",color:d(D.status)},{default:t(()=>[S(x(n(D.status)),1)]),_:2},1032,["color"])]),e(V,null,{default:t(()=>[a("div",ia,[a("div",da,[S(" Actual Target: "),a("div",null,[e(de,{outline:"",align:"middle",color:"teal"},{default:t(()=>[S(x(`${(D==null?void 0:D.actual_target)||"No target"} pcs`),1)]),_:2},1024)])]),a("div",ca,[S(" Kilo: "),a("div",null,[e(de,{outline:"",align:"middle",color:"teal"},{default:t(()=>[S(x(`${(D==null?void 0:D.kilo)||"No Kilo"} kgs`),1)]),_:2},1024)])]),a("div",ua,[S(" Over: "),a("div",null,[e(de,{outline:"",align:"middle",color:"teal"},{default:t(()=>[S(x(`${D.over} pcs`),1)]),_:2},1024)])]),a("div",pa,[S(" Short: "),a("div",null,[e(de,{outline:"",align:"middle",color:"teal"},{default:t(()=>[S(x(`${D.short} pcs`),1)]),_:2},1024)])])])]),_:2},1024),e(V,null,{default:t(()=>[a("div",ma,[a("div",_a,[ga,a("div",fa,[a("div",null,[(g(!0),C(E,null,pe(D.ingredient_bakers_reports||[],(H,Q)=>{var X,F;return g(),C("div",{key:Q,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,x(((X=H==null?void 0:H.ingredients)==null?void 0:X.name)||"Unknown Ingredient"),1),a("div",ya,x(`${(H==null?void 0:H.quantity)||"Unknown Quantity"} ${((F=H==null?void 0:H.ingredients)==null?void 0:F.unit)||""}`),1)])}),128))])])]),a("div",va,[ha,a("div",ba,[a("div",null,[(g(!0),C(E,null,pe(k(D),(H,Q)=>{var X;return g(),C("div",{key:Q,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,x(((X=H==null?void 0:H.bread)==null?void 0:X.name)||"Unknown Bread"),1),a("div",null,[D.recipe_category==="Filling"?(g(),C("div",wa,x(`${(H==null?void 0:H.filling_production)||"0"} pcs`),1)):D.recipe_category==="Dough"?(g(),C("div",xa,x(`${H==null?void 0:H.bread_new_production} pcs`),1)):(g(),C("div",$a,x("0 pcs")))])])}),128))])])])])]),_:2},1024)]}),_:2},1024)]))),128))])]),_:1})]}),_:1}),e(W,{modelValue:y.value,"onUpdate:modelValue":w[0]||(w[0]=o=>y.value=o),"backdrop-filter":u.backdropFilter,maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Ra,[a("div",ka,[Z((g(),M(B,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(K,null,{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])]),a("div",null,[a("iframe",{src:i.value,width:"100%",height:"700px"},null,8,Pa)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var qa=J(Ca,[["__scopeId","data-v-599ac8aa"]]);const Va={class:"row justify-between text-white"},Sa=a("div",{class:"text-h6"},"Bread Report",-1),Ba={class:"row justify-end q-mt-md"},Da={class:"text-h6"},Ta={__name:"BreadReport",props:["reports"],setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:P,onDialogCancel:y}=ye(),i=r;console.log("Reports data structure:",i.reports);const p=[{name:"name",label:"Bread Name",field:n=>(console.log("Row data:",n),n.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:n=>`${n}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:n=>`${n}`},{name:"total",label:"Bread Total (PCS)",field:"total",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],v=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),h=A(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),d=A(()=>{const n=h.value.reduce((k,l)=>{const $=parseFloat(l.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${k}`),k+$},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Overall Total Sales:",d.value),(n,k)=>(g(),M(W,{ref_key:"dialogRef",ref:_,onHide:U(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Va,[Sa,Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])]),_:1}),e(V,null,{default:t(()=>[e(_e,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:h.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":k[0]||(k[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,x(`${v(l.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,x(`${v(l.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",Ba,[a("div",Da," Overall Total Sales: "+x(v(d.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ia={class:"row justify-between text-white"},Ua=a("div",{class:"text-h6"},"Selecta Report",-1),Na={class:"row justify-end q-mt-md"},Ma={class:"text-h6"},Ha={__name:"SelectaReport",props:["reports"],setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:P,onDialogCancel:y}=ye(),i=r;console.log("Reports data structure:",i.reports);const p=[{name:"name",label:"Selecta Name",field:n=>(console.log("Row data:",n),n.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],v=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),h=A(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),d=A(()=>{const n=h.value.reduce((k,l)=>{const $=parseFloat(l.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${k}`),k+$},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",h.value),(n,k)=>(g(),M(W,{ref_key:"dialogRef",ref:_,onHide:U(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ia,[Ua,Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])]),_:1}),e(V,null,{default:t(()=>[e(_e,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:h.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":k[0]||(k[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,x(`${v(l.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,x(`${v(l.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",Na,[a("div",Ma," Overall Total Sales: "+x(v(d.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Fa={class:"row justify-between text-white"},Aa=a("div",{class:"text-h6"},"Softdrinks Report",-1),Qa={class:"row justify-end q-mt-md"},za={class:"text-h6"},Oa={__name:"SoftdrinksReport",props:["reports"],setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:P,onDialogCancel:y}=ye(),i=r;console.log("Reports data structure:",i.reports);const p=[{name:"name",label:"Softdrinks Name",field:n=>(console.log("Row data:",n),n.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],v=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),h=A(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),d=A(()=>{const n=h.value.reduce((k,l)=>{const $=parseFloat(l.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${k}`),k+$},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",h.value),(n,k)=>(g(),M(W,{ref_key:"dialogRef",ref:_,onHide:U(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Fa,[Aa,Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])]),_:1}),e(V,null,{default:t(()=>[e(_e,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:h.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":k[0]||(k[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,x(`${v(l.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,x(`${v(l.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",Qa,[a("div",za," Overall Total Sales: "+x(v(d.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const La=r=>(te("data-v-cc64d6be"),r=r(),ae(),r),ja=La(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),Ea={class:"q-gutter-md",align:"center"},Ka={class:"text-weight-regular text-subtitle1"},Ya={__name:"ProductsReport",props:["sales_Reports"],setup(r){const _=r,b=_.sales_Reports;console.log("sales report2",_);const P=qe(),y=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(h),i=h=>{P.dialog({component:Ta,componentProps:{reports:h}})},p=h=>{P.dialog({component:Ha,componentProps:{reports:h}})},v=h=>{P.dialog({component:Oa,componentProps:{reports:h}})};return(h,d)=>(g(),C("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[ja]),_:1}),e(V,null,{default:t(()=>[a("div",Ea,[e(B,{onClick:d[0]||(d[0]=n=>i(_.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"150px"},class:"user-button"}),e(B,{onClick:d[1]||(d[1]=n=>p(U(b)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"150px"},class:"user-button"}),e(B,{onClick:d[2]||(d[2]=n=>v(U(b)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"})])]),_:1}),e(V,null,{default:t(()=>[a("div",Ka," Total sales: "+x(y(U(b)[0].products_total_sales)),1)]),_:1})]),_:1})]))}};var Ga=J(Ya,[["__scopeId","data-v-cc64d6be"]]);const Wa={class:"row justify-between text-white"},Ja=a("div",{class:"text-h6"},"Denomination Report",-1),Xa={class:"row text-weight-regular text-subtitle1"},Za={class:"col-6"},el={class:"col-6"},tl={class:"row justify-end q-mt-md"},al={class:"text-h6"},ll={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:P,onDialogCancel:y}=ye(),i=r;console.log("Denomination Props",i.reports);const p=i.reports[0];console.log("Reports data structure:",i.reports);const v=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(d),h=A(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[]));return console.log("Filtered Rows:",h.value),(d,n)=>(g(),M(W,{ref_key:"dialogRef",ref:_,onHide:U(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Wa,[Ja,Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])]),_:1}),e(V,null,{default:t(()=>[a("div",Xa,[a("div",Za,[a("div",null,"1000 Bills: "+x(U(p).oneThousandBills),1),a("div",null,"500 Bills: "+x(U(p).fiveHundredBills),1),a("div",null,"200 Bills: "+x(U(p).twoHundredBills),1),a("div",null,"100 Bills: "+x(U(p).oneHundredBills),1),a("div",null,"50 Bills: "+x(U(p).fiftyBills),1),a("div",null,"20 Bills: "+x(U(p).twentyBills),1)]),a("div",el,[a("div",null,"20 coins: "+x(U(p).twentyCoins),1),a("div",null,"10 coins: "+x(U(p).tenCoins),1),a("div",null,"5 coins: "+x(U(p).fiveCoins),1),a("div",null,"1 coins: "+x(U(p).oneCoins),1),a("div",null,"25 cents: "+x(U(p).twentyFiveCents),1)])])]),_:1}),e(V,null,{default:t(()=>[a("div",tl,[a("div",al," Overall Total Denomination: "+x(v(r.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const nl=r=>(te("data-v-7ab0fe9c"),r=r(),ae(),r),ol=nl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),sl={class:"q-gutter-x-md",align:"center"},rl={class:"text-weight-regular text-subtitle1"},il={__name:"DenominationReport",props:["sales_Reports"],setup(r){const _=r;_.sales_Reports,console.log("Denomination report",_);const b=qe(),P=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),y=(i,p)=>{b.dialog({component:ll,componentProps:{reports:i,total:p}})};return(i,p)=>(g(),C("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[ol]),_:1}),e(V,null,{default:t(()=>[a("div",sl,[e(B,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:p[0]||(p[0]=v=>y(_.sales_Reports[0].denomination_reports,_.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1}),e(V,null,{default:t(()=>[a("div",rl," Total Denomination : "+x(P(_.sales_Reports[0].denomination_total)),1)]),_:1})]),_:1}),e(W,{modelValue:i.dialog,"onUpdate:modelValue":p[1]||(p[1]=v=>i.dialog=v)},{default:t(()=>[e(z,null,{default:t(()=>[S(" This is dialog ")]),_:1})]),_:1},8,["modelValue"])]))}};var dl=J(il,[["__scopeId","data-v-7ab0fe9c"]]);const cl={class:"row justify-between text-white"},ul=a("div",{class:"text-h6"},"Expenses Report",-1),pl={class:"row justify-end q-mt-md"},ml={class:"text-h6"},_l={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:P,onDialogCancel:y}=ye(),i=r;i.reports,console.log("Expenses total",i.total);const p=[{name:"name",label:"Expenses Name",field:d=>(console.log("Row data:",d),d.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",i.reports);const v=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(d),h=A(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[]));return console.log("Expenses:",h.value),(d,n)=>(g(),M(W,{ref_key:"dialogRef",ref:_,onHide:U(b),onOk:d.handleButtonClick,onCancel:U(y)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",cl,[ul,Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])]),_:1}),e(V,null,{default:t(()=>[e(_e,{filter:d.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:h.value,"row-key":"name","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":n[0]||(n[0]=k=>d.pagination=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-amount":t(k=>[e(j,{props:k},{default:t(()=>[a("span",null,x(`${v(k.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",pl,[a("div",ml," Overall Total Expenses: "+x(v(r.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const gl=r=>(te("data-v-338c99d0"),r=r(),ae(),r),fl=gl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),yl={class:"q-gutter-x-md",align:"center"},vl={class:"text-weight-regular text-subtitle1"},hl={__name:"ExpensesReport",props:["sales_Reports"],setup(r){const _=r;console.log("Expenses Data",_.sales_Reports[0].expenses_reports);const b=qe(),P=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),y=(i,p)=>{b.dialog({component:_l,componentProps:{reports:i,total:p}})};return(i,p)=>(g(),C("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[fl]),_:1}),e(V,null,{default:t(()=>[a("div",yl,[e(B,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:p[0]||(p[0]=v=>y(_.sales_Reports[0].expenses_reports,_.sales_Reports[0].expenses_total))})])]),_:1}),e(V,null,{default:t(()=>[a("div",vl," Total Expenses : "+x(P(_.sales_Reports[0].expenses_total)),1)]),_:1})]),_:1})]))}};var bl=J(hl,[["__scopeId","data-v-338c99d0"]]);const wl={class:"row justify-between text-white"},xl=a("div",{class:"text-h6"},"Credits Report",-1),$l={class:"row justify-end q-mt-md"},Rl={class:"text-h6"},kl={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:P,onDialogCancel:y}=ye(),i=r,p=i.reports;console.log("creditReports data",p),p.forEach((l,$)=>{console.log(`Report ${$}:`,l),console.log(`Credit Products for Report ${$}:`,l.credit_products.total_amount)});const v=A(()=>p.flatMap(l=>l.credit_products.map($=>{const u=parseInt($.pieces,10)||0,w=parseFloat($.price)||0,o=u*w;return{...$,total_amount:o}})));console.log("All Credit Products:",v.value[0]);const h=l=>{const $=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",u=l.firstname?$(l.firstname):"No Firstname",w=l.middlename?$(l.middlename).charAt(0)+".":"",o=l.lastname?$(l.lastname):"No Lastname";return`${u} ${w} ${o}`.trim()},d=[{name:"name",label:"Employee Name",field:l=>h(l.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:l=>l.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",i.reports);const n=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),k=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l);return(l,$)=>(g(),M(W,{ref_key:"dialogRef",ref:_,onHide:U(b),onOk:l.handleButtonClick,onCancel:U(y)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",wl,[xl,Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])]),_:1}),e(V,null,{default:t(()=>[e(_e,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:d,rows:v.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":$[0]||($[0]=u=>l.pagination=u),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(u=>[e(j,{props:u},{default:t(()=>[a("span",null,x(`${n(u.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(u=>[e(j,{props:u},{default:t(()=>[a("span",null,x(`${k(u.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",$l,[a("div",Rl," Overall Credits Total: "+x(n(r.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Pl=r=>(te("data-v-29d6ba68"),r=r(),ae(),r),Cl=Pl(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),ql={class:"q-gutter-x-md",align:"center"},Vl={class:"text-weight-regular text-subtitle1"},Sl={__name:"CreditsReport",props:["sales_Reports"],setup(r){const _=r,b=qe(),P=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),y=(i,p)=>{b.dialog({component:kl,componentProps:{reports:i,total:p}})};return(i,p)=>(g(),C("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[Cl]),_:1}),e(V,null,{default:t(()=>[a("div",ql,[e(B,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:p[0]||(p[0]=v=>y(_.sales_Reports[0].credit_reports,_.sales_Reports[0].credit_total))})])]),_:1}),e(V,null,{default:t(()=>[a("div",Vl," Total Credits : "+x(P(_.sales_Reports[0].credit_total)),1)]),_:1}),e(V)]),_:1})]))}};var Bl=J(Sl,[["__scopeId","data-v-29d6ba68"]]);const Dl=r=>(te("data-v-47091d98"),r=r(),ae(),r),Tl={class:"q-mt-lg row items-start q-gutter-md justify-center"},Il={class:"row justify-between"},Ul=Dl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Nl={align:"right"},Ml={class:"text-subtitle1 text-weight-regular"},Hl={class:"row q-gutter-sm q-pa-md"},Fl={class:"q-ma-sm"},Al={class:"q-ma-sm",align:"center"},Ql=["src"],zl={__name:"SalesReportPanel",props:["salesReport"],setup(r){De.exports.vfs=void 0;const _=r,b=_.salesReport;console.log("reportsData",_.salesReport);const P=R(!0),y=R(!1),i=R(""),p=l=>ze.formatDate(l,"MMMM DD, YYYY"),v=l=>{const $=new Date(l),u={hour:"2-digit",minute:"2-digit",hour12:!0};return $.toLocaleTimeString(void 0,u)},h=l=>{const $=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",u=l.firstname?$(l.firstname):"No Firstname",w=l.middlename?$(l.middlename).charAt(0)+".":"",o=l.lastname?$(l.lastname):"No Lastname";return`${u} ${w} ${o}`.trim()},d=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const $=A(()=>l.credit_reports.flatMap(F=>F.credit_products));console.log("All Credit Products:",$.value);const u=[{title:"Bread Production",data:l.bread_reports||[],columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:l.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:l.softdrinks_reports||[],columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]}],w=l.expenses_reports||[],o=$.value||[],s=l.credit_total,c=l.denomination_reports[0]||[],m=l.denomination_total,f=l.expenses_total;l.products_total_sales,l.charges_amount,l.over_total;const q={bills:[{name:"One Thousand",pcs:c.oneThousandBills||0},{name:"Five Hundred",pcs:c.fiveHundredBills||0},{name:"Two Hundred",pcs:c.twoHundredBills||0},{name:"One Hundred",pcs:c.oneHundredBills||0},{name:"Fifty",pcs:c.fiftyBills||0},{name:"Twenty",pcs:c.twentyBills||0}],coins:[{name:"Twenty",pcs:c.twentyCoins||0},{name:"Ten",pcs:c.tenCoins||0},{name:"Five",pcs:c.fiveCoins||0},{name:"One",pcs:c.oneCoins||0},{name:"Twenty Five Cents",pcs:c.twentyFiveCents||0}]},D=(F,ce,le)=>{const ue=le.reduce((ne,re)=>(ne[re]=F.reduce((Ue,T)=>Ue+(T[re]||0),0),ne),{});return[...F.map(ne=>ce.map(re=>({text:re.includes(".")?ne[re.split(".")[0]][re.split(".")[1]]:ne[re],style:"body",alignment:"center"}))),[{text:"Overall Total",colSpan:ce.length-le.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(ce.length-le.length-1).fill({}),...le.map(ne=>({text:ne==="sales"?d(ue[ne]):ue[ne],style:"tableHeader",alignment:"center",color:"#020617"}))]]},O=o.length>0?o.map(F=>[{text:h(F.credit_user_id),style:"body",alignment:"center"},{text:F.product.name,style:"body",alignment:"center"},{text:F.pieces,style:"body",alignment:"center"},{text:F.price,style:"body",alignment:"center"},{text:F.total_amount,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:5,alignment:"center"}]];O.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:`${d(s)}`,style:"bodyBold",alignment:"center",colSpan:2},{}]);const oe=w.length>0?w.map(F=>[{text:F.name,style:"body",alignment:"center"},{text:F.description,style:"body",alignment:"center"},{text:`${d(F.amount)}`,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:3,alignment:"center"}]];oe.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${d(f)}`,style:"bodyBold",alignment:"center"}]);const H=q.bills.map((F,ce)=>{var le,ue;return[{text:F.name,style:"body",alignment:"center"},{text:F.pcs,style:"body",alignment:"center"},{text:((le=q.coins[ce])==null?void 0:le.name)||"",style:"body",alignment:"center"},{text:((ue=q.coins[ce])==null?void 0:ue.pcs)||"0",style:"body",alignment:"center"}]});H.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${d(m)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const Q=u.map(({title:F,data:ce,columns:le,totals:ue})=>({stack:[{text:F,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(le.length).fill("*"),body:[le.map(ne=>({text:ne.split(".").pop().replace(/_/g," ").replace(/\b\w/g,re=>re.toUpperCase()),style:"tableHeader",alignment:"center"})),...D(ce,le,ue)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),X={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:d(m),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:d(l.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:d(f),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:d(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${d(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${h(l.user.employee)}
          Date: ${p(l.created_at)}
Time: ${v(l.created_at)}
`,margin:[0,0,0,10]},{}]},...Q,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...oe]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...O]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...H]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},X]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},k=l=>{const $=n(l);De.exports.createPdf($).getDataUrl(u=>{i.value=u,y.value=!0})};return(l,$)=>(g(),C(E,null,[e(z,{class:"my-card q-pa-md"},{default:t(()=>[e(V,null,{default:t(()=>[a("div",Tl,[(g(!0),C(E,null,pe(U(b),(u,w)=>(g(),C("div",{key:w},[e(z,{flat:"",dense:"",bordered:""},{default:t(()=>[e(V,null,{default:t(()=>[a("div",Il,[Ul,a("div",Nl,[e(B,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:o=>k(u)},null,8,["onClick"]),a("div",null,[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S(" Print Report ")]),_:1})])])]),a("div",Ml,[a("div",null,"Name: "+x(h(u.user.employee)),1),a("div",null,"Date: "+x(p(u.created_at)),1),a("div",null,"Time: "+x(v(u.created_at)),1)])]),_:2},1024),a("div",Hl,[e(Ga,{sales_Reports:[u]},null,8,["sales_Reports"]),e(dl,{sales_Reports:[u]},null,8,["sales_Reports"]),e(bl,{sales_Reports:[u]},null,8,["sales_Reports"]),e(Bl,{sales_Reports:[u]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(W,{modelValue:y.value,"onUpdate:modelValue":$[0]||($[0]=u=>y.value=u),"backdrop-filter":l.backdropFilter,maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Fl,[a("div",Al,[Z((g(),M(B,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(K,null,{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])]),a("div",null,[a("iframe",{src:i.value,width:"100%",height:"700px"},null,8,Ql)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])],64))}};var Ol=J(zl,[["__scopeId","data-v-47091d98"]]);const Ll={class:"text-h6"},jl={class:"row q-gutter-x-md"},El={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(r,{emit:_}){const{dialogRef:b,onDialogHide:P,onDialogOK:y,onDialogCancel:i}=ye(),p=r;console.log("production report",p.reports);const v=p.reports.baker_reports,h=p.reports.sales_reports,d=_,n=R("bakerReport"),k=R(!0),l=R(!1),$=()=>{d("selectReport",p.reports),l.value=!0};return(u,w)=>(g(),M(W,{ref_key:"dialogRef",ref:b,modelValue:l.value,"onUpdate:modelValue":w[2]||(w[2]=o=>l.value=o),onHide:U(P),onOk:$,onCancel:U(i),maximized:k.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",Ll,x(`${r.reports.branch_name} ( ${r.reportLabel} Reports)`),1),e(Ce),a("div",jl,[a("div",null,[Z((g(),M(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[S("Close")]),_:1})]),_:1})),[[ee]])])])]),_:1}),e(V,null,{default:t(()=>[a("div",null,[e(Ge,{modelValue:n.value,"onUpdate:modelValue":w[0]||(w[0]=o=>n.value=o),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(he,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(he,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(We,{modelValue:n.value,"onUpdate:modelValue":w[1]||(w[1]=o=>n.value=o),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(be,{name:"bakerReport"},{default:t(()=>[e(qa,{bakersReport:U(v)},null,8,["bakersReport"])]),_:1}),e(be,{name:"salesReport"},{default:t(()=>[e(Ol,{salesReport:U(h)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var Kl=J(El,[["__scopeId","data-v-09bec323"]]);const Yl=He("productions",()=>{const r=R([]),_=R([]);return{productions:r,production:_,fetchAllProduction:async()=>{const y=await G.get("/api/branch-production-report");r.value=y.data.reports},fetchBranchProductions:async y=>{try{const i=await G.get(`/api/branches/${y}/production-report`);r.value=i.data}catch(i){console.log(i)}}}});const Gl=r=>(te("data-v-72d513d6"),r=r(),ae(),r),Wl={align:"right"},Jl={key:0,class:"spinner-wrapper"},Xl={key:1},Zl={key:0,class:"data-error"},en=Gl(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),tn={class:"row justify-center q-gutter-x-md"},an={__name:"ProductionTable",setup(r){const _=fe();R("bakerReport");const b=_.params.branch_id;R(!1),R(!0),R(""),R("");const P=R({rowsPerPage:0}),y=Yl(),i=R(""),p=A(()=>y.productions);R(!0);const v=R(!0),h=R(!1),d=A(()=>i.value?p.value.filter(w=>w.name.toLowerCase().includes(i.value.toLowerCase())):p.value);Pe(async()=>{b&&await n(b)});const n=async w=>{try{v.value=!0;const o=await y.fetchBranchProductions(w);console.log("Fetched data:",o),console.log("Production rows:",p.value),p.value.length||(h.value=!0)}catch{h.value=!0}finally{v.value=!1}};Te(i,async w=>{v.value=!0,await new Promise(o=>setTimeout(o,1e3)),v.value=!1,h.value=d.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:w=>ze.formatDate(w,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],$=qe(),u=(w,o)=>{$.dialog({component:Kl,componentProps:{reports:w,reportLabel:o}})};return(w,o)=>(g(),C(E,null,[a("div",Wl,[e(L,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=s=>i.value=s),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(se,{name:"search"})]),_:1},8,["modelValue"])]),v.value?(g(),C("div",Jl,[e(Ie,{size:"50px",color:"primary"})])):(g(),C("div",Xl,[d.value.length===0?(g(),C("div",Zl,[e(se,{name:"warning",color:"warning",size:"4em"}),en])):(g(),M(_e,{key:1,class:"table-container sticky-header",filter:i.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:d.value,"row-key":"reportDate","virtual-scroll":"",pagination:P.value,"onUpdate:pagination":o[1]||(o[1]=s=>P.value=s),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(s=>[e(j,{props:s},{default:t(()=>[a("div",tn,[e(B,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:c=>u(s.row.AM,"AM")},{default:t(()=>[S("AM")]),_:2},1032,["onClick"]),e(B,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:c=>u(s.row.PM,"PM")},{default:t(()=>[S("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ln=J(an,[["__scopeId","data-v-72d513d6"]]);const nn={__name:"ProductionPage",setup(r){return(_,b)=>(g(),C("div",null,[e(ln)]))}};const ve=r=>(te("data-v-559f5aee"),r=r(),ae(),r),on=ve(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),sn={class:"q-mb-lg"},rn={key:0,class:"custom-list z-top"},dn={class:"q-mb-sm"},cn=ve(()=>a("div",null,"Recipe Name",-1)),un={class:"q-mb-lg"},pn=ve(()=>a("div",null,"Category",-1)),mn=ve(()=>a("div",null,"Breads",-1)),_n={class:"q-mt-md q-gutter-y-sm"},gn=ve(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),fn={class:"q-mt-xl q-gutter-y-sm"},yn={class:"row justify-between"},vn=ve(()=>a("div",{align:"center"},"Ingredients",-1)),hn=ve(()=>a("div",{align:"center"},"Quantity",-1)),bn=["onKeyup"],wn={align:"right"},xn={__name:"RecipeCreate",setup(r){const _=fe(),b=_.params.branch_id,P=rt(),y=A(()=>P.recipes),i=Oe(),p=Ae(),v=Qe(),h=A(()=>i.branchRecipes),d=R(!1),n=()=>{d.value=!0},k=()=>{clearForm(),d.value=!1},l=R(""),$=async()=>{P.searchRecipe(l.value)},u=A(()=>o.target!==0),w=T=>{o.recipe_id=T.id,o.recipe_name=T.name,o.category=T.category,l.value=""},o=Ve({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:_.params.branch_id}),s=R(!1),c=R(null),m=R([]),f=R(m.value),q=R([]),D=R([]),O=Ve({name:"",quantity:""}),oe=R(D.value);(async()=>{await p.fetchProductsByCategory("Bread"),s.value=!1,m.value=p.breads.map(T=>({label:T.name,value:T.id}))})(),(async()=>{await v.fetchIngredients("Ingredients"),s.value=!1,D.value=v.ingredients.map(T=>({label:T.name,value:T.id,unit:T.unit}))})();const X=()=>{O.name="",O.quantity=""},F=(T,N)=>{T.length>2&&(m.value.includes(T)||N(T,"add-unique"))},ce=(T,N)=>{N(()=>{if(T==="")f.value=m.value;else{const I=T.toLowerCase();f.value=m.value.filter(ie=>ie.label.toLowerCase().indexOf(I)>-1)}})},le=(T,N)=>{N(()=>{if(T==="")oe.value=D.value;else{const I=T.toLowerCase();oe.value=D.value.filter(ie=>ie.label.toLowerCase().indexOf(I)>-1)}})},ue=()=>{const T=q.value;function N(Ne,tt){return Ne.find(at=>at.ingredients_id==tt)}const I=O.name.value;N(T,I)?Y.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(q.value=[...T,{ingredients_id:O.name.value,label:O.name.label,quantity:O.quantity,unit:O.name.unit}],X())},ne=T=>{q.value.splice(T,1)};Te(()=>O.name,T=>{T&&T.unit?O.unit=T.unit:O.unit=""});const re=()=>{o.recipe_id="",o.target="",c.value=null,q.value=[],O.name="",O.quantity=""},Ue=async()=>{const T={recipe_id:o.recipe_id,target:o.target,status:"active",branch_id:o.branches_id,breads:c.value.map(N=>({bread_id:N.value})),ingredients:q.value.map(N=>({ingredient_id:N.ingredients_id,quantity:N.quantity}))};console.log("branchRecipe",T),await i.saveBranchRecipe(T),h.value=await i.fetchBranchRecipes(b),re(),d.value=!1};return(T,N)=>(g(),C(E,null,[e(B,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:n}),e(W,{modelValue:d.value,"onUpdate:modelValue":N[7]||(N[7]=I=>d.value=I)},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[on,e(Ce),Z(e(B,{icon:"close",flat:"",dense:"",round:""},null,512),[[ee]])]),_:1}),e(V,null,{default:t(()=>[a("div",sn,[e(L,{modelValue:l.value,"onUpdate:modelValue":[N[0]||(N[0]=I=>l.value=I),$],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(se,{name:"search"})])]),default:t(()=>[l.value?(g(),C("div",rn,[e(z,null,{default:t(()=>[e(Be,{separator:""},{default:t(()=>{var I;return[(I=y.value)!=null&&I.length?(g(!0),C(E,{key:1},pe(y.value,ie=>(g(),M(me,{onClick:Ne=>w(ie),key:ie.id,clickable:""},{default:t(()=>[e(ge,null,{default:t(()=>[e(Se,null,{default:t(()=>[S(x(ie.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(g(),M(me,{key:0},{default:t(()=>[S(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Fe("",!0)]),_:1},8,["modelValue"])]),a("div",dn,[cn,e(L,{modelValue:o.recipe_name,"onUpdate:modelValue":N[1]||(N[1]=I=>o.recipe_name=I),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",un,[pn,e(L,{modelValue:o.category,"onUpdate:modelValue":N[2]||(N[2]=I=>o.category=I),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(L,{modelValue:o.target,"onUpdate:modelValue":N[3]||(N[3]=I=>o.target=I),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs"},null,8,["modelValue"])]),a("div",null,[mn,e(Me,{modelValue:c.value,"onUpdate:modelValue":N[4]||(N[4]=I=>c.value=I),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:f.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:F,onFilter:ce,rules:[I=>I&&I.length>0||"Bread is required"]},{"no-option":t(()=>[e(me,null,{default:t(()=>[e(ge,{class:"text-grey"},{default:t(()=>[S(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",_n,[gn,a("div",null,[e(Be,{dense:"",separator:"",class:"box"},{default:t(()=>[(g(!0),C(E,null,pe(q.value,(I,ie)=>(g(),M(me,{key:ie},{default:t(()=>[e(ge,null,{default:t(()=>[e(Se,null,{default:t(()=>[S(x(I.label),1)]),_:2},1024)]),_:2},1024),e(ge,null,{default:t(()=>[S(x(I.quantity)+" "+x(I.unit),1)]),_:2},1024),e(ge,{side:""},{default:t(()=>[e(B,{onClick:Ne=>ne(ie),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",fn,[a("div",yn,[a("div",null,[vn,e(Me,{modelValue:O.name,"onUpdate:modelValue":N[5]||(N[5]=I=>O.name=I),debounce:"3000",outlined:"","chips-color":"primary",options:oe.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:le,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(me,null,{default:t(()=>[e(ge,{class:"text-grey"},{default:t(()=>[S(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[hn,e(L,{modelValue:O.quantity,"onUpdate:modelValue":N[6]||(N[6]=I=>O.quantity=I),outlined:"",mask:"#####",dense:"",label:"Quantity",suffix:O.name.unit||"",style:{width:"115px"}},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:xe(nt(ue,["prevent"]),["enter"])},[a("div",wn,[e(B,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:ue})])],40,bn)])]),_:1}),e($e,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(B,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:k}),e(B,{class:"glossy",color:"teal",label:"Create",onClick:Ue,disable:!u.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var $n=J(xn,[["__scopeId","data-v-559f5aee"]]);const et=r=>(te("data-v-33664d62"),r=r(),ae(),r),Rn=et(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),kn=et(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Pn={__name:"RecipeDelete",props:["delete"],setup(r){const _=Oe(),b=r,P=R(!1),y=()=>{P.value=!0},i=async()=>{await _.deleteRecipe(b.delete.row.id),P.value=!1};return(p,v)=>(g(),C(E,null,[e(B,{onClick:y,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(K,{class:"bg-negative",delay:200},{default:t(()=>[S("Delete")]),_:1})]),_:1}),e(W,{modelValue:P.value,"onUpdate:modelValue":v[0]||(v[0]=h=>P.value=h),persistent:""},{default:t(()=>[e(z,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(V,{class:"q-pt-none q-pb-sm"},{default:t(()=>[Rn,kn]),_:1}),e(Re,{class:"q-mb-md"}),e(V,null,{default:t(()=>[e($e,{align:"right",class:"q-pt-none"},{default:t(()=>[Z(e(B,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ee]]),e(B,{dense:"",label:"Delete",color:"negative",onClick:i,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Cn=J(Pn,[["__scopeId","data-v-33664d62"]]);const Ke=r=>(te("data-v-05af59a5"),r=r(),ae(),r),qn={class:"row justify-between"},Vn={class:"q-my-sm"},Sn={key:0,class:"spinner-wrapper"},Bn={key:1},Dn={key:0,class:"data-error"},Tn=Ke(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),In=Ke(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Breads List ",-1)),Un=Ke(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Ingredients List ",-1)),Nn={class:"row justify-center q-gutter-x-md"},Mn={__name:"RecipeTable",setup(r){const b=fe().params.branch_id,P=Oe(),y=R(""),i=R(!0),p=R([]),v=R(!1),h=R({rowsPerPage:0}),d=["inactive","active"],n=A(()=>P.branchRecipes);console.log("branch recipe",n.value);const k=A(()=>y.value?n.value.filter(c=>c.name.toLowerCase().includes(y.value.toLowerCase())):n.value);Pe(async()=>{b&&await l(b)});const l=async c=>{try{i.value=!0;const m=await P.fetchBranchRecipes(c);n.value=m,console.log("branchRecipeRows",n.value),n.value.length||(v.value=!0),console.log("Branch recipe",n.value)}catch(m){console.log("Error fetching recipe",m)}finally{i.value=!1}};async function $(c,m){try{const f=await G.put("/api/update-target/"+c.id,{target:parseInt(m)});if(console.log("response",f),f.status==200){const q=p.value.findIndex(D=>D.id==c.id);p.value[q]=m}Y.create({type:"positive",message:"Recipe target edited successfully"})}catch(f){console.error("Error updating recipe target:",f),Y.create({type:"negative",message:"Failed to edit recipe target"})}}async function u(c,m){try{if((await G.put("/api/branch-update-status/"+c.id,{status:m})).status==200){const q=p.value.findIndex(D=>D.id==c.id);p.value[q]=m}Y.create({type:"positive",message:"Recipe status change successfully"})}catch(f){console.error("Error updating recipe status:",f),Y.create({type:"negative",message:"Failed to change recipe status"})}}const w=c=>c?c.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",o=[{name:"name",label:"Recipe name",align:"center",field:c=>c.name},{name:"category",label:"Category",align:"center",field:c=>c.recipe},{name:"target",label:"Target",align:"center",field:"target"},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],s=c=>{switch(c){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(c,m)=>(g(),C(E,null,[a("div",qn,[a("div",null,[e(L,{class:"q-pb-lg q-pl-md",modelValue:y.value,"onUpdate:modelValue":m[0]||(m[0]=f=>y.value=f),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(se,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Vn,[e($n)])]),i.value?(g(),C("div",Sn,[e(Ie,{size:"50px",color:"primary"})])):(g(),C("div",Bn,[k.value.length===0?(g(),C("div",Dn,[e(se,{name:"warning",color:"warning",size:"4em"}),Tn])):(g(),M(_e,{key:1,class:"table-container sticky-header",filter:y.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:o,rows:k.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":m[1]||(m[1]=f=>h.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(f=>[e(j,{props:f},{default:t(()=>[a("span",null,x(w(f.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(f=>[e(j,{props:f},{default:t(()=>[a("span",null,x(w(f.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(f=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[S(x(f.row.target?f.row.target:"Set Target")+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[S("Edit Target")]),_:1})]),e(ke,{"onUpdate:modelValue":[q=>$(f.row,q),q=>f.row.target=q],modelValue:f.row.target,"auto-save":""},{default:t(q=>[e(L,{modelValue:q.value,"onUpdate:modelValue":D=>q.value=D,dense:"",suffix:"pcs",autofocus:"",counter:"",mask:"###",onKeyup:xe(q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(f=>[e(j,{props:f},{default:t(()=>[e(de,{outline:"",color:s(f.row.status)},{default:t(()=>[S(x(w(f.row.status))+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[S("Change Status")]),_:1})]),_:2},1032,["color"]),e(ke,{"onUpdate:modelValue":[q=>u(f.row,q),q=>f.row.status=q],modelValue:f.row.status,"auto-save":""},{default:t(q=>[a("span",null,x(f.row.name),1),e(Me,{modelValue:q.value,"onUpdate:modelValue":D=>q.value=D,dense:"",label:"status",autofocus:"",options:d,counter:"",mask:"###",onKeyup:xe(q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(f=>[e(j,{props:f},{default:t(()=>[e(K,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1"},{default:t(()=>[In,e(Re,{class:"q-mb-md",color:"yellow"}),(g(!0),C(E,null,pe(f.row.bread_groups,q=>(g(),C("div",{key:q},x(q),1))),128))]),_:2},1024),e(Ye,{square:"",outline:"",color:"red-6",class:"text-white"},{default:t(()=>[S(x(f.row.bread_groups.length)+" breads ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(f=>[e(j,{props:f},{default:t(()=>[e(K,{delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"300px"}},{default:t(()=>[Un,e(Re,{class:"q-mb-md",color:"yellow"}),(g(!0),C(E,null,pe(f.row.ingredient_groups,q=>(g(),C("div",{class:"row justify-between",key:q.ingredient_name},[a("div",null,x(q.ingredient_name),1),a("div",null,x(q.quantity)+" "+x(q.unit),1)]))),128))]),_:2},1024),e(Ye,{square:"",outline:"",color:"purple-6",class:"text-white"},{default:t(()=>[S(x(f.row.ingredient_groups.length)+" ingredients ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-action":t(f=>[e(j,{props:f},{default:t(()=>[a("div",Nn,[e(Cn,{delete:f},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Hn=J(Mn,[["__scopeId","data-v-05af59a5"]]);const Fn={__name:"RecipePage",setup(r){return(_,b)=>(g(),C("div",null,[e(Hn)]))}};const An={class:"elegant-container q-gutter-md"},Qn={class:"text-h6 row justify-between"},zn={class:"q-gutter-sm"},On={class:"tab-container"},Ln={__name:"BranchIdPage",setup(r){const _=fe(),b=R(""),P=ot(),y=async d=>(await G.get(`/api/branches/${d}`)).data,i=async()=>{const d=_.params.branch_id,n=await y(d);n&&n.name?b.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};Pe(()=>{i()});const p=d=>d?d.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",v=R("products"),h=()=>{we.show(),P.push("/admin/branches").finally(()=>{we.hide()})};return(d,n)=>(g(),M(st,{padding:""},{default:t(()=>[a("div",An,[a("div",Qn,[a("div",null,[e(B,{outline:"",flat:"",icon:"arrow_back",onClick:h}),e(Ce)]),a("div",null,[e(se,{name:"fa-solid fa-store",color:"red-6"}),S(" "+x(p(b.value)),1)])]),a("div",zn,[a("div",On,[e(Ge,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=k=>v.value=k),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(he,{name:"products",label:"Products"}),e(he,{name:"rawMaterials",label:"Raw Materials"}),e(he,{name:"recipe",label:"Recipe"}),e(he,{name:"production",label:"Production"})]),_:1},8,["modelValue"])]),e(z,{class:"q-mt-sm"},{default:t(()=>[e(We,{modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=k=>v.value=k),animated:""},{default:t(()=>[e(be,{name:"products"},{default:t(()=>[e(Dt)]),_:1}),e(be,{name:"rawMaterials"},{default:t(()=>[e(la)]),_:1}),e(be,{name:"recipe"},{default:t(()=>[e(Fn)]),_:1}),e(be,{name:"production"},{default:t(()=>[e(nn)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Ro=J(Ln,[["__scopeId","data-v-1194b1a2"]]);export{Ro as default};
