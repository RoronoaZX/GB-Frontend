import{d as g,r as s,N as c}from"./index.fe067f2a.js";import{api as a}from"./axios.1553f882.js";const O=g("dtrs",()=>{const l=s(null),r=s([]),n=s([]),i=s({}),v=e=>{console.log("Setting user in DTR store:",e.data),i.value=e.data},p=async(e,t,d)=>{try{const o=await a.get("/api/dtr",{params:{page:e,per_page:t,search:d}});return o&&o.data?(r.value=o.data,o.data):(console.warn("No data returned from API."),r.value=[],[])}catch(o){return console.error("Error fetching DTR data:",o),r.value=[],[]}};return{dtr:l,dtrs:r,dtrCutOffData:n,user:i,setUser:v,fetchDTR:p,fetchDTRRange:async e=>{console.log("Fetching DTR Range with data:",e);const t=await a.post("/api/dtr-data",e);console.log("DTR Range response:",t),n.value=t.data},fetchEmployeeDTRRange:async e=>{console.log("Fetching DTR Range with data:",e);const t=await a.post("/api/dtr-data",e);console.log("DTR Range response:",t),n.value=t.data},saveOvertime:async e=>{const t=await a.post("/api/saveOvertime",e);r.value=t.data,p(),c.create({type:"positive",message:"Over Time Save"})},searchDTR:async e=>{try{console.log("Searching for DTR with keyword:",e);const t=await a.post(`/api/search-drt?keyword=${e}`);console.log("DTR response:",t),r.value=t.data}catch(t){console.error("Error searching DTR:",t)}},approveOvertime:async e=>{console.log("Approving overtime with data:",e);try{const t=await a.post("/api/approveOvertime",e);return c.create({type:"positive",message:"Over Time Approved"}),t.data}catch(t){console.error("Error approving overtime:",t)}},declineOvertime:async e=>{const t=await a.post("/api/declineOvertime",e);return c.create({type:"negative",message:"Over Time Declined"}),t.data}}});export{O as u};
