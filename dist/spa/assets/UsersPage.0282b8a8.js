import{f as z,r as x,h as g,j as y,L as C,ad as Z,b8 as ue,l as E,i as de,g as K,bl as G,bi as ce,k as A,a7 as X,a9 as ee,n as me,x as pe,ae as ve,t as R,z as O,o as q,c as D,w as d,e as l,I as k,J as u,bm as _e,Z as te,a2 as U,bc as Y,K as $,Q as I,O as ae,R as se,$ as F,a3 as N,a4 as T,_ as P,M as B,a1 as fe,H as he,a0 as L,aI as ge,ba as be,N as ye}from"./index.6d6c5126.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as qe}from"./QSlideTransition.0965522f.js";import{u as xe,d as we,a as Se,b as $e,c as Ce}from"./use-panel.2ca85b05.js";import{C as Ue}from"./ClosePopup.111d3f28.js";import{Q as W,a as ke}from"./QItem.3bd9e38f.js";import{Q as Ve}from"./QList.3a7cac99.js";import"./branch.4fc95f96.js";import{u as Pe}from"./employee.d7bd95cb.js";import{Q as le}from"./QChip.73cc47c9.js";import{u as re}from"./user.1fe13381.js";import{Q as De}from"./QPopupEdit.40629d2e.js";import{Q as Ie}from"./QPage.dcaa442f.js";import{q as Qe}from"./date.c48ce0e4.js";import{u as Ae}from"./use-quasar.f220daf8.js";import"./QPopupProxy.9f46249d.js";import"./QTd.ff4103ba.js";import"./QTable.1a880a00.js";import"./touch.9135741d.js";import"./selection.10fc1e0e.js";import"./warehouse.e76ecc77.js";import"./axios.40292506.js";import"./QMenu.ee11008d.js";import"./QVirtualScroll.f2b37730.js";import"./use-virtual-scroll.d6ec0b6b.js";import"./rtl.4979ba33.js";import"./QSelect.1f0082a7.js";var ne=z({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:v}){const{proxy:{$q:o}}=E(),f=x(null),c=g(()=>e.stepper.modelValue===e.step.name),_=g(()=>{const i=e.step.disable;return i===!0||i===""}),m=g(()=>{const i=e.step.error;return i===!0||i===""}),n=g(()=>{const i=e.step.done;return _.value===!1&&(i===!0||i==="")}),b=g(()=>{const i=e.step.headerNav,h=i===!0||i===""||i===void 0;return _.value===!1&&e.stepper.headerNav&&h}),w=g(()=>e.step.prefix&&(c.value===!1||e.stepper.activeIcon==="none")&&(m.value===!1||e.stepper.errorIcon==="none")&&(n.value===!1||e.stepper.doneIcon==="none")),S=g(()=>{const i=e.step.icon||e.stepper.inactiveIcon;if(c.value===!0){const h=e.step.activeIcon||e.stepper.activeIcon;return h==="none"?i:h||o.iconSet.stepper.active}if(m.value===!0){const h=e.step.errorIcon||e.stepper.errorIcon;return h==="none"?i:h||o.iconSet.stepper.error}if(_.value===!1&&n.value===!0){const h=e.step.doneIcon||e.stepper.doneIcon;return h==="none"?i:h||o.iconSet.stepper.done}return i}),r=g(()=>{const i=m.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(c.value===!0){const h=e.step.activeColor||e.stepper.activeColor||e.step.color;return h!==void 0?h:i}return i!==void 0?i:_.value===!1&&n.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),s=g(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(r.value!==void 0?` text-${r.value}`:"")+(m.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(w.value===!0?"prefix":"icon"):"")+(c.value===!0?" q-stepper__tab--active":"")+(n.value===!0?" q-stepper__tab--done":"")+(b.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(_.value===!0?" q-stepper__tab--disabled":"")),a=g(()=>e.stepper.headerNav!==!0?!1:b.value);function t(){f.value!==null&&f.value.focus(),c.value===!1&&e.goToPanel(e.step.name)}function p(i){i.keyCode===13&&c.value===!1&&e.goToPanel(e.step.name)}return()=>{const i={class:s.value};b.value===!0&&(i.onClick=t,i.onKeyup=p,Object.assign(i,_.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:v.tabindex||0}));const h=[y("div",{class:"q-focus-helper",tabindex:-1,ref:f}),y("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[y("span",{class:"row flex-center"},[w.value===!0?e.step.prefix:y(C,{name:S.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const Q=[y("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&Q.push(y("div",{class:"q-stepper__caption"},e.step.caption)),h.push(y("div",{class:"q-stepper__label q-stepper__line relative-position"},Q))}return Z(y("div",i,h),[[ue,a.value]])}}});function oe(e){return y("div",{class:"q-stepper__step-content"},[y("div",{class:"q-stepper__step-inner"},A(e.default))])}const J={setup(e,{slots:v}){return()=>oe(v)}};var M=z({name:"QStep",props:{...xe,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:v,emit:o}){const{proxy:{$q:f}}=E(),c=de(G,K);if(c===K)return console.error("QStep needs to be a child of QStepper"),K;const{getCache:_}=we(),m=x(null),n=g(()=>c.value.modelValue===e.name),b=g(()=>f.platform.is.ios!==!0&&f.platform.is.chrome===!0||n.value!==!0||c.value.vertical!==!0?{}:{onScroll(r){const{target:s}=r;s.scrollTop>0&&(s.scrollTop=0),e.onScroll!==void 0&&o("scroll",r)}}),w=g(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function S(){const r=c.value.vertical;return r===!0&&c.value.keepAlive===!0?y(ce,c.value.keepAliveProps.value,n.value===!0?[y(c.value.needsUniqueKeepAliveWrapper.value===!0?_(w.value,()=>({...J,name:w.value})):J,{key:w.value},v.default)]:void 0):r!==!0||n.value===!0?oe(v):void 0}return()=>y("div",{ref:m,class:"q-stepper__step",role:"tabpanel",...b.value},c.value.vertical===!0?[y(ne,{stepper:c.value,step:e,goToPanel:c.value.goToPanel}),c.value.animated===!0?y(qe,S):S()]:[S()])}}),Ne=z({name:"QStepperNavigation",setup(e,{slots:v}){return()=>y("div",{class:"q-stepper__nav"},A(v.default))}});const ze=/(-\w)/g;function Be(e){const v={};for(const o in e){const f=o.replace(ze,c=>c[1].toUpperCase());v[f]=e[o]}return v}var Re=z({name:"QStepper",props:{...X,...Se,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:$e,setup(e,{slots:v}){const o=E(),f=ee(e,o.proxy.$q),{updatePanelsList:c,isValidPanelName:_,updatePanelIndex:m,getPanelContent:n,getPanels:b,panelDirectives:w,goToPanel:S,keepAliveProps:r,needsUniqueKeepAliveWrapper:s}=Ce();me(G,g(()=>({goToPanel:S,keepAliveProps:r,needsUniqueKeepAliveWrapper:s,...e})));const a=g(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(f.value===!0?" q-stepper--dark q-dark":"")),t=g(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function p(){const i=A(v.message,[]);if(e.vertical===!0){_(e.modelValue)&&m();const h=y("div",{class:"q-stepper__content"},A(v.default));return i===void 0?[h]:i.concat(h)}return[y("div",{class:t.value},b().map(h=>{const Q=Be(h.props);return y(ne,{key:Q.name,stepper:e,step:Q,goToPanel:S})})),i,ve("div",{class:"q-stepper__content q-panel-parent"},n(),"cont",e.swipeable,()=>w.value)]}return()=>(c(v),y("div",{class:a.value},pe(v.navigation,p())))}});const Fe=e=>(ae("data-v-94f93548"),e=e(),se(),e),Te={class:"text-h6",align:"center"},Ee={for:"fileInput"},je=["src"],Ke={key:0,class:"overlay"},Le=Fe(()=>u("div",null,"Profile",-1)),Me={class:"q-gutter-y-sm"},Oe="Profile Picture",Ye={__name:"UserStep1",props:["userData"],emits:["updateData"],setup(e){x("");const v=x(!0),o=x(!0),f=x(150),c=x(!1),_=x("https://cdn.quasar.dev/img/boy-avatar.png"),{userData:m}=e,n=R({email:"",password:"",confirmPass:""});O(()=>{Object.assign(n,m)});const b=()=>{_.value="https://cdn.quasar.dev/img/boy-avatar.png"},w=()=>{console.log("Edit image clicked")},S=r=>{const s=r.target.files[0];if(s){const a=new FileReader;a.onload=()=>{_.value=a.result},a.readAsDataURL(s)}};return(r,s)=>(q(),D(I,{flat:"",class:"q-pa-sm",style:{width:"500px","max-width":"80vw"}},{default:d(()=>[l(k,null,{default:d(()=>[u("div",Te,[u("div",{class:"profile-picture",style:_e({width:f.value+"px",height:f.value+"px"})},[u("label",Ee,[l(te,{size:"150px",color:"grey-2"},{default:d(()=>[u("img",{src:_.value,alt:Oe,onError:b},null,40,je)]),_:1}),u("input",{type:"file",outlined:"",id:"fileInput",accept:"image/*",style:{display:"none"},onChange:S},null,32)]),c.value?(q(),U("div",Ke,[l(C,{name:"edit",onClick:w,class:"edit-icon"})])):Y("",!0)],4),Le])]),_:1}),l(k,null,{default:d(()=>[u("div",Me,[u("div",null,[l($,{"onUpdate:modelValue":[s[0]||(s[0]=a=>r.$emit("updateData",n)),s[1]||(s[1]=a=>n.email=a)],modelValue:n.email,outlined:"",dense:"",placeholder:"email","lazy-rules":"",rules:[a=>a&&a.length>0||"Email required"],type:"email",suffix:"@gmail.com"},{prepend:d(()=>[l(C,{name:"mail"})]),_:1},8,["modelValue","rules"])]),u("div",null,[l($,{modelValue:n.password,"onUpdate:modelValue":[s[3]||(s[3]=a=>n.password=a),s[4]||(s[4]=a=>r.$emit("updateData",n))],outlined:"",dense:"",placeholder:"Password",type:v.value?"password":"text","lazy-rules":"",rules:[a=>a&&a.length>0||"Password is required"]},{prepend:d(()=>[l(C,{name:"lock"})]),append:d(()=>[l(C,{name:v.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[2]||(s[2]=a=>v.value=!v.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),u("div",null,[l($,{modelValue:n.confirmPass,"onUpdate:modelValue":[s[6]||(s[6]=a=>n.confirmPass=a),s[7]||(s[7]=a=>r.$emit("updateData",n))],outlined:"",dense:"",type:o.value?"password":"text",placeholder:"Confirm password","lazy-rules":"",rules:[()=>n.password===n.confirmPass||"Passwords doesn't match"]},{prepend:d(()=>[l(C,{name:"lock"})]),append:d(()=>[l(C,{name:o.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[5]||(s[5]=a=>o.value=!o.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])])])]),_:1})]),_:1}))}};var He=j(Ye,[["__scopeId","data-v-94f93548"]]);const We={class:"q-my-md"},Je={key:0,class:"custom-list z-top"},Ze={class:"q-gutter-y-sm"},Ge={class:"q-gutter-y-sm q-mx-auto"},Xe={class:"row q-gutter-x-sm item-start"},et={class:"row q-gutter-x-md"},tt=u("div",null,"Designation",-1),at={class:"row q-gutter-x-md"},st={__name:"UserStep2",props:{userData:{type:Object,default:()=>({})}},emits:["updateData"],setup(e,{emit:v}){const o=v,{userData:f}=e,c=Pe(),_=x(""),m=g(()=>c.employees),n=async()=>{_.value.trim()&&await c.searchEmployeesWithDesignation(_.value)},b=s=>{const a=h=>h?h.charAt(0).toUpperCase()+h.slice(1).toLowerCase():"",t=s.firstname?a(s.firstname):"No Firstname",p=s.middlename?a(s.middlename).charAt(0)+".":"",i=s.lastname?a(s.lastname):"No Lastname";return`${t} ${p} ${i}`},w=s=>{if(!s)return"Not Applicable";const[a,t]=s.split(":"),p=new Date;return p.setHours(a,t),p.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})},S=s=>{var a,t,p,i;r.employee_id=s.id||"Not Available",r.user_first_name=s.firstname||"",r.user_middle_name=s.middlename||"",r.user_last_name=s.lastname||"",r.user_address=s.address||"No Address",r.user_birthdate=s.birthdate||"Not Provided",r.user_sex=s.sex||"Unknown",r.user_phone_number=s.phone||"No Phone",r.user_position=s.position||"Not Assigned",r.user_branch_name=((t=(a=s.branch_employee)==null?void 0:a.branch)==null?void 0:t.name)||"Not Applicable",r.user_time_shift=(p=s.branch_employee)!=null&&p.time_shift?w((i=s.branch_employee)==null?void 0:i.time_shift):"Not Applicable",_.value="",o("updateData",r)},r=R({employee_id:"",user_first_name:"",user_middle_name:"",user_last_name:"",user_address:"",user_birthdate:"",user_sex:"",user_phone_number:"",user_position:"",user_branch_name:"",user_time_shift:""});return console.log("userPersonalInfoForm:",r),O(()=>{Object.assign(r,f)}),(s,a)=>(q(),D(I,{flat:"",style:{width:"500px","max-width":"80vw"}},{default:d(()=>[u("div",We,[l($,{dense:"",rounded:"",outlined:"",placeholder:"Search employee",modelValue:_.value,"onUpdate:modelValue":[a[0]||(a[0]=t=>_.value=t),n],debounce:"500"},{append:d(()=>[l(C,{name:"search"})]),default:d(()=>[_.value?(q(),U("div",Je,[l(I,null,{default:d(()=>[l(Ve,{separator:""},{default:d(()=>{var t;return[(t=m.value)!=null&&t.length?(q(!0),U(N,{key:1},T(m.value,p=>(q(),D(W,{onClick:i=>S(p),key:p.id,clickable:""},{default:d(()=>[l(ke,null,{default:d(()=>[F(P(b(p)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(q(),D(W,{key:0},{default:d(()=>[F(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):Y("",!0)]),_:1},8,["modelValue"])]),l(k,null,{default:d(()=>[u("div",Ze,[u("div",Ge,[l($,{class:"text-capitalize",modelValue:r.user_first_name,"onUpdate:modelValue":[a[1]||(a[1]=t=>r.user_first_name=t),a[2]||(a[2]=t=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"First Name",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"]),l($,{class:"text-capitalize",modelValue:r.user_middle_name,"onUpdate:modelValue":[a[3]||(a[3]=t=>r.user_middle_name=t),a[4]||(a[4]=t=>s.$emit("updateData",r))],outlined:"",readonly:"",dense:"",label:"Middle Name",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"]),l($,{class:"text-capitalize",modelValue:r.user_last_name,"onUpdate:modelValue":[a[5]||(a[5]=t=>r.user_last_name=t),a[6]||(a[6]=t=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Last Name",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"]),l($,{class:"text-capitalize",modelValue:r.user_address,"onUpdate:modelValue":[a[7]||(a[7]=t=>r.user_address=t),a[8]||(a[8]=t=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Address",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"])]),u("div",Xe,[u("div",null,[l($,{modelValue:r.user_birthdate,"onUpdate:modelValue":[a[9]||(a[9]=t=>r.user_birthdate=t),a[10]||(a[10]=t=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Birthdate",type:"date",style:{width:"230px"},rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"])]),u("div",null,[l($,{modelValue:r.user_sex,"onUpdate:modelValue":[a[11]||(a[11]=t=>r.user_sex=t),a[12]||(a[12]=t=>s.$emit("updateData",r))],dense:"",outlined:"",readonly:"",label:"Sex",options:s.genderOptions,rules:[t=>t&&t.length>0||"Required"],style:{width:"120px"},behavior:"menu","hide-dropdown-icon":""},null,8,["modelValue","options","rules"])])]),u("div",et,[u("div",null,[l($,{modelValue:r.user_phone_number,"onUpdate:modelValue":[a[13]||(a[13]=t=>r.user_phone_number=t),a[14]||(a[14]=t=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Phone Number",mask:"+(63) ### - ### - ####",placeholder:"(+63) ### - ### - ####",rules:[t=>t&&t.length>0||"Required"],style:{width:"300px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])]),u("div",null,[l($,{modelValue:r.user_position,"onUpdate:modelValue":[a[15]||(a[15]=t=>r.user_position=t),a[16]||(a[16]=t=>s.$emit("updateData",r))],outlined:"",dense:"",readonly:"","hide-dropdown-icon":"",label:"Position",options:s.positionOptions,rules:[t=>t&&t.length>0||"Required"],style:{width:"150px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options","rules"])])]),tt,u("div",at,[u("div",null,[l($,{modelValue:r.user_branch_name,"onUpdate:modelValue":[a[17]||(a[17]=t=>r.user_branch_name=t),a[18]||(a[18]=t=>s.$emit("updateData",r))],outlined:"",flat:"",readonly:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:s.filterBranchOptions,label:"Branch",onFilter:s.filteredBranches,style:{width:"250px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":"",behavior:"menu"},null,8,["modelValue","options","onFilter"])]),u("div",null,[l($,{outlined:"",modelValue:r.user_time_shift,"onUpdate:modelValue":[a[19]||(a[19]=t=>r.user_time_shift=t),a[20]||(a[20]=t=>s.$emit("updateData",r))],flat:"",dense:"",readonly:"",mask:"##:## AA",label:"Time Schedule",rules:s.valididateTime,hint:"Format: 01:00 AM/PM",style:{width:"200px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"])])])])]),_:1})]),_:1}))}},lt=u("div",{class:"text-h6"},"User Profile",-1),rt={class:"col-6"},nt={class:"col-6"},ot={class:"q-pa-sm"},it={__name:"UserStepFinish",props:["userData"],emits:["save"],setup(e,{emit:v}){const{userData:o}=e;console.log("user data",o);function f(_){return _.split(/[\s,]+/).map(m=>m.split(/([.-]+)/).map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join("")).join(" ")}const c=g(()=>[{label:"Username:",value:`${o.email}@gmail.com`},{label:"Full Name:",value:`${o.user_first_name.charAt(0).toUpperCase()}${o.user_first_name.slice(1)} ${o.user_middle_name.charAt(0).toUpperCase()}${o.user_middle_name.slice(1)} ${o.user_last_name.charAt(0).toUpperCase()}${o.user_last_name.slice(1)}`},{label:"Address:",value:f(o.user_address)},{label:"Birthdate:",value:o.user_birthdate.charAt(0).toUpperCase()+o.user_birthdate.slice(1)},{label:"Sex:",value:o.user_sex.charAt(0).toUpperCase()+o.user_sex.slice(1)},{label:"Position:",value:`${o.user_position.charAt(0).toUpperCase()+o.user_position.slice(1)}`},{label:"Phone Number:",value:o.user_phone_number.charAt(0).toUpperCase()+o.user_phone_number.slice(1)},{label:"Position:",value:o.user_position.charAt(0).toUpperCase()+o.user_position.slice(1)},{label:"Designation:",value:o.user_position||""},{label:"Branch:",value:o.user_branch_name||""},{label:"Time Shift:",value:o.user_time_shift||""}]);return(_,m)=>(q(),D(I,{flat:""},{default:d(()=>[l(k,null,{default:d(()=>[lt]),_:1}),l(k,null,{default:d(()=>[(q(!0),U(N,null,T(c.value,(n,b)=>(q(),U("div",{key:b,class:"row"},[u("div",rt,[l(le,{square:"",color:"grey-1"},{default:d(()=>[F(P(n.label),1)]),_:2},1024)]),u("div",nt,[u("div",ot,P(n.value),1)])]))),128))]),_:1})]),_:1}))}};const ut={class:"q-ma-xm",align:"right"},dt={__name:"UsersCreate",setup(e){const v=g(()=>o.users),o=re(),f=x(1),c=x(!0);x(!1);const _=x(!1),m=R({email:"",password:"",confirmPass:""}),n=R({employee_id:"",user_first_name:"",user_middle_name:"",user_last_name:"",user_address:"",user_birthdate:"",user_sex:"",user_phone_number:"",user_position:"",user_branch_name:"",user_time_shift:""}),b=p=>{Object.assign(m,p),c.value=!(m.password&&m.confirmPass&&m.password===m.confirmPass)},w=p=>{console.log("setsuer data",p),Object.assign(n,p),c.value=!(n.employee_id&&n.user_first_name&&n.user_last_name&&n.user_address&&n.user_birthdate&&n.user_sex&&n.user_phone_number&&n.user_position&&n.user_branch_name)},S=g(()=>({...m,...n})),r=()=>{_.value=!0},s=()=>{f.value===3?t():f.value++},a=()=>{m.email="",m.password="",m.confirmPass="",n.employee_id="",n.user_first_name="",n.user_middle_name="",n.user_last_name="",n.user_address="",n.user_birthdate="",n.user_sex="",n.user_phone_number="",n.user_position="",n.user_branch_name="",n.user_time_shift="",f.value=1,c.value=!0},t=async()=>{try{const p={employee_id:n.employee_id,email:`${m.email}@gmail.com`,password:m.password,role:n.user_position};console.log("userdata to send:",p),await o.registerUser(p),_.value=!1,a(),v.value=await o.fetchUsers()}catch{}};return(p,i)=>(q(),U(N,null,[u("div",null,[l(B,{class:"text-dark q-pa-sm",outline:"",icon:"add_circle",label:"Add User",onClick:r})]),l(fe,{modelValue:_.value,"onUpdate:modelValue":i[2]||(i[2]=h=>_.value=h),persistent:"","full-height":""},{default:d(()=>[l(I,null,{default:d(()=>[u("div",ut,[Z(l(B,{class:"q-ma-sm",icon:"close",flat:"",dense:"",round:""},null,512),[[Ue]])]),u("div",null,[l(Re,{class:"",modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=h=>f.value=h),ref:"stepper",animated:"","done-color":"green","active-color":"blue","inactive-color":"grey",flat:"",align:"center"},{navigation:d(()=>[l(Ne,{class:"q-ma-none"},{default:d(()=>[u("div",null,[f.value>1?(q(),D(B,{key:0,flat:"",color:"primary",onClick:i[0]||(i[0]=h=>p.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):Y("",!0),l(B,{disable:c.value,onClick:s,color:"primary",label:f.value===3?"Save":"Continue"},null,8,["disable","label"])])]),_:1})]),default:d(()=>[l(M,{name:1,title:"Sign Up",icon:"settings",done:f.value>1},{default:d(()=>[l(He,{onUpdateData:b,userData:m},null,8,["userData"])]),_:1},8,["done"]),l(M,{name:2,title:"Personal Info",icon:"settings",done:f.value>2},{default:d(()=>[l(st,{onUpdateData:w,userData:n},null,8,["userData"])]),_:1},8,["done"]),l(M,{name:3,title:"Checked Personal Info",icon:"settings",done:f.value>3},{default:d(()=>[l(it,{userData:S.value,onSave:t},null,8,["userData"])]),_:1},8,["done"])]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])],64))}};var ct=j(dt,[["__scopeId","data-v-6c977e5e"]]);const mt=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],pt=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var V=z({name:"QSkeleton",props:{...X,tag:{type:String,default:"div"},type:{type:String,validator:e=>mt.includes(e),default:"rect"},animation:{type:String,validator:e=>pt.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:v}){const o=E(),f=ee(e,o.proxy.$q),c=g(()=>{const m=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:m[0],height:m[1]}}),_=g(()=>`q-skeleton q-skeleton--${f.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>y(e.tag,{class:_.value,style:c.value},A(v.default))}});const ie=e=>(ae("data-v-32e889b7"),e=e(),se(),e),vt={class:"q-pa-md elegant-container"},_t={key:0,class:"skeleton-wrapper row q-col-gutter-md"},ft={key:1,class:"data-error"},ht=ie(()=>u("div",null,"No data available",-1)),gt={key:2,class:"q-pa-md row q-col-gutter-md"},bt=ie(()=>u("img",{src:"https://cdn.quasar.dev/img/mountains.jpg"},null,-1)),yt={class:"q-mt-lg"},qt={class:"text-h6 text-weight-medium elegant-name text-capitalize"},xt={class:"q-mb-sm elegant-detail"},wt={class:"email-display"},St={class:"email-text"},$t={class:"q-mb-sm elegant-detail"},Ct={class:"q-mb-sm elegant-detail"},Ut={class:"q-mb-sm elegant-detail text-capitalize"},kt={__name:"UsersCard",setup(e){const v=re();he(),x(null),Ae();const o=g(()=>v.users);console.log("userdatasssss  ",o.value),O(async()=>{await f()});const f=async()=>{try{m.value=!0,o.value=await v.fetchUsers(),o.value.length||(n.value=!0),console.log("Users",o.value)}catch(s){console.log("error fetching recipe: ",s),n.value=!0}finally{m.value=!1}},c=s=>Qe.formatDate(s,"MMMM D, YYYY"),_=s=>{if(!s)return"";const{firstname:a,middlename:t,lastname:p}=s,i=a.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" "),h=t?`${t.charAt(0).toUpperCase()}.`:"",Q=p.charAt(0).toUpperCase();return`${i} ${h} ${Q}${p.slice(1)}`},m=x(!0),n=x(!1),b=x(""),w=async()=>{m.value=!0,n.value=!1,await v.searchUser(b.value),m.value=!1},S=async(s,a)=>{try{const t=s.id;o.value.email=a,await v.updateEmail(t,a),ye.create({type:"positive",message:"yeah"})}catch(t){console.log("===================================="),console.log("ERRRR",t),console.log("====================================")}},r=s=>{switch(s){case"Super Admin":return"blue-10";case"Admin":return"purple-10";case"Supervisor":return"teal-7";case"Scaler":return"green-8";case"Lamesador":return"orange-5";case"Hornero":return"red-6";case"Baker":return"brown";case"Cake Maker":return"brown-4";case"Cashier":return"green-5";case"Sales Clerk":return"blue-5";case"Utility":return"grey-7";case"Not Yet Assigned":return"grey-4";default:return"grey-4"}};return(s,a)=>(q(),D(Ie,null,{default:d(()=>[u("div",vt,[u("div",null,[l($,{class:"q-pb-lg",modelValue:b.value,"onUpdate:modelValue":[a[0]||(a[0]=t=>b.value=t),w],outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"100%","max-width":"600px"}},{append:d(()=>[l(C,{name:"search"})]),_:1},8,["modelValue"])]),m.value?(q(),U("div",_t,[(q(),U(N,null,T(8,t=>u("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:t},[l(I,{class:"user-card skeleton-card"},{default:d(()=>[l(V,{height:"200px",class:"q-mb-md"}),l(k,{class:"text-center"},{default:d(()=>[l(V,{type:"circle",size:"80px",class:"q-mb-md"}),l(V,{type:"text",width:"60%",class:"q-mt-lg"}),l(V,{type:"text",width:"40%",class:"q-mt-sm"})]),_:1}),l(L),l(k,null,{default:d(()=>[l(V,{type:"text",width:"80%",class:"q-mb-sm"}),l(V,{type:"text",width:"60%",class:"q-mb-sm"}),l(V,{type:"text",width:"70%",class:"q-mb-sm"}),l(V,{type:"text",width:"50%",class:"q-mb-sm"}),l(V,{type:"text",width:"90%",class:"q-mt-md"})]),_:1}),l(L),l(ge,{class:"q-pa-md text-center"},{default:d(()=>[l(V,{type:"rect",width:"40%",height:"36px"})]),_:1})]),_:1})])),64))])):n.value?(q(),U("div",ft,[l(C,{name:"error",size:"50px",color:"negative"}),ht])):(q(),U("div",gt,[(q(!0),U(N,null,T(o.value,t=>(q(),U("div",{key:t.id,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[l(I,{class:"user-card"},{default:d(()=>[bt,l(k,{class:"text-center"},{default:d(()=>[u("div",null,[l(te,{icon:"person",size:"80px",color:"primary","text-color":"white",class:"q-mb-md absolute",style:{top:"0",left:"12px",transform:"translateY(-50%)"}})]),u("div",yt,[u("div",qt,P(_(t)),1),l(le,{color:r(t.role),"text-color":"white",class:"q-mt-sm elegant-chip"},{default:d(()=>[F(P(t.role),1)]),_:2},1032,["color"])])]),_:2},1024),l(L,{class:"separator q-mx-md"}),l(k,null,{default:d(()=>[u("div",xt,[l(C,{name:"mail",class:"q-mr-sm"}),l(De,{"onUpdate:modelValue":[p=>S(t,p),p=>t.email=p],modelValue:t.email,title:"Edit Email",persistent:"","auto-save":"",buttons:"","label-set":"Save","label-cancel":"Close",fit:"","transition-show":"scale","transition-hide":"scale"},{default:d(p=>[l($,{modelValue:p.value,"onUpdate:modelValue":i=>p.value=i,dense:"",type:"email",rules:[s.emailRule],placeholder:"Email",class:"popup-input",filled:"",borderless:"",onKeyup:be(p.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"]),u("div",wt,[u("span",St,P(t.email),1),l(C,{name:"edit",size:"sm",class:"edit-icon text-light-green-13"})])]),u("div",$t,[l(C,{name:"calendar_today",class:"q-mr-sm"}),u("span",null,P(c(t.birthdate)),1)]),u("div",Ct,[l(C,{name:"smartphone",class:"q-mr-sm"}),u("span",null,P(t.phone),1)]),u("div",Ut,[l(C,{name:"location_on",class:"q-mr-sm"}),u("span",null,P(t.address),1)])]),_:2},1024)]),_:2},1024)]))),128))]))])]),_:1}))}};var Vt=j(kt,[["__scopeId","data-v-32e889b7"]]);const Pt={align:"right"},Dt={__name:"UsersPage",setup(e){return(v,o)=>(q(),D(I,{class:"elegant-container",flat:""},{default:d(()=>[l(k,null,{default:d(()=>[u("div",Pt,[l(ct)])]),_:1}),l(k,null,{default:d(()=>[l(Vt)]),_:1})]),_:1}))}};var ra=j(Dt,[["__scopeId","data-v-6734ec34"]]);export{ra as default};
