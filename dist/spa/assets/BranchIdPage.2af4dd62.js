import{bd as he,c as I,r as V,t as He,o as k,a2 as S,f as e,M as D,w as t,Q as F,I as R,ad as ee,J as a,K as j,L as ne,e as B,$ as P,a3 as O,a4 as pe,_ as y,bc as Ke,aI as De,a1 as K,a0 as Ye,N as ve,O as ae,R as le,z as xe,u as Ae,ba as Re,aJ as mt,be as Q,d as pt,P as je,aH as _t,H as ft}from"./index.09bfea76.js";import{Q as qe}from"./QSpace.bb0e1865.js";import{Q as Ie,a as de,b as Le,c as ce}from"./QTabPanels.51142317.js";import{Q as gt}from"./QPage.cd53c0d2.js";import{Q as Ue,a as ge,b as W}from"./QList.d6bd80da.js";import{b as re}from"./use-virtual-scroll.47ad128e.js";import{C as te}from"./ClosePopup.73174b17.js";import{u as Xe}from"./branch-product.1d59bbab.js";import{u as lt}from"./product.c7e7a159.js";import{Q as Ge}from"./QSpinnerDots.d43c6504.js";import{Q as E,a as ie}from"./QTable.7be7d720.js";import{Q as se}from"./QBadge.de0b4616.js";import{Q as oe}from"./QTooltip.2c21c538.js";import{Q as Ve}from"./QPopupEdit.41f20f9d.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import{api as ye}from"./axios.a112733d.js";import{u as Ze}from"./branch-rawMaterials.b9839cdb.js";import{u as vt}from"./raw-material.5b3f5904.js";import{u as ke}from"./use-dialog-plugin-component.028ae6f7.js";import{Q as ht}from"./QMenu.5f07b5c9.js";import{q as ue}from"./date.653ae40d.js";import{u as Se}from"./use-quasar.443842a7.js";import{p as Qe,v as nt}from"./vfs_fontes.3eb8cb31.js";import{Q as Ne}from"./QScrollArea.00a13d48.js";import{u as Te,a as Me,b as Je}from"./other-product.4f8f055c.js";import{Q as We}from"./QSelect.6062085f.js";import{u as yt}from"./recipe.b014040f.js";import{u as Ee}from"./branch-recipe.9c54eb38.js";import"./QResizeObserver.42d564c7.js";import"./use-panel.212d4197.js";import"./touch.9135741d.js";import"./selection.4e7b72c1.js";import"./QVirtualScroll.2b659bb1.js";import"./QScrollObserver.6a1227e5.js";import"./TouchPan.aaa6c037.js";import"./QChip.b102dc55.js";const bt=a("div",{class:"text-h6"},"Create Branch Product",-1),wt={class:"q-mb-lg"},xt={key:0,class:"custom-list z-top"},kt=a("div",null,"Product Name",-1),$t=a("div",null,"Category",-1),Ct={class:"row justify-between"},Rt=a("div",null,"Beginnings",-1),Pt=a("div",null,"Total Quantity",-1),Vt=a("div",null,"Price",-1),St={__name:"ProductCreate",setup(o){const v=he(),w=lt(),$=I(()=>w.products),g=Xe(),c=V(""),b=async()=>{w.searchProducts(c.value)},r=I(()=>m.price!==0&&m.beginnings!==0&&m.total_quantity!==0),p=V(!1),_=()=>{p.value=!0},n=()=>{f(),p.value=!1},u=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",l=s=>{m.product_id=s.id,m.product_name=s.name,m.category=s.category,c.value=""},m=He({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:v.params.branch_id}),f=()=>{m.product_id="",m.product_name="",m.category="",m.price=0,m.beginnings=0,m.total_quantity=0},i=async()=>{try{const{product_name:s,...d}=m;await g.createBranchProducts(d),console.log("data to send",d),f(),p.value=!1}catch(s){console.log(s)}};return(s,d)=>(k(),S(O,null,[e(D,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:_}),e(K,{modelValue:p.value,"onUpdate:modelValue":d[6]||(d[6]=x=>p.value=x),persistent:""},{default:t(()=>[e(F,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[bt,e(qe),ee(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e(R,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",wt,[e(j,{modelValue:c.value,"onUpdate:modelValue":[d[0]||(d[0]=x=>c.value=x),b],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[c.value?(k(),S("div",xt,[e(F,null,{default:t(()=>[e(Ue,{separator:""},{default:t(()=>{var x;return[(x=$.value)!=null&&x.length?(k(!0),S(O,{key:1},pe($.value,C=>(k(),B(ge,{onClick:U=>l(C),key:C.id,clickable:""},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[P(y(u(C.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(k(),B(ge,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ke("",!0)]),_:1},8,["modelValue"])]),a("div",null,[kt,e(j,{modelValue:m.product_name,"onUpdate:modelValue":d[1]||(d[1]=x=>m.product_name=x),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[$t,e(j,{modelValue:m.category,"onUpdate:modelValue":d[2]||(d[2]=x=>m.category=x),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",Ct,[a("div",null,[Rt,e(j,{modelValue:m.beginnings,"onUpdate:modelValue":d[3]||(d[3]=x=>m.beginnings=x),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[Pt,e(j,{modelValue:m.total_quantity,"onUpdate:modelValue":d[4]||(d[4]=x=>m.total_quantity=x),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[Vt,e(j,{modelValue:m.price,"onUpdate:modelValue":d[5]||(d[5]=x=>m.price=x),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(De,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:i,disable:!r.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ot=o=>(ae("data-v-196482e9"),o=o(),le(),o),Dt=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),qt=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Nt={__name:"ProductDelete",props:["delete"],setup(o){const v=Xe(),w=o;console.log("delte",w.delete.row.id);const $=async()=>{try{await v.deleteBranchProducts(w.delete.row.id),ve.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),g.value=!1}catch(b){console.error(b.message)}},g=V(!1),c=()=>{console.log("ID",w.delete.row.id),g.value=!0};return(b,r)=>(k(),S(O,null,[e(D,{onClick:c,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(oe,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=p=>g.value=p)},{default:t(()=>[e(F,null,{default:t(()=>[e(R,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Dt,qt]),_:1}),e(Ye,{class:"q-mb-md"}),e(R,null,{default:t(()=>[e(De,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:$,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ut=Y(Nt,[["__scopeId","data-v-196482e9"]]);const Tt=o=>(ae("data-v-c74b6072"),o=o(),le(),o),At={class:"row justify-between"},Bt={class:"q-my-sm"},Ft={key:0,class:"spinner-wrapper"},It={key:1},Lt={key:0,class:"data-error"},Mt=Tt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zt={key:1},Ht={__name:"ProductTable",setup(o){const w=he().params.branch_id,$=Xe(),g=V(""),c=V(!0),b=V([]),r=V(!1),p=V({rowsPerPage:0}),_=I(()=>$.branchProducts);console.log("branchssdfrer",_.value);const n=I(()=>g.value?_.value.filter(C=>C.name.toLowerCase().includes(g.value.toLowerCase())):_.value),u=C=>C?C.split(" ").map(U=>U.charAt(0).toUpperCase()+U.slice(1).toLowerCase()).join(" "):"";xe(async()=>{w&&await l(w)});const l=async C=>{try{c.value=!0;const U=await $.fetchBranchProducts(C);_.value=U,_.value.length||(r.value=!0),console.log("Branch product",_.value)}catch(U){console.log("Error fetching branch product:",U),r.value=!0}finally{c.value=!1}};Ae(g,async C=>{c.value=!0,await new Promise(U=>setTimeout(U,1e3)),c.value=!1,r.value=n.value.length===0});async function m(C,U){try{const N=await ye.put("/api/update-branch-products/"+C.id,{price:parseInt(U)});if(N.status===200){const A=b.value.findIndex(h=>h.id==C.id);b.value[A]=parseInt(U),ve.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}async function f(C,U){try{const N=await ye.put("/api/update-branch-products-beginnings/"+C.id,{beginnings:parseInt(U)});if(N.status===200){const A=b.value.findIndex(h=>h.id==C.id);b.value[A]=parseInt(U),ve.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}async function i(C,U){try{const N=await ye.put("/api/update-branch-products-total-quantity/"+C.id,{total_quantity:parseInt(U)});if(N.status===200){const A=b.value.findIndex(h=>h.id==C.id);b.value[A]=parseInt(U),ve.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}const s=C=>{switch(C){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},d=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(C),x=[{name:"name",label:"Product Name",align:"center",field:C=>C.product.name,format:C=>`${C}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:C=>d(C),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:C=>`${C} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:C=>`${C} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(C,U)=>(k(),S(O,null,[a("div",At,[a("div",null,[e(j,{class:"q-pb-lg q-pl-md",modelValue:g.value,"onUpdate:modelValue":U[0]||(U[0]=N=>g.value=N),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Bt,[e(St)])]),c.value?(k(),S("div",Ft,[e(Ge,{size:"50px",color:"primary"})])):(k(),S("div",It,[n.value.length===0?(k(),S("div",Lt,[e(ne,{name:"warning",color:"warning",size:"4em"}),Mt])):(k(),B(ie,{key:1,class:"table-container sticky-header",filter:g.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:x,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":U[1]||(U[1]=N=>p.value=N),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(N=>[e(E,{key:"name",props:N},{default:t(()=>{var A;return[P(y((A=N.row.product)!=null&&A.name?u(N.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(N=>[e(E,{key:"name",props:N},{default:t(()=>[N.row.category?(k(),B(se,{key:0,color:s(N.row.category)},{default:t(()=>[P(y(N.row.category),1)]),_:2},1032,["color"])):(k(),S("span",zt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(N=>[e(E,{props:N,class:"cursor-pointer"},{default:t(()=>[a("span",null,[P(y(d(N.row.price))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit Price")]),_:1})]),e(Ve,{"onUpdate:modelValue":[A=>m(N.row,A),A=>N.row.price=A],modelValue:N.row.price,"auto-save":""},{default:t(A=>[e(j,{modelValue:A.value,"onUpdate:modelValue":h=>A.value=h,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(A.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(N=>[e(E,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[P(y(N.row.beginnings?N.row.beginnings:"Set Beginnings")+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit beginnings")]),_:1})]),e(Ve,{"onUpdate:modelValue":[A=>f(N.row,A),A=>N.row.beginnings=A],modelValue:N.row.beginnings,"auto-save":""},{default:t(A=>[e(j,{modelValue:A.value,"onUpdate:modelValue":h=>A.value=h,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Re(A.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(N=>[e(E,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[P(y(N.row.total_quantity?N.row.total_quantity:"Set Quantity")+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit quantity")]),_:1})]),e(Ve,{"onUpdate:modelValue":[A=>i(N.row,A),A=>N.row.total_quantity=A],modelValue:N.row.total_quantity,"auto-save":""},{default:t(A=>[e(j,{modelValue:A.value,"onUpdate:modelValue":h=>A.value=h,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Re(A.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(N=>[e(E,{class:"q-gutter-x-md",props:N},{default:t(()=>[e(Ut,{delete:N},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Ot=Y(Ht,[["__scopeId","data-v-c74b6072"]]);const jt={class:"q-gutter-sm"},Qt={__name:"ProductPage",setup(o){return(v,w)=>(k(),S("div",jt,[a("div",null,[e(Ot)])]))}},Et=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Kt={class:"q-mb-lg"},Yt={key:0,class:"custom-list z-top"},Gt=a("div",null,"Raw Materials Code",-1),Jt=a("div",null,"Raw Materials Name",-1),Wt=a("div",null,"Category",-1),Xt=a("div",null,"Quantity",-1),Zt={__name:"RawMaterialsCreate",setup(o){const v=he(),w=vt(),$=I(()=>w.rawMaterials),g=Ze(),c=V(""),b=async()=>{w.searchRawMaterials(c.value)},r=I(()=>l.total_quantity!==""),p=V(!1),_=()=>{p.value=!0},n=()=>{m(),p.value=!1},u=i=>{l.ingredients_id=i.id,l.ingredient_name=i.name,l.ingredient_code=i.code,l.category=i.category,l.unit=i.unit,c.value=""},l=He({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:v.params.branch_id}),m=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},f=async()=>{try{const{product_name:i,...s}=l;await g.createBranchRawMaterials(s),console.log("data to send",s),m(),p.value=!1}catch(i){console.log(i)}};return(i,s)=>(k(),S(O,null,[e(D,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:_,style:{background:"#f43f5e"}}),e(K,{modelValue:p.value,"onUpdate:modelValue":s[5]||(s[5]=d=>p.value=d),persistent:""},{default:t(()=>[e(F,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Et,e(qe),ee(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e(R,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Kt,[e(j,{modelValue:c.value,"onUpdate:modelValue":[s[0]||(s[0]=d=>c.value=d),b],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[c.value?(k(),S("div",Yt,[e(F,null,{default:t(()=>[e(Ue,{separator:""},{default:t(()=>{var d;return[(d=$.value)!=null&&d.length?(k(!0),S(O,{key:1},pe($.value,x=>(k(),B(ge,{onClick:C=>u(x),key:x.id,clickable:""},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[P(y(x.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(k(),B(ge,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ke("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Gt,e(j,{modelValue:l.ingredient_code,"onUpdate:modelValue":s[1]||(s[1]=d=>l.ingredient_code=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Jt,e(j,{modelValue:l.ingredient_name,"onUpdate:modelValue":s[2]||(s[2]=d=>l.ingredient_name=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Wt,e(j,{modelValue:l.category,"onUpdate:modelValue":s[3]||(s[3]=d=>l.category=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Xt,e(j,{modelValue:l.total_quantity,"onUpdate:modelValue":s[4]||(s[4]=d=>l.total_quantity=d),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[d=>d&&d.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(De,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:f,disable:!r.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const st=o=>(ae("data-v-17ad5e9f"),o=o(),le(),o),ea=st(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ta=st(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),aa={__name:"RawMaterialsTableDelete",props:["delete"],setup(o){const v=Ze(),w=o,$=async()=>{console.log("clickkkd");try{await v.deleteBranchRawMaterials(w.delete.row.id),ve.create({type:"negative",icon:"warning",message:`Raw Materials ${w.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),g.value=!1}catch(b){console.error(b.message)}},g=V(!1),c=()=>{g.value=!0};return(b,r)=>(k(),S(O,null,[e(D,{onClick:c,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(oe,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":r[0]||(r[0]=p=>g.value=p)},{default:t(()=>[e(F,null,{default:t(()=>[e(R,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[ea,ta]),_:1}),e(Ye,{class:"q-mb-md"}),e(R,null,{default:t(()=>[e(De,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:$,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var la=Y(aa,[["__scopeId","data-v-17ad5e9f"]]);const rt=o=>(ae("data-v-74a3fea6"),o=o(),le(),o),na={class:"row justify-between"},oa={class:"q-my-sm"},sa={key:0,class:"spinner-wrapper"},ra={key:1},ia={key:0,class:"data-error"},da=rt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ca=rt(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),ua={class:"row justify-center q-gutter-x-md"},ma={__name:"RawMaterialsTable",setup(o){const w=he().params.branch_id,$=Ze(),g=V(""),c=V(!0),b=V([]),r=V(!1),p=V({rowsPerPage:0}),_=I(()=>$.branchRawMaterials),n=I(()=>g.value?_.value.filter(s=>s.name.toLowerCase().includes(g.value.toLowerCase())):_.value);xe(async()=>{console.log("props.branchId in onMounted:",w),w&&await u(w)});const u=async s=>{try{c.value=!0;const d=await $.fetchBranchRawMaterials(s);_.value=d,_.value.length||(r.value=!0),console.log("Branch Raw Materials",_.value)}catch(d){console.log("Error fetching branch product:",d),r.value=!0}finally{c.value=!1}};async function l(s,d){try{const x=await ye.put("/api/update-branch-rawMaterials/"+s.id,{total_quantity:parseInt(d)});if(x.status===200){const C=b.value.findIndex(U=>U.id==s.id);b.value[C]=parseInt(d),ve.create({type:"positive",message:x.data.message,timout:1e3,position:"top"})}}catch(x){console.error("Error updating price:",x)}}Ae(g,async s=>{c.value=!0,await new Promise(d=>setTimeout(d,1e3)),c.value=!1,r.value=n.value.length===0});const m=s=>{const d=s.total_quantity;if(s.ingredients.unit==="Grams"&&d<1e3)return"bg-red";let C;return d>=1e3?C=d/1e3:C=d,C<5?C<=2?"bg-red":(C<=3,"bg-warning"):"bg-positive"},f=s=>{const d=s.total_quantity,x=s.ingredients.unit;if(d>1e3){const C=(d/1e3).toFixed(2);return C.endsWith(".00")?`${Math.round(d/1e3)} kilos`:`${C} kilos`}else return d>1?`${d} ${x}`:`${d} ${x}`},i=[{name:"code",label:"Raw Materials Code",align:"center",field:s=>{var d,x;return(x=(d=s==null?void 0:s.ingredients)==null?void 0:d.code)!=null?x:"No Code"},format:s=>`${s}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:s=>{var d,x;return(x=(d=s==null?void 0:s.ingredients)==null?void 0:d.name)!=null?x:"No Code"},format:s=>`${s}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(s,d)=>(k(),S(O,null,[a("div",na,[a("div",null,[e(j,{class:"q-pb-lg q-pl-md",modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=x=>g.value=x),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",oa,[e(Zt)])]),c.value?(k(),S("div",sa,[e(Ge,{size:"50px",color:"primary"})])):(k(),S("div",ra,[n.value.length===0?(k(),S("div",ia,[e(ne,{name:"warning",color:"warning",size:"4em"}),da])):(k(),B(ie,{key:1,class:"table-container sticky-header",filter:g.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":d[1]||(d[1]=x=>p.value=x),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(x=>[e(E,{props:x},{default:t(()=>[e(se,{square:"",class:mt(["text-white cursor-pointer",m(x.row)])},{default:t(()=>[P(y(f(x.row))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[ca]),_:1}),e(Ve,{"onUpdate:modelValue":[C=>l(x.row,C),C=>x.row.total_quantity=C],modelValue:x.row.total_quantity,"auto-save":""},{default:t(C=>[e(j,{modelValue:C.value,"onUpdate:modelValue":U=>C.value=U,dense:"",suffix:x.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(x=>[e(E,{props:x},{default:t(()=>[a("div",ua,[e(la,{delete:x},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var pa=Y(ma,[["__scopeId","data-v-74a3fea6"]]);const _a={class:"q-gutter-sm"},fa={class:"q-gutter-x-sm"},ga={__name:"RawMaterialsPage",setup(o){return(v,w)=>(k(),S("div",_a,[a("div",fa,[e(se,{label:"Good",class:"text-white",color:"positive"}),e(se,{label:"Warning",class:"text-white",color:"warning"}),e(se,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(pa)])]))}};const va={class:"text-h6 text-white"},ha={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke();console.log("breadReportsaaasss",o.breadProduction);const b=p=>p?p.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",r=[{name:"bread_name",label:"Bread Name",align:"left",field:p=>(console.log("Row data:",p),p.bread.name||"N/A"),format:p=>b(p)},{name:"production",label:"Production",align:"center",field:p=>p.bread_production||p.filling_production||"0"}];return(p,_)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,u,l,m;return[a("div",va,y(`${b((u=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:u.name)} - ${(m=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:m.category}`),1),e(qe),a("div",null,[ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]}),_:1}),e(ie,{rows:o.breadProduction,columns:r},null,8,["rows"])]),_:1})]),_:1},8,["onHide"]))}};var ya=Y(ha,[["__scopeId","data-v-849d6d20"]]);const ba=o=>(ae("data-v-961b0a22"),o=o(),le(),o),wa={class:"text-h6 text-white"},xa=ba(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ka={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke();console.log("ingredientProduction",o.ingredientProduction);const b=p=>{const _=Number(p.quantity)||0,n=p.unit||"";return _>1e3?`${parseFloat((_/1e3).toFixed(3))} kg`:_>1?`${parseFloat(_.toFixed(3))} ${n}`:`${parseFloat(_.toFixed(3))} ${n}`},r=p=>p?p.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"";return(p,_)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,u,l,m;return[a("div",wa,y(`${r((u=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:u.name)} - ${(m=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:m.category}`),1),e(qe),a("div",null,[ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]}),_:1}),e(R,null,{default:t(()=>[xa]),_:1}),e(R,null,{default:t(()=>[e(Ue,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ge,null,{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(W,{side:""},{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(k(!0),S(O,null,pe(o.ingredientProduction,(n,u)=>(k(),B(ge,{key:u},{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(n.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(n.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(b(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var $a=Y(ka,[["__scopeId","data-v-961b0a22"]]);const it=pt("productions",()=>{const o=V([]),v=V([]);return{productions:o,production:v,fetchAllProduction:async()=>{const c=await ye.get("/api/branch-production-report");o.value=c.data.reports},fetchBranchProductions:async c=>{try{const b=await ye.get(`/api/branches/${c}/production-report`);o.value=b.data}catch(b){console.log(b)}},updateBakerReport:async(c,b)=>{console.log("baker reports data in store",b),console.log("baker reports id data in store",c),je.show();try{const r=await ye.put(`api/update/branch-baker-report/${c}`,b);console.log(r.data)}catch(r){console.error("Error updating baker report:",r)}finally{je.hide()}}}});const dt=o=>(ae("data-v-222cab78"),o=o(),le(),o),Ca={class:"text-h6 text-dark"},Ra={class:"row q-gutter-sm"},Pa={class:"row q-mt-sm q-gutter-sm"},Va=dt(()=>a("div",{class:"q-mt-sm"},"Kilo",-1)),Sa={class:"q-mt-xl q-gutter-md"},Da={key:0},qa={class:"q-mx-sm"},Na=dt(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Ua={__name:"EditBakersReport",props:["bakerReports","sales_report_id"],setup(o){const v=it(),{dialogRef:w,onDialogHide:$}=ke(),g=o;console.log("bakers report",g.bakerReports);const c=He({target:0,actual_target:0,short:0,over:0,kilo:0}),b=I(()=>g.bakerReports.ingredient_bakers_reports.map(f=>{const i=parseFloat(g.bakerReports.kilo)||1,s=parseFloat(c.kilo)||1,x=f.quantity/i*s;return{...f,quantity:x.toFixed(3)}})),r=f=>f?f.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",p=f=>{const i=Number(f.quantity)||0,s=f.unit||"";return i>1e3?`${parseFloat((i/1e3).toFixed(3))} kg`:i>1?`${parseFloat(i.toFixed(3))} ${s}`:`${parseFloat(i.toFixed(3))} ${s}`},_=f=>{const i=Number(f)||0;return parseFloat(i.toFixed(3)).toString()},n=f=>{const i=Number(f)||0;return parseFloat(i.toFixed(3)).toString()},u=I(()=>g.bakerReports.combined_bakers_reports.reduce((f,i)=>f+(parseFloat(i.bread_production)||0),0)),l=()=>{const f=u.value,i=parseFloat(c.actual_target)||0;f>i?(c.over=f-i,c.short=0):(c.short=i-f,c.over=0)};Ae(()=>g.bakerReports,f=>{f&&(c.target=_(f.target)||0,c.actual_target=f.actual_target||0,c.short=f.short||0,c.over=f.over||0,c.kilo=n(f.kilo)||0)},{immediate:!0}),Ae(()=>c.kilo,()=>{const f=parseFloat(c.kilo)||1,s=(parseFloat(c.target)||0)*f;c.actual_target=_(Math.ceil(s)),l()}),Ae(()=>u.value,()=>l());const m=async()=>{var C,U,N;const f=g.bakerReports.id,i=((N=(U=(C=g.bakerReports)==null?void 0:C.branch_recipe)==null?void 0:U.recipe)==null?void 0:N.category)||null,s=g.bakerReports.status,d=(g==null?void 0:g.sales_report_id)||null,x={initial_bakerreports_id:f,sales_report_id:d,category:i,target:c.target,actual_target:c.actual_target,short:c.short,over:c.over,status:s,kilo:c.kilo,combined_bakers_reports:g.bakerReports.combined_bakers_reports.map(A=>({bread_id:A.bread.id,bread_production:A.bread_production})),recalculated_ingredients:b.value.map(A=>({ingredients_id:A.ingredients.id,quantity:A.quantity,unit:A.unit}))};console.log("Edited Bakers Report",x),console.log("Edited Bakers Report",f);try{await v.updateBakerReport(f,x),ve.create({type:"positive",message:"Baker report updated successfully!",position:"top"}),$()}catch(A){console.error("Error updating baker report:",A),ve.create({type:"negative",message:"Failed to update baker report. Please try again.",position:"top"})}};return(f,i)=>(k(),B(K,{ref_key:"dialogRef",ref:w,onHide:Q($)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,{class:"row bg-backgroud text-h6"},{default:t(()=>{var s,d,x,C,U,N;return[a("div",Ca,y(`${r((x=(d=(s=o.bakerReports)==null?void 0:s.branch_recipe)==null?void 0:d.recipe)==null?void 0:x.name)} - ${(N=(U=(C=o.bakerReports)==null?void 0:C.branch_recipe)==null?void 0:U.recipe)==null?void 0:N.category}`),1),e(qe),a("div",null,[ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]}),_:1}),P(" sales_report_id:"+y(o.sales_report_id)+" ",1),e(R,{class:"row q-gutter-x-xl"},{default:t(()=>[a("div",null,[a("div",Ra,[a("div",null,[P(" Target Pcs "),e(j,{readonly:"",modelValue:c.target,"onUpdate:modelValue":i[0]||(i[0]=s=>c.target=s),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),a("div",null,[P(" Actual Target "),e(j,{readonly:"",modelValue:c.actual_target,"onUpdate:modelValue":i[1]||(i[1]=s=>c.actual_target=s),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),a("div",Pa,[a("div",null,[P(" Short "),e(j,{readonly:"",modelValue:c.short,"onUpdate:modelValue":i[2]||(i[2]=s=>c.short=s),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),a("div",null,[P(" Over "),e(j,{readonly:"",modelValue:c.over,"onUpdate:modelValue":i[3]||(i[3]=s=>c.over=s),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),a("div",null,[Va,e(j,{outlined:"",modelValue:c.kilo,"onUpdate:modelValue":i[4]||(i[4]=s=>c.kilo=s),dense:"",type:"number",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),a("div",Sa,[o.bakerReports.combined_bakers_reports.length?(k(),S("div",Da,[(k(!0),S(O,null,pe(o.bakerReports.combined_bakers_reports,(s,d)=>(k(),S("div",{key:d,class:"q-my-md"},[e(Ye,{class:"q-ma-md"}),a("div",qa,y(s.bread.name),1),e(j,{outlined:"",modelValue:s.bread_production,"onUpdate:modelValue":x=>s.bread_production=x,dense:"",type:"numbers",suffix:"pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):Ke("",!0)])]),a("div",null,[Na,e(Ue,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ge,null,{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(W,{side:""},{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(k(!0),S(O,null,pe(b.value,(s,d)=>(k(),B(ge,{key:d},{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(s.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(s.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(p(s)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(De,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[ee(e(D,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[te]]),e(D,{class:"glossy",color:"teal",label:"Save",onClick:m})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ta=Y(Ua,[["__scopeId","data-v-222cab78"]]);const Aa=o=>(ae("data-v-f96814be"),o=o(),le(),o),Ba=Aa(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),Fa={class:"text-subtitle1 text-weight-regular"},Ia={class:"q-ma-sm"},La={class:"q-ma-sm",align:"center"},Ma=["src"],za={__name:"BakerReportPanel",props:["bakersReport","sales_report_id"],setup(o){Qe.exports.vfs=nt;const v=o,w=v.bakersReport;console.log("Bakers Report",v.bakersReport);const $=V(!0),g=V(!1);V(!1);const c=V({rowsPerPage:0}),b=V(""),r=Se(),p=(h,q)=>{r.dialog({component:ya,componentProps:{breadProduction:h,branchRecipe:q}})},_=(h,q)=>{r.dialog({component:$a,componentProps:{ingredientProduction:h,branchRecipe:q}})},n=(h,q)=>{r.dialog({component:Ta,componentProps:{bakerReports:h,sales_report_id:q}})},u=h=>ue.formatDate(h,"MMM. DD, YYYY"),l=h=>{const q=Number(h)||0;return parseFloat(q.toFixed(3)).toString()},m=h=>{const q=Number(h)||0;return parseFloat(q.toFixed(3)).toString()},f=h=>h?h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",i=h=>{const q=Ce=>Ce?Ce.charAt(0).toUpperCase()+Ce.slice(1).toLowerCase():"",T=h.firstname?q(h.firstname):"No Firstname",G=h.middlename?q(h.middlename).charAt(0)+".":"",_e=h.lastname?q(h.lastname):"No Lastname";return`${T} ${G} ${_e}`.trim()},s=h=>{const q=new Date(h),T={hour:"2-digit",minute:"2-digit",hour12:!0};return q.toLocaleTimeString(void 0,T)},d=h=>{switch(h){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},x=h=>h?h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",C=h=>h?h.recipe_category==="Filling"?h.filling_bakers_reports||[]:h.recipe_category==="Dough"?h.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),U=[{name:"recipe_name",align:"center",label:"Recipe Name",field:h=>h.branch_recipe&&h.branch_recipe.recipe?{name:h.branch_recipe.recipe.name,category:h.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:h=>`${x(h.name)} (${h.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:h=>s(h)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:h=>`${m(h)}`},{name:"actual_target",align:"center",label:"Actual Target",field:h=>h.target*h.kilo,format:h=>`${Math.ceil(h)}`},{name:"over",align:"center",label:"Over",field:"over",format:h=>`${h}`},{name:"short",align:"center",label:"Short",field:"short",format:h=>`${h}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],N=h=>{var H,Z,be,fe,we,M,z,$e,J,Pe,Fe,Oe,et,tt;console.log("bakerReport",h);const q=`${(be=(Z=(H=h==null?void 0:h.branch_recipe)==null?void 0:H.recipe)==null?void 0:Z.name)!=null?be:"Unkown Recipe"} (${(fe=h==null?void 0:h.recipe_category)!=null?fe:"Unkown Category"})`,T=(M=(we=h==null?void 0:h.branch_recipe)==null?void 0:we.target)!=null?M:0,G=(z=h==null?void 0:h.actual_target)!=null?z:0,_e=($e=h==null?void 0:h.kilo)!=null?$e:0,Ce=(J=h==null?void 0:h.over)!=null?J:0,L=(Pe=h==null?void 0:h.short)!=null?Pe:0,X={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:q,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${l(T)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${G} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${m(_e)} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${Ce} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${L} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${h.branch.name||"No name available"}
                Baker: ${i(((Fe=h==null?void 0:h.user)==null?void 0:Fe.employee)||"Unknown Baker Name")}
                Recipe: ${((Oe=h.recipe)==null?void 0:Oe.name)||"Unknown Recipe"} (${h.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${u(((et=v.bakersReport[0])==null?void 0:et.created_at)||((tt=v.bakersReport[1])==null?void 0:tt.created_at)||"No name available")}
                Time: ${s(h.created_at)}
                Status: ${f(h.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...C(h).map(me=>{var ze;return[{text:((ze=me==null?void 0:me.bread)==null?void 0:ze.name)||"Unknown Bread",style:"body"},{text:h.recipe_category==="Filling"?`${(me==null?void 0:me.filling_production)||"0"} pcs`:`${me==null?void 0:me.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(h.ingredient_bakers_reports||[]).map(me=>{var ze,at;return[{text:((ze=me==null?void 0:me.ingredients)==null?void 0:ze.code)||"Unknown Ingredient",style:"body"},{text:`${(me==null?void 0:me.quantity)||"Unknown Quantity"} ${((at=me==null?void 0:me.ingredients)==null?void 0:at.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},X]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},A=h=>{const q=N(h);Qe.exports.createPdf(q).getDataUrl(T=>{b.value=T,g.value=!0})};return(h,q)=>(k(),S("div",null,[e(F,{class:"my-card q-pa-md"},{default:t(()=>{var T,G,_e,Ce,L,X;return[Ba,a("div",Fa,[a("div",null," Name: "+y(i(((G=(T=Q(w)[0])==null?void 0:T.user)==null?void 0:G.employee)||((Ce=(_e=Q(w)[1])==null?void 0:_e.user)==null?void 0:Ce.employee)||"No name available")),1),a("div",null," Date: "+y(`${u(((L=v.bakersReport[0])==null?void 0:L.created_at)||((X=v.bakersReport[1])==null?void 0:X.created_at)||"No name available")}`),1)]),e(R,null,{default:t(()=>[e(ie,{class:"table-container sticky-header2",columns:U,rows:Q(w),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:c.value,"rows-per-page-options":[0]},{"body-cell-status":t(H=>[e(E,{props:H},{default:t(()=>[e(se,{align:"middle",color:d(H.row.status)},{default:t(()=>[P(y(f(H.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(H=>[e(E,{props:H},{default:t(()=>[e(D,{class:"gradient-icon",flat:"",rounded:"",onClick:Z=>p(H.row.combined_bakers_reports,H.row.branch_recipe)},{default:t(()=>[e(ne,{name:"visibility",class:"gradient-icon"}),e(oe,{class:"gradient-tooltip"},{default:t(()=>[P("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(H=>[e(E,{props:H},{default:t(()=>[e(D,{class:"gradient-icon2",flat:"",rounded:"",onClick:Z=>_(H.row.ingredient_bakers_reports,H.row.branch_recipe)},{default:t(()=>[e(ne,{name:"visibility",class:"gradient-icon2"}),e(oe,{class:"gradient-tooltip"},{default:t(()=>[P("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(H=>[e(E,{props:H},{default:t(()=>[e(D,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:Z=>h.toggleMenu(H.row)},null,8,["onClick"]),e(ht,{modelValue:H.row.menu,"onUpdate:modelValue":Z=>H.row.menu=Z,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(Ue,{style:{"min-width":"100px"}},{default:t(()=>[ee((k(),B(ge,{clickable:"",onClick:Z=>A(H.row)},{default:t(()=>[e(W,{avatar:""},{default:t(()=>[e(ne,{name:"print"})]),_:1}),e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[P("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[te]]),ee((k(),B(ge,{clickable:"",onClick:Z=>n(H.row,o.sales_report_id)},{default:t(()=>[e(W,{avatar:""},{default:t(()=>[e(ne,{name:"edit"})]),_:1}),e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[P("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[te]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":q[0]||(q[0]=T=>g.value=T),"backdrop-filter":h.backdropFilter,maximized:$.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Ia,[a("div",La,[ee((k(),B(D,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(oe,null,{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])]),a("div",null,[a("iframe",{src:b.value,width:"100%",height:"700px"},null,8,Ma)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Ha=Y(za,[["__scopeId","data-v-f96814be"]]);const Oa={class:"row justify-between text-white"},ja=a("div",{class:"text-h6"},"Bread Report",-1),Qa={class:"row justify-end q-mt-md"},Ea={class:"text-h6"},Ka={__name:"BreadReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o,b=V("");console.log("Reports data structure:",c.reports);const r=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",p=async(s,d)=>{console.log("update data of the price",s),console.log("update val of the price",d);try{const x=await ye.put("/api/update-bread-sales-price-report/"+s.id,{price:parseInt(d)});console.log("reponse",x.data)}catch(x){console.error(x)}},_=async(s,d)=>{console.log("update data of the beginnings",s),console.log("update val of the beginnings",d);try{const x=await ye.put("/api/update-bread-sales-beginnings-report/"+s.id,{beginnings:parseInt(d)});console.log("reponse",x.data)}catch(x){console.error(x)}},n=async(s,d)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",d);try{const x=await ye.put("/api/update-bread-sales-remaining-report/"+s.id,{remaining:parseInt(d)});console.log("reponse",x.data)}catch(x){console.error(x)}},u=async(s,d)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",d);try{const x=await ye.put("/api/update-bread-sales-breadOut-report/"+s.id,{bread_out:parseInt(d)});console.log("reponse",x.data)}catch(x){console.error(x)}},l=[{name:"name",label:"Bread Name",field:s=>(console.log("Row data:",s),s.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:s=>`${s}`},{name:"new_production",label:"New Production (PCS)",field:"new_production",format:s=>`${s}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:s=>`${s}`},{name:"bread_out",label:"Bread Out (PCS)",field:"bread_out",format:s=>`${s}`},{name:"total",label:"Bread Total (PCS)",field:"total",field:s=>(s.beginnings||0)+(s.new_production||0)},{name:"breadSold",label:"Bread Sold (PCS)",field:s=>{const d=(s.beginnings||0)+(s.new_production||0),x=(s.remaining||0)+(s.bread_out||0);return d-x},format:s=>`${s}`},{name:"sales",label:"Total Sales",field:s=>{const d=(s.beginnings||0)+(s.new_production||0),x=(s.remaining||0)+(s.bread_out||0);return(d-x)*(s.price||0)},format:s=>`${m(s)}`}],m=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),f=I(()=>{if(!b.value||!b.value.trim())return c.reports||[];const s=b.value.trim().toLowerCase();return(c.reports||[]).filter(d=>d.bread.name.toLowerCase().includes(s)||d.price.toString().includes(s)||d.sales.toString().includes(s))}),i=I(()=>{const s=f.value.reduce((d,x)=>{const C=(x.beginnings||0)+(x.new_production||0),U=(x.remaining||0)+(x.bread_out||0),A=(C-U)*(x.price||0);return console.log(`Adding salesAmount: ${A} to total: ${d}`),d+A},0);return console.log("Overall Total Sales computed as:",s),s});return console.log("Overall Total Sales:",i.value),(s,d)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Oa,[ja,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(j,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:b.value,"onUpdate:modelValue":d[0]||(d[0]=x=>b.value=x),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:l,rows:f.value,"row-key":"name","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=x=>s.pagination=x),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(x=>[e(E,{props:x},{default:t(()=>[a("span",null,y(`${r(x.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(x=>[e(E,{props:x},{default:t(()=>[a("span",null,y(`${m(x.row.price)}`),1),e(Ve,{"onUpdate:modelValue":[C=>p(x.row,C),C=>x.row.price=C],modelValue:x.row.price,"auto-save":""},{default:t(C=>[e(j,{modelValue:C.value,"onUpdate:modelValue":U=>C.value=U,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(x=>[e(E,{props:x},{default:t(()=>[a("span",null,y(`${x.row.beginnings}`),1),e(Ve,{"onUpdate:modelValue":[C=>_(x.row,C),C=>x.row.beginnings=C],modelValue:x.row.beginnings,"auto-save":""},{default:t(C=>[e(j,{modelValue:C.value,"onUpdate:modelValue":U=>C.value=U,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(x=>[e(E,{props:x},{default:t(()=>[a("span",null,y(`${x.row.remaining}`),1),e(Ve,{"onUpdate:modelValue":[C=>n(x.row,C),C=>x.row.remaining=C],modelValue:x.row.remaining,"auto-save":""},{default:t(C=>[e(j,{modelValue:C.value,"onUpdate:modelValue":U=>C.value=U,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_out":t(x=>[e(E,{props:x},{default:t(()=>[a("span",null,y(`${x.row.bread_out}`),1),e(Ve,{"onUpdate:modelValue":[C=>u(x.row,C),C=>x.row.bread_out=C],modelValue:x.row.bread_out,"auto-save":""},{default:t(C=>[e(j,{modelValue:C.value,"onUpdate:modelValue":U=>C.value=U,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Qa,[a("div",Ea," Overall Total Sales: "+y(m(i.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ya={class:"row justify-between text-white"},Ga=a("div",{class:"text-h6"},"Selecta Report",-1),Ja={class:"row justify-end q-mt-md"},Wa={class:"text-h6"},Xa={__name:"SelectaReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o;console.log("Reports data structure:",c.reports);const b=l=>l?l.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",r=async(l,m)=>{console.log("update data of the price",l),console.log("update val of the price",m);try{const f=await ye.put("/api/update-selecta-sales-price-report/"+l.id,{price:parseInt(m)})}catch(f){console.error(f)}},p=[{name:"name",label:"Selecta Name",field:l=>(console.log("Row data:",l),l.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:l=>`${l}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:l=>`${l}`},{name:"total_selecta",label:"Total Stocks (PCS)",field:l=>(l.beginnings||0)+(l.added_stocks||0),format:l=>`${l}`},{name:"sold",label:"Selecta Sold (PCS)",field:l=>{const m=(l.beginnings||0)+(l.added_stocks||0),f=(l.remaining||0)+(l.out||0);return m-f},format:l=>`${l}`},{name:"sales",label:"Total Sales",field:l=>{const m=(l.beginnings||0)+(l.added_stocks||0),f=(l.remaining||0)+(l.out||0);return(m-f)*(l.price||0)}}],_=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),n=I(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[])),u=I(()=>{const l=n.value.reduce((m,f)=>{const i=parseFloat(f.sales)||0;return console.log(`Adding salesAmount: ${i} to total: ${m}`),m+i},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Filtered Rows:",n.value),(l,m)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ya,[Ga,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":m[0]||(m[0]=f=>l.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(f=>[e(E,{props:f},{default:t(()=>[a("span",null,y(`${b(f.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(f=>[e(E,{props:f},{default:t(()=>[a("span",null,y(`${_(f.row.price)}`),1),e(Ve,{"onUpdate:modelValue":[i=>r(f.row,i),i=>f.row.price=i],modelValue:f.row.price,"auto-save":""},{default:t(i=>[e(j,{modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Re(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-sales":t(f=>[e(E,{props:f},{default:t(()=>[a("span",null,y(`${_(f.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Ja,[a("div",Wa," Overall Total Sales: "+y(_(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Za={class:"row justify-between text-white"},el=a("div",{class:"text-h6"},"Softdrinks Report",-1),tl={class:"row justify-end q-mt-md"},al={class:"text-h6"},ll={__name:"SoftdrinksReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o;console.log("Reports data structure:",c.reports);const b=u=>u?u.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",r=[{name:"name",label:"Softdrinks Name",field:u=>(console.log("Row data:",u),u.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:u=>`${u}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:u=>`${u}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:u=>`${u}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:u=>`${u}`},{name:"sales",label:"Total Sales",field:"sales"}],p=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),_=I(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[])),n=I(()=>{const u=_.value.reduce((l,m)=>{const f=parseFloat(m.sales)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",u),u});return console.log("Filtered Rows:",_.value),(u,l)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Za,[el,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:u.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:_.value,"row-key":"name","virtual-scroll":"",pagination:u.pagination,"onUpdate:pagination":l[0]||(l[0]=m=>u.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(m=>[e(E,{props:m},{default:t(()=>[a("span",null,y(`${b(m.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(m=>[e(E,{props:m},{default:t(()=>[a("span",null,y(`${p(m.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(m=>[e(E,{props:m},{default:t(()=>[a("span",null,y(`${p(m.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",tl,[a("div",al," Overall Total Sales: "+y(p(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},nl={class:"row justify-between text-white"},ol=a("div",{class:"text-h6"},"Cake Report",-1),sl={class:"row justify-end q-mt-md"},rl={class:"text-h6"},il={__name:"CakeReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o;console.log("Report cake:",c.reports);const b=I(()=>(console.log("Filtered cake rows:",c.reports||[]),c.reports||[])),r=u=>{const l=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",m=u.firstname?l(u.firstname):"No Firstname",f=u.middlename?l(u.middlename).charAt(0)+".":"",i=u.lastname?l(u.lastname):"No Lastname";return`${m} ${f} ${i}`},p=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u).replace("\u20B1","\u20B1 "),_=I(()=>{const u=b.value.reduce((l,m)=>{const f=parseFloat(m.cake_report.price)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",u),u}),n=[{name:"name",label:"Cake Name",field:u=>(console.log("Row data:",u),u.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:u=>r(u.cake_report.user.employee)},{name:"price",label:"Price",field:u=>p(u.cake_report.price)},{name:"layers",label:"Layers",field:u=>u.cake_report.layers},{name:"sales_status",label:"Sale Status",field:u=>u.cake_report.sales_status}];return(u,l)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",nl,[ol,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:u.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:u.pagination,"onUpdate:pagination":l[0]||(l[0]=m=>u.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",sl,[a("div",rl," Overall Total Sales: "+y(p(_.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},dl={class:"row justify-between text-white"},cl=a("div",{class:"text-h6"},"Other Products Report",-1),ul={class:"row justify-end q-mt-md"},ml={class:"text-h6"},pl={__name:"OtherProductsReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o,b=I(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[])),r=u=>u?u.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",p=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),_=[{name:"name",label:"Product Name",field:u=>(console.log("Row data:",u),u.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:u=>`${u}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:u=>`${u}`},{name:"out",label:"Product Out (PCS)",field:"out",format:u=>`${u}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:u=>`${u}`},{name:"sales",label:"Total Sales",field:"sales"}],n=I(()=>{const u=b.value.reduce((l,m)=>{const f=parseFloat(m.sales)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",u),u});return(u,l)=>(k(),S("div",null,[e(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",dl,[cl,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:u.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:_,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:u.pagination,"onUpdate:pagination":l[0]||(l[0]=m=>u.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(m=>[e(E,{props:m},{default:t(()=>[a("span",null,y(`${r(m.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(m=>[e(E,{props:m},{default:t(()=>[a("span",null,y(`${p(m.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(m=>[e(E,{props:m},{default:t(()=>[a("span",null,y(`${p(m.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",ul,[a("div",ml," Overall Total Sales: "+y(p(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const _l=o=>(ae("data-v-69f74a0d"),o=o(),le(),o),fl=_l(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),gl={class:"item-start q-gutter-md",align:"center"},vl={__name:"ProductsReport",props:["sales_Reports"],setup(o){const v=o,w=v.sales_Reports;console.log("sales report2",v);const $=Se(),g=_=>{$.dialog({component:Ka,componentProps:{reports:_}})},c=_=>{$.dialog({component:Xa,componentProps:{reports:_}})},b=_=>{$.dialog({component:ll,componentProps:{reports:_}})},r=_=>{$.dialog({component:il,componentProps:{reports:_}})},p=_=>{$.dialog({component:pl,componentProps:{reports:_}})};return(_,n)=>(k(),S("div",null,[e(F,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[fl]),_:1}),e(R,null,{default:t(()=>[a("div",gl,[e(D,{onClick:n[0]||(n[0]=u=>g(v.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(D,{onClick:n[1]||(n[1]=u=>c(Q(w)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(D,{onClick:n[2]||(n[2]=u=>b(Q(w)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(D,{onClick:n[3]||(n[3]=u=>r(Q(w)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(D,{onClick:n[4]||(n[4]=u=>p(Q(w)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var hl=Y(vl,[["__scopeId","data-v-69f74a0d"]]);const yl={class:"row justify-between text-white"},bl=a("div",{class:"text-h6"},"Denomination Report",-1),wl={class:"row text-weight-regular text-subtitle1"},xl={class:"col-6"},kl={class:"col-6"},$l={class:"row justify-end q-mt-md"},Cl={class:"text-h6"},Rl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o;console.log("Denomination Props",c.reports);const b=c.reports[0];console.log("Reports data structure:",c.reports);const r=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(_),p=I(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[]));return console.log("Filtered Rows:",p.value),(_,n)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",yl,[bl,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[a("div",wl,[a("div",xl,[a("div",null,"1000 Bills: "+y(Q(b).oneThousandBills),1),a("div",null,"500 Bills: "+y(Q(b).fiveHundredBills),1),a("div",null,"200 Bills: "+y(Q(b).twoHundredBills),1),a("div",null,"100 Bills: "+y(Q(b).oneHundredBills),1),a("div",null,"50 Bills: "+y(Q(b).fiftyBills),1),a("div",null,"20 Bills: "+y(Q(b).twentyBills),1)]),a("div",kl,[a("div",null,"20 coins: "+y(Q(b).twentyCoins),1),a("div",null,"10 coins: "+y(Q(b).tenCoins),1),a("div",null,"5 coins: "+y(Q(b).fiveCoins),1),a("div",null,"1 coins: "+y(Q(b).oneCoins),1),a("div",null,"25 cents: "+y(Q(b).twentyFiveCents),1)])])]),_:1}),e(R,null,{default:t(()=>[a("div",$l,[a("div",Cl," Overall Total Denomination: "+y(r(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Pl=o=>(ae("data-v-43ad17ba"),o=o(),le(),o),Vl=Pl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),Sl={class:"q-gutter-x-md",align:"center"},Dl={__name:"DenominationReport",props:["sales_Reports"],setup(o){const v=o;v.sales_Reports,console.log("Denomination report",v);const w=Se(),$=(g,c)=>{w.dialog({component:Rl,componentProps:{reports:g,total:c}})};return(g,c)=>(k(),S("div",null,[e(F,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[Vl]),_:1}),e(R,null,{default:t(()=>[a("div",Sl,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:c[0]||(c[0]=b=>$(v.sales_Reports[0].denomination_reports,v.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var ql=Y(Dl,[["__scopeId","data-v-43ad17ba"]]);const Nl={class:"row justify-between text-white"},Ul=a("div",{class:"text-h6"},"Expenses Report",-1),Tl={class:"row justify-end q-mt-md"},Al={class:"text-h6"},Bl={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o;c.reports,console.log("Expenses total",c.total);const b=n=>n?n.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",r=[{name:"name",label:"Expenses Name",field:n=>(console.log("Row data:",n),n.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",c.reports);const p=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),_=I(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[]));return console.log("Expenses:",_.value),(n,u)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w),onOk:n.handleButtonClick,onCancel:Q(g)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Nl,[Ul,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:_.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":u[0]||(u[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(E,{props:l},{default:t(()=>[a("span",null,y(`${b(l.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[e(E,{props:l},{default:t(()=>[a("span",null,y(`${p(l.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Tl,[a("div",Al," Overall Total Expenses: "+y(p(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Fl=o=>(ae("data-v-4747b3c7"),o=o(),le(),o),Il=Fl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Ll={class:"q-gutter-x-md",align:"center"},Ml={__name:"ExpensesReport",props:["sales_Reports"],setup(o){const v=o;console.log("Expenses Data",v.sales_Reports[0].expenses_reports);const w=Se(),$=(g,c)=>{w.dialog({component:Bl,componentProps:{reports:g,total:c}})};return(g,c)=>(k(),S("div",null,[e(F,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[Il]),_:1}),e(R,null,{default:t(()=>[a("div",Ll,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:c[0]||(c[0]=b=>$(v.sales_Reports[0].expenses_reports,v.sales_Reports[0].expenses_total))})])]),_:1})]),_:1})]))}};var zl=Y(Ml,[["__scopeId","data-v-4747b3c7"]]);const Hl={class:"row justify-between text-white"},Ol=a("div",{class:"text-h6"},"Credits Report",-1),jl={class:"row justify-end q-mt-md"},Ql={class:"text-h6"},El={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke(),c=o,b=c.reports;console.log("creditReports data",b),b.forEach((m,f)=>{console.log(`Report ${f}:`,m),console.log(`Credit Products for Report ${f}:`,m.credit_products.total_amount)});const r=I(()=>b.flatMap(m=>m.credit_products.map(f=>{const i=parseInt(f.pieces,10)||0,s=parseFloat(f.price)||0,d=i*s;return{...f,total_amount:d}})));console.log("All Credit Products:",r.value[0]);const p=m=>m?m.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",_=m=>{const f=x=>x?x.charAt(0).toUpperCase()+x.slice(1).toLowerCase():"",i=m.firstname?f(m.firstname):"No Firstname",s=m.middlename?f(m.middlename).charAt(0)+".":"",d=m.lastname?f(m.lastname):"No Lastname";return`${i} ${s} ${d}`.trim()},n=[{name:"name",label:"Employee Name",field:m=>_(m.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:m=>m.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",c.reports);const u=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),l=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m);return(m,f)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w),onOk:m.handleButtonClick,onCancel:Q(g)},{default:t(()=>[e(F,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Hl,[Ol,ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e(R,null,{default:t(()=>[e(ie,{filter:m.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:m.pagination,"onUpdate:pagination":f[0]||(f[0]=i=>m.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(i=>[e(E,{props:i},{default:t(()=>[a("span",null,y(`${p(i.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(E,{props:i},{default:t(()=>[a("span",null,y(`${u(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(i=>[e(E,{props:i},{default:t(()=>[a("span",null,y(`${l(i.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",jl,[a("div",Ql," Overall Credits Total: "+y(u(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Kl=o=>(ae("data-v-037b1d7d"),o=o(),le(),o),Yl=Kl(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Gl={class:"q-gutter-x-md",align:"center"},Jl={__name:"CreditsReport",props:["sales_Reports"],setup(o){const v=o,w=Se(),$=(g,c)=>{w.dialog({component:El,componentProps:{reports:g,total:c}})};return(g,c)=>(k(),S("div",null,[e(F,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[Yl]),_:1}),e(R,null,{default:t(()=>[a("div",Gl,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:c[0]||(c[0]=b=>$(v.sales_Reports[0].credit_reports,v.sales_Reports[0].credit_total))})])]),_:1}),e(R)]),_:1})]))}};var Wl=Y(Jl,[["__scopeId","data-v-037b1d7d"]]);const Xl=o=>(ae("data-v-759d120e"),o=o(),le(),o),Zl={class:"q-mt-lg row items-start q-gutter-md justify-center"},en={class:"row justify-between"},tn=Xl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),an={align:"right"},ln={class:"text-subtitle1 text-weight-regular"},nn={class:"row q-gutter-sm q-pa-md"},on={class:"q-ma-sm"},sn={class:"q-ma-sm",align:"center"},rn=["src"],dn={__name:"SalesReportPanel",props:["salesReport"],setup(o){Qe.exports.vfs=nt;const v=o,w=v.salesReport;console.log("reportsData",v.salesReport);const $=V(!0),g=V(!1),c=V(""),b=l=>ue.formatDate(l,"MMMM DD, YYYY"),r=l=>{const m=new Date(l),f={hour:"2-digit",minute:"2-digit",hour12:!0};return m.toLocaleTimeString(void 0,f)},p=l=>{const m=d=>d?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():"",f=l.firstname?m(l.firstname):"No Firstname",i=l.middlename?m(l.middlename).charAt(0)+".":"",s=l.lastname?m(l.lastname):"No Lastname";return`${f} ${i} ${s}`.trim()},_=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const m=I(()=>l.credit_reports.flatMap(L=>L.credit_products));console.log("All Credit Products:",m.value);const f=[{title:"Bread Production",data:(l.bread_reports||[]).map(L=>{const X=(L.new_production||0)+(L.beginnings||0),H=(L.remaining||0)+(L.bread_out||0),Z=X-H,be=(L.price||0)*Z;return{...L,total:X,bread_sold:Z,sales:be}}),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(l.selecta_reports||[]).map(L=>{const X=L.beginnings||0,H=(L.remaining||0)+(L.out||0),Z=X-H,be=(L.price||0)*Z;return{...L,total:H,sold:Z,sales:be}}),columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(l.softdrinks_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(l.other_products_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:l.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],i=l.expenses_reports||[],s=m.value||[],d=l.denomination_reports[0]||[],x=l.denomination_total;l.charges_amount,l.over_total;const C={bills:[{name:"One Thousand",pcs:d.oneThousandBills||0},{name:"Five Hundred",pcs:d.fiveHundredBills||0},{name:"Two Hundred",pcs:d.twoHundredBills||0},{name:"One Hundred",pcs:d.oneHundredBills||0},{name:"Fifty",pcs:d.fiftyBills||0},{name:"Twenty",pcs:d.twentyBills||0}],coins:[{name:"Twenty",pcs:d.twentyCoins||0},{name:"Ten",pcs:d.tenCoins||0},{name:"Five",pcs:d.fiveCoins||0},{name:"One",pcs:d.oneCoins||0},{name:"Twenty Five Cents",pcs:d.twentyFiveCents||0}]},U=(L,X,H)=>{const Z=(fe,we)=>we.split(".").reduce((M,z)=>M?M[z]:0,fe),be=H.reduce((fe,we)=>(fe[we]=L.reduce((M,z)=>M+parseFloat(Z(z,we))||0,0),fe),{});return[...L.map(fe=>X.map(we=>{if(we==="cake_report.user.employee"){const M=Z(fe,"cake_report.user.employee");return{text:M?p(M):"No Employee",style:"body",alignment:"center"}}return{text:we.includes(".")?Z(fe,we)||"-":fe[we]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:X.length-H.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(X.length-H.length-1).fill({}),...H.map(fe=>({text:`\u20B1 ${be[fe].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let N=0;const A=s.length>0?s.map(L=>{const X=(L.price||0)*(L.pieces||0);return N+=X,[{text:p(L.credit_user_id),style:"body",alignment:"center"},{text:L.product.name,style:"body",alignment:"center"},{text:L.pieces,style:"body",alignment:"center"},{text:_(L.price),style:"body",alignment:"center"},{text:_(X),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];A.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:_(N),style:"bodyBold",alignment:"center",colSpan:2},{}]);let h=0;const q=i.length>0?i.map(L=>{const X=parseFloat(L.amount.replace(/[^0-9.-]+/g,""));return isNaN(X)||(h+=X),[{text:L.name,style:"body",alignment:"center"},{text:L.description,style:"body",alignment:"center"},{text:`${_(X)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];q.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${_(h)}`,style:"bodyBold",alignment:"center"}]);const T=C.bills.map((L,X)=>{var H,Z;return[{text:L.name,style:"body",alignment:"center"},{text:L.pcs,style:"body",alignment:"center"},{text:((H=C.coins[X])==null?void 0:H.name)||"",style:"body",alignment:"center"},{text:((Z=C.coins[X])==null?void 0:Z.pcs)||"0",style:"body",alignment:"center"}]});T.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${_(x)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const G=f.map(({title:L,data:X,columns:H,totals:Z})=>({stack:[{text:L,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(H.length).fill("*"),body:[H.map(be=>({text:be.split(".").pop().replace(/_/g," ").replace(/\b\w/g,fe=>fe.toUpperCase()),style:"tableHeader",alignment:"center"})),...U(X,H,Z)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),_e=f.reduce((L,X)=>{const H=X.data.reduce((Z,be)=>Z+(be.sales||0),0);return L+H},0),Ce={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:_(x),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:_(_e),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:_(h),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:_(N),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:_(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${_(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${p(l.user.employee)}
          Date: ${b(l.created_at)}
Time: ${r(l.created_at)}
`,margin:[0,0,0,10]},{}]},...G,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...q]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...A]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...T]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},Ce]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},u=l=>{const m=n(l);Qe.exports.createPdf(m).getDataUrl(f=>{c.value=f,g.value=!0})};return(l,m)=>(k(),S(O,null,[e(F,{class:"my-card q-pa-md"},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Zl,[(k(!0),S(O,null,pe(Q(w),(f,i)=>(k(),S("div",{key:i},[e(F,{flat:"",dense:"",bordered:""},{default:t(()=>[e(R,null,{default:t(()=>[a("div",en,[tn,a("div",an,[e(D,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:s=>u(f)},null,8,["onClick"]),a("div",null,[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P(" Print Report ")]),_:1})])])]),a("div",ln,[a("div",null,"Name: "+y(p(f.user.employee)),1),a("div",null,"Date: "+y(b(f.created_at)),1),a("div",null,"Time: "+y(r(f.created_at)),1)])]),_:2},1024),a("div",nn,[e(hl,{sales_Reports:[f]},null,8,["sales_Reports"]),e(ql,{sales_Reports:[f]},null,8,["sales_Reports"]),e(zl,{sales_Reports:[f]},null,8,["sales_Reports"]),e(Wl,{sales_Reports:[f]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(K,{modelValue:g.value,"onUpdate:modelValue":m[0]||(m[0]=f=>g.value=f),maximized:$.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",on,[a("div",sn,[ee((k(),B(D,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(oe,null,{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])]),a("div",null,[a("iframe",{src:c.value,width:"100%",height:"700px"},null,8,rn)])])]),_:1},8,["modelValue","maximized"])],64))}};var cn=Y(dn,[["__scopeId","data-v-759d120e"]]);const un={class:"text-h6"},mn={class:"row q-gutter-x-md"},pn={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(o,{emit:v}){const{dialogRef:w,onDialogHide:$,onDialogOK:g,onDialogCancel:c}=ke(),b=o;console.log("production report",b.reports);const r=b.reports.baker_reports,p=b.reports.sales_reports,_=b.reports.sales_reports_id;console.log("sales_report_id",_);const n=v,u=V("bakerReport"),l=V(!0),m=V(!1),f=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",i=()=>{n("selectReport",b.reports),m.value=!0};return(s,d)=>(k(),B(K,{ref_key:"dialogRef",ref:w,modelValue:m.value,"onUpdate:modelValue":d[2]||(d[2]=x=>m.value=x),onHide:Q($),onOk:i,onCancel:Q(c),maximized:l.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(F,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",un,y(`${f(o.reports.branch_name)} ( ${o.reportLabel} Reports)`),1),e(qe),a("div",mn,[a("div",null,[ee((k(),B(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[te]])])])]),_:1}),e(R,null,{default:t(()=>[a("div",null,[e(Ie,{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=x=>u.value=x),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(de,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(de,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Le,{modelValue:u.value,"onUpdate:modelValue":d[1]||(d[1]=x=>u.value=x),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(ce,{name:"bakerReport"},{default:t(()=>[e(Ha,{bakersReport:Q(r),sales_report_id:Q(_)},null,8,["bakersReport","sales_report_id"])]),_:1}),e(ce,{name:"salesReport"},{default:t(()=>[e(cn,{salesReport:Q(p)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var _n=Y(pn,[["__scopeId","data-v-0a776a06"]]);const fn=o=>(ae("data-v-12387bc6"),o=o(),le(),o),gn={key:0,class:"spinner-wrapper"},vn={key:1},hn={key:0,class:"data-error"},yn=fn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),bn={class:"row justify-center q-gutter-x-md"},wn={__name:"ProductionTable",setup(o){const v=he();V("bakerReport");const w=v.params.branch_id;V(!1),V(!0),V(""),V("");const $=V({rowsPerPage:0}),g=it(),c=V(""),b=I(()=>g.productions);V(!0);const r=V(!0),p=V(!1),_=I(()=>c.value?b.value.filter(i=>i.name.toLowerCase().includes(c.value.toLowerCase())):b.value);xe(async()=>{w&&await n(w)});const n=async i=>{try{r.value=!0;const s=await g.fetchBranchProductions(i);console.log("Fetched data:",s),console.log("Production rows:",b.value),b.value.length||(p.value=!0)}catch{p.value=!0}finally{r.value=!1}};Ae(c,async i=>{r.value=!0,await new Promise(s=>setTimeout(s,1e3)),r.value=!1,p.value=_.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:i=>ue.formatDate(i,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],m=Se(),f=(i,s)=>{m.dialog({component:_n,componentProps:{reports:i,reportLabel:s}})};return(i,s)=>(k(),S(O,null,[a("div",null,[e(j,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=d=>c.value=d),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),r.value?(k(),S("div",gn,[e(Ge,{size:"50px",color:"primary"})])):(k(),S("div",vn,[_.value.length===0?(k(),S("div",hn,[e(ne,{name:"warning",color:"warning",size:"4em"}),yn])):(k(),B(ie,{key:1,class:"table-container sticky-header",filter:c.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:_.value,"row-key":"reportDate","virtual-scroll":"",pagination:$.value,"onUpdate:pagination":s[1]||(s[1]=d=>$.value=d),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(d=>[e(E,{props:d},{default:t(()=>[a("div",bn,[e(D,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:x=>f(d.row.AM,"AM")},{default:t(()=>[P("AM")]),_:2},1032,["onClick"]),e(D,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:x=>f(d.row.PM,"PM")},{default:t(()=>[P("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var xn=Y(wn,[["__scopeId","data-v-12387bc6"]]);const kn={__name:"ProductionPage",setup(o){return(v,w)=>(k(),S("div",null,[e(xn)]))}},$n={class:"row justify-between"},Cn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Rn=a("div",{class:"text-h6"},"Decline Report",-1),Pn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const v=Te(),w=V(""),$=V(!1),g=V(!1),c=V({rowsPerPage:0}),b=Se(),r=o,p=()=>{g.value=!0},_=()=>{$.value=!0},n=async()=>{if(!w.value){b.notify({type:"negative",message:"Remark is required"});return}try{const i=await v.declineReport(r.report.id,w.value);console.log("Report declined:",i),b.notify({type:"negative",message:"Report declined successfully"}),$.value=!1,g.value=!1,w.value=""}catch(i){console.error("Error declining report:",i),b.notify({type:"negative",message:"Failed to decline report"})}},u=async()=>{try{const i=await v.confirmReport(r.report.id);console.log("Report confirmed:",i),b.notify({type:"positive",message:"Report confirmed successfully"}),g.value=!1}catch(i){console.error(i)}},l=I(()=>r.report.selecta_added_stocks||[]),m=i=>{const s=U=>U?U.charAt(0).toUpperCase()+U.slice(1).toLowerCase():"",d=i.firstname?s(i.firstname):"No Firstname",x=i.middlename?s(i.middlename).charAt(0)+".":"",C=i.lastname?s(i.lastname):"No Lastname";return`${d} ${x} ${C}`},f=[{name:"product_name",label:"Product Name",field:i=>i.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:i=>i.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,s)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:p})]),e(K,{modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=d=>g.value=d)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",$n,[Cn,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:s[0]||(s[0]=d=>g.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(m(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"yellow",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:l.value,columns:f,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":s[1]||(s[1]=d=>c.value=d),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(R,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(D,{color:"negative",label:"Decline",class:"action-btn",onClick:_}),e(D,{color:"positive",label:"Confirm",class:"action-btn",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:$.value,"onUpdate:modelValue":s[4]||(s[4]=d=>$.value=d)},{default:t(()=>[e(F,null,{default:t(()=>[e(R,null,{default:t(()=>[Rn]),_:1}),e(R,null,{default:t(()=>[e(j,{modelValue:w.value,"onUpdate:modelValue":s[3]||(s[3]=d=>w.value=d),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[d=>!!d||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(De,{align:"right"},{default:t(()=>[ee(e(D,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(D,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Vn=o=>(ae("data-v-08e549d4"),o=o(),le(),o),Sn={class:"q-gutter-md q-ma-md"},Dn={class:"row justify-between"},qn={class:"text-subtitle1"},Nn={class:"text-subtitle1"},Un={class:"text-subtitle1"},Tn={key:1,class:"data-error"},An=Vn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Bn={__name:"TransactionPendingCard",setup(o){const v=he(),w=Te(),$=I(()=>w.pendingSelectaReports),g=v.params.branch_id,c=V("pending"),b=async()=>{try{const n=await w.fetchPendingSelectaStocks(g,c.value);console.log($.value)}catch(n){console.error("Error fetching pending stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Sn,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Dn,[a("div",qn,y(r(l.created_at)),1),a("div",Nn,y(p(l.created_at)),1),a("div",Un,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),a("div",null,[e(Pn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Tn,[e(ne,{name:"warning",color:"warning",size:"4em"}),An]))])]),_:1})]))}};var Fn=Y(Bn,[["__scopeId","data-v-08e549d4"]]);const In={class:"row justify-between"},Ln=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Mn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Te(),V(!1);const v=V(!1),w=()=>{v.value=!0};Se();const $=o,g=I(()=>(console.log("Filtered rows:",$.report||[]),$.report.selecta_added_stocks||[])),c=r=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",_=r.firstname?p(r.firstname):"No Firstname",n=r.middlename?p(r.middlename).charAt(0)+".":"",u=r.lastname?p(r.lastname):"No Lastname";return`${_} ${n} ${u}`},b=[{name:"product_name",label:"Product Name",field:r=>(console.log("Row data:",r),r.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:r=>(console.log("Row data:",r),r.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:r=>r.added_stocks?`${r.added_stocks} pcs`:"N/A"}];return(r,p)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=_=>v.value=_)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",In,[Ln,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=_=>v.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(c(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"green",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:g.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":p[1]||(p[1]=_=>r.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const zn=o=>(ae("data-v-c1019cbc"),o=o(),le(),o),Hn={class:"q-gutter-md q-ma-md"},On={class:"row justify-between"},jn={class:"text-subtitle1"},Qn={class:"text-subtitle1"},En={class:"text-subtitle1"},Kn={key:1,class:"data-error"},Yn=zn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Gn={__name:"TransactionConfirmedCard",setup(o){const v=he(),w=Te(),$=I(()=>w.confirmedSelectaReports),g=v.params.branch_id,c=V("confirmed"),b=async()=>{try{const n=await w.fetchConfirmedSelectaStocks(g,c.value);console.log($.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Hn,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",On,[a("div",jn,y(r(l.created_at)),1),a("div",Qn,y(p(l.created_at)),1),a("div",En,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"green",outlined:""},{default:t(()=>[P(y(l.status),1)]),_:2},1024)]),a("div",null,[e(Mn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Kn,[e(ne,{name:"warning",color:"warning",size:"4em"}),Yn]))])]),_:1})]))}};var Jn=Y(Gn,[["__scopeId","data-v-c1019cbc"]]);const Wn={class:"row justify-between"},Xn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Zn={class:"q-mt-md"},eo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Te(),V(!1);const v=V(!1),w=()=>{v.value=!0},$=o,g=I(()=>(console.log("Filtered rows:",$.report||[]),$.report.selecta_added_stocks||[])),c=r=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",_=r.firstname?p(r.firstname):"No Firstname",n=r.middlename?p(r.middlename).charAt(0)+".":"",u=r.lastname?p(r.lastname):"No Lastname";return`${_} ${n} ${u}`},b=[{name:"product_name",label:"Product Name",field:r=>(console.log("Row data:",r),r.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:r=>(console.log("Row data:",r),r.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:r=>r.added_stocks?`${r.added_stocks} pcs`:"N/A"}];return(r,p)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=_=>v.value=_)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Wn,[Xn,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=_=>v.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(c(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"red",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})]),a("div",Zn,"Remark: "+y(o.report.remark),1)]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:g.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":p[1]||(p[1]=_=>r.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const to=o=>(ae("data-v-6b801095"),o=o(),le(),o),ao={class:"q-gutter-md q-ma-md"},lo={class:"row justify-between"},no={class:"text-subtitle1"},oo={class:"text-subtitle1"},so={class:"text-subtitle1"},ro={key:1,class:"data-error"},io=to(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),co={__name:"TransactionDeclinedCard",setup(o){const v=he(),w=Te(),$=I(()=>w.declinedSelectaReports),g=v.params.branch_id,c=V("declined"),b=async()=>{try{const n=await w.fetchDeclinedSelectaStocks(g,c.value);console.log("selectedProductsDeclined",$.value)}catch(n){console.error("Error fetching decline stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ao,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",lo,[a("div",no,y(r(l.created_at)),1),a("div",oo,y(p(l.created_at)),1),a("div",so,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"red",outlined:""},{default:t(()=>[P(y(l.status),1)]),_:2},1024)]),a("div",null,[e(eo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",ro,[e(ne,{name:"warning",color:"warning",size:"4em"}),io]))])]),_:1})]))}};var uo=Y(co,[["__scopeId","data-v-6b801095"]]);const mo={class:"q-gutter-y-sm"},po={__name:"SelectaTransactionPage",setup(o){const v=V("pendingReports"),w=I(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return($,g)=>(k(),S(O,null,[a("div",mo,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=c=>v.value=c),"indicator-color":w.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(de,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(de,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(de,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":g[1]||(g[1]=c=>v.value=c),animated:""},{default:t(()=>[e(ce,{name:"pendingReports"},{default:t(()=>[e(Fn)]),_:1}),e(ce,{name:"confirmReports"},{default:t(()=>[e(Jn)]),_:1}),e(ce,{name:"declineReports"},{default:t(()=>[e(uo)]),_:1})]),_:1},8,["modelValue"])],64))}};var _o=Y(po,[["__scopeId","data-v-6cbd59c6"]]);const fo={class:"row justify-between"},go=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),vo=a("div",{class:"text-h6"},"Decline Report",-1),ho={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const v=Me(),w=V(""),$=V(!1),g=V(!1),c=V({rowPerPage:0}),b=Se(),r=o,p=()=>{g.value=!0},_=()=>{$.value=!0},n=async()=>{if(!w.value){b.notify({type:"negative",message:"Remark is required"});return}try{const i=await v.declineReport(r.report.id,w.value);console.log("Report declined:",i),b.notify({type:"negative",message:"Report declined successfully"}),$.value=!1,g.value=!1,w.value=""}catch(i){console.error("Error declining report:",i),b.notify({type:"negative",message:"Failed to decline report"})}},u=async()=>{try{const i=await v.confirmReport(r.report.id);console.log("Report confirmed:",i),b.notify({type:"positive",message:"Report confirmed successfully"}),g.value=!1}catch(i){console.error(i)}},l=I(()=>r.report.softdrinks_added_stocks||[]),m=i=>{const s=U=>U?U.charAt(0).toUpperCase()+U.slice(1).toLowerCase():"",d=i.firstname?s(i.firstname):"No Firstname",x=i.middlename?s(i.middlename).charAt(0)+".":"",C=i.lastname?s(i.lastname):"No Lastname";return`${d} ${x} ${C}`},f=[{name:"product_name",label:"Product Name",field:i=>i.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:i=>i.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,s)=>(k(),S("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:p}),e(K,{modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=d=>g.value=d)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",fo,[go,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:s[0]||(s[0]=d=>g.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(m(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"yellow",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:l.value,columns:f,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":s[1]||(s[1]=d=>c.value=d),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(R,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(D,{color:"negative",label:"Decline",class:"action-btn",onClick:_}),e(D,{color:"positive",label:"Confirm",class:"action-btn",onClick:u})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:$.value,"onUpdate:modelValue":s[4]||(s[4]=d=>$.value=d)},{default:t(()=>[e(F,null,{default:t(()=>[e(R,null,{default:t(()=>[vo]),_:1}),e(R,null,{default:t(()=>[e(j,{modelValue:w.value,"onUpdate:modelValue":s[3]||(s[3]=d=>w.value=d),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[d=>!!d||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(De,{align:"right"},{default:t(()=>[ee(e(D,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(D,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const yo=o=>(ae("data-v-7ba0107e"),o=o(),le(),o),bo={class:"q-gutter-md q-ma-md"},wo={class:"row justify-between"},xo={class:"text-subtitle1"},ko={class:"text-subtitle1"},$o={class:"text-subtitle1"},Co={key:1,class:"data-error"},Ro=yo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Po={__name:"TransactionPendingCard",setup(o){const v=he(),w=Me(),$=I(()=>w.pendingSoftdrinksReports),g=v.params.branch_id,c=V("pending"),b=async()=>{try{const n=await w.fetchPendingSoftdrinksStocks(g,c.value);console.log($.value)}catch(n){console.error("Error fetching pending stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",bo,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",wo,[a("div",xo,y(r(l.created_at)),1),a("div",ko,y(p(l.created_at)),1),a("div",$o,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),a("div",null,[e(ho,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Co,[e(ne,{name:"warning",color:"warning",size:"4em"}),Ro]))])]),_:1})]))}};var Vo=Y(Po,[["__scopeId","data-v-7ba0107e"]]);const So={class:"row justify-between"},Do=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),qo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Me(),V(!1);const v=V(!1),w=()=>{v.value=!0},$=o,g=I(()=>(console.log("Filtered rows:",$.report||[]),$.report.softdrinks_added_stocks||[])),c=r=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",_=r.firstname?p(r.firstname):"No Firstname",n=r.middlename?p(r.middlename).charAt(0)+".":"",u=r.lastname?p(r.lastname):"No Lastname";return`${_} ${n} ${u}`},b=[{name:"product_name",label:"Product Name",field:r=>(console.log("Row data:",r),r.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:r=>(console.log("Row data:",r),r.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:r=>r.added_stocks?`${r.added_stocks} pcs`:"N/A"}];return(r,p)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=_=>v.value=_)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",So,[Do,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=_=>v.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(c(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"green",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:g.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":p[1]||(p[1]=_=>r.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const No=o=>(ae("data-v-2b1290c8"),o=o(),le(),o),Uo={class:"q-gutter-md q-ma-md"},To={class:"row justify-between"},Ao={class:"text-subtitle1"},Bo={class:"text-subtitle1"},Fo={class:"text-subtitle1"},Io={key:1,class:"data-error"},Lo=No(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Mo={__name:"TransactionConfirmedCard",setup(o){const v=he(),w=Me(),$=I(()=>w.confirmedSoftdrinksReports),g=v.params.branch_id,c=V("confirmed"),b=async()=>{try{const n=await w.fetchConfirmedSoftdrinksStocks(g,c.value);console.log($.value)}catch(n){console.error("Error fetching confirmed stocks",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Uo,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",To,[a("div",Ao,y(r(l.created_at)),1),a("div",Bo,y(p(l.created_at)),1),a("div",Fo,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"green",outlined:""},{default:t(()=>[P(y(l.status),1)]),_:2},1024)]),a("div",null,[e(qo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Io,[e(ne,{name:"warning",color:"warning",size:"4em"}),Lo]))])]),_:1})]))}};var zo=Y(Mo,[["__scopeId","data-v-2b1290c8"]]);const Ho={class:"row justify-between"},Oo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),jo={class:"q-mt-md"},Qo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Me();const v=V(!1),w=()=>{v.value=!0},$=o,g=I(()=>(console.log("Filtered rows:",$.report||[]),$.report.softdrinks_added_stocks)),c=r=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",_=r.firstname?p(r.firstname):"No Firstname",n=r.middlename?p(r.middlename).charAt(0)+".":"",u=r.lastname?p(r.lastname):"No Lastname";return`${_} ${n} ${u}`},b=[{name:"product_name",label:"Product Name",field:r=>(console.log("Row data:",r),r.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:r=>(console.log("Row data:",r),r.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:r=>r.added_stocks?`${r.added_stocks} pcs`:"N/A"}];return(r,p)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=_=>v.value=_)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Ho,[Oo,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=_=>v.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(c(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"red",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})]),a("div",jo,"Remark: "+y(o.report.remark),1)]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:g.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":p[1]||(p[1]=_=>r.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Eo=o=>(ae("data-v-51a1abe5"),o=o(),le(),o),Ko={class:"q-gutter-md q-ma-md"},Yo={class:"row justify-between"},Go={class:"text-subtitle1"},Jo={class:"text-subtitle1"},Wo={class:"text-subtitle1"},Xo={key:1,class:"data-error"},Zo=Eo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),es={__name:"TransactionDeclinedCard",setup(o){const v=he(),w=Me(),$=I(()=>w.declinedSoftdrinksReports),g=v.params.branch_id,c=V("declined"),b=async()=>{try{const n=await w.fetchDeclinedSoftdrinksStocks(g,c.value);console.log("softdrinksProductsDeclined",$.value)}catch(n){console.error("Error fetching decline stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),B(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Ko,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Yo,[a("div",Go,y(r(l.created_at)),1),a("div",Jo,y(p(l.created_at)),1),a("div",Wo,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"red",outlined:""},{default:t(()=>[P(y(l.status),1)]),_:2},1024)]),a("div",null,[e(Qo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Xo,[e(ne,{name:"warning",color:"warning",size:"4em"}),Zo]))])]),_:1}))}};var ts=Y(es,[["__scopeId","data-v-51a1abe5"]]);const as={class:"q-gutter-y-sm"},ls={__name:"SoftdrinksTransactionPage",setup(o){const v=V("pendingReports"),w=I(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return($,g)=>(k(),S(O,null,[a("div",as,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=c=>v.value=c),"indicator-color":w.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(de,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(de,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(de,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":g[1]||(g[1]=c=>v.value=c),animated:""},{default:t(()=>[e(ce,{name:"pendingReports"},{default:t(()=>[e(Vo)]),_:1}),e(ce,{name:"confirmReports"},{default:t(()=>[e(zo)]),_:1}),e(ce,{name:"declineReports"},{default:t(()=>[e(ts)]),_:1})]),_:1},8,["modelValue"])],64))}};var ns=Y(ls,[["__scopeId","data-v-368f5ccc"]]);const os={class:"row justify-between"},ss=a("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),rs=a("div",{class:"text-h6"},"Decline Report",-1),is={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const v=Je(),w=V(""),$=V(!1),g=V(!1),c=V({rowsPerPage:0}),b=()=>{g.value=!0},r=()=>{$.value=!0},p=o,_=async()=>{if(!w.value){ve.create({type:"negative",message:"Remark is required"});return}try{const f=await v.declineReport(p.report.id,w.value);console.log("Report declined:",f),ve.create({type:"negative",message:"Report declined successfully"}),$.value=!1,g.value=!1,w.value=""}catch(f){console.error("Error declining report:",f),ve.create({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const f=await v.confirmReport(p.report.id);console.log("Report confirmed:",f),ve.create({type:"positive",message:"Report confirmed successfully"}),g.value=!1}catch(f){console.error(f)}},u=I(()=>p.report.other_added_stock||[]),l=[{name:"product_name",label:"Product Name",field:f=>f.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:f=>f.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:f=>f.added_stocks?`${f.added_stocks} pcs`:"N/A"}],m=f=>{const i=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"",s=f.firstname?i(f.firstname):"No Firstname",d=f.middlename?i(f.middlename).charAt(0)+".":"",x=f.lastname?i(f.lastname):"No Lastname";return`${s} ${d} ${x}`};return(f,i)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:b})]),e(K,{modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=s=>g.value=s)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",os,[ss,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:i[0]||(i[0]=s=>g.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(m(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"yellow",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:u.value,columns:l,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":i[1]||(i[1]=s=>c.value=s),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(R,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(D,{color:"negative",label:"Decline",class:"action-btn",onClick:r}),e(D,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:$.value,"onUpdate:modelValue":i[4]||(i[4]=s=>$.value=s)},{default:t(()=>[e(F,null,{default:t(()=>[e(R,null,{default:t(()=>[rs]),_:1}),e(R,null,{default:t(()=>[e(j,{modelValue:w.value,"onUpdate:modelValue":i[3]||(i[3]=s=>w.value=s),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[s=>!!s||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(De,{align:"right"},{default:t(()=>[ee(e(D,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(D,{flat:"",label:"Confirm",color:"negative",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ds=o=>(ae("data-v-355e3e60"),o=o(),le(),o),cs={class:"q-gutter-md q-ma-md"},us={key:0},ms={class:"row justify-between"},ps={class:"text-subtitle1"},_s={class:"text-subtitle1"},fs={class:"text-subtitle1"},gs={key:1,class:"data-error"},vs=ds(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),hs={__name:"TransactionPendingCard",setup(o){const v=he(),w=Je(),$=I(()=>w.pendingOtherReports),g=v.params.branch_id,c=V("pending"),b=async()=>{try{const n=await w.fetchPendingOtherStocks(g,c.value);console.log($.value)}catch(n){console.error("Error fetching pending stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",cs,[$.value.length?(k(),S("div",us,[(k(!0),S(O,null,pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",ms,[a("div",ps,y(r(l.created_at)),1),a("div",_s,y(p(l.created_at)),1),a("div",fs,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),a("div",null,[e(is,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(k(),S("div",gs,[e(ne,{name:"warning",color:"warning",size:"4em"}),vs]))])]),_:1})]))}};var ys=Y(hs,[["__scopeId","data-v-355e3e60"]]);const bs={class:"row justify-between"},ws=a("div",{class:"text-h6"},"Other Added Stocks Report",-1),xs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Te(),V(!1);const v=V(!1),w=()=>{v.value=!0};Se();const $=o,g=I(()=>(console.log("Filtered rows:",$.report||[]),$.report.other_added_stock||[])),c=r=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",_=r.firstname?p(r.firstname):"No Firstname",n=r.middlename?p(r.middlename).charAt(0)+".":"",u=r.lastname?p(r.lastname):"No Lastname";return`${_} ${n} ${u}`},b=[{name:"product_name",label:"Product Name",field:r=>(console.log("Row data:",r),r.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:r=>(console.log("Row data:",r),r.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:r=>r.added_stocks?`${r.added_stocks} pcs`:"N/A"}];return(r,p)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=_=>v.value=_)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",bs,[ws,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=_=>v.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(c(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"green",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:g.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":p[1]||(p[1]=_=>r.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ks=o=>(ae("data-v-5b0a7351"),o=o(),le(),o),$s={class:"q-gutter-md q-ma-md"},Cs={class:"row justify-between"},Rs={class:"text-subtitle1"},Ps={class:"text-subtitle1"},Vs={class:"text-subtitle1"},Ss={key:1,class:"data-error"},Ds=ks(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),qs={__name:"TransactionConfirmedCard",setup(o){const v=he(),w=Je(),$=I(()=>w.confirmedOtherReports),g=v.params.branch_id,c=V("confirmed"),b=async()=>{try{const n=await w.fetchConfirmedOtherStocks(g,c.value);console.log($.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",$s,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Cs,[a("div",Rs,y(r(l.created_at)),1),a("div",Ps,y(p(l.created_at)),1),a("div",Vs,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"green",outlined:""},{default:t(()=>[P(y(l.status),1)]),_:2},1024)]),a("div",null,[e(xs,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Ss,[e(ne,{name:"warning",color:"warning",size:"4em"}),Ds]))])]),_:1})]))}};var Ns=Y(qs,[["__scopeId","data-v-5b0a7351"]]);const Us={class:"row justify-between"},Ts=a("div",{class:"text-h6"},"Others Added Stocks Report",-1),As={class:"q-mt-md"},Bs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Te(),V(!1);const v=V(!1),w=()=>{v.value=!0},$=o,g=I(()=>(console.log("Filtered rows:",$.report||[]),$.report.other_added_stock||[])),c=r=>{const p=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",_=r.firstname?p(r.firstname):"No Firstname",n=r.middlename?p(r.middlename).charAt(0)+".":"",u=r.lastname?p(r.lastname):"No Lastname";return`${_} ${n} ${u}`},b=[{name:"product_name",label:"Product Name",field:r=>(console.log("Row data:",r),r.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:r=>(console.log("Row data:",r),r.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:r=>r.added_stocks?`${r.added_stocks} pcs`:"N/A"}];return(r,p)=>(k(),S(O,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":p[2]||(p[2]=_=>v.value=_)},{default:t(()=>[e(F,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Us,[Ts,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=_=>v.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+y(c(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[P(" Status: "),e(se,{color:"red",outlined:""},{default:t(()=>[P(y(o.report.status),1)]),_:1})]),a("div",As,"Remark: "+y(o.report.remark),1)]),_:1}),e(R,null,{default:t(()=>[e(ie,{rows:g.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":p[1]||(p[1]=_=>r.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Fs=o=>(ae("data-v-67ff56ab"),o=o(),le(),o),Is={class:"q-gutter-md q-ma-md"},Ls={class:"row justify-between"},Ms={class:"text-subtitle1"},zs={class:"text-subtitle1"},Hs={class:"text-subtitle1"},Os={key:1,class:"data-error"},js=Fs(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Qs={__name:"TransactionDeclinedCard",setup(o){const v=he(),w=Je(),$=I(()=>w.declinedOtherReports),g=v.params.branch_id,c=V("declined"),b=async()=>{try{const n=await w.fetchDeclinedOtherStocks(g,c.value);console.log("selectedOtherProductDeclined",$.value)}catch(n){console.error("Error fetching decline stocks:",n)}};xe(async()=>{g&&await b()});const r=n=>ue.formatDate(n,"MMMM D, YYYY"),p=n=>ue.formatDate(n,"hh:mm A"),_=n=>{const u=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",l=n.firstname?u(n.firstname):"No Firstname",m=n.middlename?u(n.middlename).charAt(0)+".":"",f=n.lastname?u(n.lastname):"No Lastname";return`${l} ${m} ${f}`};return(n,u)=>(k(),S("div",null,[e(Ne,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Is,[$.value.length?(k(!0),S(O,{key:0},pe($.value,(l,m)=>(k(),B(F,{key:m},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Ls,[a("div",Ms,y(r(l.created_at)),1),a("div",zs,y(p(l.created_at)),1),a("div",Hs,y(l.branch.name)+" - "+y(_(l.employee)),1),a("div",null,[e(se,{color:"red",outlined:""},{default:t(()=>[P(y(l.status),1)]),_:2},1024)]),a("div",null,[e(Bs,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(k(),S("div",Os,[e(ne,{name:"warning",color:"warning",size:"4em"}),js]))])]),_:1})]))}};var Es=Y(Qs,[["__scopeId","data-v-67ff56ab"]]);const Ks={class:"q-gutter-y-sm"},Ys={__name:"OtherTransactionPage",setup(o){const v=V("pendingReports"),w=I(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return($,g)=>(k(),S(O,null,[a("div",Ks,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=c=>v.value=c),"indicator-color":w.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(de,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(de,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(de,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":g[1]||(g[1]=c=>v.value=c),animated:""},{default:t(()=>[e(ce,{name:"pendingReports"},{default:t(()=>[e(ys)]),_:1}),e(ce,{name:"confirmReports"},{default:t(()=>[e(Ns)]),_:1}),e(ce,{name:"declineReports"},{default:t(()=>[e(Es)]),_:1})]),_:1},8,["modelValue"])],64))}};var Gs=Y(Ys,[["__scopeId","data-v-b76c19b4"]]);const ct=o=>(ae("data-v-0a732ed6"),o=o(),le(),o),Js={class:"q-gutter-y-sm"},Ws=ct(()=>a("h1",null,"Bread",-1)),Xs=ct(()=>a("h1",null,"Cake",-1)),Zs={__name:"TransactionPage",setup(o){const v=V("bread");return(w,$)=>(k(),S(O,null,[a("div",Js,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":$[0]||($[0]=g=>v.value=g),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(de,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(de,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(de,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(de,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(de,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":$[1]||($[1]=g=>v.value=g),animated:""},{default:t(()=>[e(ce,{name:"bread"},{default:t(()=>[e(F,null,{default:t(()=>[Ws]),_:1})]),_:1}),e(ce,{name:"selecta"},{default:t(()=>[e(_o)]),_:1}),e(ce,{name:"softdrinks"},{default:t(()=>[e(ns)]),_:1}),e(ce,{name:"cake"},{default:t(()=>[e(F,null,{default:t(()=>[Xs]),_:1})]),_:1}),e(ce,{name:"other"},{default:t(()=>[e(Gs)]),_:1})]),_:1},8,["modelValue"])],64))}};var er=Y(Zs,[["__scopeId","data-v-0a732ed6"]]);const Be=o=>(ae("data-v-f0d86c36"),o=o(),le(),o),tr=Be(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),ar={class:"q-mb-lg"},lr={key:0,class:"custom-list z-top"},nr={class:"q-mb-sm"},or=Be(()=>a("div",null,"Recipe Name",-1)),sr={class:"q-mb-lg"},rr=Be(()=>a("div",null,"Category",-1)),ir=Be(()=>a("div",null,"Breads",-1)),dr={class:"q-mt-md q-gutter-y-sm"},cr=Be(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),ur={class:"q-mt-xl q-gutter-y-sm"},mr={class:"row justify-between"},pr=Be(()=>a("div",{align:"center"},"Ingredients",-1)),_r=Be(()=>a("div",{align:"center"},"Quantity",-1)),fr=["onKeyup"],gr={align:"right"},vr={__name:"RecipeCreate",setup(o){const v=he(),w=v.params.branch_id,$=yt(),g=I(()=>$.recipes),c=Ee(),b=lt(),r=Ee(),p=I(()=>c.branchRecipes),_=V(!1),n=()=>{_.value=!0},u=()=>{clearForm(),_.value=!1},l=M=>M?M.split(" ").map(z=>z.charAt(0).toUpperCase()+z.slice(1).toLowerCase()).join(" "):"",m=V(""),f=async()=>{$.searchRecipe(m.value)},i=I(()=>d.target!==0),s=M=>{d.recipe_id=M.id,d.recipe_name=M.name,d.category=M.category,m.value=""},d=He({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:v.params.branch_id}),x=V(!1),C=V(null),U=V([]),N=V(U.value),A=V([]),h=V([]),q=He({name:"",quantity:""}),T=V(h.value);(async()=>{await b.fetchProductsByCategory("Bread"),x.value=!1,U.value=b.breads.map(M=>({label:M.name,value:M.id}))})(),(async()=>{const M="Ingredients";await r.fetchBranchRawMaterials(M,w),x.value=!1,h.value=r.ingredients.map(z=>({label:z.raw_material_name,value:z.raw_material_id,unit:z.ingredient_unit}))})();const Ce=()=>{q.name="",q.quantity=""},L=(M,z)=>{M.length>2&&(U.value.includes(M)||z(M,"add-unique"))},X=(M,z)=>{z(()=>{if(M==="")N.value=U.value;else{const $e=M.toLowerCase();N.value=U.value.filter(J=>J.label.toLowerCase().indexOf($e)>-1)}})},H=(M,z)=>{z(()=>{if(M==="")T.value=h.value;else{const $e=M.toLowerCase();T.value=h.value.filter(J=>J.label.toLowerCase().indexOf($e)>-1)}})},Z=()=>{const M=A.value;function z(Pe,Fe){return Pe.find(Oe=>Oe.ingredients_id==Fe)}const $e=q.name.value;z(M,$e)?ve.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(A.value=[...M,{ingredients_id:q.name.value,label:q.name.label,quantity:q.quantity,unit:q.name.unit}],Ce())},be=M=>{A.value.splice(M,1)};Ae(()=>q.name,M=>{M&&M.unit?q.unit=M.unit:q.unit=""});const fe=()=>{d.recipe_id="",d.target="",C.value=null,A.value=[],q.name="",q.quantity=""},we=async()=>{const M={recipe_id:d.recipe_id,target:d.target,status:"active",branch_id:d.branches_id,breads:C.value.map(z=>({bread_id:z.value})),ingredients:A.value.map(z=>({ingredient_id:z.ingredients_id,quantity:z.quantity}))};console.log("branchRecipe",M),await c.saveBranchRecipe(M),p.value=await c.fetchBranchRecipes(w),fe(),_.value=!1};return(M,z)=>(k(),S(O,null,[e(D,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:n}),e(K,{modelValue:_.value,"onUpdate:modelValue":z[7]||(z[7]=$e=>_.value=$e)},{default:t(()=>[e(F,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[tr,e(qe),ee(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e(R,null,{default:t(()=>{var $e;return[a("div",ar,[e(j,{modelValue:m.value,"onUpdate:modelValue":[z[0]||(z[0]=J=>m.value=J),f],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[m.value?(k(),S("div",lr,[e(F,null,{default:t(()=>[e(Ue,{separator:""},{default:t(()=>{var J;return[(J=g.value)!=null&&J.length?(k(!0),S(O,{key:1},pe(g.value,Pe=>(k(),B(ge,{onClick:Fe=>s(Pe),key:Pe.id,clickable:""},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[P(y(l(Pe.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(k(),B(ge,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ke("",!0)]),_:1},8,["modelValue"])]),a("div",nr,[or,e(j,{modelValue:d.recipe_name,"onUpdate:modelValue":z[1]||(z[1]=J=>d.recipe_name=J),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",sr,[rr,e(j,{modelValue:d.category,"onUpdate:modelValue":z[2]||(z[2]=J=>d.category=J),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(j,{modelValue:d.target,"onUpdate:modelValue":z[3]||(z[3]=J=>d.target=J),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),a("div",null,[ir,e(We,{modelValue:C.value,"onUpdate:modelValue":z[4]||(z[4]=J=>C.value=J),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:N.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:L,onFilter:X,rules:[J=>J&&J.length>0||"Bread is required"]},{"no-option":t(()=>[e(ge,null,{default:t(()=>[e(W,{class:"text-grey"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",dr,[cr,a("div",null,[e(Ue,{dense:"",separator:"",class:"box"},{default:t(()=>[(k(!0),S(O,null,pe(A.value,(J,Pe)=>(k(),B(ge,{key:Pe},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[P(y(J.label),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[P(y(J.quantity)+" "+y(J.unit),1)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(D,{onClick:Fe=>be(Pe),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",ur,[a("div",mr,[a("div",null,[pr,e(We,{modelValue:q.name,"onUpdate:modelValue":z[5]||(z[5]=J=>q.name=J),debounce:"3000",outlined:"","chips-color":"primary",options:T.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:H,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ge,null,{default:t(()=>[e(W,{class:"text-grey"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[_r,e(j,{modelValue:q.quantity,"onUpdate:modelValue":z[6]||(z[6]=J=>q.quantity=J),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:(($e=q==null?void 0:q.name)==null?void 0:$e.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Re(_t(Z,["prevent"]),["enter"])},[a("div",gr,[e(D,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Z})])],40,fr)])]}),_:1}),e(De,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:u}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:we,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var hr=Y(vr,[["__scopeId","data-v-f0d86c36"]]);const ut=o=>(ae("data-v-33664d62"),o=o(),le(),o),yr=ut(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),br=ut(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),wr={__name:"RecipeDelete",props:["delete"],setup(o){const v=Ee(),w=o,$=V(!1),g=()=>{$.value=!0},c=async()=>{await v.deleteRecipe(w.delete.row.id),$.value=!1};return(b,r)=>(k(),S(O,null,[e(D,{onClick:g,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(oe,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(K,{modelValue:$.value,"onUpdate:modelValue":r[0]||(r[0]=p=>$.value=p),persistent:""},{default:t(()=>[e(F,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(R,{class:"q-pt-none q-pb-sm"},{default:t(()=>[yr,br]),_:1}),e(Ye,{class:"q-mb-md"}),e(R,null,{default:t(()=>[e(De,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:c,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var xr=Y(wr,[["__scopeId","data-v-33664d62"]]);const kr=o=>(ae("data-v-7a561dd0"),o=o(),le(),o),$r={class:"text-h6 text-white"},Cr=kr(()=>a("div",{class:"text-h6",align:"center"},"Bread List",-1)),Rr={class:"row",align:"center"},Pr={__name:"RecipeBreadGroups",props:["breadGroups"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke();console.log("breadGroups",o.breadGroups);const b=r=>r?r.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"";return(r,p)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(R,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",$r,y(b(o.breadGroups.name)),1),e(qe),a("div",null,[ee(e(D,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[te]])])]),_:1}),e(R,null,{default:t(()=>[Cr]),_:1}),e(R,null,{default:t(()=>[(k(!0),S(O,null,pe(o.breadGroups.bread_groups,(_,n)=>(k(),S("div",{key:n},[a("div",Rr,y(_),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Vr=Y(Pr,[["__scopeId","data-v-7a561dd0"]]);const Sr=o=>(ae("data-v-435e3b8f"),o=o(),le(),o),Dr={class:"text-h6 text-white"},qr=Sr(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Nr={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:$,onDialogCancel:g}=ke();console.log("ingredientGroups",o.ingredientGroups);const b=p=>p?p.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",r=p=>{const _=Number(p.quantity)||0,n=p.unit||"";return _>1e3?`${parseFloat((_/1e3).toFixed(3))} kg`:_>1?`${parseFloat(_.toFixed(3))} ${n}`:`${parseFloat(_.toFixed(3))} ${n}`};return(p,_)=>(k(),B(K,{ref_key:"dialogRef",ref:v,onHide:Q(w),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(R,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",Dr,y(b(o.ingredientGroups.name)),1),e(qe),a("div",null,[ee(e(D,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[te]])])]),_:1}),e(R,null,{default:t(()=>[qr]),_:1}),e(R,null,{default:t(()=>[e(Ue,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ge,null,{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(W,{side:""},{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(k(!0),S(O,null,pe(o.ingredientGroups.ingredient_groups,(n,u)=>(k(),B(ge,{key:u},{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(n.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(n.code),1)]),_:2},1024)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[P(y(r(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ur=Y(Nr,[["__scopeId","data-v-435e3b8f"]]);const Tr=o=>(ae("data-v-89832402"),o=o(),le(),o),Ar={class:"row justify-between"},Br={class:"q-my-sm"},Fr={key:0,class:"spinner-wrapper"},Ir={key:1},Lr={key:0,class:"data-error"},Mr=Tr(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zr={class:"row justify-center q-gutter-x-md"},Hr={__name:"RecipeTable",setup(o){const w=he().params.branch_id,$=Ee(),g=V(""),c=V(!0),b=V([]),r=V(!1),p=V({rowsPerPage:0}),_=["inactive","active"],n=I(()=>$.branchRecipes);console.log("branch recipe",n.value);const u=I(()=>g.value?n.value.filter(h=>h.name.toLowerCase().includes(g.value.toLowerCase())):n.value);xe(async()=>{w&&await l(w)});const l=async h=>{try{c.value=!0;const q=await $.fetchBranchRecipes(h);n.value=q,console.log("branchRecipeRows",n.value),n.value.length||(r.value=!0),console.log("Branch recipe",n.value)}catch(q){console.log("Error fetching recipe",q)}finally{c.value=!1}},m=h=>{const q=Number(h)||0;return parseFloat(q.toFixed(3)).toString()},f=h=>!h&&h!==0?"Set Target":typeof h=="number"||!isNaN(h)?(h=parseFloat(h),h%1===0?h:parseFloat(h.toFixed(1))):h;async function i(h,q){try{const T=await ye.put("/api/update-target/"+h.id,{target:parseFloat(q)});if(console.log("response",T),T.status==200){const G=b.value.findIndex(_e=>_e.id==h.id);b.value[G]=q}ve.create({type:"positive",message:"Recipe target edited successfully"})}catch(T){console.error("Error updating recipe target:",T),ve.create({type:"negative",message:"Failed to edit recipe target"})}}async function s(h,q){try{if((await ye.put("/api/branch-update-status/"+h.id,{status:q})).status==200){const G=b.value.findIndex(_e=>_e.id==h.id);b.value[G]=q}ve.create({type:"positive",message:"Recipe status change successfully"})}catch(T){console.error("Error updating recipe status:",T),ve.create({type:"negative",message:"Failed to change recipe status"})}}const d=h=>h?h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",x=[{name:"name",label:"Recipe name",align:"center",field:h=>h.name},{name:"category",label:"Category",align:"center",field:h=>h.recipe},{name:"target",label:"Target",align:"center",field:h=>f(h.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],C=Se(),U=h=>{console.log("Bread Groups:",h),C.dialog({component:Vr,componentProps:{breadGroups:h}})},N=h=>{console.log("Ingredients Groups:",h),C.dialog({component:Ur,componentProps:{ingredientGroups:h}})},A=h=>{switch(h){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(h,q)=>(k(),S(O,null,[a("div",Ar,[a("div",null,[e(j,{class:"q-pb-lg q-pl-md",modelValue:g.value,"onUpdate:modelValue":q[0]||(q[0]=T=>g.value=T),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Br,[e(hr)])]),c.value?(k(),S("div",Fr,[e(Ge,{size:"50px",color:"primary"})])):(k(),S("div",Ir,[u.value.length===0?(k(),S("div",Lr,[e(ne,{name:"warning",color:"warning",size:"4em"}),Mr])):(k(),B(ie,{key:1,class:"table-container sticky-header",filter:g.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:x,rows:u.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":q[1]||(q[1]=T=>p.value=T),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(T=>[e(E,{props:T},{default:t(()=>[a("span",null,y(d(T.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(T=>[e(E,{props:T},{default:t(()=>[a("span",null,y(d(T.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(T=>[e(E,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[P(y(m(T.row.target))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit Target")]),_:1})]),e(Ve,{"onUpdate:modelValue":[G=>i(T.row,G),G=>T.row.target=G],modelValue:T.row.target,"auto-save":""},{default:t(G=>[e(j,{modelValue:G.value,"onUpdate:modelValue":_e=>G.value=_e,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:Re(G.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(T=>[e(E,{props:T},{default:t(()=>[e(se,{outline:"",color:A(T.row.status)},{default:t(()=>[P(y(d(T.row.status))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Change Status")]),_:1})]),_:2},1032,["color"]),e(Ve,{"onUpdate:modelValue":[G=>s(T.row,G),G=>T.row.status=G],modelValue:T.row.status,"auto-save":""},{default:t(G=>[a("span",null,y(T.row.name),1),e(We,{modelValue:G.value,"onUpdate:modelValue":_e=>G.value=_e,dense:"",label:"status",autofocus:"",options:_,counter:"",mask:"###",onKeyup:Re(G.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(T=>[e(E,{props:T},{default:t(()=>[e(D,{"no-caps":"",onClick:G=>U(T.row),label:`${T.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(T=>[e(E,{props:T},{default:t(()=>[e(D,{"no-caps":"",onClick:G=>N(T.row),label:`${T.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(T=>[e(E,{props:T},{default:t(()=>[a("div",zr,[e(xr,{delete:T},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Or=Y(Hr,[["__scopeId","data-v-89832402"]]);const jr={__name:"RecipePage",setup(o){return(v,w)=>(k(),S("div",null,[e(Or)]))}};const Qr={class:"elegant-container q-gutter-md"},Er={class:"text-h6 row justify-between"},Kr={class:"q-gutter-sm"},Yr={class:"tab-container"},Gr={__name:"BranchIdPage",setup(o){const v=he(),w=V(""),$=ft(),g=async _=>(await ye.get(`/api/branches/${_}`)).data,c=async()=>{const _=v.params.branch_id,n=await g(_);n&&n.name?w.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};xe(()=>{c()});const b=_=>_?_.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",r=V("products"),p=()=>{je.show(),$.push("/admin/branches").finally(()=>{je.hide()})};return(_,n)=>(k(),B(gt,{padding:""},{default:t(()=>[a("div",Qr,[a("div",Er,[a("div",null,[e(D,{outline:"",flat:"",icon:"arrow_back",onClick:p}),e(qe)]),a("div",null,[e(ne,{name:"fa-solid fa-store",color:"red-6"}),P(" "+y(b(w.value)),1)])]),a("div",Kr,[a("div",Yr,[e(Ie,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=u=>r.value=u),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(de,{name:"products",label:"Products"}),e(de,{name:"rawMaterials",label:"Raw Materials"}),e(de,{name:"recipe",label:"Recipe"}),e(de,{name:"production",label:"Production"}),e(de,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(F,{class:"q-mt-sm"},{default:t(()=>[e(Le,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=u=>r.value=u),animated:""},{default:t(()=>[e(ce,{name:"products"},{default:t(()=>[e(Qt)]),_:1}),e(ce,{name:"rawMaterials"},{default:t(()=>[e(ga)]),_:1}),e(ce,{name:"recipe"},{default:t(()=>[e(jr)]),_:1}),e(ce,{name:"production"},{default:t(()=>[e(kn)]),_:1}),e(ce,{name:"transaction"},{default:t(()=>[e(er)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Ni=Y(Gr,[["__scopeId","data-v-eb7c826e"]]);export{Ni as default};
