import{c as O,z as ae,o as p,e as U,w as t,f as e,I as z,J as a,$ as T,a1 as se,Q as F,O as G,R as Z,a3 as A,a4 as M,d as ke,r as w,u as Ae,K as q,a0 as N,bf as R,bb as qe,M as I,ae as Y,bh as kt,a2 as oe,t as ye,L as W,aJ as me,N as le,bc as ve,a5 as ce,bd as te,Z as st,b6 as ot,bg as be,aK as Te}from"./index.fd0a6a0f.js";import{a as de,Q as Le,c as ue,b as We}from"./QTabPanels.0784e61e.js";import{Q as Vt}from"./QPage.61125399.js";import{u as ie}from"./employee.30233468.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as it}from"./QVirtualScroll.1edb3d5f.js";import{u as He}from"./branch.4706cd29.js";import{u as rt}from"./warehouse.07c64e16.js";import{Q as re}from"./QTooltip.4ed3dbe3.js";import{Q as Ue}from"./QPopupEdit.e5da62cd.js";import{Q,a as Ve}from"./QTable.0bcfe0f0.js";import{Q as _e}from"./QBadge.04d3b468.js";import{Q as Ee}from"./QSelect.89cadb1b.js";import{Q as St}from"./QSpinnerIos.8b1484d9.js";import{Q as Dt}from"./QInnerLoading.e07e1fbe.js";import{C as X}from"./ClosePopup.fd96484b.js";import{q as Ce}from"./date.b593301a.js";import{api as ee}from"./axios.57f358d3.js";import{_ as qt}from"./GB_LOGO.b766a815.js";import{p as Fe,v as dt}from"./vfs_fontes.6ee410e6.js";import{Q as he}from"./QSpace.23a49b93.js";import{Q as we,a as J,b as xe}from"./QList.9fd6410d.js";import{Q as $e}from"./QChip.5f7da547.js";import{u as ze}from"./dtr.7387771e.js";import{u as At}from"./use-quasar.ab9624af.js";import{Q as Et}from"./QIntersection.8a0b437f.js";import"./QResizeObserver.279861e5.js";import"./use-virtual-scroll.898135f8.js";import"./use-panel.6f54e9eb.js";import"./touch.9135741d.js";import"./selection.405dc259.js";import"./QMenu.82e2653d.js";const Ne=s=>(G("data-v-23df4d69"),s=s(),Z(),s),Pt={class:"col q-pa-md"},Tt=Ne(()=>a("div",{class:"text-h6"},"Total Employee",-1)),Ut=Ne(()=>a("div",{class:"text-caption text-grey-6"},"Total Number Of Employees",-1)),Ct={class:"text-h3 text-primary q-my-sm"},zt=Ne(()=>a("div",{class:"text-caption text-grey-7"},"Employees",-1)),Nt=Ne(()=>a("div",{class:"col q-pa-md"},[a("div",{class:"text-h6"},"Salary Per Month"),a("div",{class:"text-caption text-grey-6"}," Current Total Salary Per Month "),a("div",{class:"text-h3 text-positive q-my-sm"},"\u20B1 52,962"),a("div",{class:"text-caption text-grey-7"},"PHP")],-1)),It=Ne(()=>a("div",{class:"col q-pa-md"},[a("div",{class:"text-h6"},"Benefits Fund"),a("div",{class:"text-caption text-grey-6"},"For all Employees Per Month"),a("div",{class:"text-h3 text-warning q-my-sm"},"\u20B1 200,123"),a("div",{class:"text-caption text-grey-7"},"PHP")],-1)),Bt={__name:"TotalEmployeeSalaryBenefits",setup(s){const o=ie(),m=O(()=>o.employees);ae(async()=>{await _()});const _=async()=>{try{m.value=await o.fetchAllEmployee()}catch(f){console.log("error fetching employee: ",f)}};return(f,d)=>(p(),U(F,{class:"q-pa-md q-mb-md q-mt-sm text-center user-card"},{default:t(()=>[e(z,{horizontal:""},{default:t(()=>[a("div",Pt,[Tt,Ut,a("div",Ct,T(m.value.length),1),zt]),e(se,{vertical:""}),Nt,e(se,{vertical:""}),It]),_:1})]),_:1}))}};var Rt=H(Bt,[["__scopeId","data-v-23df4d69"]]);const Ft=s=>(G("data-v-ce6674e2"),s=s(),Z(),s),Mt={class:"row justify-between"},Ot=Ft(()=>a("div",{class:"text-h6"},"Branch Employee",-1)),Lt={class:"text-caption text-grey-6"},Wt={class:"text-subtitle2"},Ht={class:"text-h6 text-grey-6"},jt={__name:"BranchEmployeeCard",setup(s){const o=He(),m=O(()=>o.branches);console.log("branchWithEmploye",m.value),ae(async()=>{await _()});const _=async()=>{try{m.value=await o.fetchBranchWithEmployee(),console.log("branches",m.value)}catch(f){console.log("error fetching branch: ",f)}};return(f,d)=>(p(),U(F,{class:"user-card",style:{height:"300px"}},{default:t(()=>[e(z,null,{default:t(()=>[a("div",Mt,[a("div",null,[Ot,a("div",Lt," Total Number of Branch : "+T(m.value.length),1)])])]),_:1}),e(z,null,{default:t(()=>[e(it,{items:m.value,"scroll-target":"body","virtual-scroll-horizontal":"",class:"my-virtual-scroll",align:"center"},{default:t(({item:u,index:y})=>[(p(),U(F,{flat:"",bordered:"",dense:"",key:y,class:"my-card"},{default:t(()=>[e(z,{class:"bg-grey-2"},{default:t(()=>[a("div",Wt,T(u.name),1)]),_:2},1024),e(se),e(z,null,{default:t(()=>{var b;return[a("div",Ht,T((b=u==null?void 0:u.branch_employee)==null?void 0:b.length),1)]}),_:2},1024)]),_:2},1024))]),_:1},8,["items"])]),_:1})]),_:1}))}};var Qt=H(jt,[["__scopeId","data-v-ce6674e2"]]);const Kt=s=>(G("data-v-725f86c2"),s=s(),Z(),s),Yt={class:"row justify-between"},Xt=Kt(()=>a("div",{class:"text-h6"},"Warehouse Employee",-1)),Jt={class:"text-caption text-grey-6"},Gt={class:"text-subtitle2"},Zt={class:"text-h6 text-grey-6"},ea={__name:"WarehouseEmployeCard",setup(s){const o=rt(),m=O(()=>o.warehouses);ae(async()=>{await _()});const _=async()=>{try{m.value=await o.fetchWarehouseWithEmployee(),console.log("warehouses",m.value)}catch(f){console.log("error fetching recipe: ",f)}};return(f,d)=>(p(),U(F,{class:"user-card",style:{height:"300px"}},{default:t(()=>[e(z,null,{default:t(()=>[a("div",Yt,[a("div",null,[Xt,a("div",Jt," Total Number of Warehouse : "+T(m.value.length),1)])])]),_:1}),e(z,null,{default:t(()=>[e(it,{items:m.value,"scroll-target":"body","virtual-scroll-horizontal":"",class:"my-virtual-scroll"},{default:t(({item:u,index:y})=>[(p(),U(F,{flat:"",bordered:"",dense:"",key:y,class:"my-card",style:{display:"inline-block",width:"auto"},align:"center"},{default:t(()=>[e(z,{class:"bg-grey-2"},{default:t(()=>[a("div",Gt,T(u.name),1)]),_:2},1024),e(se),e(z,null,{default:t(()=>{var b;return[a("div",Zt,T((b=u==null?void 0:u.warehouse_employee)==null?void 0:b.length),1)]}),_:2},1024)]),_:2},1024))]),_:1},8,["items"])]),_:1})]),_:1}))}};var ta=H(ea,[["__scopeId","data-v-725f86c2"]]);const aa={class:"row justify-between"},la={class:"col-6 q-pr-sm"},oa={class:"col-6 q-pl-sm"},na={__name:"DashboardPage",setup(s){return(o,m)=>(p(),A(M,null,[e(Rt),a("div",aa,[a("div",la,[e(Qt)]),a("div",oa,[e(ta)])])],64))}},Ie=ie(),sa=async(s,o)=>{const m={id:s.id,firstname:o.firstname||s.firstname,middlename:o.middlename||s.middlename,lastname:o.lastname||s.lastname};await Ie.updateEmployeeFullname(m)},ia=async(s,o)=>{const m={id:s.id,employment_type_id:o.value};await Ie.updateEmployeeEmploymentType(m)},ra=async(s,o)=>{const m={id:s.id,address:o};await Ie.updateEmployeeAddress(m)},da=async(s,o)=>{const m={id:s.id,phone:o};await Ie.updateEmployeePhone(m)},ua=async(s,o)=>{const m={id:s.id,birthdate:o};await Ie.updateEmployeebirthdate(m)};function Me(s){const o=d=>d?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():"",m=s.firstname?o(s.firstname):"No Firstname",_=s.middlename?o(s.middlename).charAt(0)+".":"",f=s.lastname?o(s.lastname):"No Lastname";return`${m} ${_} ${f}`}function nt(s){return s?s.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):""}function ut(s){return Ce.formatDate(s,"MMMM DD, YYYY")}const ca=s=>{switch(s){case"Regular":return"blue-8";case"Trainee":return"orange-5";case"Part-time":return"teal-5";default:return"grey"}},ma=[{name:"fullname",required:!0,label:"Full Name",align:"left",field:s=>Me(s),format:s=>`${s}`,sortable:!0},{name:"employmentType",label:"Employment Type",align:"center",field:s=>s.employment_type.category||"N/A",format:s=>`${s}`},{name:"address",required:!0,label:"Address",align:"left",field:"address",sortable:!0},{name:"phone",required:!0,label:"Phone",align:"center",field:"phone",format:s=>`${s}`,sortable:!0},{name:"birthdate",required:!0,label:"Birthdate",align:"center",field:"birthdate",format:s=>ut(s),sortable:!0},{name:"actions",align:"center",label:"Action",field:"actions"}],ct=ke("employmentType",()=>{const s=w(null);return{employmentType:s,fetchEmploymentType:async()=>{const m=await ee.get("/api/employment-types");s.value=m.data,console.log("Employementresponse",m.data)}}});var pa="/assets/IDLogo.76e564fd.png";Fe.exports.vfs=dt;function _a(s,o){const m=w(!1),_=w(""),f=y=>{d(s,b=>{d(o,i=>{const g=u(y,b,i);Fe.exports.createPdf(g).getDataUrl(v=>{_.value=v,m.value=!0})})})},d=(y,b)=>{const i=new FileReader,g=new XMLHttpRequest;g.open("GET",y,!0),g.responseType="blob",g.onload=function(){g.status===200?(i.readAsDataURL(g.response),i.onloadend=function(){b(i.result)}):console.error("Failed to load image.")},g.send()},u=(y,b,i)=>({pageSize:{width:323,height:204},pageMargins:[0,0,0,0],background:[{image:i,width:140,opacity:.1,absolutePosition:{x:70,y:15}}],content:[{canvas:[{type:"rect",x:0,y:0,w:260,h:150,lineWidth:1,lineColor:"black",dash:{length:4}}],absolutePosition:{x:0,y:0}},{alignment:"justify",columns:[{image:b,width:100,height:153,alignment:"left",margin:[-8,-4,0,0]},{stack:[{text:"GB Bakeshop",style:"header",color:"red",margin:[0,0,50,0]},{text:`Name  : ${Me(y)}`,style:"name"},{text:`Position : ${y.position}`,style:"position"},{text:`Phone  : ${y.phone}`,style:"info"},{qr:`${y.id} - ${Me(y)} - ${y.position}`,fit:87,foreground:"red",background:"yellow",margin:[30,7,0,0]}]}]}],styles:{header:{fontSize:15,bold:!0,alignment:"center"},name:{fontSize:8,bold:!0,margin:[5,1,0,0]},position:{fontSize:8,margin:[5,2,0,0]},info:{fontSize:7,margin:[5,2,0,0]},address:{fontSize:7,margin:[0,5,0,0]}}});return{dialog:m,pdfUrl:_,handlePrintID:f}}const va={style:{width:"100%"}},fa={class:"text-subtitle2"},ya={class:"row q-gutter-md"},ha={class:"row justify-center q-gutter-x-md"},ga={class:"text-white q-ma-sm",align:"right"},ba=["src"],wa={__name:"TableSection",setup(s){const{dialog:o,pdfUrl:m,handlePrintID:_}=_a(pa,qt),f=ct(),d=w([]),u=ie(),y=O(()=>u.employees),b=w([]),i=w({page:1,rowsPerPage:0,rowsNumber:0}),g=w(""),v=w(!1);console.log("employees fetch madepaker",y.value),ae(async()=>{await r()}),ae(async()=>{await f.fetchEmploymentType(),d.value=f.employmentType.map(V=>({label:V.category,value:V.id})),console.log("Employment Type Options:",d.value)});const n=w(null),c=V=>{var k;n.value=((k=V.employment_type)==null?void 0:k.id)||null,console.log("Initial employmentTypeId:",n.value)};console.log("===================================="),console.log("employmentTypeIdsss",n.value),console.log("====================================");const r=async(V=0,k=5,E="")=>{try{v.value=!0,y.value=await u.fetchEmployeeWithEmploymentType(V,k,E),console.log("fetchEmployeeWithEmploymentType",y.value);const{data:P,current_page:$,per_page:x,total:S}=y.value;b.value=P,console.log("employeesRowsData.value",b.value),i.value.page=$,console.log("pagination.value.page",i.value.page),i.value.rowsPerPage=x,console.log("pagination.value.rowsPerPage",i.value.rowsPerPage),i.value.rowsNumber=S,console.log("pagination.value.rowsNumber",i.value.rowsNumber)}catch(P){console.log("employee madepaker",P)}finally{v.value=!1}},l=V=>{console.log("porps",V),r(V.pagination.page,V.pagination.rowsPerPage,V.filter)};return Ae(g,async V=>{await r(i.value.page,i.value.rowsPerPage,V)}),(V,k)=>(p(),A(M,null,[a("div",va,[e(Ve,{class:"user-card",title:"Employees",rows:b.value,columns:R(ma),"row-key":"fullname",pagination:i.value,"onUpdate:pagination":k[2]||(k[2]=E=>i.value=E),"rows-per-page-options":[5,7,10,0],loading:v.value,filter:g.value,onRequest:l},{"top-right":t(()=>[e(q,{modelValue:g.value,"onUpdate:modelValue":k[0]||(k[0]=E=>g.value=E),outlined:"",dense:"",flat:"",label:"Search",debounce:"300",style:{width:"300px"}},null,8,["modelValue"])]),"body-cell-fullname":t(E=>[e(Q,{key:"fullname",props:E},{default:t(()=>[a("div",fa,[N(T(R(Me)(E.row))+" ",1),e(re,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N(" Edit Employee Name ")]),_:1})]),e(Ue,{modelValue:E.row,"onUpdate:modelValue":[P=>E.row=P,P=>R(sa)(E.row,P)],buttons:"",title:"Edit Employee Full Name"},{default:t(({value:P,set:$})=>[a("div",ya,[e(q,{class:"text-capitalize",modelValue:P.firstname,"onUpdate:modelValue":x=>P.firstname=x,label:"First Name",outlined:"",flat:"",color:"positive",dense:"",autofucos:"",onKeyup:qe(x=>$(P),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),e(q,{class:"text-capitalize",modelValue:P.middlename,"onUpdate:modelValue":x=>P.middlename=x,label:"Middle Name",outlined:"",flat:"",color:"positive",dense:"",autofucos:"",onKeyup:qe(x=>$(P),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),e(q,{class:"text-capitalize",modelValue:P.lastname,"onUpdate:modelValue":x=>P.lastname=x,label:"Last Name",outlined:"",flat:"",color:"positive",dense:"",autofucos:"",onKeyup:qe(x=>$(P),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"body-cell-employmentType":t(E=>[e(Q,{props:E},{default:t(()=>{var P;return[e(_e,{color:R(ca)((P=E.row.employment_type)==null?void 0:P.category)},{default:t(()=>{var $;return[N(T((($=E.row.employment_type)==null?void 0:$.category)||"N/A")+" ",1),e(re,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N(" Edit Employment Type ")]),_:1})]}),_:2},1032,["color"]),e(Ue,{modelValue:n.value,"onUpdate:modelValue":k[1]||(k[1]=$=>n.value=$),onBeforeShow:()=>c(E.row),onSave:$=>R(ia)(E.row,$),buttons:"",title:"Edit Employment Type"},{default:t($=>[e(Ee,{modelValue:$.value,"onUpdate:modelValue":[x=>$.value=x,n.value],dense:"",autofocus:"",options:d.value,"option-label":"label","option-value":"value",behavior:"menu"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:2},1032,["modelValue","onBeforeShow","onSave"])]}),_:2},1032,["props"])]),"body-cell-address":t(E=>[e(Q,{props:E,style:{"text-align":"justify"}},{default:t(()=>[a("div",null,[N(T(R(nt)(E.row.address))+" ",1),e(re,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N(" Edit Address ")]),_:1})]),e(Ue,{"onUpdate:modelValue":[P=>R(ra)(E.row,P),P=>E.row.address=P],modelValue:E.row.address,buttons:"",title:"Edit Address"},{default:t(P=>[e(q,{class:"text-capitalize",modelValue:P.value,"onUpdate:modelValue":$=>P.value=$,dense:"",autofocus:"",counter:"",onKeyup:qe(P.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-phone":t(E=>[e(Q,{props:E},{default:t(()=>[a("div",null,[N(T(R(nt)(E.row.phone))+" ",1),e(re,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N(" Edit Phone ")]),_:1})]),e(Ue,{"onUpdate:modelValue":[P=>R(da)(E.row,P),P=>E.row.phone=P],modelValue:E.row.phone,buttons:"",title:"Edit Phone"},{default:t(P=>[e(q,{modelValue:P.value,"onUpdate:modelValue":$=>P.value=$,dense:"",autofocus:"",mask:"+(63) ### - ### - ####",counter:"",onKeyup:qe(P.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-birthdate":t(E=>[e(Q,{props:E},{default:t(()=>[a("div",null,[N(T(R(ut)(E.row.birthdate))+" ",1),e(re,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N(" Edit Birthdate ")]),_:1})]),e(Ue,{"onUpdate:modelValue":[P=>R(ua)(E.row,P),P=>E.row.birthdate=P],modelValue:E.row.birthdate,buttons:"",title:"Edit Birthdate"},{default:t(P=>[e(q,{modelValue:P.value,"onUpdate:modelValue":$=>P.value=$,dense:"",autofocus:"",type:"date",hint:"mm/dd/yyyy",onKeyup:qe(P.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-actions":t(E=>[e(Q,{props:E},{default:t(()=>[a("div",ha,[e(I,{round:"",dense:"",size:"md",color:"black",icon:"print",flat:"",onClick:P=>R(_)(E.row)},{default:t(()=>[e(re,{class:"bg-black",delay:200},{default:t(()=>[N(" Print ")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),loading:t(()=>[e(Dt,{showing:""},{default:t(()=>[e(St,{size:"50px",color:"grey-10"})]),_:1})]),_:1},8,["rows","columns","pagination","loading","filter"])]),e(oe,{modelValue:R(o),"onUpdate:modelValue":k[3]||(k[3]=E=>kt(o)?o.value=E:null),persistent:""},{default:t(()=>[e(F,{class:"bg-gradient",style:{width:"700px","max-width":"80vw"}},{default:t(()=>[a("div",ga,[Y(e(I,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),a("div",null,[a("iframe",{src:R(m),width:"100%",height:"700px"},null,8,ba)])]),_:1})]),_:1},8,["modelValue"])],64))}};var xa=H(wa,[["__scopeId","data-v-5f9e5672"]]);const mt=s=>(G("data-v-de3ca102"),s=s(),Z(),s),$a={class:"q-mb-md text-center"},ka=mt(()=>a("div",{class:"text-center"},[a("div",{class:"text-h6"},"Add Employee")],-1)),Va=mt(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC} Add New Employee",-1)),Sa={class:"q-gutter-y-sm"},Da={class:"q-gutter-y-sm q-mx-auto"},qa={class:"row q-gutter-x-sm item-start"},Aa={class:"row q-gutter-x-sm"},Ea={__name:"RegisterEmployee",setup(s){const o=ie(),m=w(!1),_=w(!1),f=()=>{m.value=!0};He();const d=ct(),u=["Super Admin","Admin","Supervisor","Scaler","Lamesador","Hornero","Baker","Cake Maker","Cashier","Sales Clerk","Utility","Not Yet Assigned"],y=["Male","Female"],b=w([]),i=w([]);w([]),w(b.value),ae(async()=>{await d.fetchEmploymentType(),i.value=d.employmentType.map(c=>({label:c.category,value:c.id}))});const v=ye({firstname:"",middlename:"",lastname:"",address:"",birthdate:"",sex:"",phone:"",position:"",employment_type:""}),h=async()=>{_.value=!0;const c={...v,employment_type_id:v.employment_type.value};console.log("employee",c),await o.createEmployee(c),_.value=!1,n(),m.value=!1},n=()=>{v.firstname="",v.middlename="",v.lastname="",v.address="",v.birthdate="",v.sex="",v.phone="",v.position="",v.employment_type=""};return(c,r)=>(p(),A(M,null,[e(F,{class:"q-pa-md user-card",onClick:f},{default:t(()=>[a("div",$a,[e(W,{name:"person_add",size:"70px",color:"yellow-7"})]),ka]),_:1}),e(oe,{modelValue:m.value,"onUpdate:modelValue":r[9]||(r[9]=l=>m.value=l),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[Va,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[a("div",Sa,[a("div",Da,[e(q,{class:"text-capitalize",modelValue:v.firstname,"onUpdate:modelValue":r[0]||(r[0]=l=>v.firstname=l),outlined:"",dense:"",label:"First Name",rules:[l=>l&&l.length>0||"Required"]},null,8,["modelValue","rules"]),e(q,{class:"text-capitalize",modelValue:v.middlename,"onUpdate:modelValue":r[1]||(r[1]=l=>v.middlename=l),outlined:"",dense:"",label:"Middle Name",rules:[l=>l&&l.length>0||"Required"]},null,8,["modelValue","rules"]),e(q,{class:"text-capitalize",modelValue:v.lastname,"onUpdate:modelValue":r[2]||(r[2]=l=>v.lastname=l),outlined:"",dense:"",label:"Last Name",rules:[l=>l&&l.length>0||"Required"]},null,8,["modelValue","rules"]),e(q,{class:"text-capitalize",modelValue:v.address,"onUpdate:modelValue":r[3]||(r[3]=l=>v.address=l),outlined:"",dense:"",label:"Address",rules:[l=>l&&l.length>0||"Required"]},null,8,["modelValue","rules"])]),a("div",qa,[a("div",null,[e(q,{modelValue:v.birthdate,"onUpdate:modelValue":r[4]||(r[4]=l=>v.birthdate=l),outlined:"",dense:"",label:"Birthdate",type:"date",style:{width:"230px"},rules:[l=>l&&l.length>0||"Required"]},null,8,["modelValue","rules"])]),a("div",null,[e(q,{modelValue:v.phone,"onUpdate:modelValue":r[5]||(r[5]=l=>v.phone=l),outlined:"",dense:"",label:"Phone Number",mask:"+(63) ### - ### - ####",placeholder:"(+63) ### - ### - ####",rules:[l=>l&&l.length>0||"Required"],style:{width:"230px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])])]),a("div",Aa,[a("div",null,[e(Ee,{modelValue:v.sex,"onUpdate:modelValue":r[6]||(r[6]=l=>v.sex=l),dense:"",outlined:"",label:"Sex",options:y,rules:[l=>l&&l.length>0||"Required"],style:{width:"120px"},behavior:"menu","hide-dropdown-icon":""},null,8,["modelValue","rules"])]),a("div",null,[e(Ee,{modelValue:v.position,"onUpdate:modelValue":r[7]||(r[7]=l=>v.position=l),outlined:"",dense:"","hide-dropdown-icon":"",label:"Position",options:u,rules:[l=>l&&l.length>0||"Required"],behavior:"menu",style:{width:"175px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])]),a("div",null,[e(Ee,{modelValue:v.employment_type,"onUpdate:modelValue":r[8]||(r[8]=l=>v.employment_type=l),outlined:"",dense:"","hide-dropdown-icon":"",label:"Employment Type",options:i.value,behavior:"menu",style:{width:"155px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options"])])])])]),_:1}),e(me,{class:"row q-px-lg q-py-sm q-pt-none",align:"left"},{default:t(()=>[Y(e(I,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[X]]),e(I,{class:"glossy",color:"teal",label:"Add",icon:"add",onClick:h,loading:_.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Pa=H(Ea,[["__scopeId","data-v-de3ca102"]]);const Ta=ke("designations",()=>{const s=w(null),o=w([]);return{designation:s,designations:o,createDesignation:async _=>{try{const f=await ee.post("/api/branchEmployee",_);f&&f.data?(o.value.unshift(f.data),le.create({type:"positive",message:"Employee created successfully",setTimeout:1e3,position:"top"})):console.error("Unexpected API Response:",f)}catch(f){console.error("Error creating employee:",f),le.create({type:"negative",message:"Failed to create employeesss",setTimeout:1e3})}}}});const je=s=>(G("data-v-e0249b88"),s=s(),Z(),s),Ua={class:"q-mb-md text-center"},Ca=je(()=>a("div",{class:"text-center"},[a("div",{class:"text-subtitle1 text-weight-medium"},"Branch Designations")],-1)),za=je(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC} Branch Designation",-1)),Na={key:0,class:"custom-list z-top"},Ia={class:"row q-gutter-md"},Ba=je(()=>a("div",{class:"q-my-md"},"Designation",-1)),Ra={class:"row q-gutter-x-md"},Fa={__name:"BranchDesignationEmployee",setup(s){O(()=>{const $=window.innerWidth;return $>1200?"500px":$>768?"80vw":"95vw"});const o=w(!1),m=Ta(),_=ie(),f=He(),d=w([]);w([]);const u=w(""),y=w(d.value),b=w(!1),i=w(!1),g=O(()=>_.employee),v=async()=>{u.value.trim()&&(i.value=!0,await _.searchCertainEmployee(u.value),i.value=!1)},h=$=>/^(0[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test($)||"Invalid time format";ae(async()=>{await f.fetchBranches(),d.value=f.branches.map($=>({label:$.name,value:$.id})),y.value=d.value});const c=($,x)=>{x(()=>{const S=$.toLowerCase();y.value=$===""?d.value:d.value.filter(L=>L.label.toLowerCase().includes(S))})},r=$=>{console.log("Selected Employee:",$),k.employee_id=$.id,k.employee_name=l($),k.position=$.position,u.value="",console.log("Filled Designation Data:",k)},l=$=>{const x=fe=>fe?fe.charAt(0).toUpperCase()+fe.slice(1).toLowerCase():"",S=$.firstname?x($.firstname):"No Firstname",L=$.middlename?x($.middlename).charAt(0)+".":"",pe=$.lastname?x($.lastname):"No Lastname";return`${S} ${L} ${pe}`},V=()=>{o.value=!0},k=ye({employee_id:"",employee_name:"",position:"",branch_name:"",time_shift:""}),E=()=>{k.employee_id="",k.employee_name="",k.position="",k.branch_name="",k.time_shift=""},P=async()=>{b.value=!0;const $={...k,branch_id:k.branch_name.value};await m.createDesignation($),console.log("Designation Data to Save:",$),b.value=!1,E(),o.value=!1};return($,x)=>(p(),A(M,null,[e(F,{class:"q-pa-md user-card",onClick:V,align:"center"},{default:t(()=>[a("div",Ua,[e(W,{name:"add_business",size:"20px",color:"red-7"})]),Ca]),_:1}),e(oe,{modelValue:o.value,"onUpdate:modelValue":x[5]||(x[5]=S=>o.value=S),"backdrop-filter":"blur(4px) saturate(150%)",position:"right"},{default:t(()=>[e(F,{style:{width:"800px","max-width":"100vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[za,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[a("div",null,[e(q,{modelValue:u.value,"onUpdate:modelValue":[x[0]||(x[0]=S=>u.value=S),v],label:"Search Employee",outlined:"",dense:"",debounce:"500",placeholder:"Enter name or position"},{append:t(()=>[i.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))]),default:t(()=>[u.value?(p(),A("div",Na,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var S;return[(S=g.value)!=null&&S.length?(p(!0),A(M,{key:1},ce(g.value,L=>(p(),U(J,{onClick:pe=>r(L),key:L.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(l(L)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])])]),_:1}),e(z,null,{default:t(()=>[a("div",Ia,[e(q,{outlined:"",readonly:"",dense:"",label:"Full Name",modelValue:k.employee_name,"onUpdate:modelValue":x[1]||(x[1]=S=>k.employee_name=S),style:{width:"300px"}},null,8,["modelValue"]),e(q,{outlined:"",readonly:"",dense:"",label:"Position",modelValue:k.position,"onUpdate:modelValue":x[2]||(x[2]=S=>k.position=S),style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(z,null,{default:t(()=>[Ba,a("div",Ra,[a("div",null,[e(Ee,{modelValue:k.branch_name,"onUpdate:modelValue":x[3]||(x[3]=S=>k.branch_name=S),outlined:"",flat:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:y.value,label:"Branch",onFilter:c,"hide-dropdown-icon":"",behavior:"menu",style:{width:"250px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options"])]),a("div",null,[e(q,{modelValue:k.time_shift,"onUpdate:modelValue":x[4]||(x[4]=S=>k.time_shift=S),outlined:"",flat:"",dense:"",mask:"##:## AA",label:"Time Schedule",rules:h,hint:"Format: 01:00 AM/PM",style:{width:"200px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue"])])])]),_:1}),e(me,{class:"row q-px-lg q-py-sm q-pt-none",align:"left"},{default:t(()=>[Y(e(I,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[X]]),e(I,{class:"glossy",color:"teal",label:"Add",onClick:P,loading:b.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ma=H(Fa,[["__scopeId","data-v-e0249b88"]]);const Oa=ke("warehouseEmployee",()=>{const s=w(null),o=w([]);return{warehouseEmployee:s,warehouseEmployees:o,createWarehouseEmployee:async _=>{try{const f=await ee.post("/api/warehouse-employee",_);o.value=f.data,le.create({type:"positive",message:"Employee created successfully",setTimeout:1e3,position:"top"}),console.log("Response:",f.data)}catch(f){console.error("Error creating employee:",f),le.create({type:"negative",message:"Failed to create employeesss",setTimeout:1e3})}}}});const Qe=s=>(G("data-v-2e2929c2"),s=s(),Z(),s),La={class:"q-mb-md text-center"},Wa=Qe(()=>a("div",{class:"text-center"},[a("div",{class:"text-subtitle1 text-weight-medium"}," Warehouse Designations ")],-1)),Ha=Qe(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC} Add Employee Designation",-1)),ja={key:0,class:"custom-list z-top"},Qa={class:"row q-gutter-md"},Ka=Qe(()=>a("div",{class:"q-my-md"},"Designation",-1)),Ya={class:"row q-gutter-x-md"},Xa={__name:"WarehouseDesignationEmployee",setup(s){O(()=>{const $=window.innerWidth;return $>1200?"500px":$>768?"80vw":"95vw"});const o=w(!1),m=Oa(),_=ie(),f=rt(),d=w([]);w([]);const u=w(""),y=w(d.value),b=w(!1),i=w(!1),g=O(()=>_.employee),v=async()=>{u.value.trim()&&(i.value=!0,await _.searchCertainEmployee(u.value),i.value=!1)},h=$=>/^(0[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test($)||"Invalid time format";ae(async()=>{await f.fetchWarehouses(),d.value=f.warehouses.map($=>({label:$.name,value:$.id})),y.value=d.value});const c=($,x)=>{x(()=>{const S=$.toLowerCase();y.value=$===""?d.value:d.value.filter(L=>L.label.toLowerCase().includes(S))})},r=$=>{console.log("Selected Employee:",$),k.employee_id=$.id,k.employee_name=l($),k.position=$.position,u.value="",console.log("Filled Designation Data:",k)},l=$=>{const x=fe=>fe?fe.charAt(0).toUpperCase()+fe.slice(1).toLowerCase():"",S=$.firstname?x($.firstname):"No Firstname",L=$.middlename?x($.middlename).charAt(0)+".":"",pe=$.lastname?x($.lastname):"No Lastname";return`${S} ${L} ${pe}`},V=()=>{o.value=!0},k=ye({employee_id:"",employee_name:"",position:"",warehouse_name:"",time_shift:""}),E=()=>{k.employee_id="",k.employee_name="",k.position="",k.warehouse_name="",k.time_shift=""},P=async()=>{b.value=!0;const $={...k,warehouse_id:k.warehouse_name.value};await m.createWarehouseEmployee($),console.log("Designation Data to Save:",$),b.value=!1,E(),o.value=!1};return($,x)=>(p(),A(M,null,[e(F,{class:"q-pa-md user-card",onClick:V,align:"center"},{default:t(()=>[a("div",La,[e(W,{name:"factory",size:"20px",color:`blue-grey-6\r
`})]),Wa]),_:1}),e(oe,{modelValue:o.value,"onUpdate:modelValue":x[5]||(x[5]=S=>o.value=S),"backdrop-filter":"blur(4px) saturate(150%)",position:"right"},{default:t(()=>[e(F,{style:{width:"600px","max-width":"100vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[Ha,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[a("div",null,[e(q,{modelValue:u.value,"onUpdate:modelValue":[x[0]||(x[0]=S=>u.value=S),v],label:"Search Employee",outlined:"",dense:"",debounce:"500",placeholder:"Enter name or position"},{append:t(()=>[i.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))]),default:t(()=>[u.value?(p(),A("div",ja,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var S;return[(S=g.value)!=null&&S.length?(p(!0),A(M,{key:1},ce(g.value,L=>(p(),U(J,{onClick:pe=>r(L),key:L.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(l(L)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])])]),_:1}),e(z,null,{default:t(()=>[a("div",Qa,[e(q,{outlined:"",readonly:"",dense:"",label:"Full Name",modelValue:k.employee_name,"onUpdate:modelValue":x[1]||(x[1]=S=>k.employee_name=S),style:{width:"300px"}},null,8,["modelValue"]),e(q,{outlined:"",readonly:"",dense:"",label:"Position",modelValue:k.position,"onUpdate:modelValue":x[2]||(x[2]=S=>k.position=S),style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(z,null,{default:t(()=>[Ka,a("div",Ya,[a("div",null,[e(Ee,{modelValue:k.warehouse_name,"onUpdate:modelValue":x[3]||(x[3]=S=>k.warehouse_name=S),outlined:"",flat:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:y.value,label:"Warehouse",onFilter:c,"hide-dropdown-icon":"",behavior:"menu",style:{width:"250px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options"])]),a("div",null,[e(q,{modelValue:k.time_shift,"onUpdate:modelValue":x[4]||(x[4]=S=>k.time_shift=S),outlined:"",flat:"",dense:"",mask:"##:## AA",label:"Time Schedule",rules:h,hint:"Format: 01:00 AM/PM",style:{width:"200px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue"])])])]),_:1}),e(me,{class:"row q-px-lg q-py-sm q-pt-none",align:"left"},{default:t(()=>[Y(e(I,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[X]]),e(I,{class:"glossy",color:"teal",label:"Add",onClick:P,loading:b.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ja=H(Xa,[["__scopeId","data-v-2e2929c2"]]);const Ga={class:"row justify-between"},Za={class:"col-12 col-md-9 col-lg-9 q-pa-sm"},el={class:"col-12 col-md-3 col-lg-3 q-gutter-y-md q-pa-sm card-side"},tl={class:"row2"},al={__name:"EmployeesPage",setup(s){return(o,m)=>(p(),A("div",Ga,[a("div",Za,[e(xa)]),a("div",el,[e(Pa),a("div",tl,[e(Ma),e(Ja)])])]))}};var ll=H(al,[["__scopeId","data-v-71812045"]]);const ol=s=>(G("data-v-663a67ba"),s=s(),Z(),s),nl=ol(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F554} Add Over Time",-1)),sl={class:"q-gutter-md"},il={class:"q-mb-lg"},rl={key:0,class:"custom-list z-top"},dl={class:"q-gutter-md q-my-lg"},ul={class:"q-mt-xl q-gutter-y-md"},cl={class:"row justify-between"},ml={class:"row justify-between"},pl={__name:"OvertimeButton",setup(s){const o=ze(),m=ie(),_=w(""),f=O(()=>m.employees),d=async()=>{_.value.trim()&&await m.searchEmployee(_.value)},u=w(!1),y=()=>{u.value=!0},b=n=>/^(0[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(n)||"Invalid time format",i=n=>{g.employee_id=n.id,g.employee_name=`${n.firstname} ${n.middlename?n.middlename.charAt(0)+".":""} ${n.lastname}`,g.position=n.position,_.value=""},g=ye({employee_id:"",employee_name:"",position:"",regularDateIN:"",dateIn:"",dateOut:"",timeIn:"",timeOut:""}),v=n=>{const c=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",r=n.firstname?c(n.firstname):"No Firstname",l=n.middlename?c(n.middlename).charAt(0)+".":"",V=n.lastname?c(n.lastname):"No Lastname";return`${r} ${l} ${V}`},h=async()=>{const n=`${g.dateIn} ${g.timeIn}`,c=`${g.dateOut} ${g.timeOut}`,r={...g,overtime_in:n,overtime_out:c};await o.saveOvertime(r),console.log("overtime dATA",r)};return(n,c)=>(p(),A(M,null,[a("div",null,[e(I,{padding:"sm md",label:"Add Over Time",icon:"add_circle",size:"md",class:"gradient-btn text-white",onClick:y})]),a("div",null,[e(oe,{modelValue:u.value,"onUpdate:modelValue":c[8]||(c[8]=r=>u.value=r),"full-height":"",persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"500px","max-width":"100vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:t(()=>[nl,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[a("div",sl,[a("div",il,[e(q,{modelValue:_.value,"onUpdate:modelValue":[c[0]||(c[0]=r=>_.value=r),d],label:"Search Employee",outlined:"",dense:"",debounce:"500",placeholder:"Enter name"},{append:t(()=>[e(W,{name:"search"})]),default:t(()=>[_.value?(p(),A("div",rl,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var r;return[(r=f.value)!=null&&r.length?(p(!0),A(M,{key:1},ce(f.value,l=>(p(),U(J,{onClick:V=>i(l),key:l.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(v(l)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])]),a("div",null,[a("div",dl,[e(q,{modelValue:g.employee_name,"onUpdate:modelValue":c[1]||(c[1]=r=>g.employee_name=r),outlined:"",dense:"",readonly:"",label:"Name"},null,8,["modelValue"]),e(q,{modelValue:g.position,"onUpdate:modelValue":c[2]||(c[2]=r=>g.position=r),outlined:"",dense:"",readonly:"",label:"Position"},null,8,["modelValue"])])])])]),_:1}),e(z,null,{default:t(()=>[e(q,{modelValue:g.regularDateIN,"onUpdate:modelValue":c[3]||(c[3]=r=>g.regularDateIN=r),outlined:"",dense:"",label:"Regular Date IN",type:"date"},null,8,["modelValue"])]),_:1}),e(z,null,{default:t(()=>[a("div",ul,[a("div",cl,[a("div",null,[e(q,{modelValue:g.dateIn,"onUpdate:modelValue":c[4]||(c[4]=r=>g.dateIn=r),outlined:"",dense:"",label:"Date IN",type:"date",style:{width:"170px"}},null,8,["modelValue"])]),a("div",null,[e(q,{modelValue:g.timeIn,"onUpdate:modelValue":c[5]||(c[5]=r=>g.timeIn=r),label:"Time IN",dense:"",mask:"##:## AA",outlined:"",rules:b,hint:"Format: hh:mm AM/PM"},null,8,["modelValue"])])]),a("div",ml,[a("div",null,[e(q,{modelValue:g.dateOut,"onUpdate:modelValue":c[6]||(c[6]=r=>g.dateOut=r),outlined:"",dense:"",label:"Date OUT",type:"date",style:{width:"170px"}},null,8,["modelValue"])]),a("div",null,[e(q,{modelValue:g.timeOut,"onUpdate:modelValue":c[7]||(c[7]=r=>g.timeOut=r),label:"Time OUT",dense:"",mask:"##:## AA",outlined:"",rules:b,hint:"Format: hh:mm AM/PM"},null,8,["modelValue"])])])])]),_:1}),e(z,null,{default:t(()=>[e(me,{class:"q-mt-md"},{default:t(()=>[e(I,{size:"md",padding:"xs md",label:"save","icon-right":"send",class:"gradient-btn text-white",onClick:h})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var _l=H(pl,[["__scopeId","data-v-663a67ba"]]);const ge=s=>(G("data-v-f6a9ed94"),s=s(),Z(),s),vl=ge(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F554} Edit Time",-1)),fl={class:"row justify-between"},yl={class:"q-mt-lg q-gutter-md"},hl={class:"row justify-between"},gl=ge(()=>a("div",null,"Time IN",-1)),bl=ge(()=>a("div",null,"Time OUT",-1)),wl={class:"row justify-between"},xl=ge(()=>a("div",null,"Lunch Break Start",-1)),$l=ge(()=>a("div",null,"Lunch Break End",-1)),kl={class:"row justify-between"},Vl=ge(()=>a("div",null,"Break Start",-1)),Sl=ge(()=>a("div",null,"Break End",-1)),Dl={class:"row justify-between"},ql=ge(()=>a("div",null,"Over Time Start",-1)),Al=ge(()=>a("div",null,"Over Time End",-1)),El={__name:"EditDTR",props:["edit"],setup(s){const m=s.edit.row,_=w(),f=y=>{const b=h=>h?h.charAt(0).toUpperCase()+h.slice(1).toLowerCase():"",i=y.firstname?b(y.firstname):"No Firstname",g=y.middlename?b(y.middlename).charAt(0)+".":"",v=y.lastname?b(y.lastname):"No Lastname";return`${i} ${g} ${v}`.trim()},d=ye({time_in:"",time_out:"",lunch_break_start:"",lunch_break_end:"",break_start:"",break_end:"",over_start:"",over_end:""}),u=()=>{Object.assign(d,m),_.value=!0};return(y,b)=>(p(),A(M,null,[e(I,{color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:"",onClick:u},{default:t(()=>[e(re,{class:"bg-positive",delay:200},{default:t(()=>[N("Edit")]),_:1})]),_:1}),e(oe,{modelValue:_.value,"onUpdate:modelValue":b[8]||(b[8]=i=>_.value=i)},{default:t(()=>[e(F,{style:{width:"550px","max-width":"80vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:t(()=>[vl,e(he),Y(e(I,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[a("div",fl,[a("div",null,"Name: "+T(f(R(m).employee)),1),a("div",null," Position: "+T(R(m).employee.position),1)]),a("div",yl,[a("div",hl,[a("div",null,[gl,e(q,{outlined:"",dense:"",modelValue:d.time_in,"onUpdate:modelValue":b[0]||(b[0]=i=>d.time_in=i)},null,8,["modelValue"])]),a("div",null,[bl,e(q,{outlined:"",dense:"",modelValue:d.time_out,"onUpdate:modelValue":b[1]||(b[1]=i=>d.time_out=i)},null,8,["modelValue"])])]),a("div",wl,[a("div",null,[xl,e(q,{outlined:"",dense:"",modelValue:d.lunch_break_start,"onUpdate:modelValue":b[2]||(b[2]=i=>d.lunch_break_start=i)},null,8,["modelValue"])]),a("div",null,[$l,e(q,{outlined:"",dense:"",modelValue:d.lunch_break_end,"onUpdate:modelValue":b[3]||(b[3]=i=>d.lunch_break_end=i)},null,8,["modelValue"])])]),a("div",kl,[a("div",null,[Vl,e(q,{outlined:"",dense:"",modelValue:d.break_start,"onUpdate:modelValue":b[4]||(b[4]=i=>d.break_start=i)},null,8,["modelValue"])]),a("div",null,[Sl,e(q,{outlined:"",dense:"",modelValue:d.break_end,"onUpdate:modelValue":b[5]||(b[5]=i=>d.break_end=i)},null,8,["modelValue"])])]),a("div",Dl,[a("div",null,[ql,e(q,{outlined:"",dense:"",modelValue:d.over_start,"onUpdate:modelValue":b[6]||(b[6]=i=>d.over_start=i)},null,8,["modelValue"])]),a("div",null,[Al,e(q,{outlined:"",dense:"",modelValue:d.over_end,"onUpdate:modelValue":b[7]||(b[7]=i=>d.over_end=i)},null,8,["modelValue"])])])])]),_:1}),e(me,{class:"row q-ma-md",align:"right"},{default:t(()=>[Y(e(I,{class:"btn-cancel glossy",color:"negative",label:"Cancel"},null,512),[[X]]),e(I,{class:"btn-create glossy",color:"positive",label:"Save"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Pl=H(El,[["__scopeId","data-v-f6a9ed94"]]);const Tl=s=>(G("data-v-798ca487"),s=s(),Z(),s),Ul=Tl(()=>a("div",{class:"text-h5 q-mb-md"},"Decline Overtime",-1)),Cl={class:"q-pa-md"},zl={__name:"DeclineOTButton",props:["decline"],setup(s){const o=s,m=ze();console.log("decline",o.decline);const _=O(()=>m.user);console.log("userDatafromDeclineButton",_.value);const f=w(!1),d=w(""),u=async()=>{f.value=!0},y=async()=>{try{await m.declineOvertime({id:o.decline.id,declined_by:_.value.employee.id,reason:d.value}),f.value=!1}catch(b){console.error("Error declining overtime:",b)}};return(b,i)=>(p(),A(M,null,[e(I,{dense:"",outline:"",color:"red",icon:"close",size:"sm",onClick:u}),e(oe,{modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=g=>f.value=g),"backdrop-filter":"blur(4px) saturate(150%) brightness(60%)"},{default:t(()=>[e(F,{style:{"max-width":"400px",width:"100%"}},{default:t(()=>[e(z,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Ul,a("div",Cl,[e(q,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=g=>d.value=g),filled:"",type:"textarea",placeholder:"Reason"},null,8,["modelValue"])])]),_:1}),e(se,{class:"q-mb-md"}),e(z,null,{default:t(()=>[e(me,{align:"right",class:"q-pt-none"},{default:t(()=>[Y(e(I,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(I,{dense:"",label:"Decline",color:"negative",disable:!d.value,onClick:y,class:"q-btn-rounded q-px-lg"},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Nl=H(zl,[["__scopeId","data-v-798ca487"]]);const Ke=s=>(G("data-v-9adc3dc2"),s=s(),Z(),s),Il={class:"row q-px-xm"},Bl=Ke(()=>a("div",null,"Approve",-1)),Rl=Ke(()=>a("div",{class:"text-h5 q-mb-md"},"Approve Overtime",-1)),Fl=Ke(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to approve overtime? This action cannot be undone. ",-1)),Ml={__name:"ApproveOTButton",props:["approve"],setup(s){const o=s;console.log("approve",o.approve);const m=ze(),_=O(()=>m.user);console.log("userDatafromApprovebutton",_.value);const f=w(!1),d=()=>{f.value=!0},u=async()=>{console.log("Approving overtime for ID:",o.approve.id),await m.approveOvertime({id:o.approve.id,approved_by:_.value.employee.id}),f.value=!1};return(y,b)=>(p(),A(M,null,[e(I,{unelevated:"",dense:"",color:"dark",size:"sm","no-caps":"",onClick:d},{default:t(()=>[a("div",Il,[e(W,{left:"",size:"1.5em",name:"check"}),Bl])]),_:1}),e(oe,{modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=i=>f.value=i),"backdrop-filter":"blur(4px) saturate(150%) brightness(60%)"},{default:t(()=>[e(F,null,{default:t(()=>[N(T(o.approve)+" ",1),e(z,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Rl,Fl]),_:1}),e(se,{class:"q-mb-md"}),e(z,null,{default:t(()=>[e(me,{align:"right",class:"q-pt-none"},{default:t(()=>[Y(e(I,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(I,{dense:"",label:"Approve",color:"dark",onClick:u,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ol=H(Ml,[["__scopeId","data-v-9adc3dc2"]]);function Ll(){const s=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",o=c=>{const r=c!=null&&c.firstname?s(c.firstname):"- ",l=c!=null&&c.middlename?s(c.middlename).charAt(0)+".":"-",V=c!=null&&c.lastname?s(c.lastname):" -";return`${r} ${l} ${V}`.trim()},m=c=>{if(!c)return" - - -";const r=new Date(c);return isNaN(r.getTime())?" - - -":r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},_=c=>{if(!c)return" - - -";const r=new Date(c);if(isNaN(r.getTime()))return" - - -";let l=r.getHours();const V=r.getMinutes().toString().padStart(2,"0"),k=l>=12?"PM":"AM";return l=l%12,l=l||12,`${l}:${V} ${k}`},f=(c,r)=>{if(!c||!r)return{hours:0,minutes:0};const l=new Date(c),V=new Date(r);if(isNaN(l.getTime())||isNaN(V.getTime()))return{hours:0,minutes:0};const k=V-l,E=Math.floor(k/(1e3*60)),P=Math.floor(E/60),$=E%60;return{hours:P,minutes:$}};return{capitalize:s,formatFullname:o,formatDate:m,formatTime:_,calculateTotalWorkingHours:f,calculateTotalOvertimeHours:(c,r)=>{if(!c||!r)return{hours:0,minutes:0};const l=new Date(c),V=new Date(r);if(isNaN(l.getTime())||isNaN(V.getTime()))return{hours:0,minutes:0};const k=V-l,E=Math.floor(k/(1e3*60)),P=Math.floor(E/60),$=E%60;return{hours:P,minutes:$}},getLunchBreakColor:(c,r)=>{const{hours:l,minutes:V}=f(c,r);return l>1||V>0?"green-7":"blue-grey-9"},getLunchBreakIcon:(c,r)=>{const{hours:l,minutes:V}=f(c,r);return l>1||V>0?"check_circle":"access_time"},getBreakColor:(c,r)=>{const{hours:l,minutes:V}=f(c,r);return l>0||V>15?"pink-13":"green-7"},getBreakHoursIcon:(c,r)=>{const{hours:l,minutes:V}=f(c,r);return l>0||V>15?"access_time":"check_circle"},getWorkHoursColor:(c,r)=>{const{hours:l,minutes:V}=f(c,r);return l>9||l===9&&V>0?"blue-grey-9":l>=8?"green-7":"pink-13"},getWorkHoursIcon:(c,r)=>{const{hours:l,minutes:V}=f(c,r);return l>=9||l===9&&V>0?"alarm_on":l>=8?"check_circle":"access_time"},getBadgePositionColor:c=>{switch(c){case"Super Admin":return"blue-10";case"Admin":return"purple-10";case"Supervisor":return"teal-7";case"Scaler":return"green-8";case"Lamesador":return"orange-5";case"Hornero":return"red-6";case"Baker":return"brown";case"Cake Maker":return"brown-4";case"Cashier":return"green-5";case"Sales Clerk":return"blue-5";case"Utility":return"grey-7";case"Not Yet Assigned":return"grey-4";default:return"grey-4"}},truncateText:(c,r)=>c?c.length>r?c.slice(0,r)+"...":c:""}}const Wl={class:"row justify-between q-mb-md",align:"right"},Hl={key:1},jl={key:1},Ql={key:1},Kl={key:1},Yl={key:1},Xl={key:1},Jl={key:1},Gl={key:1},Zl={key:1},eo={key:2},to={key:3,class:"q-gutter-x-sm"},ao={key:0},lo={class:"row justify-center q-gutter-x-md"},oo={__name:"AttendanceTable",setup(s){const o=Ll(),m=w({page:1,rowsPerPage:0,rowsNumber:0}),_=w(""),f=w(!1),d=ze(),u=O(()=>d.dtrs),y=w([]);At(),ae(async()=>{await b()});const b=async(v=0,h=5,n="")=>{try{f.value=!0,await d.fetchDTR(v,h,n);const{data:c,current_page:r,per_page:l,total:V}=u.value;y.value=c,m.value={page:r,rowsPerPage:l,rowsNumber:V},f.value=!1}catch(c){console.log("Error fetching DTR data:",c)}},i=[{name:"name",required:!0,label:"Name",align:"left",field:v=>o.formatFullname(v.employee)},{name:"position",required:!0,label:"Position",align:"center",field:v=>{var h;return((h=v.employee)==null?void 0:h.position)||"N/A"}},{name:"where_in",required:!0,label:"Where IN",align:"center",field:v=>v.device_in_reference_name||"N/A"},{name:"where_out",required:!0,label:"Where OUT",align:"center",field:v=>v.device_out_reference_name||"N/A"},{name:"date_in",required:!0,label:"Date In",align:"center",field:"time_in",format:o.formatDate},{name:"date_out",required:!0,label:"Date Out",align:"center",field:"time_out",format:o.formatDate},{name:"time_in",required:!0,label:"Time In",align:"center",field:"time_in"},{name:"time_out",required:!0,label:"Time Out",align:"center",field:"time_out",format:o.formatTime},{name:"lunch_break_start",required:!0,label:"Lunch Break Start",align:"center",field:"lunch_break_start",format:o.formatTime},{name:"lunch_break_end",required:!0,label:"Lunch Break End",align:"center",field:"lunch_break_end",format:o.formatTime},{name:"break_start",required:!0,label:"Break Start",align:"center",field:"break_start",format:o.formatTime},{name:"break_end",required:!0,label:"Break End",align:"center",field:"break_end",format:o.formatTime},{name:"break",required:!0,label:"Total Break",align:"center",field:v=>{const{hours:h,minutes:n}=o.calculateTotalWorkingHours(v.break_start,v.break_end);return`${h}h ${n}m`}},{name:"lunch_break",required:!0,label:"Total Lunch break",align:"center",field:v=>{const{hours:h,minutes:n}=o.calculateTotalWorkingHours(v.lunch_break_start,v.lunch_break_end);return`${h}h ${n}m`}},{name:"total_working_hours",required:!0,label:"Work Hours",align:"center",field:v=>{const{hours:h,minutes:n}=o.calculateTotalWorkingHours(v.time_in,v.time_out);return`${h}h ${n}m`}},{name:"overtime_start",required:!0,label:"Overtime Start",align:"center",field:"overtime_start",format:o.formatTime},{name:"overtime_end",required:!0,label:"Overtime End",align:"center",field:"overtime_end",format:o.formatTime},{name:"total_overtime",required:!0,label:"OT Total Hours",align:"center",field:v=>{const{hours:h,minutes:n}=o.calculateTotalOvertimeHours(v.overtime_start,v.overtime_end);return`${h}h ${n}m`}},{name:"overtime_reason",required:!0,label:"Overtime Reason",align:"justify",field:"overtime_reason",format:v=>v||" - - - "},{name:"declined_reason",label:"Declined Reason",field:"declined_reason",format:v=>v||" - - - ",sortable:!1},{name:"ot_status",label:"OT Status",align:"center",field:v=>v.ot_status,sortable:!1},{name:"approved_by",label:"Approved By",align:"center",field:v=>o.formatFullname(v.approvedBy),sortable:!1},{name:"action",label:"Action",align:"right"}],g=v=>{b(v.pagination.page,v.pagination.rowsPerPage,v.filter)};return Ae(_,async v=>{await b(m.value.page,m.value.rowsPerPage,v)}),(v,h)=>(p(),A(M,null,[a("div",Wl,[a("div",null,[e(_l)]),e(q,{modelValue:_.value,"onUpdate:modelValue":h[0]||(h[0]=n=>_.value=n),outlined:"",dense:"",flat:"",label:"Search",debounce:"300",style:{width:"300px"}},null,8,["modelValue"])]),a("div",null,[e(Ve,{rows:y.value,columns:i,"row-key":"time_in",pagination:m.value,"onUpdate:pagination":h[1]||(h[1]=n=>m.value=n),"rows-per-page-options":[3,5,10,0],loading:f.value,filter:_.value,onRequest:g},{"body-cell-position":t(n=>[e(Q,{props:n},{default:t(()=>{var c,r;return[e($e,{outline:"",square:"","text-color":R(o).getBadgePositionColor((c=n.row.employee)==null?void 0:c.position),color:R(o).getBadgePositionColor((r=n.row.employee)==null?void 0:r.position),class:"q-ma-xs",size:"sm"},{default:t(()=>{var l;return[N(T(((l=n.row.employee)==null?void 0:l.position)||"N/A"),1)]}),_:2},1032,["text-color","color"])]}),_:2},1032,["props"])]),"body-cell-time_in":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.time_in?(p(),U(_e,{key:0,outline:"",color:"positive"},{default:t(()=>[N(T(R(o).formatTime(n.row.time_in)),1)]),_:2},1024)):(p(),A("span",Hl," - - - "))]),_:2},1032,["props"])]),"body-cell-time_out":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.time_out?(p(),U(_e,{key:0,outline:"",color:"purple-12"},{default:t(()=>[N(T(R(o).formatTime(n.row.time_out)),1)]),_:2},1024)):(p(),A("span",jl," - - - "))]),_:2},1032,["props"])]),"body-cell-lunch_break_start":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.lunch_break_start?(p(),U(_e,{key:0,outline:"",color:"amber-7"},{default:t(()=>[N(T(R(o).formatTime(n.row.lunch_break_start)),1)]),_:2},1024)):(p(),A("span",Ql," - - - "))]),_:2},1032,["props"])]),"body-cell-lunch_break_end":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.lunch_break_end?(p(),U(_e,{key:0,outline:"",color:"amber-4"},{default:t(()=>[N(T(R(o).formatTime(n.row.lunch_break_end)),1)]),_:2},1024)):(p(),A("span",Kl," - - - "))]),_:2},1032,["props"])]),"body-cell-break_start":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.break_start?(p(),U(_e,{key:0,outline:"",color:"blue-7"},{default:t(()=>[N(T(R(o).formatTime(n.row.break_start)),1)]),_:2},1024)):(p(),A("span",Yl," - - - "))]),_:2},1032,["props"])]),"body-cell-break_end":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.break_end?(p(),U(_e,{key:0,outline:"",color:"blue-4"},{default:t(()=>[N(T(R(o).formatTime(n.row.break_end)),1)]),_:2},1024)):(p(),A("span",Xl," - - - "))]),_:2},1032,["props"])]),"body-cell-break":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.break_start&&n.row.break_end?(p(),U(_e,{key:0,outline:"",color:R(o).getBreakColor(n.row.break_start,n.row.break_end),class:"q-ma-xs",size:"md"},{default:t(()=>[e(W,{name:R(o).getBreakHoursIcon(n.row.break_start,n.row.break_end),size:"xs",class:"q-mr-xs"},null,8,["name"]),N(" "+T(`${R(o).calculateTotalWorkingHours(n.row.break_start,n.row.break_end).hours} Hrs : ${R(o).calculateTotalWorkingHours(n.row.break_start,n.row.break_end).minutes} Min`),1)]),_:2},1032,["color"])):(p(),A("span",Jl," - - - "))]),_:2},1032,["props"])]),"body-cell-lunch_break":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.lunch_break_start&&n.row.lunch_break_end?(p(),U(_e,{key:0,outline:"",color:R(o).getLunchBreakColor(n.row.lunch_break_start,n.row.lunch_break_end),class:"q-ma-xs",size:"md"},{default:t(()=>[e(W,{name:R(o).getLunchBreakIcon(n.row.lunch_break_start,n.row.lunch_break_end),size:"xs",class:"q-mr-xs"},null,8,["name"]),N(" "+T(`${R(o).calculateTotalWorkingHours(n.row.lunch_break_start,n.row.lunch_break_end).hours} Hrs : ${R(o).calculateTotalWorkingHours(n.row.lunch_break_start,n.row.lunch_break_end).minutes} Min`),1)]),_:2},1032,["color"])):(p(),A("span",Gl," - - - "))]),_:2},1032,["props"])]),"body-cell-total_working_hours":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.time_in&&n.row.time_out?(p(),U(_e,{key:0,outline:"",color:R(o).getWorkHoursColor(n.row.time_in,n.row.time_out),class:"q-ma-xs",size:"md"},{default:t(()=>[e(W,{name:R(o).getWorkHoursIcon(n.row.time_in,n.row.time_out),size:"xs",class:"q-mr-xs"},null,8,["name"]),N(" "+T(`${R(o).calculateTotalWorkingHours(n.row.time_in,n.row.time_out).hours} Hrs : ${R(o).calculateTotalWorkingHours(n.row.time_in,n.row.time_out).minutes} Min`),1)]),_:2},1032,["color"])):(p(),A("span",Zl," - - - "))]),_:2},1032,["props"])]),"body-cell-ot_status":t(n=>[e(Q,{props:n,class:"row"},{default:t(()=>[n.row.ot_status==="approved"?(p(),U($e,{key:0,size:"sm",color:"green-1","text-color":"green-8",rounded:"",icon:"check_circle",label:R(o).capitalize(n.row.ot_status)},null,8,["label"])):n.row.ot_status==="declined"?(p(),U($e,{key:1,size:"sm",color:"red-2","text-color":"red-14",rounded:"",icon:"cancel",label:R(o).capitalize(n.row.ot_status)},null,8,["label"])):n.row.ot_status?(p(),A("div",to,[e(Nl,{decline:n.row},null,8,["decline"]),e(Ol,{approve:n.row},null,8,["approve"])])):(p(),A("span",eo," - - - "))]),_:2},1032,["props"])]),"body-cell-overtime_reason":t(n=>[e(Q,{props:n},{default:t(()=>[n.row.overtime_reason?(p(),A("span",ao,[N(T(R(o).truncateText(n.row.overtime_reason,15))+" ",1),n.row.overtime_reason.length>15?(p(),U(re,{key:0,class:"bg-blue-grey-10 text-white text-subtitle1",offset:[10,10]},{default:t(()=>[N(T(n.row.overtime_reason),1)]),_:2},1024)):te("",!0)])):te("",!0)]),_:2},1032,["props"])]),"body-cell-action":t(n=>[e(Q,{props:n},{default:t(()=>[a("div",lo,[e(Pl,{edit:n},null,8,["edit"])])]),_:2},1032,["props"])]),_:1},8,["rows","pagination","loading","filter"])])],64))}};var no=H(oo,[["__scopeId","data-v-256bd1a7"]]);const pt=s=>(G("data-v-471f69e6"),s=s(),Z(),s),so={class:"q-mb-md",align:"right"},io={key:0,class:"custom-list z-top"},ro={class:"row"},uo={class:"col-3 q-ma-lg",align:"center"},co={class:"q-pa-lg"},mo=["src"],po={class:"row q-mt-lg",align:"left"},_o=pt(()=>a("div",{class:"col-3"},[a("div",null,"Name:"),a("div",null,"Position:"),a("div",null,"Age:")],-1)),vo={class:"col-9"},fo={class:"col-8 q-ml-lg"},yo={class:"row justify-between"},ho={class:"row justify-between q-mt-md"},go={class:"row"},bo={class:"q-my-md"},wo={class:"row justify-between text-h6 text-white"},xo=pt(()=>a("div",null,"\u{1F5D3}\uFE0F Daily Time Record",-1)),$o=["src"],ko={__name:"AttendanceSummary",setup(s){Fe.exports.vfs=dt;const o=ie(),m=O(()=>o.employees),_=ze(),f=w("https://cdn.quasar.dev/img/boy-avatar.png"),d=w("");w(null);const u=w(null),y=w(""),b=w(""),i=w(""),g=w(""),v=w(""),h=w(!1),n=w("");w(!1);const c=()=>{f.value="https://cdn.quasar.dev/img/boy-avatar.png"},r=w({rowsPerPage:0}),l=async()=>{d.value.trim()&&await o.searchEmployee(d.value)},V=async D=>{d.value="",i.value=E(D),g.value=D.position||"Unknown",v.value=k(D.birthdate),u.value=D.id;const C=Ce.formatDate(new Date,"YYYY-MM-DD");if(C){const{startDate:B,endDate:j}=$(C);y.value=B,b.value=j;const K={employee_id:u.value,start_date:y.value,end_date:b.value};await _.fetchDTRRange(K),console.log("Request Data:",K)}else console.error("Failed to format the current date")},k=D=>{if(!D)return"N/A";const C=new Date(D),B=new Date;let j=B.getFullYear()-C.getFullYear();const K=B.getMonth()-C.getMonth();return(K<0||K===0&&B.getDate()<C.getDate())&&j--,j},E=D=>{const C=ne=>ne?ne.charAt(0).toUpperCase()+ne.slice(1).toLowerCase():"",B=D.firstname?C(D.firstname):"No Firstname",j=D.middlename?C(D.middlename).charAt(0)+".":"",K=D.lastname?C(D.lastname):"No Lastname";return`${B} ${j} ${K}`},P=()=>{const D=Ce.formatDate(new Date,"YYYY-MM-DD"),{startDate:C,endDate:B}=$(D);y.value=C,b.value=B},$=D=>{if(!D)return console.error("Invalid formatted date:",D),{startDate:null,endDate:null};const C=parseInt(D.slice(8,10),10);let B,j;if(C>=11&&C<=25)B=`${D.slice(0,7)}-11`,j=`${D.slice(0,7)}-25`;else{const K=C>=26?D.slice(5,7):(parseInt(D.slice(5,7),10)-1).toString().padStart(2,"0"),ne=C>=26?(parseInt(D.slice(5,7),10)+1).toString().padStart(2,"0"):D.slice(5,7);B=`${D.slice(0,4)}-${K}-26`,j=`${D.slice(0,4)}-${ne}-10`}return console.log("Calculated Start Date:",B),console.log("Calculated End Date:",j),{startDate:B,endDate:j}},x=D=>{const C=new Date(D);if(isNaN(C.getTime()))return" - - - ";const B={month:"short",day:"2-digit",year:"numeric"},j=C.toLocaleDateString("en-US",B).replace(",",""),[K,ne,De]=j.split(" ");return`${K}. ${ne}, ${De}`},S=x(y.value);console.log("formattedStart",S),x(new Date(y)),x(new Date(b));const L=O(()=>{const D=_.dtrCutOffData;console.log("DTR Data",D);const C=(B,j)=>{if(!B||!j)return" - - - ";const K=new Date(B),ne=new Date(j);if(isNaN(K.getTime())||isNaN(ne.getTime()))return" - - - ";const De=ne-K;if(De<=0)return" - - - ";const Re=Math.floor(De/(1e3*60)),Pe=String(Math.floor(Re/60)).padStart(2,"0"),Oe=String(Re%60).padStart(2,"0");return`${Pe} h : ${Oe} m`};return D.map((B,j)=>{const K=B.time_in,ne=B.time_out,De=B.overtime_start,Re=B.overtime_end,Pe=C(K,ne),Oe=C(De,Re);let et=" - - - ";const tt=8;if(Pe!==" - - - "){const[bt,wt]=Pe.split(" h : "),at=parseInt(bt,10)+parseInt(wt,10)/60;if(at<tt){const lt=(tt-at)*60,xt=String(Math.floor(lt/60)).padStart(2,"0"),$t=String(Math.floor(lt%60)).padStart(2,"0");et=`${xt} h : ${$t} m`}}return{entry:j+1,time_in:B.time_in,time_out:B.time_out,total_working_hours:Pe,undertime:et,overtime:Oe}})}),pe=async()=>{u.value&&y.value&&b.value&&await _.fetchDTRRange({employee_id:u.value,start_date:y.value,end_date:b.value})};console.log("DTR ROW",L.value);const fe=()=>{const D=new Date(y.value);D.setDate(D.getDate()-15);const{startDate:C,endDate:B}=$(Ce.formatDate(D,"YYYY-MM-DD"));y.value=C,b.value=B,pe()},vt=()=>{const D=new Date(b.value);D.setDate(D.getDate()+1);const{startDate:C,endDate:B}=$(Ce.formatDate(D,"YYYY-MM-DD"));y.value=C,b.value=B,pe()},ft=()=>{P(),pe()};P();const yt=D=>{const C=ht();Fe.exports.createPdf(C).getDataUrl(B=>{n.value=B,h.value=!0})},ht=()=>({pageMargins:[40,40,-10,40],content:[{text:"Daily Time Record",style:"header"},{text:[{text:"From: ",bold:!1,fontSize:8},{text:` ${x(y.value)}`,bold:!0,decoration:"underline",fontSize:10}],margin:[0,0,0,3]},{text:[{text:"To: ",bold:!1,fontSize:8},{text:`     ${x(b.value)}`,bold:!0,decoration:"underline",fontSize:10}],margin:[0,0,0,10]},{columns:[{text:[{text:"Employee Name:",bold:!1,fontSize:8},{text:`  ${i.value}`,bold:!0,decoration:"underline",fontSize:10}]},{text:[{text:"Position:",bold:!1,fontSize:8},{text:`  ${g.value}`,bold:!0,decoration:"underline",fontSize:10}]},{text:[{text:"Age:",bold:!1,fontSize:8},{text:`  ${v.value}`,bold:!0,decoration:"underline",fontSize:10}]}],margin:[0,0,0,10]},{table:{headerRows:1,widths:["auto","auto","auto","auto","auto","auto"],body:[[{text:"Number of Days",bold:!0},{text:"Time In",bold:!0,alignment:"center"},{text:"Time Out",bold:!0,alignment:"center"},{text:"Total Working Hours",bold:!0},{text:"Undertime",bold:!0},{text:"Overtime",bold:!0}],...L.value.map(D=>[{text:D.entry,alignment:"center"},{text:D.time_in||" - - - ",alignment:"center"},{text:D.time_out||" - - - ",alignment:"center"},{text:D.total_working_hours||" - - - ",alignment:"center"},{text:D.undertime||" - - - ",alignment:"center"},{text:D.overtime||" - - - ",alignment:"center"}])]},layout:{hLineWidth:function(D,C){return D===0||D===C.table.body.length?1:.5},vLineWidth:function(D,C){return .5},hLineColor:function(D,C){return D===0||D===C.table.body.length?"black":"#ccc"},vLineColor:function(D,C){return"#ccc"}}}],styles:{header:{fontSize:14,bold:!0,alignment:"center",margin:[0,5,0,10]},tableHeader:{bold:!0,fontSize:13,color:"black"}},defaultStyle:{fontSize:9}}),gt=[{name:"number_of_days",required:!0,label:"NOD",align:"center",field:D=>D.entry,format:D=>`${D}`},{name:"in",align:"center",label:"IN",field:"time_in",format:D=>{if(!D)return"";const C=D.split(", ");return C.length<2?D:`${C[0]}, ${C[1]} || ${C[2]}`}},{name:"out",label:"OUT",align:"center",field:"time_out",format:D=>{if(!D)return"";const C=D.split(", ");return C.length<2?D:`${C[0]}, ${C[1]} || ${C[2]}`}},{name:"total_working_hours",label:"Total Working Hours",align:"center",field:"total_working_hours"},{name:"overtime",label:"Overtime",field:"overtime",align:"center"},{name:"undertime",label:"Undertime",field:"undertime",align:"center"}];return(D,C)=>(p(),A(M,null,[a("div",so,[e(q,{modelValue:d.value,"onUpdate:modelValue":[C[0]||(C[0]=B=>d.value=B),l],debounce:"500",outlined:"",dense:"",flat:"",label:"Search",style:{width:"300px"}},{append:t(()=>[a("div",null,[e(W,{name:"search"})])]),default:t(()=>[d.value?(p(),A("div",io,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var B;return[(B=m.value)!=null&&B.length?(p(!0),A(M,{key:1},ce(m.value,j=>(p(),U(J,{key:j.id,clickable:"",onClick:K=>V(j)},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(E(j)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])]),a("div",null,[e(F,{bordered:"",dense:"",flat:"",class:"q-pa-md"},{default:t(()=>[a("div",ro,[a("div",uo,[a("div",co,[e(st,{size:"150px",color:"grey-2"},{default:t(()=>[a("img",{src:f.value,onError:c},null,40,mo)]),_:1})]),a("div",po,[_o,a("div",vo,[a("div",null,T(i.value),1),a("div",null,T(g.value),1),a("div",null,T(v.value),1)])])]),e(se,{vertical:""}),a("div",fo,[a("div",yo,[a("div",null,"From: "+T(x(y.value)),1),a("div",null,"To: "+T(x(b.value)),1)]),a("div",ho,[a("div",null,[a("div",go,[e(I,{padding:"sm md",size:"sm",dense:"",flat:"",label:"prev",icon:"arrow_back_ios_new",onClick:fe}),e(se,{vertical:""}),e(I,{padding:"sm md",size:"sm",dense:"",flat:"",onClick:ft},{default:t(()=>[N("CURRENT")]),_:1}),e(se,{vertical:""}),e(I,{padding:"sm md",size:"sm",dense:"",flat:"",label:"next",icon:"arrow_forward_ios",onClick:vt})])]),a("div",null,[e(I,{padding:"sm md",size:"sm",icon:"print",dense:"",label:"PRINT",class:"gradient-btn text-white",onClick:yt})])]),a("div",bo,[e(Ve,{flat:"",bordered:"",separator:"cell",rows:L.value,columns:gt,"row-key":"entry",class:"full-height-table",pagination:r.value,"onUpdate:pagination":C[1]||(C[1]=B=>r.value=B),"hide-bottom":""},null,8,["rows","pagination"])])])])]),_:1})]),e(oe,{modelValue:h.value,"onUpdate:modelValue":C[2]||(C[2]=B=>h.value=B),"full-height":"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"820px","max-width":"80vw"}},{default:t(()=>[e(z,{class:"gradient-btn"},{default:t(()=>[a("div",wo,[xo,a("div",null,[Y(e(I,{rounded:"",flat:"",dense:"",icon:"arrow_forward_ios"},null,512),[[X]])])])]),_:1}),a("div",null,[a("iframe",{src:n.value,width:"100%",height:"700px"},null,8,$o)])]),_:1})]),_:1},8,["modelValue"])],64))}};var Vo=H(ko,[["__scopeId","data-v-471f69e6"]]);const So={class:"q-gutter-y-sm"},Do={__name:"AttendancePage",setup(s){const o=w("dtr_overview");return(m,_)=>(p(),A("div",null,[a("div",So,[e(Le,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=f=>o.value=f),"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(de,{class:"text-white",name:"dtr_overview",icon:"event_available",label:"DTR Overview"}),e(de,{class:"text-white",name:"attendance_summary",icon:"calendar_month",label:"Attendance Summary"})]),_:1},8,["modelValue"])]),e(We,{modelValue:o.value,"onUpdate:modelValue":_[1]||(_[1]=f=>o.value=f),animated:""},{default:t(()=>[e(ue,{name:"dtr_overview"},{default:t(()=>[e(no)]),_:1}),e(ue,{name:"attendance_summary"},{default:t(()=>[e(Vo)]),_:1})]),_:1},8,["modelValue"])]))}};var qo=H(Do,[["__scopeId","data-v-afc5c00a"]]);const Ye=ke("employee-allowance",()=>{const s=w(null),o=w([]);return{allowance:s,allowances:o,createEmployeeAllowance:async d=>{try{const u=await ee.post("/api/employee-allowance",d);console.log("employee response",u.data),o.value.unshift(u.data),le.create({type:"positive",message:"Allowance successfully created",timeout:1e3})}catch(u){console.log(u);let y="An error occurred. Please try again.";u.response&&u.response.status===409?y="Allowance for this employee already exists.":u.response&&u.response.status===422&&(y="Invalid data. Please check the inputs."),le.create({type:"negative",message:y,timeout:1e3})}},fetchEmployeeAllowance:async()=>{try{const d=await ee.get("/api/employee-allowance");o.value=d.data}catch(d){console.log("error fetching allowance",d)}},searchAllowance:async d=>{try{console.log("Searching for employee with keyword:",d);const u=await ee.post(`/api/search-allowance?keyword=${d}`);console.log("Allowance response:",u),o.value=u.data}catch(u){console.error("Error searching employee:",u)}}}});const Ao=s=>(G("data-v-05f69abd"),s=s(),Z(),s),Eo=Ao(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F4BC} Add Employee Allowance",-1)),Po={key:0,class:"custom-list z-top"},To={class:"q-gutter-md"},Uo={__name:"AddAllowance",setup(s){const o=ie(),m=O(()=>o.employees),_=Ye(),f=O(()=>_.allowances),d=w(""),u=w(!1),y=w(!1),b=w(!1),i=()=>{u.value=!0},g=async()=>{d.value.trim()&&(b.value=!0,await o.searchEmployee(d.value),b.value=!1)},v=r=>{console.log("Selected Employee:",r),h.employee_id=r.id,h.employee_name=`${r.firstname} ${r.middlename?r.middlename.charAt(0)+".":""} ${r.lastname}`,h.employee_position=r.position,d.value="",console.log("Filled Designation Data:",h)},h=ye({employee_id:"",employee_name:"",employee_position:"",amount:""}),n=()=>{h.employee_id="",h.employee_name="",h.employee_position="",h.amount=""},c=async()=>{y.value=!0;try{const r=await _.createEmployeeAllowance(h);console.log("data to be save",r),n(),f.value=await _.fetchEmployeeAllowance(),u.value=!1}catch(r){console.log(r)}finally{y.value=!1}};return(r,l)=>(p(),A("div",null,[e(I,{padding:"sm md",label:"Add Allowance",icon:"add_circle",size:"md",class:"gradient-btn text-white",onClick:i}),e(oe,{modelValue:u.value,"onUpdate:modelValue":l[4]||(l[4]=V=>u.value=V),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"400px","max-width":"80vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:t(()=>[Eo,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[e(q,{modelValue:d.value,"onUpdate:modelValue":[l[0]||(l[0]=V=>d.value=V),g],label:"Search Employee",outlined:"",dense:"",rounded:"",debounce:"500",placeholder:"Enter name"},{append:t(()=>[b.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))]),default:t(()=>[d.value?(p(),A("div",Po,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var V;return[(V=m.value)!=null&&V.length?(p(!0),A(M,{key:1},ce(m.value,k=>(p(),U(J,{onClick:E=>v(k),key:k.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(`${k.firstname} ${k.middlename?k.middlename.charAt(0)+".":""} ${k.lastname}`),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])]),_:1}),e(z,null,{default:t(()=>[a("div",To,[e(q,{modelValue:h.employee_name,"onUpdate:modelValue":l[1]||(l[1]=V=>h.employee_name=V),outlined:"",dense:"",readonly:"",label:"Name"},null,8,["modelValue"]),e(q,{modelValue:h.employee_position,"onUpdate:modelValue":l[2]||(l[2]=V=>h.employee_position=V),outlined:"",dense:"",readonly:"",label:"Position"},null,8,["modelValue"])])]),_:1}),e(z,null,{default:t(()=>[e(q,{modelValue:h.amount,"onUpdate:modelValue":l[3]||(l[3]=V=>h.amount=V),outlined:"",dense:"",label:"Allowance amount"},null,8,["modelValue"])]),_:1}),e(me,null,{default:t(()=>[e(I,{size:"md",padding:"xs md",label:"save","icon-right":"send",class:"gradient-btn text-white",onClick:c,loading:y.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Co=H(Uo,[["__scopeId","data-v-05f69abd"]]);const zo={__name:"SearchAllowance",setup(s){const o=Ye();O(()=>o.allowances);const m=w(""),_=w(!1),f=async()=>{_.value=!0,await o.searchAllowance(m.value),_.value=!1};return(d,u)=>(p(),A("div",null,[e(q,{modelValue:m.value,"onUpdate:modelValue":[u[0]||(u[0]=y=>m.value=y),f],outlined:"",dense:"",flat:"",label:"Search",debounce:"1000",style:{width:"300px"}},{append:t(()=>[a("div",null,[_.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))])]),_:1},8,["modelValue"])]))}};const No={class:"row justify-between q-mb-md",align:"right"},Io={__name:"AllowanceTable",setup(s){const o=Ye(),m=O(()=>o.allowances),_=w({rowsPerPage:0});ae(async()=>{await f()});const f=async()=>{try{m.value=await o.fetchEmployeeAllowance(),console.log("allowance",m.value)}catch(i){console.log("Error fetching allowance",i)}},d=i=>{const g=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",v=i.firstname?g(i.firstname):"No Firstname",h=i.middlename?g(i.middlename).charAt(0)+".":"",n=i.lastname?g(i.lastname):"No Lastname";return`${v} ${h} ${n}`.trim()},u=i=>{if(!i)return" - - ";const g=new Date(i);return isNaN(g.getTime())?" - - ":g.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},y=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),b=[{name:"date",required:!0,label:"Date",align:"center",field:i=>u(i.created_at)},{name:"name",required:!0,label:"Name",align:"center",field:i=>d(i.employee)},{name:"amount",required:!0,label:"Amount",align:"center",field:i=>y(i.amount)},{name:"actions",required:!0,label:"Actions",align:"center",field:"actions"}];return(i,g)=>(p(),A(M,null,[a("div",No,[a("div",null,[e(Co)]),e(zo)]),e(Ve,{class:"sticky-header",rows:m.value,columns:b,"row-key":"name",pagination:_.value,"onUpdate:pagination":g[0]||(g[0]=v=>_.value=v),"hide-bottom":""},{"body-cell-actions":t(v=>[e(Q,{props:v},{default:t(()=>[e(I,{color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(re,{class:"bg-positive",delay:200},{default:t(()=>[N("Edit")]),_:1})]),_:1})]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])],64))}};var Bo=H(Io,[["__scopeId","data-v-09d8f5e1"]]);const Xe=ke("benefits",()=>{const s=w(null),o=w([]);return{benefit:s,benefits:o,fetchEmployeeBenefit:async()=>{try{const d=await ee.get("/api/employee-benefit");o.value=d.data}catch(d){console.log("error fetching benefits",d)}},createEmployeeBenefit:async d=>{try{const u=await ee.post("/api/employee-benefit",d);o.value.unshift(u.data),le.create({type:"positive",message:"Employee deductions successfully created",setTimeout:1e3})}catch(u){console.log(u);let y="An error occurred. Please try again.";u.response&&u.response.status===409?y="Allowance for this employee already exists.":u.response&&u.response.status===422&&(y="Invalid data. Please check the inputs."),le.create({type:"negative",message:y,timeout:5e3})}},searchBenefit:async d=>{try{console.log("Searching for employee with keyword:",d);const u=await ee.post(`/api/search-benefit?keyword=${d}`);console.log("Allowance response:",u.data),o.value=u.data}catch(u){console.error("Benefits error",u)}}}});const Je=s=>(G("data-v-2e592a79"),s=s(),Z(),s),Ro=Je(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F4BC} Add Employee Deductions",-1)),Fo={key:0,class:"custom-list z-top"},Mo={class:"row q-gutter-md text-subtitle1"},Oo=Je(()=>a("div",null,"Name:",-1)),Lo={class:"text-weight-medium"},Wo={class:"row q-gutter-md text-subtitle1"},Ho=Je(()=>a("div",null,"Position:",-1)),jo={class:"text-weight-medium"},Qo={class:"q-gutter-y-md"},Ko={__name:"AddDeduction",setup(s){const o=ie(),m=O(()=>o.employees),_=Xe(),f=O(()=>_.benefits),d=w(""),u=w(!1),y=w(!1),b=w(!1),i=()=>{b.value=!0},g=async()=>{d.value.trim()&&(y.value=!0,await o.searchEmployee(d.value),y.value=!1)},v=r=>{console.log("Selected Employee:",r),h.employee_id=r.id,h.employee_name=`${r.firstname} ${r.middlename?r.middlename.charAt(0)+".":""} ${r.lastname} `,h.employee_position=r.position,d.value="",console.log("Filled Designation Data:",h)},h=ye({employee_id:"",employee_name:"",employee_position:"",sss:"",hdmf:"",phic:""}),n=()=>{h.employee_id="",h.employee_name="",h.employee_position="",h.sss="",h.hdmf="",h.phic=""},c=async()=>{console.log("deductionss:",h),u.value=!0;try{const r=await _.createEmployeeBenefit(h);console.log("deduction",r),b.value=!1,n(),f.value=await _.fetchEmployeeBenefit()}catch(r){console.log("error",r)}finally{u.value=!1}};return(r,l)=>(p(),A("div",null,[e(I,{padding:"sm md",label:"Add Benefits",icon:"add_circle",size:"md",class:"gradient-btn text-white",onClick:i}),e(oe,{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=V=>b.value=V),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"400px","max-width":"80vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:t(()=>[Ro,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[e(q,{modelValue:d.value,"onUpdate:modelValue":[l[0]||(l[0]=V=>d.value=V),g],label:"Search Employee",outlined:"",rounded:"",dense:"",debounce:"500",placeholder:"Enter name"},{append:t(()=>[y.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))]),default:t(()=>[d.value?(p(),A("div",Fo,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var V;return[(V=m.value)!=null&&V.length?(p(!0),A(M,{key:1},ce(m.value,k=>(p(),U(J,{onClick:E=>v(k),key:k.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(`${k.firstname} ${k.middlename?k.middlename.charAt(0)+".":""} ${k.lastname}`),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No employee record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])]),_:1}),e(z,null,{default:t(()=>[a("div",Mo,[Oo,a("div",Lo,T(h.employee_name?h.employee_name:"-------"),1)]),a("div",Wo,[Ho,a("div",jo,T(h.employee_position?h.employee_position:"-------"),1)])]),_:1}),e(z,null,{default:t(()=>[a("div",Qo,[a("div",null,[e(q,{modelValue:h.sss,"onUpdate:modelValue":l[1]||(l[1]=V=>h.sss=V),outlined:"",label:"SSS (Social Security System )"},null,8,["modelValue"])]),a("div",null,[e(q,{modelValue:h.hdmf,"onUpdate:modelValue":l[2]||(l[2]=V=>h.hdmf=V),outlined:"",label:"HDMF (Pag-IBIG Fund)"},null,8,["modelValue"])]),a("div",null,[e(q,{modelValue:h.phic,"onUpdate:modelValue":l[3]||(l[3]=V=>h.phic=V),outlined:"",label:"PHIC (Philippine Health Insurance Corporation)"},null,8,["modelValue"])])])]),_:1}),e(me,null,{default:t(()=>[e(I,{size:"md",padding:"xs md",label:"save","icon-right":"send",class:"gradient-btn text-white",onClick:c,loading:u.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Yo=H(Ko,[["__scopeId","data-v-2e592a79"]]);const Xo={__name:"SearchBenefit",setup(s){const o=Xe(),m=w(""),_=w(!1),f=async()=>{_.value=!0,await o.searchBenefit(m.value),_.value=!1};return(d,u)=>(p(),A("div",null,[e(q,{modelValue:m.value,"onUpdate:modelValue":[u[0]||(u[0]=y=>m.value=y),f],outlined:"",dense:"",flat:"",label:"Search",style:{width:"300px"}},{append:t(()=>[a("div",null,[_.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))])]),_:1},8,["modelValue"])]))}};const Jo={class:"row justify-between q-mb-md",align:"right"},Go={class:"row q-gutter-md"},Zo={__name:"BenefitsTable",setup(s){const o=Xe(),m=O(()=>o.benefits),_=w({rowsPerPage:0});ae(async()=>{await f()});const f=async()=>{try{m.value=await o.fetchEmployeeBenefit(),console.log("benefit",m.value)}catch(i){console.log("error fetching",i)}},d=i=>{const g=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",v=i.firstname?g(i.firstname):"No Firstname",h=i.middlename?g(i.middlename).charAt(0)+".":"",n=i.lastname?g(i.lastname):"No Lastname";return`${v} ${h} ${n}`.trim()},u=i=>{if(!i)return" - - ";const g=new Date(i);return isNaN(g.getTime())?" - - ":g.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},y=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),b=[{name:"date",required:!0,label:"Date",align:"left",field:i=>u(i.created_at)},{name:"name",required:!0,label:"Name",align:"left",field:i=>d(i.employee)},{name:"sss",label:"Social Security System (SSS)",align:"center",field:i=>y(i.sss)},{name:"hdmf",label:"Pag-IBIG Fund (HDMF)",align:"center",field:i=>y(i.hdmf)},{name:"phic",label:"Phil - Health (PHIC)",align:"center",field:i=>y(i.phic)}];return(i,g)=>(p(),A(M,null,[a("div",Jo,[a("div",Go,[a("div",null,[e(Yo)])]),e(Xo)]),e(Ve,{class:"sticky-header",rows:m.value,columns:b,"row-key":"name","hide-bottom":"",pagination:_.value,"onUpdate:pagination":g[0]||(g[0]=v=>_.value=v)},null,8,["rows","pagination"])],64))}};var en=H(Zo,[["__scopeId","data-v-198dae88"]]);const _t=ke("uniform",()=>{const s=w(null),o=w([]);return{uniform:s,uniforms:o,fetchUniform:async()=>{try{const d=await ee.get("/api/uniform");o.value=d.data}catch(d){console.log("error fetching uniform",d)}},createUniforms:async d=>{try{const u=await ee.post("/api/uniform",d);o.value.unshift(u.data),le.create({type:"positive",message:"Allowance successfully created",timeout:1e3})}catch(u){console.log(u);let y="An error occurred. Please try again.";u.response&&u.response.status===409?y="Allowance for this employee already exists.":u.response&&u.response.status===422&&(y="Invalid data. Please check the inputs."),le.create({type:"negative",message:y,timeout:1e3})}},searchUniform:async d=>{try{console.log("Searching with keyword:",d);const u=await ee.post(`/api/search-uniform?keyword=${d}`);console.log("UNIFORm response:",u),o.value=u.data}catch(u){console.error("Error searching employee:",u)}}}});const Se=s=>(G("data-v-72f1006d"),s=s(),Z(),s),tn=Se(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F454} Add Uniform",-1)),an={key:0,class:"custom-list z-top"},ln={class:"row q-gutter-md text-subtitle1"},on=Se(()=>a("div",null,"Name:",-1)),nn={class:"text-weight-medium"},sn={class:"row q-gutter-md text-subtitle1"},rn=Se(()=>a("div",null,"Position:",-1)),dn={class:"text-weight-medium"},un={class:"row"},cn={class:"col-6"},mn={key:0,class:"q-gutter-sm q-pa-md"},pn={key:0,class:"row q-gutter-x-sm"},_n={class:"col-6"},vn={key:0,class:"q-gutter-sm q-pa-md"},fn={key:0,class:"row q-gutter-x-sm"},yn={class:"row justify-between q-gutter-sm"},hn=Se(()=>a("div",{class:"q-mt-lg text-subtitle1"},"Number of Payments",-1)),gn=Se(()=>a("div",{class:"q-mt-lg text-subtitle1"},"Total Amount",-1)),bn=Se(()=>a("div",{class:"q-mt-lg text-subtitle1"},"Payments Per Payroll",-1)),wn=Se(()=>a("div",{class:"row q-gutter-sm"},null,-1)),xn={__name:"AddUniform",setup(s){const o=ie(),m=O(()=>o.employees),_=_t(),f=O(()=>_.uniforms),d=w(""),u=w(!1),y=w(!1),b=w(!1),i=w(0),g=w(0),v=w(!1),h=w(!1),n=()=>{u.value=!0},c=async()=>{d.value.trim()&&(h.value=!0,await o.searchEmployee(d.value),h.value=!1)},r=$=>{console.log("Selected Employee:",$),l.employee_id=$.id,l.employee_name=`${$.firstname} ${$.middlename?$.middlename.charAt(0)+".":""} ${$.lastname} `,l.employee_position=$.position,d.value="",console.log("Filled Designation Data:",l)},l=ye({employee_id:"",employee_name:"",employee_position:"",tShirtsize:"",pantsSize:"",tShirtPcs:0,tShirtPrice:0,pantsPcs:0,pantsPrice:0,numberOfPayments:1}),V=()=>{l.employee_id="",l.employee_name="",l.employee_position="",y.value=!1,b.value=!1,i.value=0,g.value=0,E(),k()},k=()=>{l.tShirtPcs="",l.tShirtsize="",l.tShirtPrice=""},E=()=>{l.pantsSize="",l.pantsPcs="",l.pantsPrice=""};Ae(b,$=>{$||E()}),Ae(y,$=>{$||k()}),Ae([()=>l.tShirtPrice,()=>l.tShirtPcs,()=>l.pantsPrice,()=>l.pantsPcs],()=>{i.value=l.tShirtPrice*l.tShirtPcs+l.pantsPrice*l.pantsPcs},{immediate:!0}),Ae([i,()=>l.numberOfPayments],()=>{g.value=Math.round(i.value/(l.numberOfPayments||1))},{immediate:!0});const P=async()=>{const $={employee_id:l.employee_id,employee_name:l.employee_name,employee_position:l.employee_position,tShirtsize:l.tShirtsize,pantsSize:l.pantsSize,tShirtPcs:l.tShirtPcs,tShirtPrice:l.tShirtPrice,pantsPcs:l.pantsPcs,pantsPrice:l.pantsPrice,totalAmount:i.value,paymentPerPayroll:g.value,numberOfPayments:l.numberOfPayments};console.log("payload",$);try{v.value=!0,await _.createUniforms($),u.value=!1,V(),f.value=await _.fetchUniform()}catch(x){console.log(x),le.create({type:"negative",message:"error"})}finally{v.value=!1}};return($,x)=>(p(),A("div",null,[e(I,{padding:"sm md",label:"Add Uniform",icon:"add_circle",size:"md",class:"gradient-btn text-white",onClick:n}),e(oe,{modelValue:u.value,"onUpdate:modelValue":x[18]||(x[18]=S=>u.value=S),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:t(()=>[tn,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[e(q,{modelValue:d.value,"onUpdate:modelValue":[x[0]||(x[0]=S=>d.value=S),c],label:"Search Employee",outlined:"",rounded:"",dense:"",debounce:"500",placeholder:"Enter name"},{append:t(()=>[h.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))]),default:t(()=>[d.value?(p(),A("div",an,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var S;return[(S=m.value)!=null&&S.length?(p(!0),A(M,{key:1},ce(m.value,L=>(p(),U(J,{onClick:pe=>r(L),key:L.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(`${L.firstname} ${L.middlename?L.middlename.charAt(0)+".":""} ${L.lastname}`),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No employee record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])]),_:1}),e(z,null,{default:t(()=>[a("div",ln,[on,a("div",nn,T(l.employee_name?l.employee_name:"-------"),1)]),a("div",sn,[rn,a("div",dn,T(l.employee_position?l.employee_position:"-------"),1)])]),_:1}),e(z,null,{default:t(()=>[a("div",un,[a("div",cn,[e(ot,{"keep-color":"",modelValue:y.value,"onUpdate:modelValue":x[1]||(x[1]=S=>y.value=S),label:"T-Shirt",color:"red"},null,8,["modelValue"]),y.value?(p(),A("div",mn,[a("div",null,[e(be,{"keep-color":"",modelValue:l.tShirtsize,"onUpdate:modelValue":x[2]||(x[2]=S=>l.tShirtsize=S),val:"18",label:"18",color:"teal"},null,8,["modelValue"]),e(be,{"keep-color":"",modelValue:l.tShirtsize,"onUpdate:modelValue":x[3]||(x[3]=S=>l.tShirtsize=S),val:"S",label:"S",color:"orange"},null,8,["modelValue"]),e(be,{"keep-color":"",modelValue:l.tShirtsize,"onUpdate:modelValue":x[4]||(x[4]=S=>l.tShirtsize=S),val:"M",label:"M",color:"red"},null,8,["modelValue"]),e(be,{"keep-color":"",modelValue:l.tShirtsize,"onUpdate:modelValue":x[5]||(x[5]=S=>l.tShirtsize=S),val:"L",label:"L",color:"cyan"},null,8,["modelValue"])]),l.tShirtsize?(p(),A("div",pn,[e(q,{modelValue:l.tShirtPcs,"onUpdate:modelValue":x[6]||(x[6]=S=>l.tShirtPcs=S),dense:"",outlined:"",label:"pcs",style:{width:"100px"}},null,8,["modelValue"]),e(q,{modelValue:l.tShirtPrice,"onUpdate:modelValue":x[7]||(x[7]=S=>l.tShirtPrice=S),dense:"",outlined:"",label:"price",style:{width:"100px"}},null,8,["modelValue"])])):te("",!0)])):te("",!0)]),a("div",_n,[e(ot,{"keep-color":"",modelValue:b.value,"onUpdate:modelValue":x[8]||(x[8]=S=>b.value=S),label:"Pants",color:"brown-6"},null,8,["modelValue"]),b.value?(p(),A("div",vn,[e(be,{"keep-color":"",modelValue:l.pantsSize,"onUpdate:modelValue":x[9]||(x[9]=S=>l.pantsSize=S),val:"M",label:"M",color:"red"},null,8,["modelValue"]),e(be,{"keep-color":"",modelValue:l.pantsSize,"onUpdate:modelValue":x[10]||(x[10]=S=>l.pantsSize=S),val:"L",label:"L",color:"cyan"},null,8,["modelValue"]),e(be,{"keep-color":"",modelValue:l.pantsSize,"onUpdate:modelValue":x[11]||(x[11]=S=>l.pantsSize=S),val:"XL",label:"XL",color:"purple-6"},null,8,["modelValue"]),e(be,{"keep-color":"",modelValue:l.pantsSize,"onUpdate:modelValue":x[12]||(x[12]=S=>l.pantsSize=S),val:"XXL",label:"XXL",color:"deep-orange-13"},null,8,["modelValue"]),l.pantsSize?(p(),A("div",fn,[e(q,{modelValue:l.pantsPcs,"onUpdate:modelValue":x[13]||(x[13]=S=>l.pantsPcs=S),dense:"",outlined:"",label:"pcs",style:{width:"100px"}},null,8,["modelValue"]),e(q,{modelValue:l.pantsPrice,"onUpdate:modelValue":x[14]||(x[14]=S=>l.pantsPrice=S),dense:"",outlined:"",label:"price",style:{width:"100px"}},null,8,["modelValue"])])):te("",!0)])):te("",!0)])])]),_:1}),e(z,null,{default:t(()=>[a("div",yn,[a("div",null,[hn,e(q,{modelValue:l.numberOfPayments,"onUpdate:modelValue":x[15]||(x[15]=S=>l.numberOfPayments=S),outlined:"",flat:"",dense:""},null,8,["modelValue"])]),a("div",null,[gn,e(q,{modelValue:i.value,"onUpdate:modelValue":x[16]||(x[16]=S=>i.value=S),outlined:"",readonly:"",flat:"",dense:""},null,8,["modelValue"]),bn,e(q,{modelValue:g.value,"onUpdate:modelValue":x[17]||(x[17]=S=>g.value=S),outlined:"",readonly:"",flat:"",dense:""},null,8,["modelValue"])])]),wn]),_:1}),e(me,null,{default:t(()=>[e(I,{size:"md",padding:"xs md",label:"save","icon-right":"send",class:"gradient-btn text-white",onClick:P,loading:v.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var $n=H(xn,[["__scopeId","data-v-72f1006d"]]);const kn={class:"row justify-between q-mb-md",align:"right"},Vn={class:"row q-gutter-md"},Sn=a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," T-Shirt ",-1),Dn={class:"row justify-between"},qn=a("div",null,"Size :",-1),An={class:"row justify-between"},En=a("div",null,"PCS :",-1),Pn={class:"row justify-between"},Tn=a("div",null,"PRICE :",-1),Un=a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Pants ",-1),Cn={class:"row justify-between"},zn=a("div",null,"Size :",-1),Nn={class:"row justify-between"},In=a("div",null,"PCS :",-1),Bn={class:"row justify-between"},Rn=a("div",null,"PRICE :",-1),Fn={__name:"UniformTable",setup(s){const o=_t(),m=w(""),_=O(()=>o.uniforms),f=w(!1),d=w({rowsPerPage:0});ae(async()=>{await u()});const u=async()=>{try{_.value=await o.fetchUniform(),console.log("uniform",_.value)}catch(n){console.log("error fetching madepakeer",n)}};let y;const b=()=>{f.value=!0,clearTimeout(y),y=setTimeout(()=>{f.value=!1},500)},i=n=>{const c=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",r=n.firstname?c(n.firstname):"No Firstname",l=n.middlename?c(n.middlename).charAt(0)+".":"",V=n.lastname?c(n.lastname):"No Lastname";return`${r} ${l} ${V}`.trim()},g=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),v=n=>{if(!n)return" - - ";const c=new Date(n);return isNaN(c.getTime())?" - - ":c.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},h=[{name:"date",required:!0,label:"Date",align:"left",field:n=>v(n.created_at)},{name:"name",required:!0,label:"Name",align:"left",field:n=>i(n.employee)},{name:"number_of_payments",required:!0,label:"Number of Payments",align:"center",field:"number_of_payments"},{name:"total_amount",required:!0,label:"Total Amount",align:"center",field:n=>g(n.total_amount)},{name:"payments_per_payroll",required:!0,label:"Payments Per Payroll",align:"center",field:n=>g(n.payments_per_payroll)},{name:"t_shirt",label:"T-Shirt",align:"center",field:"t_shirt"},{name:"pants",label:"Pants",align:"center",field:"pants"}];return(n,c)=>(p(),A(M,null,[a("div",kn,[a("div",Vn,[e($n)]),e(q,{modelValue:m.value,"onUpdate:modelValue":[c[0]||(c[0]=r=>m.value=r),b],outlined:"",dense:"",flat:"",label:"Search",style:{width:"300px"}},{append:t(()=>[a("div",null,[f.value?(p(),U(ve,{key:1,size:"sm"})):(p(),U(W,{key:0,name:"search"}))])]),_:1},8,["modelValue"])]),e(Ve,{class:"sticky-header",filter:m.value,rows:_.value,columns:h,"row-key":"name",pagination:d.value,"onUpdate:pagination":c[1]||(c[1]=r=>d.value=r),"hide-bottom":""},{"body-cell-t_shirt":t(r=>[e(Q,{props:r},{default:t(()=>[e(re,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"200px"}},{default:t(()=>[Sn,e(se,{class:"q-mb-md",color:"yellow"}),(p(!0),A(M,null,ce(r.row.t_shirt,l=>(p(),A("div",{class:"",key:l.size},[a("div",Dn,[qn,a("div",null,T(l.size),1)]),a("div",An,[En,a("div",null,T(l.pcs),1)]),a("div",Pn,[Tn,a("div",null,T(g(l.price)),1)])]))),128))]),_:2},1024),e($e,{square:"",outline:"",color:"red-6",class:"text-white"},{default:t(()=>[N(T(r.row.t_shirt.length)+" T-Shirt ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-pants":t(r=>[e(Q,{props:r},{default:t(()=>[e(re,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"200px"}},{default:t(()=>[Un,e(se,{class:"q-mb-md",color:"yellow"}),(p(!0),A(M,null,ce(r.row.pants,l=>(p(),A("div",{class:"",key:l.size},[a("div",Cn,[zn,a("div",null,T(l.size),1)]),a("div",Nn,[In,a("div",null,T(l.pcs),1)]),a("div",Bn,[Rn,a("div",null,T(g(l.price)),1)])]))),128))]),_:2},1024),e($e,{square:"",outline:"",color:"brown-6",class:"text-white"},{default:t(()=>[N(T(r.row.pants.length)+" Pants ",1)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])],64))}},Ge=ke("cash-advance",()=>{const s=w(null),o=w([]);return{cashAdvance:s,cashAdvances:o,createCashAdvance:async d=>{try{const u=await ee.post("/api/cash-advance",d);o.value.unshift(u.data),le.create({type:"positive",message:"Cash Advance save",setTimeout:1e3})}catch(u){console.log("CA error",u),le.create({type:"negative",message:"Error saving Cash Advance"})}},fetchCashAdvance:async()=>{try{const d=await ee.get("/api/cash-advance");o.value=d.data}catch(d){console.log("===================================="),console.log(d),console.log("====================================")}},searchCashAdvance:async d=>{try{console.log("Searching for employee with keyword:",d);const u=await ee.post(`/api/search-cash-advance?keyword=${d}`);console.log("CA response:",u),o.value=u.data}catch(u){console.error("Error searching CA:",u)}}}});const Ze=s=>(G("data-v-0cb016a9"),s=s(),Z(),s),Mn=Ze(()=>a("div",{class:"text-h5 q-mr-md"},"\u{1F4B2} Add Cash Advance",-1)),On={key:0,class:"custom-list z-top"},Ln={class:"row q-gutter-md text-subtitle1"},Wn=Ze(()=>a("div",null,"Name:",-1)),Hn={class:"text-weight-meduim"},jn={class:"row q-gutter-md text-subtitle1"},Qn=Ze(()=>a("div",null,"Position:",-1)),Kn={class:"text-weight-meduim"},Yn={class:"q-gutter-y-md"},Xn={__name:"CashAdvanceButton",setup(s){const o=ie(),m=O(()=>o.employees),_=Ge(),f=O(()=>_.cashAdvances),d=w(""),u=w(!1),y=w(!1),b=w(!1),i=()=>{b.value=!0},g=async()=>{d.value.trim()&&(y.value=!0,await o.searchEmployee(d.value),y.value=!1)},v=r=>{console.log("Selected Employee:",r),h.employee_id=r.id,h.employee_name=`${r.firstname} ${r.middlename?r.middlename.charAt(0)+".":""} ${r.lastname} `,h.employee_position=r.position,d.value="",console.log("Filled Designation Data:",h)},h=ye({employee_id:"",employee_name:"",employee_position:"",amount:"",reason:""}),n=()=>{h.employee_id="",h.employee_name="",h.employee_position="",h.amount="",h.reason=""},c=async()=>{console.log("cashAdvance",h),u.value=!0;try{const r=await _.createCashAdvance(h)}catch(r){console.log(r)}finally{u.value=!1}n(),f.value=await _.fetchCashAdvance(),b.value=!1};return(r,l)=>(p(),A("div",null,[e(I,{padding:"sm md",label:"Cash Advance",icon:"attach_money",size:"md",class:"gradient-btn text-white",onClick:i}),e(oe,{modelValue:b.value,"onUpdate:modelValue":l[3]||(l[3]=V=>b.value=V),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(F,{style:{width:"400px","max-width":"80vw"}},{default:t(()=>[e(z,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:t(()=>[Mn,e(he),Y(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(z,null,{default:t(()=>[e(q,{modelValue:d.value,"onUpdate:modelValue":[l[0]||(l[0]=V=>d.value=V),g],label:"Search Employee",outlined:"",rounded:"",dense:"",debounce:"500",placeholder:"Enter name"},{append:t(()=>[y.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))]),default:t(()=>[d.value?(p(),A("div",On,[e(F,null,{default:t(()=>[e(we,{separator:""},{default:t(()=>{var V;return[(V=m.value)!=null&&V.length?(p(!0),A(M,{key:1},ce(m.value,k=>(p(),U(J,{onClick:E=>v(k),key:k.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[N(T(`${k.firstname} ${k.middlename?k.middlename.charAt(0)+".":""} ${k.lastname}`),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),U(J,{key:0},{default:t(()=>[N(" No Employee record ")]),_:1}))]}),_:1})]),_:1})])):te("",!0)]),_:1},8,["modelValue"])]),_:1}),e(z,null,{default:t(()=>[a("div",Ln,[Wn,a("div",Hn,T(h.employee_name?h.employee_name:"-------"),1)]),a("div",jn,[Qn,a("div",Kn,T(h.employee_position?h.employee_position:"-------"),1)])]),_:1}),e(z,null,{default:t(()=>[a("div",Yn,[a("div",null,[e(q,{modelValue:h.amount,"onUpdate:modelValue":l[1]||(l[1]=V=>h.amount=V),outlined:"",label:"Amount"},null,8,["modelValue"])]),a("div",null,[e(q,{modelValue:h.reason,"onUpdate:modelValue":l[2]||(l[2]=V=>h.reason=V),filled:"",type:"textarea",outlined:"",label:"Reason"},null,8,["modelValue"])])])]),_:1}),e(me,null,{default:t(()=>[e(I,{size:"md",padding:"xs md",label:"save","icon-right":"send",class:"gradient-btn text-white",loading:u.value,onClick:c},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Jn=H(Xn,[["__scopeId","data-v-0cb016a9"]]);const Gn={__name:"SearchCashAdvance",setup(s){const o=Ge(),m=w(""),_=w(!1),f=async()=>{_.value=!0,await o.searchCashAdvance(m.value),_.value=!1};return(d,u)=>(p(),A("div",null,[e(q,{modelValue:m.value,"onUpdate:modelValue":[u[0]||(u[0]=y=>m.value=y),f],outlined:"",dense:"",flat:"",label:"Search",style:{width:"300px"}},{append:t(()=>[a("div",null,[_.value?(p(),U(ve,{key:1,color:"grey",size:"sm"})):(p(),U(W,{key:0,name:"search"}))])]),_:1},8,["modelValue"])]))}},Zn={class:"row justify-between q-mb-md",align:"right"},es={class:"row q-gutter-md"},ts={__name:"CashAdvanceTable",setup(s){const o=Ge(),m=O(()=>o.cashAdvances),_=w({rowsPerPage:0});ae(async()=>{await f()});const f=async()=>{try{m.value=await o.fetchCashAdvance(),console.log("CA",m.value)}catch(i){console.log("===================================="),console.log(i),console.log("====================================")}},d=i=>{const g=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",v=i.firstname?g(i.firstname):"No Firstname",h=i.middlename?g(i.middlename).charAt(0)+".":"",n=i.lastname?g(i.lastname):"No Lastname";return`${v} ${h} ${n}`.trim()},u=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),y=i=>{if(!i)return" - - ";const g=new Date(i);return isNaN(g.getTime())?" - - ":g.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},b=[{name:"date",label:"Date",align:"left",field:i=>y(i.created_at)},{name:"name",label:"Employee Name",align:"left",field:i=>d(i.employee)},{name:"amount",label:"Amount",align:"center",field:i=>u(i.amount)},{name:"amount",label:"Amount",align:"center",field:"reason"}];return(i,g)=>(p(),A(M,null,[a("div",Zn,[a("div",es,[e(Jn)]),e(Gn)]),e(Ve,{rows:m.value,columns:b,class:"sticky-header","row-key":"name",pagination:_.value,"onUpdate:pagination":g[0]||(g[0]=v=>_.value=v),"hide-bottom":""},null,8,["rows","pagination"])],64))}};const as={class:"q-gutter-y-sm"},ls={__name:"AllowanceDeductionPage",setup(s){const o=w("allowance");return(m,_)=>(p(),A("div",null,[a("div",as,[e(Le,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=f=>o.value=f),"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(de,{class:"text-white",name:"allowance",icon:"account_balance_wallet",label:"Allowance"}),e(de,{class:"text-white",name:"benefits",icon:"view_timeline",label:"Benefits"}),e(de,{class:"text-white",name:"uniform",icon:"settings_accessibility",label:"Uniform"}),e(de,{class:"text-white",name:"cash-advance",icon:"wallet",label:"Cash Advance"})]),_:1},8,["modelValue"])]),e(We,{modelValue:o.value,"onUpdate:modelValue":_[1]||(_[1]=f=>o.value=f),animated:""},{default:t(()=>[e(ue,{name:"allowance"},{default:t(()=>[a("div",null,[e(Bo)])]),_:1}),e(ue,{name:"benefits"},{default:t(()=>[a("div",null,[e(en)])]),_:1}),e(ue,{name:"uniform"},{default:t(()=>[a("div",null,[e(Fn)])]),_:1}),e(ue,{name:"cash-advance"},{default:t(()=>[a("div",null,[e(ts)])]),_:1})]),_:1},8,["modelValue"])]))}};var os=H(ls,[["__scopeId","data-v-77fcd713"]]);const ns={align:"right"},ss={class:"row q-gutter-lg"},is=["src"],rs={class:"q-mt-lg",style:{"margin-top":"60px"}},ds={class:"text-h5 text-weight-bold elegant-name text-capitalize"},us={align:"center"},cs={__name:"PayslipPage",setup(s){const o=w([{id:1,name:"John D. Doe",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/boy-avatar.png"},{id:2,name:"Jane Doe",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar2.jpg"},{id:3,name:"Sam Smith",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar1.jpg"},{id:4,name:"Chris Evans",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar4.jpg"},{id:5,name:"Alex Doesss",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar6.jpg"},{id:6,name:"John D. Doe",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/boy-avatar.png"},{id:7,name:"Jane Doe",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar2.jpg"},{id:8,name:"Sam Smith",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar1.jpg"},{id:9,name:"Chris Evans",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar4.jpg"},{id:10,name:"Alex Doe",position:"Admin",color:"primary",avatar:"https://cdn.quasar.dev/img/avatar6.jpg"}]);return(m,_)=>(p(),A(M,null,[a("div",ns,[e(q,{class:"q-pb-lg",outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"100%","max-width":"600px"}},{append:t(()=>[e(W,{name:"search"})]),_:1})]),a("div",ss,[(p(!0),A(M,null,ce(o.value,f=>(p(),U(Et,{key:f.id,class:"q-ma-md"},{default:t(()=>[e(F,{class:"q-pa-md q-mt-lg user-card",style:{"box-shadow":"0px 6px 14px rgba(0, 0, 0, 0.1)","border-radius":"12px",background:"linear-gradient(135deg, #2c3e50, #4ca1af)"}},{default:t(()=>[e(z,{class:"text-center q-pa-md",style:{position:"relative"}},{default:t(()=>[a("div",null,[e(st,{size:"80px",color:"primary","text-color":"white",class:"q-ma-lg",style:{margin:"0 auto",position:"absolute",top:"-40px",left:"50%",transform:"translateX(-50%)"}},{default:t(()=>[a("img",{src:f.avatar},null,8,is)]),_:2},1024)]),a("div",rs,[a("div",ds,T(f.name),1),e($e,{"text-color":"white",class:"q-mt-sm elegant-chip",style:{"background-color":"#3b82f6","font-size":"14px",padding:"5px 10px"}},{default:t(()=>[N(T(f.position),1)]),_:2},1024),e($e,{outline:"",square:"",color:"cyan-12",class:"q-mt-sm elegant-chip"},{default:t(()=>[N(" Regular ")]),_:1})])]),_:2},1024),e(se,{class:"q-ma-sm"}),a("div",us,[e(I,{padding:"sm md",label:"Open Payslip",size:"md",class:"gradient-btn text-darrk"})])]),_:2},1024)]),_:2},1024))),128))])],64))}};var ms=H(cs,[["__scopeId","data-v-69eb003a"]]);const Be=s=>(G("data-v-ac7d560a"),s=s(),Z(),s),ps={class:"q-pa-md q-gutter-sm flex flex-column items-center"},_s=Be(()=>a("div",{class:"text-weight-bold"},"Dashboard",-1)),vs={class:"q-pa-md q-gutter-sm flex flex-column items-center"},fs=Be(()=>a("div",{class:"text-weight-bold text-lg"},"Employees",-1)),ys={class:"q-pa-md q-gutter-sm flex flex-column items-center"},hs=Be(()=>a("div",{class:"text-weight-bold text-lg"},"Attendance",-1)),gs={class:"q-pa-md q-gutter-sm flex flex-column items-center"},bs=Be(()=>a("div",{class:"text-weight-bold text-lg"},"Allowances & Deductions",-1)),ws={class:"q-pa-sm q-gutter-sm flex flex-column items-center"},xs=Be(()=>a("div",{class:"text-weight-bold text-lg"},"Payslip",-1)),$s={__name:"PayrollPage",setup(s){w(),w("");const o=w("dashboard");return(m,_)=>(p(),U(Vt,{class:"elegant-container",flat:""},{default:t(()=>[e(Le,{modelValue:o.value,"onUpdate:modelValue":_[0]||(_[0]=f=>o.value=f),dense:"",outline:"",flat:"","no-caps":"","inline-label":"",class:"user-tab justify-center q-ma-md",align:"justify","active-color":"teal","indicator-class":"q-tab-indicator-green"},{default:t(()=>[e(de,{name:"dashboard"},{default:t(()=>[a("div",ps,[e(W,{name:"insert_chart",size:"md",class:Te(o.value==="dashboard"?"text-teal":"text-grey-7")},null,8,["class"]),_s])]),_:1}),e(de,{name:"employees"},{default:t(()=>[a("div",vs,[e(W,{name:"group",size:"md",class:Te(o.value==="employees"?"text-teal":"text-grey-7")},null,8,["class"]),fs])]),_:1}),e(de,{name:"attendance"},{default:t(()=>[a("div",ys,[e(W,{name:"access_time",size:"md",class:Te(o.value==="attendance"?"text-teal":"text-grey-7")},null,8,["class"]),hs])]),_:1}),e(de,{name:"allowances"},{default:t(()=>[a("div",gs,[e(W,{name:"add_circle_outline",size:"md",class:Te(o.value==="allowances"?"text-teal":"text-grey-7")},null,8,["class"]),bs])]),_:1}),e(de,{name:"payslip"},{default:t(()=>[a("div",ws,[e(W,{name:"payment",size:"md",class:Te(o.value==="payslip"?"text-teal":"text-grey-7")},null,8,["class"]),xs])]),_:1})]),_:1},8,["modelValue"]),e(We,{modelValue:o.value,"onUpdate:modelValue":_[1]||(_[1]=f=>o.value=f),animated:"",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(ue,{name:"dashboard"},{default:t(()=>[e(na)]),_:1}),e(ue,{name:"employees"},{default:t(()=>[e(ll)]),_:1}),e(ue,{name:"attendance"},{default:t(()=>[e(qo)]),_:1}),e(ue,{name:"allowances"},{default:t(()=>[e(os)]),_:1}),e(ue,{name:"payslip"},{default:t(()=>[e(ms)]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};var ai=H($s,[["__scopeId","data-v-ac7d560a"]]);export{ai as default};
