import{r as m,H as A,z as b,c as D,a as T,o as I,a3 as w,f as e,w as t,M as v,J as s,Z as y,a1 as f,a0 as g,$ as x,ae as z,a4 as P,a5 as U,L as B,a2 as H,Q as R,I as j,O as E,R as N}from"./index.e59c1f7d.js";import{b as $,Q as F,a as O,c as J}from"./QDrawer.5ae35cc1.js";import{Q as Z,a as h,b as p}from"./QMenu.c502433a.js";import{Q as S}from"./QList.6136357f.js";import{Q as G}from"./QScrollArea.b866e79d.js";import{Q as K}from"./QPage.452e94f3.js";import{Q as W,a as X}from"./QLayout.52d64c6a.js";import{Q as Y}from"./QSpinnerDots.0b07bea9.js";import{C as ee}from"./ClosePopup.e13b3aae.js";import{_ as te}from"./GB_LOGO.b766a815.js";import{P as Q}from"./LocalStorage.2f2b3acf.js";import{u as ae}from"./use-quasar.76311f40.js";import{api as oe}from"./axios.e6019dc6.js";import{_ as se}from"./plugin-vue_export-helper.21dcd24c.js";import"./QResizeObserver.dc114339.js";import"./TouchPan.0297d654.js";import"./touch.9135741d.js";import"./selection.206555df.js";import"./position-engine.5a19aec2.js";import"./QScrollObserver.9a5669b8.js";const u=i=>(E("data-v-5e8ac0d3"),i=i(),N(),i),re={class:"q-pa-md"},le=u(()=>s("img",{src:te,style:{width:"50px",height:"40px"}},null,-1)),ne={class:"q-gutter-sm row items-center no-wrap"},ue=u(()=>s("img",{src:"https://cdn.quasar.dev/img/avatar2.jpg"},null,-1)),ie={class:"row no-wrap q-pa-md"},ce={class:"column"},de=u(()=>s("div",{class:"text-h6 q-mb-md"},"Settings",-1)),me={class:"column items-center"},pe=u(()=>s("img",{src:"https://cdn.quasar.dev/img/avatar2.jpg"},null,-1)),_e={class:"text-subtitle1 q-mt-md q-mb-xs"},ve=u(()=>s("span",{class:"q-ml-md"},"Signing out",-1)),fe={__name:"SupervisorLayout",setup(i){const n=m({}),c=m(!1),_=m("0");ae();const k=A(),d=m(!1);b(async()=>{try{const o=await oe.get("/api/profile");n.value=o.data}catch(o){console.error("Error fetching user data:",o)}});const C=D(()=>{if(n.value&&n.value.data&&n.value.data.name){const l=n.value.data.name.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase());if(l.length>1){const a=Math.floor(l.length/2);l[a]=l[a].charAt(0).toUpperCase()+"."}return l.join(" ")}else return""}),q=()=>{d.value=!0,setTimeout(()=>{Q.removeItem("token"),Q.removeItem("role"),Q.removeItem("activeMenuItem"),d.value=!1,k.push("/")},1e3)},L=[{name:"reports",icon:"fact_check",to:"/supervisor/reports",label:"Reports",separator:!0},{name:"dtr",icon:"event",to:"/supervisor/dtr",label:"Daily Time Record",separator:!0},{name:"employee",icon:"group",to:"/supervisor/employee",label:"Employee",separator:!0}];b(()=>{const o=localStorage.getItem("activeMenuItem");o&&(_.value=o)});const M=o=>{_.value=o,localStorage.setItem("activeMenuItem",o)};return(o,r)=>{const l=T("router-view");return I(),w("div",re,[e(W,{view:"hHh Lpr lff"},{default:t(()=>[e($,{elevated:"",class:"bg-white"},{default:t(()=>[e(F,null,{default:t(()=>[e(v,{color:"red-6",flat:"",onClick:r[0]||(r[0]=a=>c.value=!c.value),round:"",dense:"",icon:"menu"}),e(O,{class:"py-md"},{default:t(()=>[le]),_:1}),s("div",ne,[e(v,{round:"",flat:""},{default:t(()=>[e(y,{size:"26px"},{default:t(()=>[ue]),_:1}),e(Z,null,{default:t(()=>[s("div",ie,[s("div",ce,[de,e(S,null,{default:t(()=>[e(f),e(h,{clickable:""},{default:t(()=>[e(p,null,{default:t(()=>[g("Account")]),_:1})]),_:1}),e(f),e(h,{clickable:""},{default:t(()=>[e(p,null,{default:t(()=>[g("Help & Feedback")]),_:1})]),_:1})]),_:1})]),e(f,{vertical:"",inset:"",class:"q-mx-lg"}),s("div",me,[e(y,{size:"72px"},{default:t(()=>[pe]),_:1}),s("div",_e,x(C.value),1),z(e(v,{color:"primary",label:"Logout",push:"",size:"sm",onClick:q},null,512),[[ee]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),e(J,{modelValue:c.value,"onUpdate:modelValue":r[1]||(r[1]=a=>c.value=a),"show-if-above":"",behavior:"mobile",width:200,breakpoint:500,bordered:""},{default:t(()=>[e(G,{class:"fit"},{default:t(()=>[e(S,{bordered:"",padding:""},{default:t(()=>[(I(),w(P,null,U(L,(a,V)=>e(h,{clickable:!0,key:V,onClick:ge=>M(a.name),to:a.to,active:_.value===a.name,"active-class":"my-menu-link"},{default:t(()=>[e(p,{avatar:""},{default:t(()=>[e(B,{name:a.icon},null,8,["name"])]),_:2},1024),e(p,null,{default:t(()=>[g(x(a.label),1)]),_:2},1024)]),_:2},1032,["onClick","to","active"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,null,{default:t(()=>[e(K,null,{default:t(()=>[e(l)]),_:1})]),_:1}),e(H,{modelValue:d.value,"onUpdate:modelValue":r[2]||(r[2]=a=>d.value=a)},{default:t(()=>[e(R,null,{default:t(()=>[e(j,{class:"row items-center q-gutter-md"},{default:t(()=>[ve,e(Y,{size:"50px"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}};var Be=se(fe,[["__scopeId","data-v-5e8ac0d3"]]);export{Be as default};
