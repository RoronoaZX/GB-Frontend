import{bd as Ve,c as z,r as P,t as Te,o as x,a2 as A,f as e,M as I,w as t,Q as H,I as N,ad as de,J as o,K as D,L as ae,e as F,$ as q,a3 as E,a4 as fe,_ as $,bc as Ie,aI as Me,a1 as X,a0 as tt,N as ce,O as ne,R as se,z as Ne,u as he,ba as pe,aJ as kt,be as te,d as st,P as Ae,bb as lt,aH as xt,H as $t}from"./index.c084d8cc.js";import{Q as Ue}from"./QSpace.47b5a10c.js";import{Q as Ke,a as ke,b as Ye,c as xe}from"./QTabPanels.b8d54a8f.js";import{Q as Vt}from"./QPage.1a335e2e.js";import{Q as Pe,a as re,b as Y}from"./QList.7c65fe8a.js";import{b as W,Q as ct}from"./use-virtual-scroll.fc31fb50.js";import{C as ie}from"./ClosePopup.0e15c173.js";import{u as Qe}from"./branch-product.655b1e6e.js";import{u as Ge}from"./product.e0021c7c.js";import{Q as at}from"./QSpinnerDots.94674869.js";import{Q as G,a as Ce}from"./QTable.95f7a01b.js";import{Q as ye}from"./QBadge.7e13cd9b.js";import{Q as ve}from"./QTooltip.6b2135ad.js";import{Q as _e}from"./QPopupEdit.762719ee.js";import{_ as Z}from"./plugin-vue_export-helper.21dcd24c.js";import{api as ee}from"./axios.eeef39f3.js";import{u as rt}from"./branch-rawMaterials.8aaafea9.js";import{u as Ct}from"./raw-material.d9f48e96.js";import{u as qe}from"./use-dialog-plugin-component.4121bd24.js";import{Q as Rt}from"./QMenu.1ec7b9b1.js";import{q as $e}from"./date.c51273f3.js";import{u as Be}from"./use-quasar.69cbc2c0.js";import{p as Ze,v as pt}from"./vfs_fontes.3eb8cb31.js";import{u as mt}from"./sales-report.7f877824.js";import{u as _t}from"./user.43e6248b.js";import{u as St}from"./employee.b4208956.js";import{Q as He}from"./QScrollArea.ebb5ad90.js";import{u as je,a as We,b as ot}from"./other-product.8a51a5ce.js";import{Q as nt}from"./QSelect.a7223858.js";import{u as Pt}from"./recipe.be9e2987.js";import{u as et}from"./branch-recipe.f0f2c32d.js";import"./QResizeObserver.2c1874a2.js";import"./use-panel.bbcf9807.js";import"./touch.9135741d.js";import"./selection.1433303b.js";import"./QVirtualScroll.61694ead.js";import"./QScrollObserver.5820cbb9.js";import"./TouchPan.b249ea32.js";import"./QChip.7ae96410.js";const Ut=o("div",{class:"text-h6"},"Create Branch Product",-1),Nt={class:"q-mb-lg"},qt={key:0,class:"custom-list z-top"},Dt=o("div",null,"Product Name",-1),At=o("div",null,"Category",-1),It={class:"row justify-between"},Tt=o("div",null,"Beginnings",-1),Bt=o("div",null,"Total Quantity",-1),Ft=o("div",null,"Price",-1),zt={__name:"ProductCreate",setup(d){const v=Ve(),C=Ge(),R=z(()=>C.products),f=Qe(),b=P(""),U=async()=>{C.searchProducts(b.value)},i=z(()=>S.price!==0&&S.beginnings!==0&&S.total_quantity!==0),m=P(!1),p=()=>{m.value=!0},r=()=>{V(),m.value=!1},h=k=>k?k.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",c=k=>{S.product_id=k.id,S.product_name=k.name,S.category=k.category,b.value=""},S=Te({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:v.params.branch_id}),V=()=>{S.product_id="",S.product_name="",S.category="",S.price=0,S.beginnings=0,S.total_quantity=0},y=async()=>{try{const{product_name:k,..._}=S;await f.createBranchProducts(_),console.log("data to send",_),V(),m.value=!1}catch(k){console.log(k)}};return(k,_)=>(x(),A(E,null,[e(I,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:p}),e(X,{modelValue:m.value,"onUpdate:modelValue":_[6]||(_[6]=u=>m.value=u),persistent:""},{default:t(()=>[e(H,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(N,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Ut,e(Ue),de(e(I,{icon:"close",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",Nt,[e(D,{modelValue:b.value,"onUpdate:modelValue":[_[0]||(_[0]=u=>b.value=u),U],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[b.value?(x(),A("div",qt,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var u;return[(u=R.value)!=null&&u.length?(x(!0),A(E,{key:1},fe(R.value,g=>(x(),F(re,{onClick:s=>c(g),key:g.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(h(g.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Dt,e(D,{modelValue:S.product_name,"onUpdate:modelValue":_[1]||(_[1]=u=>S.product_name=u),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[At,e(D,{modelValue:S.category,"onUpdate:modelValue":_[2]||(_[2]=u=>S.category=u),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",It,[o("div",null,[Tt,e(D,{modelValue:S.beginnings,"onUpdate:modelValue":_[3]||(_[3]=u=>S.beginnings=u),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Bt,e(D,{modelValue:S.total_quantity,"onUpdate:modelValue":_[4]||(_[4]=u=>S.total_quantity=u),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),o("div",null,[Ft,e(D,{modelValue:S.price,"onUpdate:modelValue":_[5]||(_[5]=u=>S.price=u),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Me,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(I,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(I,{class:"glossy",color:"teal",label:"Create",onClick:y,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const gt=d=>(ne("data-v-196482e9"),d=d(),se(),d),Lt=gt(()=>o("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Ot=gt(()=>o("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Mt={__name:"ProductDelete",props:["delete"],setup(d){const v=Qe(),C=d;console.log("delte",C.delete.row.id);const R=async()=>{try{await v.deleteBranchProducts(C.delete.row.id),ce.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),f.value=!1}catch(U){console.error(U.message)}},f=P(!1),b=()=>{console.log("ID",C.delete.row.id),f.value=!0};return(U,i)=>(x(),A(E,null,[e(I,{onClick:b,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ve,{class:"bg-negative",delay:200},{default:t(()=>[q("Delete")]),_:1})]),_:1}),e(X,{modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=m=>f.value=m)},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Lt,Ot]),_:1}),e(tt,{class:"q-mb-md"}),e(N,null,{default:t(()=>[e(Me,{align:"right",class:"q-pt-none"},{default:t(()=>[de(e(I,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ie]]),e(I,{dense:"",label:"Delete",color:"negative",onClick:R,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ht=Z(Mt,[["__scopeId","data-v-196482e9"]]);const jt=d=>(ne("data-v-c74b6072"),d=d(),se(),d),Qt={class:"row justify-between"},Et={class:"q-my-sm"},Kt={key:0,class:"spinner-wrapper"},Yt={key:1},Gt={key:0,class:"data-error"},Wt=jt(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Jt={key:1},Xt={__name:"ProductTable",setup(d){const C=Ve().params.branch_id,R=Qe(),f=P(""),b=P(!0),U=P([]),i=P(!1),m=P({rowsPerPage:0}),p=z(()=>R.branchProducts);console.log("branchssdfrer",p.value);const r=z(()=>f.value?p.value.filter(g=>g.name.toLowerCase().includes(f.value.toLowerCase())):p.value),h=g=>g?g.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"";Ne(async()=>{C&&await c(C)});const c=async g=>{try{b.value=!0;const s=await R.fetchBranchProducts(g);p.value=s,p.value.length||(i.value=!0),console.log("Branch product",p.value)}catch(s){console.log("Error fetching branch product:",s),i.value=!0}finally{b.value=!1}};he(f,async g=>{b.value=!0,await new Promise(s=>setTimeout(s,1e3)),b.value=!1,i.value=r.value.length===0});async function S(g,s){try{const n=await ee.put("/api/update-branch-products/"+g.id,{price:parseInt(s)});if(n.status===200){const l=U.value.findIndex(a=>a.id==g.id);U.value[l]=parseInt(s),ce.create({type:"positive",message:n.data.message,timout:1e3,position:"top"})}}catch(n){console.error("Error updating price:",n)}}async function V(g,s){try{const n=await ee.put("/api/update-branch-products-beginnings/"+g.id,{beginnings:parseInt(s)});if(n.status===200){const l=U.value.findIndex(a=>a.id==g.id);U.value[l]=parseInt(s),ce.create({type:"positive",message:n.data.message,timout:1e3,position:"top"})}}catch(n){console.error("Error updating price:",n)}}async function y(g,s){try{const n=await ee.put("/api/update-branch-products-total-quantity/"+g.id,{total_quantity:parseInt(s)});if(n.status===200){const l=U.value.findIndex(a=>a.id==g.id);U.value[l]=parseInt(s),ce.create({type:"positive",message:n.data.message,timout:1e3,position:"top"})}}catch(n){console.error("Error updating price:",n)}}const k=g=>{switch(g){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},_=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(g),u=[{name:"name",label:"Product Name",align:"center",field:g=>g.product.name,format:g=>`${g}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:g=>_(g),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:g=>`${g} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:g=>`${g} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(g,s)=>(x(),A(E,null,[o("div",Qt,[o("div",null,[e(D,{class:"q-pb-lg q-pl-md",modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=n=>f.value=n),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",Et,[e(zt)])]),b.value?(x(),A("div",Kt,[e(at,{size:"50px",color:"primary"})])):(x(),A("div",Yt,[r.value.length===0?(x(),A("div",Gt,[e(ae,{name:"warning",color:"warning",size:"4em"}),Wt])):(x(),F(Ce,{key:1,class:"table-container sticky-header",filter:f.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:u,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":s[1]||(s[1]=n=>m.value=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(n=>[e(G,{key:"name",props:n},{default:t(()=>{var l;return[q($((l=n.row.product)!=null&&l.name?h(n.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(n=>[e(G,{key:"name",props:n},{default:t(()=>[n.row.category?(x(),F(ye,{key:0,color:k(n.row.category)},{default:t(()=>[q($(n.row.category),1)]),_:2},1032,["color"])):(x(),A("span",Jt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(G,{props:n,class:"cursor-pointer"},{default:t(()=>[o("span",null,[q($(_(n.row.price))+" ",1),e(ve,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[q("Edit Price")]),_:1})]),e(_e,{"onUpdate:modelValue":[l=>S(n.row,l),l=>n.row.price=l],modelValue:n.row.price,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(n=>[e(G,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[o("span",null,[q($(n.row.beginnings?n.row.beginnings:"Set Beginnings")+" ",1),e(ve,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[q("Edit beginnings")]),_:1})]),e(_e,{"onUpdate:modelValue":[l=>V(n.row,l),l=>n.row.beginnings=l],modelValue:n.row.beginnings,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:pe(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(n=>[e(G,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[o("span",null,[q($(n.row.total_quantity?n.row.total_quantity:"Set Quantity")+" ",1),e(ve,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[q("Edit quantity")]),_:1})]),e(_e,{"onUpdate:modelValue":[l=>y(n.row,l),l=>n.row.total_quantity=l],modelValue:n.row.total_quantity,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:pe(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(n=>[e(G,{class:"q-gutter-x-md",props:n},{default:t(()=>[e(Ht,{delete:n},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Zt=Z(Xt,[["__scopeId","data-v-c74b6072"]]);const ea={class:"q-gutter-sm"},ta={__name:"ProductPage",setup(d){return(v,C)=>(x(),A("div",ea,[o("div",null,[e(Zt)])]))}},aa=o("div",{class:"text-h6"},"Create Branch Raw Materials",-1),oa={class:"q-mb-lg"},la={key:0,class:"custom-list z-top"},na=o("div",null,"Raw Materials Code",-1),sa=o("div",null,"Raw Materials Name",-1),ra=o("div",null,"Category",-1),da=o("div",null,"Quantity",-1),ia={__name:"RawMaterialsCreate",setup(d){const v=Ve(),C=Ct(),R=z(()=>C.rawMaterials),f=rt(),b=P(""),U=async()=>{C.searchRawMaterials(b.value)},i=z(()=>c.total_quantity!==""),m=P(!1),p=()=>{m.value=!0},r=()=>{S(),m.value=!1},h=y=>{c.ingredients_id=y.id,c.ingredient_name=y.name,c.ingredient_code=y.code,c.category=y.category,c.unit=y.unit,b.value=""},c=Te({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:v.params.branch_id}),S=()=>{c.ingredients_id="",c.ingredient_name="",c.ingredient_code="",c.total_quantity="",c.ingredients_id="",c.category="",c.unit=""},V=async()=>{try{const{product_name:y,...k}=c;await f.createBranchRawMaterials(k),console.log("data to send",k),S(),m.value=!1}catch(y){console.log(y)}};return(y,k)=>(x(),A(E,null,[e(I,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:p,style:{background:"#f43f5e"}}),e(X,{modelValue:m.value,"onUpdate:modelValue":k[5]||(k[5]=_=>m.value=_),persistent:""},{default:t(()=>[e(H,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(N,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[aa,e(Ue),de(e(I,{icon:"close",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",oa,[e(D,{modelValue:b.value,"onUpdate:modelValue":[k[0]||(k[0]=_=>b.value=_),U],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[b.value?(x(),A("div",la,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var _;return[(_=R.value)!=null&&_.length?(x(!0),A(E,{key:1},fe(R.value,u=>(x(),F(re,{onClick:g=>h(u),key:u.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(u.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[na,e(D,{modelValue:c.ingredient_code,"onUpdate:modelValue":k[1]||(k[1]=_=>c.ingredient_code=_),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[sa,e(D,{modelValue:c.ingredient_name,"onUpdate:modelValue":k[2]||(k[2]=_=>c.ingredient_name=_),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[ra,e(D,{modelValue:c.category,"onUpdate:modelValue":k[3]||(k[3]=_=>c.category=_),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[da,e(D,{modelValue:c.total_quantity,"onUpdate:modelValue":k[4]||(k[4]=_=>c.total_quantity=_),type:"number",outlined:"",suffix:c.unit||"",dense:"",rules:[_=>_&&_.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Me,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(I,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(I,{class:"glossy",color:"teal",label:"Create",onClick:V,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ft=d=>(ne("data-v-17ad5e9f"),d=d(),se(),d),ua=ft(()=>o("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ca=ft(()=>o("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),pa={__name:"RawMaterialsTableDelete",props:["delete"],setup(d){const v=rt(),C=d,R=async()=>{console.log("clickkkd");try{await v.deleteBranchRawMaterials(C.delete.row.id),ce.create({type:"negative",icon:"warning",message:`Raw Materials ${C.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),f.value=!1}catch(U){console.error(U.message)}},f=P(!1),b=()=>{f.value=!0};return(U,i)=>(x(),A(E,null,[e(I,{onClick:b,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ve,{class:"bg-negative",delay:200},{default:t(()=>[q("Delete")]),_:1})]),_:1}),e(X,{modelValue:f.value,"onUpdate:modelValue":i[0]||(i[0]=m=>f.value=m)},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[ua,ca]),_:1}),e(tt,{class:"q-mb-md"}),e(N,null,{default:t(()=>[e(Me,{align:"right",class:"q-pt-none"},{default:t(()=>[de(e(I,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ie]]),e(I,{dense:"",label:"Delete",color:"negative",onClick:R,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ma=Z(pa,[["__scopeId","data-v-17ad5e9f"]]);const vt=d=>(ne("data-v-74a3fea6"),d=d(),se(),d),_a={class:"row justify-between"},ga={class:"q-my-sm"},fa={key:0,class:"spinner-wrapper"},va={key:1},ya={key:0,class:"data-error"},ha=vt(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ba=vt(()=>o("div",{class:"text-white"},"Edit Available Stocks",-1)),wa={class:"row justify-center q-gutter-x-md"},ka={__name:"RawMaterialsTable",setup(d){const C=Ve().params.branch_id,R=rt(),f=P(""),b=P(!0),U=P([]),i=P(!1),m=P({rowsPerPage:0}),p=z(()=>R.branchRawMaterials),r=z(()=>f.value?p.value.filter(k=>k.name.toLowerCase().includes(f.value.toLowerCase())):p.value);Ne(async()=>{console.log("props.branchId in onMounted:",C),C&&await h(C)});const h=async k=>{try{b.value=!0;const _=await R.fetchBranchRawMaterials(k);p.value=_,p.value.length||(i.value=!0),console.log("Branch Raw Materials",p.value)}catch(_){console.log("Error fetching branch product:",_),i.value=!0}finally{b.value=!1}};async function c(k,_){try{const u=await ee.put("/api/update-branch-rawMaterials/"+k.id,{total_quantity:parseInt(_)});if(u.status===200){const g=U.value.findIndex(s=>s.id==k.id);U.value[g]=parseInt(_),ce.create({type:"positive",message:u.data.message,timout:1e3,position:"top"})}}catch(u){console.error("Error updating price:",u)}}he(f,async k=>{b.value=!0,await new Promise(_=>setTimeout(_,1e3)),b.value=!1,i.value=r.value.length===0});const S=k=>{const _=k.total_quantity;if(k.ingredients.unit==="Grams"&&_<1e3)return"bg-red";let g;return _>=1e3?g=_/1e3:g=_,g<5?g<=2?"bg-red":(g<=3,"bg-warning"):"bg-positive"},V=k=>{const _=k.total_quantity,u=k.ingredients.unit;if(_>1e3){const g=(_/1e3).toFixed(2);return g.endsWith(".00")?`${Math.round(_/1e3)} kilos`:`${g} kilos`}else return _>1?`${_} ${u}`:`${_} ${u}`},y=[{name:"code",label:"Raw Materials Code",align:"center",field:k=>{var _,u;return(u=(_=k==null?void 0:k.ingredients)==null?void 0:_.code)!=null?u:"No Code"},format:k=>`${k}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:k=>{var _,u;return(u=(_=k==null?void 0:k.ingredients)==null?void 0:_.name)!=null?u:"No Code"},format:k=>`${k}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(k,_)=>(x(),A(E,null,[o("div",_a,[o("div",null,[e(D,{class:"q-pb-lg q-pl-md",modelValue:f.value,"onUpdate:modelValue":_[0]||(_[0]=u=>f.value=u),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",ga,[e(ia)])]),b.value?(x(),A("div",fa,[e(at,{size:"50px",color:"primary"})])):(x(),A("div",va,[r.value.length===0?(x(),A("div",ya,[e(ae,{name:"warning",color:"warning",size:"4em"}),ha])):(x(),F(Ce,{key:1,class:"table-container sticky-header",filter:f.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:y,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":_[1]||(_[1]=u=>m.value=u),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(u=>[e(G,{props:u},{default:t(()=>[e(ye,{square:"",class:kt(["text-white cursor-pointer",S(u.row)])},{default:t(()=>[q($(V(u.row))+" ",1),e(ve,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[ba]),_:1}),e(_e,{"onUpdate:modelValue":[g=>c(u.row,g),g=>u.row.total_quantity=g],modelValue:u.row.total_quantity,"auto-save":""},{default:t(g=>[e(D,{modelValue:g.value,"onUpdate:modelValue":s=>g.value=s,dense:"",suffix:u.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:pe(g.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(u=>[e(G,{props:u},{default:t(()=>[o("div",wa,[e(ma,{delete:u},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var xa=Z(ka,[["__scopeId","data-v-74a3fea6"]]);const $a={class:"q-gutter-sm"},Va={class:"q-gutter-x-sm"},Ca={__name:"RawMaterialsPage",setup(d){return(v,C)=>(x(),A("div",$a,[o("div",Va,[e(ye,{label:"Good",class:"text-white",color:"positive"}),e(ye,{label:"Warning",class:"text-white",color:"warning"}),e(ye,{label:"Danger",class:"text-white",color:"red"})]),o("div",null,[e(xa)])]))}};const Ra=d=>(ne("data-v-2e420de9"),d=d(),se(),d),Sa={class:"text-h6 text-white"},Pa=Ra(()=>o("div",{class:"text-h6",align:"center"},"Bread List",-1)),Ua={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe();console.log("breadReportsaaasss",d.breadProduction);const U=i=>i?i.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"";return(i,m)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row bg-backgroud text-h6"},{default:t(()=>{var p,r,h,c;return[o("div",Sa,$(`${U((r=(p=d.branchRecipe)==null?void 0:p.recipe)==null?void 0:r.name)} - ${(c=(h=d.branchRecipe)==null?void 0:h.recipe)==null?void 0:c.category}`),1),e(Ue),o("div",null,[de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]}),_:1}),e(N,null,{default:t(()=>[Pa]),_:1}),e(N,null,{default:t(()=>[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(re,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Bread Name")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-overline text-center"},{default:t(()=>[q("Pieces")]),_:1})]),_:1})]),_:1}),(x(!0),A(E,null,fe(d.breadProduction,(p,r)=>(x(),F(re,{key:r},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>{var h;return[q($(U((h=p==null?void 0:p.bread)==null?void 0:h.name)),1)]}),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-caption text-center"},{default:t(()=>[q($(`${p==null?void 0:p.bread_production} `),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Na=Z(Ua,[["__scopeId","data-v-2e420de9"]]);const qa=d=>(ne("data-v-961b0a22"),d=d(),se(),d),Da={class:"text-h6 text-white"},Aa=qa(()=>o("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Ia={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe();console.log("ingredientProduction",d.ingredientProduction);const U=m=>{const p=Number(m.quantity)||0,r=m.unit||"";return p>1e3?`${parseFloat((p/1e3).toFixed(3))} kg`:p>1?`${parseFloat(p.toFixed(3))} ${r}`:`${parseFloat(p.toFixed(3))} ${r}`},i=m=>m?m.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"";return(m,p)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row bg-backgroud text-h6"},{default:t(()=>{var r,h,c,S;return[o("div",Da,$(`${i((h=(r=d.branchRecipe)==null?void 0:r.recipe)==null?void 0:h.name)} - ${(S=(c=d.branchRecipe)==null?void 0:c.recipe)==null?void 0:S.category}`),1),e(Ue),o("div",null,[de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]}),_:1}),e(N,null,{default:t(()=>[Aa]),_:1}),e(N,null,{default:t(()=>[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(re,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Raw Materials Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Code")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),A(E,null,fe(d.ingredientProduction,(r,h)=>(x(),F(re,{key:h},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(r.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(r.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(U(r)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ta=Z(Ia,[["__scopeId","data-v-961b0a22"]]);const Je=st("productions",()=>{const d=P([]),v=P([]);return{productions:d,production:v,fetchAllProduction:async()=>{const p=await ee.get("/api/branch-production-report");d.value=p.data.reports},fetchBranchProductions:async p=>{try{const r=await ee.get(`/api/branches/${p}/production-report`);d.value=r.data}catch(r){console.log(r)}},updateBakerReport:async(p,r)=>{console.log("baker reports data in store",r),console.log("baker reports id data in store",p),Ae.show();try{const h=await ee.put(`api/update/branch-baker-report/${p}`,r);console.log(h.data)}catch(h){console.error("Error updating baker report:",h)}finally{Ae.hide()}},addBreadProduction:async p=>{console.log("Bread Production Data:",p),Ae.show();try{const r=await ee.post("/api/branch-add-bread-production-report",p);console.log(r.data),ce.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),ce.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ae.hide()}},addSelectaProduction:async p=>{console.log("Selecta Production Data:",p),Ae.show();try{const r=await ee.post("/api/branch-add-selecta-production-report",p);console.log(r.data),ce.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),ce.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ae.hide()}},addSoftdrinksProduction:async p=>{console.log("Softdrinks Production Data:",p),Ae.show();try{const r=await ee.post("/api/branch-add-softdrinks-production-report",p);console.log(r.data),ce.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),ce.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ae.hide()}},addOtherProductProduction:async p=>{console.log("Softdrinks Production Data:",p),Ae.show();try{const r=await ee.post("/api/branch-add-other-production-report",p);console.log(r.data),ce.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),ce.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ae.hide()}}}});const yt=d=>(ne("data-v-6681c582"),d=d(),se(),d),Ba={class:"text-h6 text-dark"},Fa={class:"row q-gutter-sm"},za={class:"row q-mt-sm q-gutter-sm"},La=yt(()=>o("div",{class:"q-mt-sm"},"Kilo",-1)),Oa={class:"q-mt-xl q-gutter-md"},Ma={key:0},Ha={class:"q-mx-sm"},ja=yt(()=>o("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Qa={__name:"EditBakersReport",props:["bakerReports","sales_report_id"],setup(d){const v=Je(),{dialogRef:C,onDialogHide:R}=qe(),f=d;console.log("bakers report",f.bakerReports);const b=Te({target:0,actual_target:0,short:0,over:0,kilo:0}),U=z(()=>f.bakerReports.ingredient_bakers_reports.map(V=>{const y=parseFloat(f.bakerReports.kilo)||1,k=parseFloat(b.kilo)||1,u=V.quantity/y*k;return{...V,quantity:u.toFixed(3)}})),i=V=>V?V.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"",m=V=>{const y=Number(V.quantity)||0,k=V.unit||"";return y>1e3?`${parseFloat((y/1e3).toFixed(3))} kg`:y>1?`${parseFloat(y.toFixed(3))} ${k}`:`${parseFloat(y.toFixed(3))} ${k}`},p=V=>{const y=Number(V)||0;return parseFloat(y.toFixed(3)).toString()},r=V=>{const y=Number(V)||0;return parseFloat(y.toFixed(3)).toString()},h=z(()=>f.bakerReports.combined_bakers_reports.reduce((V,y)=>V+(parseFloat(y.bread_production)||0),0)),c=()=>{const V=h.value,y=parseFloat(b.actual_target)||0;V>y?(b.over=V-y,b.short=0):(b.short=y-V,b.over=0)};he(()=>f.bakerReports,V=>{V&&(b.target=p(V.target)||0,b.actual_target=V.actual_target||0,b.short=V.short||0,b.over=V.over||0,b.kilo=r(V.kilo)||0)},{immediate:!0}),he(()=>b.kilo,()=>{const V=parseFloat(b.kilo)||1,k=(parseFloat(b.target)||0)*V;b.actual_target=p(Math.ceil(k)),c()}),he(()=>h.value,()=>c());const S=async()=>{var g,s,n;const V=f.bakerReports.id,y=((n=(s=(g=f.bakerReports)==null?void 0:g.branch_recipe)==null?void 0:s.recipe)==null?void 0:n.category)||null,k=f.bakerReports.status,_=(f==null?void 0:f.sales_report_id)||null,u={initial_bakerreports_id:V,sales_report_id:_,category:y,target:b.target,actual_target:b.actual_target,short:b.short,over:b.over,status:k,kilo:b.kilo,combined_bakers_reports:f.bakerReports.combined_bakers_reports.map(l=>({bread_id:l.bread.id,bread_production:l.bread_production})),recalculated_ingredients:U.value.map(l=>({ingredients_id:l.ingredients.id,quantity:l.quantity,unit:l.unit}))};console.log("Edited Bakers Report",u),console.log("Edited Bakers Report",V);try{await v.updateBakerReport(V,u),ce.create({type:"positive",message:"Baker report updated successfully!",position:"top"}),R()}catch(l){console.error("Error updating baker report:",l),ce.create({type:"negative",message:"Failed to update baker report. Please try again.",position:"top"})}};return(V,y)=>(x(),F(X,{ref_key:"dialogRef",ref:C,onHide:te(R)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row bg-backgroud text-h6"},{default:t(()=>{var k,_,u,g,s,n;return[o("div",Ba,$(`${i((u=(_=(k=d.bakerReports)==null?void 0:k.branch_recipe)==null?void 0:_.recipe)==null?void 0:u.name)} - ${(n=(s=(g=d.bakerReports)==null?void 0:g.branch_recipe)==null?void 0:s.recipe)==null?void 0:n.category}`),1),e(Ue),o("div",null,[de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]}),_:1}),e(N,{class:"row q-gutter-x-xl"},{default:t(()=>[o("div",null,[o("div",Fa,[o("div",null,[q(" Target Pcs "),e(D,{readonly:"",modelValue:b.target,"onUpdate:modelValue":y[0]||(y[0]=k=>b.target=k),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),o("div",null,[q(" Actual Target "),e(D,{readonly:"",modelValue:b.actual_target,"onUpdate:modelValue":y[1]||(y[1]=k=>b.actual_target=k),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),o("div",za,[o("div",null,[q(" Short "),e(D,{readonly:"",modelValue:b.short,"onUpdate:modelValue":y[2]||(y[2]=k=>b.short=k),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),o("div",null,[q(" Over "),e(D,{readonly:"",modelValue:b.over,"onUpdate:modelValue":y[3]||(y[3]=k=>b.over=k),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),o("div",null,[La,e(D,{outlined:"",modelValue:b.kilo,"onUpdate:modelValue":y[4]||(y[4]=k=>b.kilo=k),dense:"",type:"number",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),o("div",Oa,[d.bakerReports.combined_bakers_reports.length?(x(),A("div",Ma,[(x(!0),A(E,null,fe(d.bakerReports.combined_bakers_reports,(k,_)=>(x(),A("div",{key:_,class:"q-my-md"},[e(tt,{class:"q-ma-md"}),o("div",Ha,$(k.bread.name),1),e(D,{outlined:"",modelValue:k.bread_production,"onUpdate:modelValue":u=>k.bread_production=u,dense:"",type:"numbers",suffix:"pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):Ie("",!0)])]),o("div",null,[ja,e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(re,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Raw Materials Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Code")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),A(E,null,fe(U.value,(k,_)=>(x(),F(re,{key:_},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(k.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(k.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(m(k)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(Me,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[de(e(I,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[ie]]),e(I,{class:"glossy",color:"teal",label:"Save",onClick:S})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ea=Z(Qa,[["__scopeId","data-v-6681c582"]]);const Ka=d=>(ne("data-v-f96814be"),d=d(),se(),d),Ya=Ka(()=>o("div",{class:"row justify-between"},[o("div",{class:"text-h6"},"Baker Report")],-1)),Ga={class:"text-subtitle1 text-weight-regular"},Wa={class:"q-ma-sm"},Ja={class:"q-ma-sm",align:"center"},Xa=["src"],Za={__name:"BakerReportPanel",props:["bakersReport","sales_report_id"],setup(d){Ze.exports.vfs=pt;const v=d,C=v.bakersReport;console.log("Bakers Report",v.bakersReport);const R=P(!0),f=P(!1);P(!1);const b=P({rowsPerPage:0}),U=P(""),i=Be(),m=(a,w)=>{i.dialog({component:Na,componentProps:{breadProduction:a,branchRecipe:w}})},p=(a,w)=>{i.dialog({component:Ta,componentProps:{ingredientProduction:a,branchRecipe:w}})},r=(a,w)=>{i.dialog({component:Ea,componentProps:{bakerReports:a,sales_report_id:w}})},h=a=>$e.formatDate(a,"MMM. DD, YYYY"),c=a=>{const w=Number(a)||0;return parseFloat(w.toFixed(3)).toString()},S=a=>{const w=Number(a)||0;return parseFloat(w.toFixed(3)).toString()},V=a=>a?a.split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "):"",y=a=>{const w=ue=>ue?ue.charAt(0).toUpperCase()+ue.slice(1).toLowerCase():"",T=a.firstname?w(a.firstname):"No Firstname",L=a.middlename?w(a.middlename).charAt(0)+".":"",J=a.lastname?w(a.lastname):"No Lastname";return`${T} ${L} ${J}`.trim()},k=a=>{const w=new Date(a),T={hour:"2-digit",minute:"2-digit",hour12:!0};return w.toLocaleTimeString(void 0,T)},_=a=>{switch(a){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},u=a=>a?a.split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "):"",g=a=>a?a.recipe_category==="Filling"?a.filling_bakers_reports||[]:a.recipe_category==="Dough"?a.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),s=[{name:"recipe_name",align:"center",label:"Recipe Name",field:a=>a.branch_recipe&&a.branch_recipe.recipe?{name:a.branch_recipe.recipe.name,category:a.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:a=>`${u(a.name)} (${a.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:a=>k(a)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:a=>`${S(a)}`},{name:"actual_target",align:"center",label:"Actual Target",field:a=>a.target*a.kilo,format:a=>`${Math.ceil(a)}`},{name:"over",align:"center",label:"Over",field:"over",format:a=>`${a}`},{name:"short",align:"center",label:"Short",field:"short",format:a=>`${a}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],n=a=>{var le,be,j,oe,ge,Q,K,O,B,M,me,De,dt,it;console.log("bakerReport",a);const w=`${(j=(be=(le=a==null?void 0:a.branch_recipe)==null?void 0:le.recipe)==null?void 0:be.name)!=null?j:"Unkown Recipe"} (${(oe=a==null?void 0:a.recipe_category)!=null?oe:"Unkown Category"})`,T=(Q=(ge=a==null?void 0:a.branch_recipe)==null?void 0:ge.target)!=null?Q:0,L=(K=a==null?void 0:a.actual_target)!=null?K:0,J=(O=a==null?void 0:a.kilo)!=null?O:0,ue=(B=a==null?void 0:a.over)!=null?B:0,Se=(M=a==null?void 0:a.short)!=null?M:0,we={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:w,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${c(T)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${L} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${S(J)} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${ue} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${Se} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${a.branch.name||"No name available"}
                Baker: ${y(((me=a==null?void 0:a.user)==null?void 0:me.employee)||"Unknown Baker Name")}
                Recipe: ${((De=a.recipe)==null?void 0:De.name)||"Unknown Recipe"} (${a.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${h(((dt=v.bakersReport[0])==null?void 0:dt.created_at)||((it=v.bakersReport[1])==null?void 0:it.created_at)||"No name available")}
                Time: ${k(a.created_at)}
                Status: ${V(a.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...g(a).map(Re=>{var Xe;return[{text:((Xe=Re==null?void 0:Re.bread)==null?void 0:Xe.name)||"Unknown Bread",style:"body"},{text:a.recipe_category==="Filling"?`${(Re==null?void 0:Re.filling_production)||"0"} pcs`:`${Re==null?void 0:Re.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(a.ingredient_bakers_reports||[]).map(Re=>{var Xe,ut;return[{text:((Xe=Re==null?void 0:Re.ingredients)==null?void 0:Xe.code)||"Unknown Ingredient",style:"body"},{text:`${(Re==null?void 0:Re.quantity)||"Unknown Quantity"} ${((ut=Re==null?void 0:Re.ingredients)==null?void 0:ut.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},we]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},l=a=>{const w=n(a);Ze.exports.createPdf(w).getDataUrl(T=>{U.value=T,f.value=!0})};return(a,w)=>(x(),A("div",null,[e(H,{class:"my-card q-pa-md"},{default:t(()=>{var T,L,J,ue,Se,we;return[Ya,o("div",Ga,[o("div",null," Name: "+$(y(((L=(T=te(C)[0])==null?void 0:T.user)==null?void 0:L.employee)||((ue=(J=te(C)[1])==null?void 0:J.user)==null?void 0:ue.employee)||"No name available")),1),o("div",null," Date: "+$(`${h(((Se=v.bakersReport[0])==null?void 0:Se.created_at)||((we=v.bakersReport[1])==null?void 0:we.created_at)||"No name available")}`),1)]),e(N,null,{default:t(()=>[e(Ce,{class:"table-container sticky-header2",columns:s,rows:te(C),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:b.value,"rows-per-page-options":[0]},{"body-cell-status":t(le=>[e(G,{props:le},{default:t(()=>[e(ye,{align:"middle",color:_(le.row.status)},{default:t(()=>[q($(V(le.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(le=>[e(G,{props:le},{default:t(()=>[e(I,{class:"gradient-icon",flat:"",rounded:"",onClick:be=>m(le.row.combined_bakers_reports,le.row.branch_recipe)},{default:t(()=>[e(ae,{name:"visibility",class:"gradient-icon"}),e(ve,{class:"gradient-tooltip"},{default:t(()=>[q("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(le=>[e(G,{props:le},{default:t(()=>[e(I,{class:"gradient-icon2",flat:"",rounded:"",onClick:be=>p(le.row.ingredient_bakers_reports,le.row.branch_recipe)},{default:t(()=>[e(ae,{name:"visibility",class:"gradient-icon2"}),e(ve,{class:"gradient-tooltip"},{default:t(()=>[q("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(le=>[e(G,{props:le},{default:t(()=>[e(I,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:be=>a.toggleMenu(le.row)},null,8,["onClick"]),e(Rt,{modelValue:le.row.menu,"onUpdate:modelValue":be=>le.row.menu=be,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(Pe,{style:{"min-width":"100px"}},{default:t(()=>[de((x(),F(re,{clickable:"",onClick:be=>l(le.row)},{default:t(()=>[e(Y,{avatar:""},{default:t(()=>[e(ae,{name:"print"})]),_:1}),e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[ie]]),de((x(),F(re,{clickable:"",onClick:be=>r(le.row,d.sales_report_id)},{default:t(()=>[e(Y,{avatar:""},{default:t(()=>[e(ae,{name:"edit"})]),_:1}),e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[ie]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(X,{modelValue:f.value,"onUpdate:modelValue":w[0]||(w[0]=T=>f.value=T),"backdrop-filter":a.backdropFilter,maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[o("div",Wa,[o("div",Ja,[de((x(),F(I,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ve,null,{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])]),o("div",null,[o("iframe",{src:U.value,width:"100%",height:"700px"},null,8,Xa)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var eo=Z(Za,[["__scopeId","data-v-f96814be"]]);const Fe=d=>(ne("data-v-103c9df4"),d=d(),se(),d),to=Fe(()=>o("div",{class:"text-h6 text-white"},"Bread",-1)),ao={class:"text-subtitle1 text-weight-medium"},oo={class:"q-mb-lg"},lo={key:0,class:"custom-list z-top"},no=Fe(()=>o("div",null,"Product Name",-1)),so={class:"row justify-between q-mt-md q-gutter-md"},ro=Fe(()=>o("div",null,"Category",-1)),io=Fe(()=>o("div",null,"Price",-1)),uo={class:"row justify-between q-mt-md q-gutter-md"},co=Fe(()=>o("div",null,"Beginnings",-1)),po=Fe(()=>o("div",null,"New Production",-1)),mo=Fe(()=>o("div",null,"Remaining",-1)),_o=Fe(()=>o("div",null,"Bread Out",-1)),go=Fe(()=>o("div",null,"Total Quantity",-1)),fo=Fe(()=>o("div",null,"Bread Sold",-1)),vo=Fe(()=>o("div",null,"Sales",-1)),yo={align:"right"},ho={__name:"AddingBreadReport",props:["sales_Reports","sales_report_id","user"],setup(d){const v=d;console.log("props.sales_Reports",v.sales_Reports),console.log("props.user",v.user);const C=v.sales_report_id,R=Ve(),f=Je(),b=Ge();z(()=>b.products);const U=Qe(),i=z(()=>U.branchProducts);console.log("branchProduct",i);const m=R.params.branch_id,p=v.user.id,r=P(""),h=P("");z(()=>r.value&&employees.value.length>0);const c=P("Bread"),S=async()=>{console.log("branch_id.value:",m),console.log("searchQuery.value:",h.value),console.log("category.value:",c.value),(h.value||c.value)&&await U.searchBranchProducts({query:h.value,branches_id:m,category:c.value})},V=P(!1),y=()=>{V.value=!0},k=l=>{const a=J=>J?J.charAt(0).toUpperCase()+J.slice(1).toLowerCase():"",w=l.firstname?a(l.firstname):"No Firstname",T=l.middlename?a(l.middlename).charAt(0)+".":"",L=l.lastname?a(l.lastname):"No Lastname";return`${w} ${T} ${L}`.trim()},_=l=>l?l.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):"",u=l=>{console.log("data",l),g.product_id=l.product.id,g.product_name=l.product.name,g.category=l.category,g.price=l.price,h.value=""},g=Te({sales_report_id:C,branch_id:m,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,new_production:0,bread_out:0,bread_sold:0,total:0,sales:0,branches_id:R.params.branch_id}),s=z(()=>{const l=parseInt(g.bread_sold||0)*parseFloat(g.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(l)});he(()=>[g.new_production,g.beginnings],([l,a])=>{g.total=parseInt(l||0)+parseInt(a||0)}),he(()=>[g.total,g.remaining,g.bread_out],([l,a,w])=>{g.bread_sold=parseInt(l||0)-(parseInt(a||0)+parseInt(w||0))}),he(()=>[g.bread_sold,g.price],([l,a])=>{g.sales=parseInt(l||0)*parseFloat(a||0)});const n=async()=>{try{if(!g.product_name||!g.price||!g.product_id||!g.branch_id||!g.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const l={user_id:g.user_id,branch_id:g.branch_id,sales_report_id:g.sales_report_id,product_id:g.product_id,product_name:g.product_name,price:g.price,beginnings:g.beginnings,remaining:g.remaining,new_production:g.new_production,bread_out:g.bread_out,bread_sold:g.bread_sold,total:g.total,sales:g.sales};console.log("payload",l),await f.addBreadProduction(l)}catch{}};return(l,a)=>(x(),A(E,null,[o("div",null,[e(I,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Bread",onClick:y})]),e(X,{modelValue:V.value,"onUpdate:modelValue":a[11]||(a[11]=w=>V.value=w),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row items-center bg-backgroud"},{default:t(()=>[to,e(Ue),de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,null,{default:t(()=>[o("div",ao," Cashier: "+$(k(d.user.employee)),1)]),_:1}),e(N,{class:"q-gutter-y-sm"},{default:t(()=>[o("div",oo,[e(D,{modelValue:h.value,"onUpdate:modelValue":[a[0]||(a[0]=w=>h.value=w),S],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[h.value?(x(),A("div",lo,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var w;return[(w=i.value)!=null&&w.length?(x(!0),A(E,{key:1},fe(i.value,T=>(x(),F(re,{onClick:L=>u(T),key:T.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(_(T.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[no,e(D,{modelValue:g.product_name,"onUpdate:modelValue":a[1]||(a[1]=w=>g.product_name=w),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",so,[o("div",null,[ro,e(D,{modelValue:g.category,"onUpdate:modelValue":a[2]||(a[2]=w=>g.category=w),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])]),o("div",null,[io,e(D,{modelValue:g.price,"onUpdate:modelValue":a[3]||(a[3]=w=>g.price=w),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])])]),o("div",uo,[o("div",null,[co,e(D,{modelValue:g.beginnings,"onUpdate:modelValue":a[4]||(a[4]=w=>g.beginnings=w),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[po,e(D,{modelValue:g.new_production,"onUpdate:modelValue":a[5]||(a[5]=w=>g.new_production=w),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[mo,e(D,{modelValue:g.remaining,"onUpdate:modelValue":a[6]||(a[6]=w=>g.remaining=w),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[_o,e(D,{modelValue:g.bread_out,"onUpdate:modelValue":a[7]||(a[7]=w=>g.bread_out=w),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[go,e(D,{modelValue:g.total,"onUpdate:modelValue":a[8]||(a[8]=w=>g.total=w),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[fo,e(D,{modelValue:g.bread_sold,"onUpdate:modelValue":a[9]||(a[9]=w=>g.bread_sold=w),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[vo,e(D,{modelValue:s.value,"onUpdate:modelValue":a[10]||(a[10]=w=>s.value=w),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(N,null,{default:t(()=>[o("div",yo,[e(I,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var bo=Z(ho,[["__scopeId","data-v-103c9df4"]]);const wo={class:"row justify-between text-white"},ko=o("div",{class:"text-h6"},"Bread Report",-1),xo={class:"row justify-end q-mt-md"},$o={class:"text-h6"},Vo={__name:"BreadReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=P(!1),U=P(!0),i=d,m=P(""),p=P({rowsPerPage:0});console.log("Reports data structure:",i.reports),console.log("Reports data sales_report_id:",i.sales_report_id);const r=s=>s?s.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",h=async(s,n)=>{console.log("update data of the price",s),console.log("update val of the price",n);try{const l=await ee.put("/api/update-bread-sales-price-report/"+s.id,{price:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},c=async(s,n)=>{console.log("update data of the beginnings",s),console.log("update val of the beginnings",n);try{const l=await ee.put("/api/update-bread-sales-beginnings-report/"+s.id,{beginnings:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},S=async(s,n)=>{console.log("update data of the NewProduction",s),console.log("update val of the NewProduction",n);try{const l=await ee.put("/api/update-bread-sales-newProduction-report/"+s.id,{new_production:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},V=async(s,n)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",n);try{const l=await ee.put("/api/update-bread-sales-remaining-report/"+s.id,{remaining:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},y=async(s,n)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",n);try{const l=await ee.put("/api/update-bread-sales-breadOut-report/"+s.id,{bread_out:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},k=[{name:"name",label:"Bread Name",field:s=>(console.log("Row data:",s),s.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:s=>`${s}`},{name:"new_production",label:"New Production (PCS)",field:"new_production",format:s=>`${s}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:s=>`${s}`},{name:"bread_out",label:"Bread Out (PCS)",field:"bread_out",format:s=>`${s}`},{name:"total",label:"Bread Total (PCS)",field:s=>(Number(s.beginnings)||0)+(Number(s.new_production)||0)},{name:"breadSold",label:"Bread Sold (PCS)",field:s=>{const n=Number(s.beginnings)||0,l=Number(s.new_production)||0,a=Number(s.remaining)||0,w=Number(s.bread_out)||0,T=n+l,L=a+w;return T-L},format:s=>`${s}`},{name:"sales",label:"Total Sales",field:s=>{const n=Number(s.beginnings)||0,l=Number(s.new_production)||0,a=Number(s.remaining)||0,w=Number(s.bread_out)||0,T=Number(s.price)||0,L=n+l,J=a+w;return(L-J)*T},format:s=>`${_(s)}`}],_=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),u=z(()=>{if(!m.value||!m.value.trim())return i.reports||[];const s=m.value.trim().toLowerCase();return(i.reports||[]).filter(n=>n.bread.name.toLowerCase().includes(s)||n.price.toString().includes(s)||n.sales.toString().includes(s))}),g=z(()=>{const s=u.value.reduce((n,l)=>{const a=Number(l.beginnings)||0,w=Number(l.new_production)||0,T=Number(l.remaining)||0,L=Number(l.bread_out)||0,J=Number(l.price)||0,ue=a+w,Se=T+L,le=(ue-Se)*J;return console.log(`Adding salesAmount: ${le} to total: ${n}`),n+le},0);return console.log("Overall Total Sales computed as:",s),s});return console.log("Overall Total Sales:",g.value),(s,n)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=l=>b.value=l),maximized:U.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{style:{"background-color":"#795548"}},{default:t(()=>[o("div",wo,[ko,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=l=>m.value=l),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(bo,{sales_Reports:i.reports,sales_report_id:d.sales_report_id,user:i.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:u.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":n[1]||(n[1]=l=>p.value=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${r(l.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${_(l.row.price)}`),1),e(_e,{"onUpdate:modelValue":[a=>h(l.row,a),a=>l.row.price=a],modelValue:l.row.price,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.beginnings}`),1),e(_e,{"onUpdate:modelValue":[a=>c(l.row,a),a=>l.row.beginnings=a],modelValue:l.row.beginnings,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-new_production":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.new_production}`),1),e(_e,{"onUpdate:modelValue":[a=>S(l.row,a),a=>l.row.new_production=a],modelValue:l.row.new_production,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.remaining}`),1),e(_e,{"onUpdate:modelValue":[a=>V(l.row,a),a=>l.row.remaining=a],modelValue:l.row.remaining,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_out":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.bread_out}`),1),e(_e,{"onUpdate:modelValue":[a=>y(l.row,a),a=>l.row.bread_out=a],modelValue:l.row.bread_out,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(N,null,{default:t(()=>[o("div",xo,[o("div",$o," Overall Total Sales: "+$(_(g.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const ze=d=>(ne("data-v-68ee2954"),d=d(),se(),d),Co=ze(()=>o("div",{class:"text-h6 text-white"},"Add Selecta",-1)),Ro={class:"text-subtitle1 text-weight-medium"},So={class:"q-mb-lg"},Po={key:0,class:"custom-list z-top"},Uo=ze(()=>o("div",null,"Product Name",-1)),No=ze(()=>o("div",null,"Category",-1)),qo=ze(()=>o("div",null,"Price",-1)),Do={class:"row justify-between q-mt-md q-gutter-md"},Ao=ze(()=>o("div",null,"Beginnings",-1)),Io=ze(()=>o("div",null,"Added Stocks",-1)),To=ze(()=>o("div",null,"Remaining",-1)),Bo=ze(()=>o("div",null,"Selecta Out",-1)),Fo=ze(()=>o("div",null,"Total Quantity",-1)),zo=ze(()=>o("div",null,"Selecta Sold",-1)),Lo=ze(()=>o("div",null,"Sales",-1)),Oo={align:"right"},Mo={__name:"AddingSelectaReport",props:["sales_Reports","sales_report_id","user"],setup(d){const v=d;console.log("props.sales_Reports",v.sales_Reports),console.log("props.user",v.user);const C=v.sales_report_id,R=Ve(),f=Je(),b=Ge();z(()=>b.products);const U=Qe(),i=z(()=>U.branchProducts);console.log("branchProduct",i);const m=R.params.branch_id,p=v.user.id,r=P(""),h=P("Selecta"),c=async()=>{console.log("branch_id.value:",m),console.log("searchQuery.value:",r.value),console.log("category.value:",h.value),(r.value||h.value)&&await U.searchBranchProducts({query:r.value,branches_id:m,category:h.value})},S=P(!1),V=()=>{S.value=!0},y=n=>{const l=L=>L?L.charAt(0).toUpperCase()+L.slice(1).toLowerCase():"",a=n.firstname?l(n.firstname):"No Firstname",w=n.middlename?l(n.middlename).charAt(0)+".":"",T=n.lastname?l(n.lastname):"No Lastname";return`${a} ${w} ${T}`.trim()},k=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",_=n=>{console.log("data",n),u.product_id=n.product.id,u.product_name=n.product.name,u.category=n.category,u.price=n.price,r.value=""},u=Te({sales_report_id:C,branch_id:m,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:R.params.branch_id}),g=z(()=>{const n=parseInt(u.sold||0)*parseFloat(u.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(n)});he(()=>[u.added_stocks,u.beginnings],([n,l])=>{u.total=parseInt(n||0)+parseInt(l||0)}),he(()=>[u.total,u.remaining,u.out],([n,l,a])=>{u.sold=parseInt(n||0)-(parseInt(l||0)+parseInt(a||0))}),he(()=>[u.sold,u.price],([n,l])=>{u.sales=parseInt(n||0)*parseFloat(l||0)});const s=async()=>{try{if(!u.product_name||!u.price||!u.product_id||!u.branch_id||!u.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const n={user_id:u.user_id,branch_id:u.branch_id,sales_report_id:u.sales_report_id,product_id:u.product_id,product_name:u.product_name,price:u.price,beginnings:u.beginnings,remaining:u.remaining,added_stocks:u.added_stocks,out:u.out,sold:u.sold,total:u.total,sales:u.sales};console.log("payload",n),await f.addSelectaProduction(n)}catch{}};return(n,l)=>(x(),A(E,null,[o("div",null,[e(I,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:V})]),e(X,{modelValue:S.value,"onUpdate:modelValue":l[11]||(l[11]=a=>S.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[q($(d.user.name)+" ",1),e(N,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Co,e(Ue),de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,null,{default:t(()=>[o("div",Ro," Cashier: "+$(y(d.user.employee)),1)]),_:1}),e(N,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",So,[e(D,{modelValue:r.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>r.value=a),c],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[r.value?(x(),A("div",Po,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var a;return[(a=i.value)!=null&&a.length?(x(!0),A(E,{key:1},fe(i.value,w=>(x(),F(re,{onClick:T=>_(w),key:w.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(k(w.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Uo,e(D,{modelValue:u.product_name,"onUpdate:modelValue":l[1]||(l[1]=a=>u.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[No,e(D,{modelValue:u.category,"onUpdate:modelValue":l[2]||(l[2]=a=>u.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[qo,e(D,{modelValue:u.price,"onUpdate:modelValue":l[3]||(l[3]=a=>u.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Do,[o("div",null,[Ao,e(D,{modelValue:u.beginnings,"onUpdate:modelValue":l[4]||(l[4]=a=>u.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Io,e(D,{modelValue:u.added_stocks,"onUpdate:modelValue":l[5]||(l[5]=a=>u.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[To,e(D,{modelValue:u.remaining,"onUpdate:modelValue":l[6]||(l[6]=a=>u.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Bo,e(D,{modelValue:u.out,"onUpdate:modelValue":l[7]||(l[7]=a=>u.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Fo,e(D,{modelValue:u.total,"onUpdate:modelValue":l[8]||(l[8]=a=>u.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[zo,e(D,{modelValue:u.sold,"onUpdate:modelValue":l[9]||(l[9]=a=>u.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Lo,e(D,{modelValue:g.value,"onUpdate:modelValue":l[10]||(l[10]=a=>g.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(N,null,{default:t(()=>[o("div",Oo,[e(I,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:s})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ho=Z(Mo,[["__scopeId","data-v-68ee2954"]]);const jo={class:"row justify-between text-white"},Qo=o("div",{class:"text-h6"},"Selecta Report",-1),Eo={class:"row justify-end q-mt-md"},Ko={class:"text-h6"},Yo={__name:"SelectaReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=P(!1),U=P(!0),i=d,m=P(""),p=P({rowsPerPage:0});console.log("Reports data structure:",i.reports);const r=s=>s?s.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",h=async(s,n)=>{console.log("update data of the price",s),console.log("update val of the price",n);try{const l=await ee.put("/api/update-selecta-sales-price-report/"+s.id,{price:parseInt(n)})}catch(l){console.error(l)}},c=async(s,n)=>{console.log("update data of the beginnings",s),console.log("update val of the beginnings",n);try{const l=await ee.put("/api/update-selecta-sales-beginnings-report/"+s.id,{beginnings:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},S=async(s,n)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",n);try{const l=await ee.put("/api/update-selecta-sales-remaining-report/"+s.id,{remaining:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},V=async(s,n)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",n);try{const l=await ee.put("/api/update-selecta-sales-selctaOut-report/"+s.id,{out:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},y=async(s,n)=>{console.log("update data of the new updatedRemaining",s),console.log("update val of the new updatedRemaining",n);try{const l=await ee.put("/api/update-selecta-sales-addedstocks-report/"+s.id,{added_stocks:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},k=[{name:"name",label:"Selecta Name",field:s=>(console.log("Row data:",s),s.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:s=>`${s}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:s=>`${s}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:s=>`${s}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:s=>`${s}`},{name:"total_selecta",label:"Total Stocks (PCS)",field:s=>Number(s.beginnings||0)+Number(s.added_stocks||0),format:s=>`${s}`},{name:"sold",label:"Selecta Sold (PCS)",field:s=>{const n=Number(s.beginnings||0),l=Number(s.added_stocks||0),a=Number(s.out||0),w=Number(s.remaining||0),T=n+l,L=w+a;return T-L},format:s=>`${s}`},{name:"sales",label:"Total Sales",field:s=>{const n=Number(s.beginnings||0),l=Number(s.added_stocks||0),a=Number(s.out||0),w=Number(s.remaining||0),T=Number(s.price||0),L=n+l,J=w+a;return(L-J)*T},format:s=>`${_(s)}`}],_=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),u=z(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),g=z(()=>{const s=u.value.reduce((n,l)=>{const a=`${l.beginnings}`||0,w=`${l.added_stocks}`||0,T=`${l.out}`||0,L=`${l.remaining}`||0,J=parseInt(a)+parseInt(w),ue=parseInt(L)+parseInt(T),we=(J-ue)*(l.price||0);return console.log(`Adding salesAmount: ${we} to total: ${n}`),n+we},0);return console.log("Overall Total Sales computed as:",s),s});return console.log("Filtered Rows:",u.value),(s,n)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=l=>b.value=l),maximized:U.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{style:{"background-color":"#f44336"}},{default:t(()=>[o("div",jo,[Qo,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=l=>m.value=l),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(Ho,{sales_Reports:i.reports,sales_report_id:d.sales_report_id,user:i.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:u.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":n[1]||(n[1]=l=>p.value=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${r(l.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${_(l.row.price)}`),1),e(_e,{"onUpdate:modelValue":[a=>h(l.row,a),a=>l.row.price=a],modelValue:l.row.price,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.beginnings}`),1),e(_e,{"onUpdate:modelValue":[a=>c(l.row,a),a=>l.row.beginnings=a],modelValue:l.row.beginnings,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.remaining}`),1),e(_e,{"onUpdate:modelValue":[a=>S(l.row,a),a=>l.row.remaining=a],modelValue:l.row.remaining,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.out}`),1),e(_e,{"onUpdate:modelValue":[a=>V(l.row,a),a=>l.row.out=a],modelValue:l.row.out,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.added_stocks}`),1),e(_e,{"onUpdate:modelValue":[a=>y(l.row,a),a=>l.row.added_stocks=a],modelValue:l.row.added_stocks,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(N,null,{default:t(()=>[o("div",Eo,[o("div",Ko," Overall Total Sales: "+$(_(g.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Le=d=>(ne("data-v-94be31e2"),d=d(),se(),d),Go=Le(()=>o("div",{class:"text-h6 text-white"},"Add Softdrinks",-1)),Wo={class:"text-subtitle1 text-weight-medium"},Jo={class:"q-mb-lg"},Xo={key:0,class:"custom-list z-top"},Zo=Le(()=>o("div",null,"Product Name",-1)),el=Le(()=>o("div",null,"Category",-1)),tl=Le(()=>o("div",null,"Price",-1)),al={class:"row justify-between q-mt-md q-gutter-md"},ol=Le(()=>o("div",null,"Beginnings",-1)),ll=Le(()=>o("div",null,"Added Stocks",-1)),nl=Le(()=>o("div",null,"Remaining",-1)),sl=Le(()=>o("div",null,"Softdrinks Out",-1)),rl=Le(()=>o("div",null,"Total Quantity",-1)),dl=Le(()=>o("div",null,"Softdrinks Sold",-1)),il=Le(()=>o("div",null,"Sales",-1)),ul={align:"right"},cl={__name:"AddingSoftdrinksReport",props:["sales_Reports","sales_report_id","user"],setup(d){const v=d;console.log("props.sales_Reports",v.sales_Reports),console.log("props.user",v.user);const C=v.sales_report_id,R=Ve(),f=Je(),b=Ge();z(()=>b.products);const U=Qe(),i=z(()=>U.branchProducts);console.log("branchProduct",i);const m=R.params.branch_id,p=v.user.id,r=P(""),h=P("Softdrinks"),c=async()=>{console.log("branch_id.value:",m),console.log("searchQuery.value:",r.value),console.log("category.value:",h.value),(r.value||h.value)&&await U.searchBranchProducts({query:r.value,branches_id:m,category:h.value})},S=P(!1),V=()=>{S.value=!0},y=n=>{const l=L=>L?L.charAt(0).toUpperCase()+L.slice(1).toLowerCase():"",a=n.firstname?l(n.firstname):"No Firstname",w=n.middlename?l(n.middlename).charAt(0)+".":"",T=n.lastname?l(n.lastname):"No Lastname";return`${a} ${w} ${T}`.trim()},k=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",_=n=>{console.log("data",n),u.product_id=n.product.id,u.product_name=n.product.name,u.category=n.category,u.price=n.price,r.value=""},u=Te({sales_report_id:C,branch_id:m,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:R.params.branch_id}),g=z(()=>{const n=parseInt(u.sold||0)*parseFloat(u.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(n)});he(()=>[u.added_stocks,u.beginnings],([n,l])=>{u.total=parseInt(n||0)+parseInt(l||0)}),he(()=>[u.total,u.remaining,u.out],([n,l,a])=>{u.sold=parseInt(n||0)-(parseInt(l||0)+parseInt(a||0))}),he(()=>[u.sold,u.price],([n,l])=>{u.sales=parseInt(n||0)*parseFloat(l||0)});const s=async()=>{try{if(!u.product_name||!u.price||!u.product_id||!u.branch_id||!u.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const n={user_id:u.user_id,branch_id:u.branch_id,sales_report_id:u.sales_report_id,product_id:u.product_id,product_name:u.product_name,price:u.price,beginnings:u.beginnings,remaining:u.remaining,added_stocks:u.added_stocks,out:u.out,sold:u.sold,total:u.total,sales:u.sales};console.log("payload",n),await f.addSoftdrinksProduction(n)}catch{}};return(n,l)=>(x(),A(E,null,[o("div",null,[e(I,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Softdrinks",onClick:V})]),e(X,{modelValue:S.value,"onUpdate:modelValue":l[11]||(l[11]=a=>S.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[q($(d.user.name)+" ",1),e(N,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Go,e(Ue),de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,null,{default:t(()=>[o("div",Wo," Cashier: "+$(y(d.user.employee)),1)]),_:1}),e(N,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",Jo,[e(D,{modelValue:r.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>r.value=a),c],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[r.value?(x(),A("div",Xo,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var a;return[(a=i.value)!=null&&a.length?(x(!0),A(E,{key:1},fe(i.value,w=>(x(),F(re,{onClick:T=>_(w),key:w.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(k(w.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Zo,e(D,{modelValue:u.product_name,"onUpdate:modelValue":l[1]||(l[1]=a=>u.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[el,e(D,{modelValue:u.category,"onUpdate:modelValue":l[2]||(l[2]=a=>u.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[tl,e(D,{modelValue:u.price,"onUpdate:modelValue":l[3]||(l[3]=a=>u.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",al,[o("div",null,[ol,e(D,{modelValue:u.beginnings,"onUpdate:modelValue":l[4]||(l[4]=a=>u.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[ll,e(D,{modelValue:u.added_stocks,"onUpdate:modelValue":l[5]||(l[5]=a=>u.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[nl,e(D,{modelValue:u.remaining,"onUpdate:modelValue":l[6]||(l[6]=a=>u.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[sl,e(D,{modelValue:u.out,"onUpdate:modelValue":l[7]||(l[7]=a=>u.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[rl,e(D,{modelValue:u.total,"onUpdate:modelValue":l[8]||(l[8]=a=>u.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[dl,e(D,{modelValue:u.sold,"onUpdate:modelValue":l[9]||(l[9]=a=>u.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[il,e(D,{modelValue:g.value,"onUpdate:modelValue":l[10]||(l[10]=a=>g.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(N,null,{default:t(()=>[o("div",ul,[e(I,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:s})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var pl=Z(cl,[["__scopeId","data-v-94be31e2"]]);const ml={class:"row justify-between text-white"},_l=o("div",{class:"text-h6"},"Softdrinks Report",-1),gl={class:"row justify-end q-mt-md"},fl={class:"text-h6"},vl={__name:"SoftdrinksReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=P(!1),U=P(!0),i=d,m=P(""),p=P({rowsPerPage:0});console.log("Reports data structure:",i.reports);const r=s=>s?s.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",h=async(s,n)=>{console.log("update data of the price",s),console.log("update val of the price",n);try{const l=await ee.put("/api/update-softdrinks-sales-price-report/"+s.id,{price:parseInt(n)});console.log("Updated price response:",l.data)}catch(l){console.error(l)}},c=async(s,n)=>{console.log("update data of the beginnings",s),console.log("update val of the beginnings",n);try{const l=await ee.put("/api/update-softdrinks-sales-beginnings-report/"+s.id,{beginnings:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},S=async(s,n)=>{console.log("update data of the updatedRemaining",s),console.log("update val of the updatedRemaining",n);try{const l=await ee.put("/api/update-softdrinks-sales-remaining-report/"+s.id,{remaining:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},V=async(s,n)=>{console.log("update data of the updatedRemaining",s),console.log("update val of the updatedRemaining",n);try{const l=await ee.put("/api/update-softdrinks-sales-out-report/"+s.id,{out:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},y=async(s,n)=>{console.log("update data of the addedstocks",s),console.log("update val of the addedstocks",n);try{const l=await ee.put("/api/update-softdrinks-sales-addedstocks-report/"+s.id,{added_stocks:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},k=[{name:"name",label:"Softdrinks Name",field:s=>(console.log("Row data:",s),s.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:s=>`${s}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:s=>`${s}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:s=>`${s}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:s=>`${s}`},{name:"total_softdrinks",label:"Total Stocks (PCS)",field:s=>Number(s.beginnings||0)+Number(s.added_stocks||0),format:s=>`${s}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:s=>{const n=Number(s.beginnings||0),l=Number(s.added_stocks||0),a=Number(s.out||0),w=Number(s.remaining||0),T=n+l,L=w+a;return T-L},format:s=>`${s}`},{name:"sales",label:"Total Sales",field:s=>{const n=Number(s.beginnings||0),l=Number(s.added_stocks||0),a=Number(s.out||0),w=Number(s.remaining||0),T=Number(s.price||0),L=n+l,J=w+a;return(L-J)*T},format:s=>`${_(s)}`}],_=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),u=z(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),g=z(()=>{const s=u.value.reduce((n,l)=>{const a=Number(l.beginnings||0),w=Number(l.added_stocks||0),T=Number(l.out||0),L=Number(l.remaining||0),J=a+w,ue=L+T,we=(J-ue)*(l.price||0);return console.log(`Adding salesAmount: ${we} to total: ${n}`),n+we},0);return console.log("Overall Total:",s),s});return console.log("Filtered Rows:",u.value),(s,n)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=l=>b.value=l),maximized:U.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{style:{"background-color":"#9c27b0"}},{default:t(()=>[o("div",ml,[_l,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=l=>m.value=l),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(pl,{sales_Reports:i.reports,sales_report_id:d.sales_report_id,user:i.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:u.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":n[1]||(n[1]=l=>p.value=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${r(l.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${_(l.row.price)}`),1),e(_e,{"onUpdate:modelValue":[a=>h(l.row,a),a=>l.row.price=a],modelValue:l.row.price,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.beginnings}`),1),e(_e,{"onUpdate:modelValue":[a=>c(l.row,a),a=>l.row.beginnings=a],modelValue:l.row.beginnings,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.remaining}`),1),e(_e,{"onUpdate:modelValue":[a=>S(l.row,a),a=>l.row.remaining=a],modelValue:l.row.remaining,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.out}`),1),e(_e,{"onUpdate:modelValue":[a=>V(l.row,a),a=>l.row.out=a],modelValue:l.row.out,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.added_stocks}`),1),e(_e,{"onUpdate:modelValue":[a=>y(l.row,a),a=>l.row.added_stocks=a],modelValue:l.row.added_stocks,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(N,null,{default:t(()=>[o("div",gl,[o("div",fl," Overall Total Sales: "+$(_(g.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}},yl={class:"row justify-between text-white"},hl=o("div",{class:"text-h6"},"Cake Report",-1),bl={class:"row justify-end q-mt-md"},wl={class:"text-h6"},kl={__name:"CakeReport",props:["reports"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=d;console.log("Report cake:",b.reports);const U=z(()=>(console.log("Filtered cake rows:",b.reports||[]),b.reports||[])),i=h=>{const c=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",S=h.firstname?c(h.firstname):"No Firstname",V=h.middlename?c(h.middlename).charAt(0)+".":"",y=h.lastname?c(h.lastname):"No Lastname";return`${S} ${V} ${y}`},m=h=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(h).replace("\u20B1","\u20B1 "),p=z(()=>{const h=U.value.reduce((c,S)=>{const V=parseFloat(S.cake_report.price)||0;return console.log(`Adding salesAmount: ${V} to total: ${c}`),c+V},0);return console.log("Overall Total Sales computed as:",h),h}),r=[{name:"name",label:"Cake Name",field:h=>(console.log("Row data:",h),h.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:h=>i(h.cake_report.user.employee)},{name:"price",label:"Price",field:h=>m(h.cake_report.price)},{name:"layers",label:"Layers",field:h=>h.cake_report.layers},{name:"sales_status",label:"Sale Status",field:h=>h.cake_report.sales_status}];return(h,c)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C)},{default:t(()=>[e(H,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(N,{style:{"background-color":"#009688"}},{default:t(()=>[o("div",yl,[hl,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:h.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:U.value,"row-key":"name","virtual-scroll":"",pagination:h.pagination,"onUpdate:pagination":c[0]||(c[0]=S=>h.pagination=S),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),o("div",bl,[o("div",wl," Overall Total Sales: "+$(m(p.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Oe=d=>(ne("data-v-fc9f2a70"),d=d(),se(),d),xl=Oe(()=>o("div",{class:"text-h6 text-white"},"Add Other Products",-1)),$l={class:"text-subtitle1 text-weight-medium"},Vl={class:"q-mb-lg"},Cl={key:0,class:"custom-list z-top"},Rl=Oe(()=>o("div",null,"Product Name",-1)),Sl=Oe(()=>o("div",null,"Category",-1)),Pl=Oe(()=>o("div",null,"Price",-1)),Ul={class:"row justify-between q-mt-md q-gutter-md"},Nl=Oe(()=>o("div",null,"Beginnings",-1)),ql=Oe(()=>o("div",null,"Added Stocks",-1)),Dl=Oe(()=>o("div",null,"Remaining",-1)),Al=Oe(()=>o("div",null,"Out",-1)),Il=Oe(()=>o("div",null,"Total Quantity",-1)),Tl=Oe(()=>o("div",null,"Sold",-1)),Bl=Oe(()=>o("div",null,"Sales",-1)),Fl={align:"right"},zl={__name:"AddingOtherReport",props:["sales_Reports","sales_report_id","user"],setup(d){const v=d;console.log("props.sales_Reports",v.sales_Reports),console.log("props.user",v.user);const C=v.sales_report_id,R=Ve(),f=Je(),b=Ge();z(()=>b.products);const U=Qe(),i=z(()=>U.branchProducts);console.log("branchProduct",i);const m=R.params.branch_id,p=v.user.id,r=P(""),h=P("Others"),c=async()=>{console.log("branch_id.value:",m),console.log("searchQuery.value:",r.value),console.log("category.value:",h.value),(r.value||h.value)&&await U.searchBranchProducts({query:r.value,branches_id:m,category:h.value})},S=P(!1),V=()=>{S.value=!0},y=n=>{const l=L=>L?L.charAt(0).toUpperCase()+L.slice(1).toLowerCase():"",a=n.firstname?l(n.firstname):"No Firstname",w=n.middlename?l(n.middlename).charAt(0)+".":"",T=n.lastname?l(n.lastname):"No Lastname";return`${a} ${w} ${T}`.trim()},k=n=>n?n.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",_=n=>{console.log("data",n),u.product_id=n.product.id,u.product_name=n.product.name,u.category=n.category,u.price=n.price,r.value=""},u=Te({sales_report_id:C,branch_id:m,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:R.params.branch_id}),g=z(()=>{const n=parseInt(u.sold||0)*parseFloat(u.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(n)});he(()=>[u.added_stocks,u.beginnings],([n,l])=>{u.total=parseInt(n||0)+parseInt(l||0)}),he(()=>[u.total,u.remaining,u.out],([n,l,a])=>{u.sold=parseInt(n||0)-(parseInt(l||0)+parseInt(a||0))}),he(()=>[u.sold,u.price],([n,l])=>{u.sales=parseInt(n||0)*parseFloat(l||0)});const s=async()=>{try{if(!u.product_name||!u.price||!u.product_id||!u.branch_id||!u.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const n={user_id:u.user_id,branch_id:u.branch_id,sales_report_id:u.sales_report_id,product_id:u.product_id,product_name:u.product_name,price:u.price,beginnings:u.beginnings,remaining:u.remaining,added_stocks:u.added_stocks,out:u.out,sold:u.sold,total:u.total,sales:u.sales};console.log("payload",n),await f.addOtherProductProduction(n)}catch{}};return(n,l)=>(x(),A(E,null,[o("div",null,[e(I,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:V})]),e(X,{modelValue:S.value,"onUpdate:modelValue":l[11]||(l[11]=a=>S.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[q($(d.user.name)+" ",1),e(N,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[xl,e(Ue),de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,null,{default:t(()=>[o("div",$l," Cashier: "+$(y(d.user.employee)),1)]),_:1}),e(N,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",Vl,[e(D,{modelValue:r.value,"onUpdate:modelValue":[l[0]||(l[0]=a=>r.value=a),c],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[r.value?(x(),A("div",Cl,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var a;return[(a=i.value)!=null&&a.length?(x(!0),A(E,{key:1},fe(i.value,w=>(x(),F(re,{onClick:T=>_(w),key:w.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(k(w.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Rl,e(D,{modelValue:u.product_name,"onUpdate:modelValue":l[1]||(l[1]=a=>u.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[Sl,e(D,{modelValue:u.category,"onUpdate:modelValue":l[2]||(l[2]=a=>u.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[Pl,e(D,{modelValue:u.price,"onUpdate:modelValue":l[3]||(l[3]=a=>u.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Ul,[o("div",null,[Nl,e(D,{modelValue:u.beginnings,"onUpdate:modelValue":l[4]||(l[4]=a=>u.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[ql,e(D,{modelValue:u.added_stocks,"onUpdate:modelValue":l[5]||(l[5]=a=>u.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Dl,e(D,{modelValue:u.remaining,"onUpdate:modelValue":l[6]||(l[6]=a=>u.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Al,e(D,{modelValue:u.out,"onUpdate:modelValue":l[7]||(l[7]=a=>u.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Il,e(D,{modelValue:u.total,"onUpdate:modelValue":l[8]||(l[8]=a=>u.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Tl,e(D,{modelValue:u.sold,"onUpdate:modelValue":l[9]||(l[9]=a=>u.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Bl,e(D,{modelValue:g.value,"onUpdate:modelValue":l[10]||(l[10]=a=>g.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(N,null,{default:t(()=>[o("div",Fl,[e(I,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:s})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ll=Z(zl,[["__scopeId","data-v-fc9f2a70"]]);const Ol={class:"row justify-between text-white"},Ml=o("div",{class:"text-h6"},"Other Products Report",-1),Hl={class:"row justify-end q-mt-md"},jl={class:"text-h6"},Ql={__name:"OtherProductsReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=P(!1),U=P(!0),i=d,m=P(""),p=P({rowsPerPage:0}),r=z(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),h=s=>s?s.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",c=async(s,n)=>{console.log("update data of the price",s),console.log("update val of the price",n);try{const l=await ee.put("/api/update-otherProducst-sales-price-report/"+s.id,{price:parseInt(n)});console.log("Updated price response:",l.data)}catch(l){console.error(l)}},S=async(s,n)=>{console.log("update data of the beginnings",s),console.log("update val of the beginnings",n);try{const l=await ee.put("/api/update-otherProducst-sales-beginnings-report/"+s.id,{beginnings:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},V=async(s,n)=>{console.log("update data of the updatedRemaining",s),console.log("update val of the updatedRemaining",n);try{const l=await ee.put("/api/update-otherProducst-sales-remaining-report/"+s.id,{remaining:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},y=async(s,n)=>{console.log("update data of the updatedRemaining",s),console.log("update val of the updatedRemaining",n);try{const l=await ee.put("/api/update-otherProducst-sales-out-report/"+s.id,{out:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},k=async(s,n)=>{console.log("update data of the updatedAddedStocks",s),console.log("update val of the updatedAddedStocks",n);try{const l=await ee.put("/api/update-otherProducst-sales-addedstocks-report/"+s.id,{added_stocks:parseInt(n)});console.log("reponse",l.data)}catch(l){console.error(l)}},_=[{name:"name",label:"Product Name",field:s=>(console.log("Row data:",s),s.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:s=>`${s}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:s=>`${s}`},{name:"out",label:"Product Out (PCS)",field:"out",format:s=>`${s}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:s=>`${s}`},{name:"total_other_products",label:"Total Stocks (PCS)",field:s=>Number(s.beginnings||0)+Number(s.added_stocks||0),format:s=>`${s}`},{name:"sold",label:"Product Sold (PCS)",field:s=>{const n=Number(s.beginnings||0),l=Number(s.added_stocks||0),a=Number(s.out||0),w=Number(s.remaining||0),T=n+l,L=w+a;return T-L},format:s=>`${s}`},{name:"sales",label:"Total Sales",field:s=>{const n=Number(s.beginnings||0),l=Number(s.added_stocks||0),a=Number(s.out||0),w=Number(s.remaining||0),T=Number(s.price||0),L=n+l,J=w+a;return(L-J)*T},format:s=>`${u(s)}`}],u=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),g=z(()=>{const s=r.value.reduce((n,l)=>{const a=Number(l.beginnings||0),w=Number(l.added_stocks||0),T=Number(l.out||0),L=Number(l.remaining||0),J=a+w,ue=L+T,we=(J-ue)*(l.price||0);return console.log(`Adding salesAmount: ${we} to total: ${n}`),n+we},0);return console.log("Overall Total Sales computed as:",s),s});return(s,n)=>(x(),A("div",null,[e(X,{ref_key:"dialogRef",ref:v,onHide:te(C),modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=l=>b.value=l),maximized:U.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{style:{"background-color":"#607d8b"}},{default:t(()=>[o("div",Ol,[Ml,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=l=>m.value=l),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(Ll,{sales_Reports:i.reports,sales_report_id:d.sales_report_id,user:i.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:_,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":n[1]||(n[1]=l=>p.value=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${h(l.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${u(l.row.price)}`),1),e(_e,{"onUpdate:modelValue":[a=>c(l.row,a),a=>l.row.price=a],modelValue:l.row.price,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.beginnings}`),1),e(_e,{"onUpdate:modelValue":[a=>S(l.row,a),a=>l.row.beginnings=a],modelValue:l.row.beginnings,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.remaining}`),1),e(_e,{"onUpdate:modelValue":[a=>V(l.row,a),a=>l.row.remaining=a],modelValue:l.row.remaining,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.out}`),1),e(_e,{"onUpdate:modelValue":[a=>y(l.row,a),a=>l.row.out=a],modelValue:l.row.out,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(l=>[e(G,{props:l},{default:t(()=>[o("span",null,$(`${l.row.added_stocks}`),1),e(_e,{"onUpdate:modelValue":[a=>k(l.row,a),a=>l.row.added_stocks=a],modelValue:l.row.added_stocks,"auto-save":""},{default:t(a=>[e(D,{modelValue:a.value,"onUpdate:modelValue":w=>a.value=w,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:pe(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(N,null,{default:t(()=>[o("div",Hl,[o("div",jl," Overall Total Sales: "+$(u(g.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"])]))}};const El=d=>(ne("data-v-59913400"),d=d(),se(),d),Kl=El(()=>o("div",{class:"text-h6",align:"center"},"Products Report",-1)),Yl={class:"item-start q-gutter-md",align:"center"},Gl={__name:"ProductsReport",props:["sales_Reports"],setup(d){const v=d,C=v.sales_Reports;console.log("sales report2sss",C);const R=Be(),f=(p,r,h)=>{R.dialog({component:Vo,componentProps:{reports:p,sales_report_id:r,user:h}})},b=(p,r,h)=>{R.dialog({component:Yo,componentProps:{reports:p,sales_report_id:r,user:h}})},U=(p,r,h)=>{R.dialog({component:vl,componentProps:{reports:p,sales_report_id:r,user:h}})},i=(p,r,h)=>{R.dialog({component:kl,componentProps:{reports:p,sales_report_id:r,user:h}})},m=(p,r,h)=>{R.dialog({component:Ql,componentProps:{reports:p,sales_report_id:r,user:h}})};return(p,r)=>(x(),A("div",null,[e(H,{class:"user-card"},{default:t(()=>[e(N,null,{default:t(()=>[Kl]),_:1}),e(N,null,{default:t(()=>[o("div",Yl,[e(I,{onClick:r[0]||(r[0]=h=>f(v.sales_Reports[0].bread_reports,v.sales_Reports[0].id,v.sales_Reports[0].user)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(I,{onClick:r[1]||(r[1]=h=>b(v.sales_Reports[0].selecta_reports,v.sales_Reports[0].id,v.sales_Reports[0].user)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(I,{onClick:r[2]||(r[2]=h=>U(v.sales_Reports[0].softdrinks_reports,v.sales_Reports[0].id,v.sales_Reports[0].user)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(I,{onClick:r[3]||(r[3]=h=>i(v.sales_Reports[0].cake_sales_reports,v.sales_Reports[0].id,v.sales_Reports[0].user)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(I,{onClick:r[4]||(r[4]=h=>m(v.sales_Reports[0].other_products_reports,v.sales_Reports[0].id,v.sales_Reports[0].user)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var Wl=Z(Gl,[["__scopeId","data-v-59913400"]]);const Jl={class:"row justify-between text-white"},Xl=o("div",{class:"text-h6"},"Denomination Report",-1),Zl={class:"row text-weight-regular text-subtitle1"},en={class:"col-6"},tn={class:"col-6"},an={class:"row justify-end q-mt-md"},on={class:"text-h6"},ln={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(d){const{dialogRef:v,onDialogHide:C}=qe(),f=d.reports[0]||{},b=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),U=z(()=>{const i={oneThousandBills:1e3,fiveHundredBills:500,twoHundredBills:200,oneHundredBills:100,fiftyBills:50,twentyBills:20,twentyCoins:20,tenCoins:10,fiveCoins:5,oneCoins:1,twentyFiveCents:.25};return Object.keys(i).reduce((m,p)=>m+(f[p]||0)*i[p],0)});return(i,m)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C)},{default:t(()=>[e(H,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(N,{style:{"background-color":"#03a9f4"}},{default:t(()=>[o("div",Jl,[Xl,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,null,{default:t(()=>[o("div",Zl,[o("div",en,[o("div",null,"1000 Bills: "+$(te(f).oneThousandBills),1),o("div",null,"500 Bills: "+$(te(f).fiveHundredBills),1),o("div",null,"200 Bills: "+$(te(f).twoHundredBills),1),o("div",null,"100 Bills: "+$(te(f).oneHundredBills),1),o("div",null,"50 Bills: "+$(te(f).fiftyBills),1),o("div",null,"20 Bills: "+$(te(f).twentyBills),1)]),o("div",tn,[o("div",null,"20 coins: "+$(te(f).twentyCoins),1),o("div",null,"10 coins: "+$(te(f).tenCoins),1),o("div",null,"5 coins: "+$(te(f).fiveCoins),1),o("div",null,"1 coins: "+$(te(f).oneCoins),1),o("div",null,"25 cents: "+$(te(f).twentyFiveCents),1)])])]),_:1}),e(N,null,{default:t(()=>[o("div",an,[o("div",on," Overall Total Denomination: "+$(b(U.value)),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const nn=d=>(ne("data-v-43ad17ba"),d=d(),se(),d),sn=nn(()=>o("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),rn={class:"q-gutter-x-md",align:"center"},dn={__name:"DenominationReport",props:["sales_Reports"],setup(d){const v=d;v.sales_Reports,console.log("Denomination report",v);const C=Be(),R=(f,b)=>{C.dialog({component:ln,componentProps:{reports:f,total:b}})};return(f,b)=>(x(),A("div",null,[e(H,{class:"user-card"},{default:t(()=>[e(N,null,{default:t(()=>[sn]),_:1}),e(N,null,{default:t(()=>[o("div",rn,[e(I,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:b[0]||(b[0]=U=>R(v.sales_Reports[0].denomination_reports,v.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var un=Z(dn,[["__scopeId","data-v-43ad17ba"]]);const cn=st("expenses",()=>{const d=P([]),v=P(null);return{expenses:d,expense:v,addingExpense:async R=>{try{const f=await ee.post("/api/employee-adding-expense",R);console.log(f.data),ce.create({type:"positive",message:"Employee expenses successfully created",setTimeout:1e3})}catch(f){console.log(f),ce.create({type:"negative",message:"Error creating employee expenses",setTimeout:1e3})}}}});const pn=d=>(ne("data-v-c489c504"),d=d(),se(),d),mn={class:"row justify-between"},_n=pn(()=>o("div",{class:"text-h6"},"Expenses",-1)),gn={class:"q-gutter-y-md"},fn={class:"row q-gutter-x-md"},vn={align:"right"},yn={class:"",align:"right"},hn={__name:"AddingExpenses",props:["reports","user","sales_report_id","user_id"],setup(d){const v=cn(),C=d;console.log("Expenses Data",C.reports),console.log("Expenses User",C.user),console.log("Expenses Sales Report ID",C.sales_report_id);const R=C.sales_report_id,f=C.reports[0].branch_id,b=C.user_id;console.log("user_id",b),console.log("branch_id",f);const U=_t(),i=z(()=>U.users),p=mt().user;console.log("userdatasss",p);const r=P(!1),h=P([]),c=()=>{h.value.push({user_expense_id:V.user_expense_id,name:V.name,amount:V.amount,description:V.description}),console.log("expensesList",h.value),S()},S=()=>{V.user_expense_id="",V.name="",V.amount="",V.description=""};z(()=>searchQuery.value&&i.value.length>0);const V=Te({user_expense_id:"",name:"",amount:0,description:""}),y=g=>{h.value.splice(g,1)},k=()=>{r.value=!0},_=()=>{V.expense_user_id="",V.name="",V.amount="",V.description=""},u=async()=>{const g={sales_report_id:R,branch_id:f,user_id:b,expenses:h.value.map(s=>({name:s.name,amount:s.amount,description:s.description}))};console.log("expenseReport",g),await v.addingExpense(g),ce.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),_()};return(g,s)=>(x(),A(E,null,[o("div",null,[e(I,{class:"bg-gradient text-white",outlined:"",label:"Expenses Report",onClick:k})]),e(X,{modelValue:r.value,"onUpdate:modelValue":s[3]||(s[3]=n=>r.value=n),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"450px"}},{default:t(()=>[e(N,{class:"bg-gradient text-white"},{default:t(()=>[o("div",mn,[_n,o("div",null,[de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])])])]),_:1}),e(N,null,{default:t(()=>[o("div",gn,[o("div",fn,[o("div",null,[e(D,{modelValue:V.name,"onUpdate:modelValue":s[0]||(s[0]=n=>V.name=n),outlined:"",dense:"",style:{width:"300px"},placeholder:"Name"},null,8,["modelValue"])]),o("div",null,[e(D,{modelValue:V.amount,"onUpdate:modelValue":s[1]||(s[1]=n=>V.amount=n),"reverse-fill-mask":"",outlined:"",type:"number",dense:"",style:{width:"100px"},label:"Amount"},null,8,["modelValue"])])]),o("div",null,[e(D,{modelValue:V.description,"onUpdate:modelValue":s[2]||(s[2]=n=>V.description=n),placeholder:"Description",outlined:"",autogrow:"",style:{width:"415px"}},null,8,["modelValue"])]),o("div",vn,[e(I,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:c})]),o("div",null,[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(re,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Description")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Amount")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-overline"})]),_:1})]),_:1}),o("div",null,[(x(!0),A(E,null,fe(h.value,(n,l)=>(x(),F(re,{key:l,class:"q-gutter-xs"},{default:t(()=>[e(Y,{class:"q-ma-sm text-subtitle2"},{default:t(()=>[e(W,{caption:""},{default:t(()=>[q($(n.name),1)]),_:2},1024)]),_:2},1024),e(Y,{class:"q-ma-sm q-gutter-sm"},{default:t(()=>[e(W,{caption:""},{default:t(()=>[q($(n.description),1)]),_:2},1024)]),_:2},1024),e(Y,{class:"q-ma-sm q-gutter-sm"},{default:t(()=>[e(W,{caption:""},{default:t(()=>[q($(n.amount),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(I,{onClick:a=>y(l),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),o("div",yn,[e(I,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:u})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var bn=Z(hn,[["__scopeId","data-v-c489c504"]]);const wn={class:"row justify-between text-white"},kn=o("div",{class:"text-h6"},"Expenses Report",-1),xn={class:"row justify-end q-mt-md"},$n={class:"text-h6"},Vn={__name:"ExpensesDialog",props:{reports:Array,user:Object,sales_report_id:Number,user_id:Number},setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=P(!1),U=P(!0),i=P(""),m=P({rowsPerPage:0}),p=d,r=p.reports;console.log("Expenses total",p.total);const h=g=>g?g.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",c=async(g,s)=>{console.log("update data of the updateName",g),console.log("update val of the updateName",s);try{const n=await ee.put("/api/update-expenses-sales-name-report/"+g.id,{name:s});console.log("Updated expenses amount response:",n.data)}catch(n){console.error(n)}},S=async(g,s)=>{console.log("update data of the description",g),console.log("update val of the description",s);try{const n=await ee.put("/api/update-expenses-sales-description-report/"+g.id,{description:s});console.log("Updated expenses amount response:",n.data)}catch(n){console.error(n)}},V=async(g,s)=>{console.log("update data of the amount",g),console.log("update val of the amount",s);try{const n=await ee.put("/api/update-expenses-sales-amount-report/"+g.id,{amount:parseFloat(s)});console.log("Updated expenses amount response:",n.data)}catch(n){console.error(n)}},y=[{name:"name",label:"Expenses Name",field:g=>(console.log("Row data:",g),g.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",p.reports);const k=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(g),_=z(()=>(console.log("Filtered rows:",p.reports||[]),p.reports||[])),u=z(()=>_.value.reduce((s,n)=>{const l=parseFloat(n.amount)||0;return s+l},0));return console.log("Expenses:",_.value),(g,s)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),onOk:g.handleButtonClick,onCancel:te(f),modelValue:b.value,"onUpdate:modelValue":s[2]||(s[2]=n=>b.value=n),maximized:U.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{style:{"background-color":"#03a9f4"}},{default:t(()=>[o("div",wn,[kn,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=n=>i.value=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(bn,{reports:te(r),user:p.user,sales_report_id:p.sales_report_id,user_id:p.user_id},null,8,["reports","user","sales_report_id","user_id"])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:i.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:y,rows:_.value,"row-key":"name","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":s[1]||(s[1]=n=>m.value=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(G,{props:n},{default:t(()=>[o("span",null,$(`${h(n.row.name)}`),1),e(_e,{"onUpdate:modelValue":[l=>c(n.row,l),l=>n.row.name=l],modelValue:n.row.name,"auto-save":""},{default:t(l=>[e(D,{class:"text-capitalize",modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,dense:"",autofocus:"",counter:"",onKeyup:pe(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-description":t(n=>[e(G,{props:n},{default:t(()=>[o("span",null,$(`${h(n.row.description)}`),1),e(_e,{"onUpdate:modelValue":[l=>S(n.row,l),l=>n.row.description=l],modelValue:n.row.description,"auto-save":""},{default:t(l=>[e(D,{class:"text-capitalize",modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,dense:"",autofocus:"",counter:"",onKeyup:pe(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-amount":t(n=>[e(G,{props:n},{default:t(()=>[o("span",null,$(k(n.row.amount)),1),e(_e,{"onUpdate:modelValue":[l=>V(n.row,parseFloat(l)),l=>n.row.amount=l],modelValue:n.row.amount,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":a=>l.value=a,modelModifiers:{number:!0},dense:"",type:"number",mask:"##0.00",autofocus:"",counter:"",onKeyup:pe(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(N,null,{default:t(()=>[o("div",xn,[o("div",$n," Overall Total Expenses: "+$(k(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel","modelValue","maximized"]))}};const Cn=d=>(ne("data-v-601d27dc"),d=d(),se(),d),Rn=Cn(()=>o("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Sn={class:"q-gutter-x-md",align:"center"},Pn={__name:"ExpensesReport",props:["sales_Reports"],setup(d){const v=d;console.log("Expenses Datassssss",v.sales_Reports);const C=Be(),R=(f,b,U,i)=>{C.dialog({component:Vn,componentProps:{reports:f,user:b,sales_report_id:U,user_id:i}})};return(f,b)=>(x(),A("div",null,[e(H,{class:"user-card"},{default:t(()=>[e(N,null,{default:t(()=>[Rn]),_:1}),e(N,null,{default:t(()=>[o("div",Sn,[e(I,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:b[0]||(b[0]=U=>R(v.sales_Reports[0].expenses_reports,v.sales_Reports[0].user.employee,v.sales_Reports[0].id,v.sales_Reports[0].user_id))})])]),_:1})]),_:1})]))}};var Un=Z(Pn,[["__scopeId","data-v-601d27dc"]]);const Nn=st("employee-credits",()=>{const d=P([]),v=P(null);return{credits:d,credit:v,addingCredits:async R=>{try{const f=await ee.post("/api/employee-adding-credits",R);console.log(f.data),ce.create({type:"positive",message:"Employee credits successfully created",setTimeout:1e3})}catch(f){console.log(f),ce.create({type:"negative",message:"Error creating employee credits",setTimeout:1e3})}}}});const ht=d=>(ne("data-v-128fb2e3"),d=d(),se(),d),qn=ht(()=>o("div",{class:"text-h6 text-white"},"Credits",-1)),Dn={class:"q-gutter-y-md"},An={key:0,class:"custom-list z-top"},In={class:"row q-gutter-sm"},Tn={key:0,class:"custom-list z-top"},Bn={align:"right"},Fn={class:"row justify-between"},zn=ht(()=>o("div",null,"Credits Total",-1)),Ln={class:"q-mt-lg"},On={__name:"AddingCredit",props:["reports","user"],setup(d){var K;const C=d.reports[0].id,R=_t();z(()=>R.users);const f=Nn(),b=St(),U=z(()=>b.employees),i=mt(),m=z(()=>i.products);console.log("products search",m.value);const p=i.user;console.log("userdata",p);const r=((K=p==null?void 0:p.device)==null?void 0:K.branch_id)||"",h=P(!1),c=P(""),S=P(""),V=P(!1),y=P(!1);let k=!1,_=!1;const u=P(!1),g=P(!1),s=P(!1),n=async()=>{c.value&&(g.value=!0,console.log("searchQuery.value",c.value),await b.searchEmployee(c.value),g.value=!1,V.value=!0)},l=()=>{h.value=!0},a=Te({credit_user_id:"",name:"",product_id:"",productName:"",price:0,pieces:"",creditTotal:0}),w=()=>{c.value="",S.value="",a.credit_user_id="",a.name="",a.product_id="",a.productName="",a.price="",a.pieces="",a.creditTotal="",be.value=[]},T=()=>{S.value="",a.product_id="",a.productName="",a.price="",a.pieces=""},L=z(()=>c.value&&U.value.length>0),J=O=>{console.log("credit",O),c.value=`${O.firstname} ${O.middlename?O.middlename.charAt(0)+".":""} ${O.lastname}`,a.credit_user_id=O.id,a.name=`${O.firstname} ${O.middlename?O.middlename.charAt(0)+".":""} ${O.lastname}`,k=!0,V.value=!1},ue=async()=>{if(S.value){s.value=!0;const O=await i.searchBranchProducts(S.value,r);console.log("response",O),s.value=!1,y.value=!0}},Se=z(()=>S.value&&m.value.length>0);console.log("Product search datasss:",m.value);const we=O=>{S.value=O.name,a.productName=O.name,a.product_id=O.id,a.price=O.price,_=!0,y.value=!1},le=P(""),be=P([]),j=()=>{const O=parseFloat(a.price),B=parseInt(a.pieces);if(!isNaN(O)&&!isNaN(B)){const M=O*B;le.value=M.toFixed(2)}else le.value="";console.log("productCreditTotalAmount",le.value)},oe=()=>{const O=le.value;be.value.push({credit_user_id:a.credit_user_id,product_id:a.product_id,name:a.name,productName:a.productName,price:a.price,pieces:a.pieces,totalAmount:O}),console.log("creditList",be.value),T()},ge=O=>{be.value.splice(O,1)};he(c,O=>{O.length>2&&!k?n():V.value=!1,k=!1}),he(S,O=>{O.length>2&&!_?ue():y.value=!1,_=!1}),he(be,O=>{const B=O.reduce((M,me)=>M+parseFloat(me.totalAmount),0);a.creditTotal=B.toFixed(2)},{deep:!0}),he([()=>a.price,()=>a.pieces],j),he(le,O=>{console.log("productCreditTotalAmoun",O)});const Q=async()=>{const O={employee_credits_id:C,credits:be.value.map(B=>{var M;return{credit_user_id:B.credit_user_id,branch_id:((M=p==null?void 0:p.employee)==null?void 0:M.branch_id)||"",productName:B.productName,product_id:B.product_id,price:B.price,pieces:B.pieces,totalAmount:B.totalAmount}})};await f.addingCredits(O),console.log("employeeCreditReport:",O),h.value=!1,w()};return(O,B)=>(x(),A(E,null,[o("div",null,[e(I,{class:"bg-gradient text-white",outlined:"",label:"Add Credits",onClick:l})]),e(X,{modelValue:h.value,"onUpdate:modelValue":B[4]||(B[4]=M=>h.value=M),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"450px"}},{default:t(()=>[e(N,{class:"row bg-gradient text-white"},{default:t(()=>[qn,e(Ue),de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,null,{default:t(()=>[o("div",Dn,[o("div",null,[o("div",null,[e(D,{modelValue:c.value,"onUpdate:modelValue":B[0]||(B[0]=M=>c.value=M),outlined:"",dense:"",rounded:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[g.value?(x(),F(lt,{key:1,color:"grey",size:"sm"})):(x(),F(ae,{key:0,name:"search"}))]),default:t(()=>[L.value&&V.value?(x(),A("div",An,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>[u.value?(x(),F(re,{key:0},{default:t(()=>[e(Y,null,{default:t(()=>[e(lt,{color:"primary"})]),_:1})]),_:1})):Ie("",!0),!u.value&&!U.value.length?(x(),F(re,{key:1},{default:t(()=>[e(Y,null,{default:t(()=>[q(" No data available in this branch. ")]),_:1})]),_:1})):(x(!0),A(E,{key:2},fe(U.value,M=>(x(),F(re,{onClick:me=>J(M),key:M.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(`
                                  ${M==null?void 0:M.firstname} ${M!=null&&M.middlename?(M==null?void 0:M.middlename.charAt(0).toUpperCase())+".":""} ${M==null?void 0:M.lastname}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])])]),o("div",In,[o("div",null,[e(D,{modelValue:S.value,"onUpdate:modelValue":B[1]||(B[1]=M=>S.value=M),placeholder:"Search Product",outlined:"",flat:"",debounce:"500",dense:"",style:{width:"240px"}},{append:t(()=>[s.value?(x(),F(lt,{key:1,color:"grey",size:"sm"})):(x(),F(ae,{key:0,name:"search"}))]),default:t(()=>[Se.value&&y.value?(x(),A("div",Tn,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>[(x(!0),A(E,null,fe(m.value,M=>(x(),F(re,{onClick:me=>we(M),key:M.name,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(M.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",null,[e(D,{modelValue:a.price,"onUpdate:modelValue":B[2]||(B[2]=M=>a.price=M),"reverse-fill-mask":"",outlined:"",readonly:"",flat:"",dense:"",style:{width:"80px"},label:"Price"},null,8,["modelValue"])]),o("div",null,[e(D,{modelValue:a.pieces,"onUpdate:modelValue":B[3]||(B[3]=M=>a.pieces=M),"reverse-fill-mask":"",outlined:"",type:"number",flat:"",dense:"",style:{width:"80px"},label:"Pcs"},null,8,["modelValue"])])]),o("div",Bn,[e(I,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:oe})]),o("div",null,[e(ct,{outlined:"",dense:"",readonly:""},{control:t(()=>[o("div",null,[(x(!0),A(E,null,fe(be.value,(M,me)=>(x(),F(re,{key:me,class:"q-gutter-xs"},{default:t(()=>[e(Y,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[q($(M.productName),1)]),_:2},1024),e(Y,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(W,null,{default:t(()=>[q("Pcs")]),_:1}),e(W,{caption:""},{default:t(()=>[q($(M.pieces),1)]),_:2},1024)]),_:2},1024),e(Y,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(W,null,{default:t(()=>[q("Price")]),_:1}),e(W,{caption:""},{default:t(()=>[q($(M.price),1)]),_:2},1024)]),_:2},1024),e(Y,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(W,null,{default:t(()=>[q("Total")]),_:1}),e(W,{caption:""},{default:t(()=>[q($(M.totalAmount),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(I,{onClick:De=>ge(me),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),o("div",Fn,[o("div",null,[zn,e(ct,{outlined:"",dense:"",readonly:"",style:{width:"120px"}},{control:t(()=>[q($(a.creditTotal),1)]),_:1})]),o("div",Ln,[e(I,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:Q})])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Mn=Z(On,[["__scopeId","data-v-128fb2e3"]]);const Hn={class:"row justify-between text-white"},jn=o("div",{class:"text-h6"},"Credits Report",-1),Qn={class:"row justify-end q-mt-md"},En={class:"text-h6"},Kn={__name:"CreditsReportDialog",props:{reports:Array,user:Object},setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe(),b=P(!1),U=P(!0),i=d,m=P(""),p=P({rowsPerPage:0}),r=i.reports;console.log("creditReports data testing",r);const h=r[0].id;console.log("employee_credits_id",h),i.user,console.log("user data testing",i.user),r.forEach((g,s)=>{console.log(`Report ${s}:`,g),console.log(`Credit Products for Report ${s}:`,g.credit_products.total_amount)});const c=z(()=>r.flatMap(g=>g.credit_products.map(s=>{const n=parseInt(s.pieces,10)||0,l=parseFloat(s.price)||0,a=n*l;return{...s,total_amount:a}})));console.log("All Credit Products:",c.value[0]);const S=g=>g?g.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",V=g=>{const s=w=>w?w.charAt(0).toUpperCase()+w.slice(1).toLowerCase():"",n=g.firstname?s(g.firstname):"No Firstname",l=g.middlename?s(g.middlename).charAt(0)+".":"",a=g.lastname?s(g.lastname):"No Lastname";return`${n} ${l} ${a}`.trim()},y=[{name:"name",label:"Employee Name",field:g=>V(g.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:g=>g.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",i.reports);const k=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(g),_=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(g),u=z(()=>c.value.reduce((s,n)=>{const l=parseFloat(n.total_amount)||0;return s+l},0));return(g,s)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),onOk:g.handleButtonClick,onCancel:te(f),modelValue:b.value,"onUpdate:modelValue":s[2]||(s[2]=n=>b.value=n),maximized:U.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,null,{default:t(()=>[e(N,{style:{"background-color":"#03a9f4"}},{default:t(()=>[o("div",Hn,[jn,de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])]),_:1}),e(N,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=n=>m.value=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(Mn,{reports:te(r),user:i.user},null,8,["reports","user"])])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:y,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":s[1]||(s[1]=n=>p.value=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(n=>[e(G,{props:n},{default:t(()=>[o("span",null,$(`${S(n.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(G,{props:n},{default:t(()=>[o("span",null,$(`${k(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(n=>[e(G,{props:n},{default:t(()=>[o("span",null,$(`${_(n.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(N,null,{default:t(()=>[o("div",Qn,[o("div",En," Overall Total Expenses: "+$(k(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel","modelValue","maximized"]))}};const Yn=d=>(ne("data-v-0016d32e"),d=d(),se(),d),Gn=Yn(()=>o("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Wn={class:"q-gutter-x-md",align:"center"},Jn={__name:"CreditsReport",props:["sales_Reports"],setup(d){const v=d;console.log("sales_Reports to send in credits",v.sales_Reports);const C=Be(),R=(f,b)=>{C.dialog({component:Kn,componentProps:{reports:f,user:b}})};return(f,b)=>(x(),A("div",null,[e(H,{class:"user-card"},{default:t(()=>[e(N,null,{default:t(()=>[Gn]),_:1}),e(N,null,{default:t(()=>[o("div",Wn,[e(I,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:b[0]||(b[0]=U=>R(v.sales_Reports[0].credit_reports,v.sales_Reports[0].user.employee))})])]),_:1}),e(N)]),_:1})]))}};var Xn=Z(Jn,[["__scopeId","data-v-0016d32e"]]);const Zn=d=>(ne("data-v-dd80b502"),d=d(),se(),d),es={class:"q-mt-lg row items-start q-gutter-md justify-center"},ts={class:"row justify-between"},as=Zn(()=>o("div",{class:"text-h6"},"Sales Report",-1)),os={align:"right"},ls={class:"text-subtitle1 text-weight-regular"},ns={class:"row q-gutter-sm q-pa-md"},ss={class:"q-ma-sm"},rs={class:"q-ma-sm",align:"center"},ds=["src"],is={__name:"SalesReportPanel",props:["salesReport"],setup(d){Ze.exports.vfs=pt;const v=d,C=v.salesReport;console.log("reportsData",v.salesReport);const R=P(!0),f=P(!1),b=P(""),U=c=>$e.formatDate(c,"MMMM DD, YYYY"),i=c=>{const S=new Date(c),V={hour:"2-digit",minute:"2-digit",hour12:!0};return S.toLocaleTimeString(void 0,V)},m=c=>{const S=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",V=c.firstname?S(c.firstname):"No Firstname",y=c.middlename?S(c.middlename).charAt(0)+".":"",k=c.lastname?S(c.lastname):"No Lastname";return`${V} ${y} ${k}`.trim()},p=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c).replace("\u20B1","\u20B1	"),r=c=>{const S=z(()=>c.credit_reports.flatMap(j=>j.credit_products));console.log("All Credit Products:",S.value);const V=[{title:"Bread Production",data:(c.bread_reports||[]).map(j=>{const oe=Number(j.beginnings)||0,ge=Number(j.new_production)||0,Q=Number(j.remaining)||0,K=Number(j.bread_out)||0,O=Number(j.price)||0,B=oe+ge,M=Q+K,me=B-M,De=me*O;return{...j,total:B,bread_sold:me,sales:De}}),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(c.selecta_reports||[]).map(j=>{const oe=Number(j.beginnings||0),ge=Number(j.added_stocks||0),Q=Number(j.out||0),K=Number(j.remaining||0),O=Number(j.price||0),B=oe+ge,M=K+Q,me=B-M,De=me*O;return{...j,total:B,sold:me,sales:De}}),columns:["selecta.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(c.softdrinks_reports||[]).map(j=>{const oe=Number(j.beginnings||0),ge=Number(j.added_stocks||0),Q=Number(j.out||0),K=Number(j.remaining||0),O=Number(j.price||0),B=oe+ge,M=K+Q,me=B-M,De=me*O;return{...j,total:B,sold:me,sales:De}}),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(c.other_products_reports||[]).map(j=>{const oe=Number(j.beginnings||0),ge=Number(j.added_stocks||0),Q=Number(j.out||0),K=Number(j.remaining||0),O=Number(j.price||0),B=oe+ge,M=K+Q,me=B-M,De=me*O;return{...j,total:B,sold:me,sales:De}}),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:c.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],y=c.expenses_reports||[],k=S.value||[],_=c.denomination_reports[0]||[],u=c.denomination_total;c.over_total;const g={bills:[{name:"One Thousand",pcs:_.oneThousandBills||0,value:(_.oneThousandBills||0)*1e3},{name:"Five Hundred",pcs:_.fiveHundredBills||0,value:(_.fiveHundredBills||0)*500},{name:"Two Hundred",pcs:_.twoHundredBills||0,value:(_.twoHundredBills||0)*200},{name:"One Hundred",pcs:_.oneHundredBills||0,value:(_.oneHundredBills||0)*100},{name:"Fifty",pcs:_.fiftyBills||0,value:(_.fiftyBills||0)*50},{name:"Twenty",pcs:_.twentyBills||0,value:(_.twentyBills||0)*20}],coins:[{name:"Twenty",pcs:_.twentyCoins||0,value:(_.twentyCoins||0)*20},{name:"Ten",pcs:_.tenCoins||0,value:(_.tenCoins||0)*10},{name:"Five",pcs:_.fiveCoins||0,value:(_.fiveCoins||0)*5},{name:"One",pcs:_.oneCoins||0,value:(_.oneCoins||0)*1},{name:"Twenty Five Cents",pcs:_.twentyFiveCents||0,value:(_.twentyFiveCents||0)*.25}]},s=(j,oe,ge)=>{const Q=(O,B)=>B.split(".").reduce((M,me)=>M?M[me]:0,O),K=ge.reduce((O,B)=>(O[B]=j.reduce((M,me)=>M+parseFloat(Q(me,B))||0,0),O),{});return[...j.map(O=>oe.map(B=>{if(B==="cake_report.user.employee"){const M=Q(O,"cake_report.user.employee");return{text:M?m(M):"No Employee",style:"body",alignment:"center"}}return{text:B.includes(".")?Q(O,B)||"-":O[B]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:oe.length-ge.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(oe.length-ge.length-1).fill({}),...ge.map(O=>({text:`\u20B1 ${K[O].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let n=0;const l=k.length>0?k.map(j=>{const oe=(j.price||0)*(j.pieces||0);return n+=oe,[{text:m(j.credit_user_id),style:"body",alignment:"center"},{text:j.product.name,style:"body",alignment:"center"},{text:j.pieces,style:"body",alignment:"center"},{text:p(j.price),style:"body",alignment:"center"},{text:p(oe),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];l.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:p(n),style:"bodyBold",alignment:"center",colSpan:2},{}]);let a=0;const w=y.length>0?y.map(j=>{const oe=parseFloat(j.amount.replace(/[^0-9.-]+/g,""));return isNaN(oe)||(a+=oe),[{text:j.name,style:"body",alignment:"center"},{text:j.description,style:"body",alignment:"center"},{text:`${p(oe)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];w.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${p(a)}`,style:"bodyBold",alignment:"center"}]);const T=g.bills.map((j,oe)=>{var ge,Q;return[{text:j.name,style:"body",alignment:"center"},{text:j.pcs,style:"body",alignment:"center"},{text:((ge=g.coins[oe])==null?void 0:ge.name)||"",style:"body",alignment:"center"},{text:((Q=g.coins[oe])==null?void 0:Q.pcs)||"0",style:"body",alignment:"center"}]});T.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${p(u)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const L=V.map(({title:j,data:oe,columns:ge,totals:Q})=>({stack:[{text:j,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(ge.length).fill("*"),body:[ge.map(K=>({text:K.split(".").pop().replace(/_/g," ").replace(/\b\w/g,O=>O.toUpperCase()),style:"tableHeader",alignment:"center"})),...s(oe,ge,Q)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),J=V.reduce((j,oe)=>{const ge=oe.data.reduce((Q,K)=>Q+(K.sales||0),0);return j+ge},0),ue=g.bills.reduce((j,oe)=>j+oe.value,0)+g.coins.reduce((j,oe)=>j+oe.value,0),Se=J-(a+n);let we=0,le=0;ue>Se?we=ue-Se:ue<Se&&(le=Se-ue);const be={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:p(ue),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:p(J),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:p(a),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:p(n),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:p(we),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${p(le)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${c.branch.name}
          Cashier: ${m(c.user.employee)}
          Date: ${U(c.created_at)}
Time: ${i(c.created_at)}
`,margin:[0,0,0,10]},{}]},...L,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...w]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...l]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...T]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},be]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},h=c=>{const S=r(c);Ze.exports.createPdf(S).getDataUrl(V=>{b.value=V,f.value=!0})};return(c,S)=>(x(),A(E,null,[e(H,{class:"my-card q-pa-md"},{default:t(()=>[e(N,null,{default:t(()=>[o("div",es,[(x(!0),A(E,null,fe(te(C),(V,y)=>(x(),A("div",{key:y},[e(H,{flat:"",dense:"",bordered:""},{default:t(()=>[e(N,null,{default:t(()=>[o("div",ts,[as,o("div",os,[e(I,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:k=>h(V)},null,8,["onClick"]),o("div",null,[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q(" Print Report ")]),_:1})])])]),o("div",ls,[o("div",null,"Name: "+$(m(V.user.employee)),1),o("div",null,"Date: "+$(U(V.created_at)),1),o("div",null,"Time: "+$(i(V.created_at)),1)])]),_:2},1024),o("div",ns,[e(Wl,{sales_Reports:[V]},null,8,["sales_Reports"]),e(un,{sales_Reports:[V]},null,8,["sales_Reports"]),e(Un,{sales_Reports:[V]},null,8,["sales_Reports"]),e(Xn,{sales_Reports:[V]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(X,{modelValue:f.value,"onUpdate:modelValue":S[0]||(S[0]=V=>f.value=V),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[o("div",ss,[o("div",rs,[de((x(),F(I,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ve,null,{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])]),o("div",null,[o("iframe",{src:b.value,width:"100%",height:"700px"},null,8,ds)])])]),_:1},8,["modelValue","maximized"])],64))}};var us=Z(is,[["__scopeId","data-v-dd80b502"]]);const cs={class:"text-h6"},ps={class:"row q-gutter-x-md"},ms={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(d,{emit:v}){const{dialogRef:C,onDialogHide:R,onDialogOK:f,onDialogCancel:b}=qe(),U=d;console.log("production report",U.reports);const i=U.reports.baker_reports,m=U.reports.sales_reports,p=U.reports.sales_reports_id;console.log("sales_report_id",p);const r=v,h=P("bakerReport"),c=P(!0),S=P(!1),V=k=>k?k.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",y=()=>{r("selectReport",U.reports),S.value=!0};return(k,_)=>(x(),F(X,{ref_key:"dialogRef",ref:C,modelValue:S.value,"onUpdate:modelValue":_[2]||(_[2]=u=>S.value=u),onHide:te(R),onOk:y,onCancel:te(b),maximized:c.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(H,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(N,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[o("div",cs,$(`${V(d.reports.branch_name)} ( ${d.reportLabel} Reports)`),1),e(Ue),o("div",ps,[o("div",null,[de((x(),F(I,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ve,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[q("Close")]),_:1})]),_:1})),[[ie]])])])]),_:1}),e(N,null,{default:t(()=>[o("div",null,[e(Ke,{modelValue:h.value,"onUpdate:modelValue":_[0]||(_[0]=u=>h.value=u),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(ke,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(ke,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),o("div",null,[e(Ye,{modelValue:h.value,"onUpdate:modelValue":_[1]||(_[1]=u=>h.value=u),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(xe,{name:"bakerReport"},{default:t(()=>[e(eo,{bakersReport:te(i),sales_report_id:te(p)},null,8,["bakersReport","sales_report_id"])]),_:1}),e(xe,{name:"salesReport"},{default:t(()=>[e(us,{salesReport:te(m)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var _s=Z(ms,[["__scopeId","data-v-0a776a06"]]);const gs=d=>(ne("data-v-12387bc6"),d=d(),se(),d),fs={key:0,class:"spinner-wrapper"},vs={key:1},ys={key:0,class:"data-error"},hs=gs(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),bs={class:"row justify-center q-gutter-x-md"},ws={__name:"ProductionTable",setup(d){const v=Ve();P("bakerReport");const C=v.params.branch_id;P(!1),P(!0),P(""),P("");const R=P({rowsPerPage:0}),f=Je(),b=P(""),U=z(()=>f.productions);P(!0);const i=P(!0),m=P(!1),p=z(()=>b.value?U.value.filter(y=>y.name.toLowerCase().includes(b.value.toLowerCase())):U.value);Ne(async()=>{C&&await r(C)});const r=async y=>{try{i.value=!0;const k=await f.fetchBranchProductions(y);console.log("Fetched data:",k),console.log("Production rows:",U.value),U.value.length||(m.value=!0)}catch{m.value=!0}finally{i.value=!1}};he(b,async y=>{i.value=!0,await new Promise(k=>setTimeout(k,1e3)),i.value=!1,m.value=p.value.length===0});const c=[{name:"reportDate",align:"center",label:"Date",field:"date",format:y=>$e.formatDate(y,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],S=Be(),V=(y,k)=>{S.dialog({component:_s,componentProps:{reports:y,reportLabel:k}})};return(y,k)=>(x(),A(E,null,[o("div",null,[e(D,{modelValue:b.value,"onUpdate:modelValue":k[0]||(k[0]=_=>b.value=_),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),i.value?(x(),A("div",fs,[e(at,{size:"50px",color:"primary"})])):(x(),A("div",vs,[p.value.length===0?(x(),A("div",ys,[e(ae,{name:"warning",color:"warning",size:"4em"}),hs])):(x(),F(Ce,{key:1,class:"table-container sticky-header",filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:c,rows:p.value,"row-key":"reportDate","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":k[1]||(k[1]=_=>R.value=_),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(_=>[e(G,{props:_},{default:t(()=>[o("div",bs,[e(I,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:u=>V(_.row.AM,"AM")},{default:t(()=>[q("AM")]),_:2},1032,["onClick"]),e(I,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:u=>V(_.row.PM,"PM")},{default:t(()=>[q("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ks=Z(ws,[["__scopeId","data-v-12387bc6"]]);const xs={__name:"ProductionPage",setup(d){return(v,C)=>(x(),A("div",null,[e(ks)]))}},$s={class:"row justify-between"},Vs=o("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Cs=o("div",{class:"text-h6"},"Decline Report",-1),Rs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){const v=je(),C=P(""),R=P(!1),f=P(!1),b=P({rowsPerPage:0}),U=Be(),i=d,m=()=>{f.value=!0},p=()=>{R.value=!0},r=async()=>{if(!C.value){U.notify({type:"negative",message:"Remark is required"});return}try{const y=await v.declineReport(i.report.id,C.value);console.log("Report declined:",y),U.notify({type:"negative",message:"Report declined successfully"}),R.value=!1,f.value=!1,C.value=""}catch(y){console.error("Error declining report:",y),U.notify({type:"negative",message:"Failed to decline report"})}},h=async()=>{try{const y=await v.confirmReport(i.report.id);console.log("Report confirmed:",y),U.notify({type:"positive",message:"Report confirmed successfully"}),f.value=!1}catch(y){console.error(y)}},c=z(()=>i.report.selecta_added_stocks||[]),S=y=>{const k=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",_=y.firstname?k(y.firstname):"No Firstname",u=y.middlename?k(y.middlename).charAt(0)+".":"",g=y.lastname?k(y.lastname):"No Lastname";return`${_} ${u} ${g}`},V=[{name:"product_name",label:"Product Name",field:y=>y.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:y=>y.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:y=>y.added_stocks?`${y.added_stocks} pcs`:"N/A"}];return(y,k)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:m})]),e(X,{modelValue:f.value,"onUpdate:modelValue":k[2]||(k[2]=_=>f.value=_)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",$s,[Vs,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:k[0]||(k[0]=_=>f.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(S(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"yellow",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:c.value,columns:V,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":k[1]||(k[1]=_=>b.value=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(N,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(I,{color:"negative",label:"Decline",class:"action-btn",onClick:p}),e(I,{color:"positive",label:"Confirm",class:"action-btn",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,{modelValue:R.value,"onUpdate:modelValue":k[4]||(k[4]=_=>R.value=_)},{default:t(()=>[e(H,null,{default:t(()=>[e(N,null,{default:t(()=>[Cs]),_:1}),e(N,null,{default:t(()=>[e(D,{modelValue:C.value,"onUpdate:modelValue":k[3]||(k[3]=_=>C.value=_),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[_=>!!_||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Me,{align:"right"},{default:t(()=>[de(e(I,{flat:"",label:"Cancel",color:"primary"},null,512),[[ie]]),e(I,{flat:"",label:"Confirm",color:"negative",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Ss=d=>(ne("data-v-08e549d4"),d=d(),se(),d),Ps={class:"q-gutter-md q-ma-md"},Us={class:"row justify-between"},Ns={class:"text-subtitle1"},qs={class:"text-subtitle1"},Ds={class:"text-subtitle1"},As={key:1,class:"data-error"},Is=Ss(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ts={__name:"TransactionPendingCard",setup(d){const v=Ve(),C=je(),R=z(()=>C.pendingSelectaReports),f=v.params.branch_id,b=P("pending"),U=async()=>{try{const r=await C.fetchPendingSelectaStocks(f,b.value);console.log(R.value)}catch(r){console.error("Error fetching pending stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Ps,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Us,[o("div",Ns,$(i(c.created_at)),1),o("div",qs,$(m(c.created_at)),1),o("div",Ds,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"yellow",outlined:""},{default:t(()=>[q(" Pending ")]),_:1})]),o("div",null,[e(Rs,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",As,[e(ae,{name:"warning",color:"warning",size:"4em"}),Is]))])]),_:1})]))}};var Bs=Z(Ts,[["__scopeId","data-v-08e549d4"]]);const Fs={class:"row justify-between"},zs=o("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Ls={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){je(),P(!1);const v=P(!1),C=()=>{v.value=!0};Be();const R=d,f=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.selecta_added_stocks||[])),b=i=>{const m=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",p=i.firstname?m(i.firstname):"No Firstname",r=i.middlename?m(i.middlename).charAt(0)+".":"",h=i.lastname?m(i.lastname):"No Lastname";return`${p} ${r} ${h}`},U=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,m)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(X,{modelValue:v.value,"onUpdate:modelValue":m[2]||(m[2]=p=>v.value=p)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Fs,[zs,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=p=>v.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(b(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"green",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:f.value,columns:U,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":m[1]||(m[1]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Os=d=>(ne("data-v-c1019cbc"),d=d(),se(),d),Ms={class:"q-gutter-md q-ma-md"},Hs={class:"row justify-between"},js={class:"text-subtitle1"},Qs={class:"text-subtitle1"},Es={class:"text-subtitle1"},Ks={key:1,class:"data-error"},Ys=Os(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Gs={__name:"TransactionConfirmedCard",setup(d){const v=Ve(),C=je(),R=z(()=>C.confirmedSelectaReports),f=v.params.branch_id,b=P("confirmed"),U=async()=>{try{const r=await C.fetchConfirmedSelectaStocks(f,b.value);console.log(R.value)}catch(r){console.error("Error fetching confirmed stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Ms,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Hs,[o("div",js,$(i(c.created_at)),1),o("div",Qs,$(m(c.created_at)),1),o("div",Es,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"green",outlined:""},{default:t(()=>[q($(c.status),1)]),_:2},1024)]),o("div",null,[e(Ls,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",Ks,[e(ae,{name:"warning",color:"warning",size:"4em"}),Ys]))])]),_:1})]))}};var Ws=Z(Gs,[["__scopeId","data-v-c1019cbc"]]);const Js={class:"row justify-between"},Xs=o("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Zs={class:"q-mt-md"},er={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){je(),P(!1);const v=P(!1),C=()=>{v.value=!0},R=d,f=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.selecta_added_stocks||[])),b=i=>{const m=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",p=i.firstname?m(i.firstname):"No Firstname",r=i.middlename?m(i.middlename).charAt(0)+".":"",h=i.lastname?m(i.lastname):"No Lastname";return`${p} ${r} ${h}`},U=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,m)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(X,{modelValue:v.value,"onUpdate:modelValue":m[2]||(m[2]=p=>v.value=p)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Js,[Xs,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=p=>v.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(b(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"red",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})]),o("div",Zs,"Remark: "+$(d.report.remark),1)]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:f.value,columns:U,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":m[1]||(m[1]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const tr=d=>(ne("data-v-6b801095"),d=d(),se(),d),ar={class:"q-gutter-md q-ma-md"},or={class:"row justify-between"},lr={class:"text-subtitle1"},nr={class:"text-subtitle1"},sr={class:"text-subtitle1"},rr={key:1,class:"data-error"},dr=tr(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ir={__name:"TransactionDeclinedCard",setup(d){const v=Ve(),C=je(),R=z(()=>C.declinedSelectaReports),f=v.params.branch_id,b=P("declined"),U=async()=>{try{const r=await C.fetchDeclinedSelectaStocks(f,b.value);console.log("selectedProductsDeclined",R.value)}catch(r){console.error("Error fetching decline stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",ar,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",or,[o("div",lr,$(i(c.created_at)),1),o("div",nr,$(m(c.created_at)),1),o("div",sr,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"red",outlined:""},{default:t(()=>[q($(c.status),1)]),_:2},1024)]),o("div",null,[e(er,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",rr,[e(ae,{name:"warning",color:"warning",size:"4em"}),dr]))])]),_:1})]))}};var ur=Z(ir,[["__scopeId","data-v-6b801095"]]);const cr={class:"q-gutter-y-sm"},pr={__name:"SelectaTransactionPage",setup(d){const v=P("pendingReports"),C=z(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(R,f)=>(x(),A(E,null,[o("div",cr,[e(Ke,{modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=b=>v.value=b),"indicator-color":C.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(ke,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(ke,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(ke,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ye,{modelValue:v.value,"onUpdate:modelValue":f[1]||(f[1]=b=>v.value=b),animated:""},{default:t(()=>[e(xe,{name:"pendingReports"},{default:t(()=>[e(Bs)]),_:1}),e(xe,{name:"confirmReports"},{default:t(()=>[e(Ws)]),_:1}),e(xe,{name:"declineReports"},{default:t(()=>[e(ur)]),_:1})]),_:1},8,["modelValue"])],64))}};var mr=Z(pr,[["__scopeId","data-v-6cbd59c6"]]);const _r={class:"row justify-between"},gr=o("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),fr=o("div",{class:"text-h6"},"Decline Report",-1),vr={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){const v=We(),C=P(""),R=P(!1),f=P(!1),b=P({rowPerPage:0}),U=Be(),i=d,m=()=>{f.value=!0},p=()=>{R.value=!0},r=async()=>{if(!C.value){U.notify({type:"negative",message:"Remark is required"});return}try{const y=await v.declineReport(i.report.id,C.value);console.log("Report declined:",y),U.notify({type:"negative",message:"Report declined successfully"}),R.value=!1,f.value=!1,C.value=""}catch(y){console.error("Error declining report:",y),U.notify({type:"negative",message:"Failed to decline report"})}},h=async()=>{try{const y=await v.confirmReport(i.report.id);console.log("Report confirmed:",y),U.notify({type:"positive",message:"Report confirmed successfully"}),f.value=!1}catch(y){console.error(y)}},c=z(()=>i.report.softdrinks_added_stocks||[]),S=y=>{const k=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",_=y.firstname?k(y.firstname):"No Firstname",u=y.middlename?k(y.middlename).charAt(0)+".":"",g=y.lastname?k(y.lastname):"No Lastname";return`${_} ${u} ${g}`},V=[{name:"product_name",label:"Product Name",field:y=>y.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:y=>y.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:y=>y.added_stocks?`${y.added_stocks} pcs`:"N/A"}];return(y,k)=>(x(),A("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:m}),e(X,{modelValue:f.value,"onUpdate:modelValue":k[2]||(k[2]=_=>f.value=_)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",_r,[gr,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:k[0]||(k[0]=_=>f.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(S(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"yellow",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:c.value,columns:V,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":k[1]||(k[1]=_=>b.value=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(N,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(I,{color:"negative",label:"Decline",class:"action-btn",onClick:p}),e(I,{color:"positive",label:"Confirm",class:"action-btn",onClick:h})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,{modelValue:R.value,"onUpdate:modelValue":k[4]||(k[4]=_=>R.value=_)},{default:t(()=>[e(H,null,{default:t(()=>[e(N,null,{default:t(()=>[fr]),_:1}),e(N,null,{default:t(()=>[e(D,{modelValue:C.value,"onUpdate:modelValue":k[3]||(k[3]=_=>C.value=_),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[_=>!!_||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Me,{align:"right"},{default:t(()=>[de(e(I,{flat:"",label:"Cancel",color:"primary"},null,512),[[ie]]),e(I,{flat:"",label:"Confirm",color:"negative",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const yr=d=>(ne("data-v-7ba0107e"),d=d(),se(),d),hr={class:"q-gutter-md q-ma-md"},br={class:"row justify-between"},wr={class:"text-subtitle1"},kr={class:"text-subtitle1"},xr={class:"text-subtitle1"},$r={key:1,class:"data-error"},Vr=yr(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Cr={__name:"TransactionPendingCard",setup(d){const v=Ve(),C=We(),R=z(()=>C.pendingSoftdrinksReports),f=v.params.branch_id,b=P("pending"),U=async()=>{try{const r=await C.fetchPendingSoftdrinksStocks(f,b.value);console.log(R.value)}catch(r){console.error("Error fetching pending stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",hr,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",br,[o("div",wr,$(i(c.created_at)),1),o("div",kr,$(m(c.created_at)),1),o("div",xr,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"yellow",outlined:""},{default:t(()=>[q(" Pending ")]),_:1})]),o("div",null,[e(vr,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",$r,[e(ae,{name:"warning",color:"warning",size:"4em"}),Vr]))])]),_:1})]))}};var Rr=Z(Cr,[["__scopeId","data-v-7ba0107e"]]);const Sr={class:"row justify-between"},Pr=o("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Ur={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){We(),P(!1);const v=P(!1),C=()=>{v.value=!0},R=d,f=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.softdrinks_added_stocks||[])),b=i=>{const m=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",p=i.firstname?m(i.firstname):"No Firstname",r=i.middlename?m(i.middlename).charAt(0)+".":"",h=i.lastname?m(i.lastname):"No Lastname";return`${p} ${r} ${h}`},U=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,m)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(X,{modelValue:v.value,"onUpdate:modelValue":m[2]||(m[2]=p=>v.value=p)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Sr,[Pr,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=p=>v.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(b(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"green",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:f.value,columns:U,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":m[1]||(m[1]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Nr=d=>(ne("data-v-2b1290c8"),d=d(),se(),d),qr={class:"q-gutter-md q-ma-md"},Dr={class:"row justify-between"},Ar={class:"text-subtitle1"},Ir={class:"text-subtitle1"},Tr={class:"text-subtitle1"},Br={key:1,class:"data-error"},Fr=Nr(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zr={__name:"TransactionConfirmedCard",setup(d){const v=Ve(),C=We(),R=z(()=>C.confirmedSoftdrinksReports),f=v.params.branch_id,b=P("confirmed"),U=async()=>{try{const r=await C.fetchConfirmedSoftdrinksStocks(f,b.value);console.log(R.value)}catch(r){console.error("Error fetching confirmed stocks",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",qr,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Dr,[o("div",Ar,$(i(c.created_at)),1),o("div",Ir,$(m(c.created_at)),1),o("div",Tr,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"green",outlined:""},{default:t(()=>[q($(c.status),1)]),_:2},1024)]),o("div",null,[e(Ur,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",Br,[e(ae,{name:"warning",color:"warning",size:"4em"}),Fr]))])]),_:1})]))}};var Lr=Z(zr,[["__scopeId","data-v-2b1290c8"]]);const Or={class:"row justify-between"},Mr=o("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Hr={class:"q-mt-md"},jr={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){We();const v=P(!1),C=()=>{v.value=!0},R=d,f=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.softdrinks_added_stocks)),b=i=>{const m=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",p=i.firstname?m(i.firstname):"No Firstname",r=i.middlename?m(i.middlename).charAt(0)+".":"",h=i.lastname?m(i.lastname):"No Lastname";return`${p} ${r} ${h}`},U=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,m)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(X,{modelValue:v.value,"onUpdate:modelValue":m[2]||(m[2]=p=>v.value=p)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Or,[Mr,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=p=>v.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(b(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"red",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})]),o("div",Hr,"Remark: "+$(d.report.remark),1)]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:f.value,columns:U,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":m[1]||(m[1]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Qr=d=>(ne("data-v-51a1abe5"),d=d(),se(),d),Er={class:"q-gutter-md q-ma-md"},Kr={class:"row justify-between"},Yr={class:"text-subtitle1"},Gr={class:"text-subtitle1"},Wr={class:"text-subtitle1"},Jr={key:1,class:"data-error"},Xr=Qr(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Zr={__name:"TransactionDeclinedCard",setup(d){const v=Ve(),C=We(),R=z(()=>C.declinedSoftdrinksReports),f=v.params.branch_id,b=P("declined"),U=async()=>{try{const r=await C.fetchDeclinedSoftdrinksStocks(f,b.value);console.log("softdrinksProductsDeclined",R.value)}catch(r){console.error("Error fetching decline stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),F(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Er,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Kr,[o("div",Yr,$(i(c.created_at)),1),o("div",Gr,$(m(c.created_at)),1),o("div",Wr,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"red",outlined:""},{default:t(()=>[q($(c.status),1)]),_:2},1024)]),o("div",null,[e(jr,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",Jr,[e(ae,{name:"warning",color:"warning",size:"4em"}),Xr]))])]),_:1}))}};var ed=Z(Zr,[["__scopeId","data-v-51a1abe5"]]);const td={class:"q-gutter-y-sm"},ad={__name:"SoftdrinksTransactionPage",setup(d){const v=P("pendingReports"),C=z(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(R,f)=>(x(),A(E,null,[o("div",td,[e(Ke,{modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=b=>v.value=b),"indicator-color":C.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(ke,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(ke,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(ke,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ye,{modelValue:v.value,"onUpdate:modelValue":f[1]||(f[1]=b=>v.value=b),animated:""},{default:t(()=>[e(xe,{name:"pendingReports"},{default:t(()=>[e(Rr)]),_:1}),e(xe,{name:"confirmReports"},{default:t(()=>[e(Lr)]),_:1}),e(xe,{name:"declineReports"},{default:t(()=>[e(ed)]),_:1})]),_:1},8,["modelValue"])],64))}};var od=Z(ad,[["__scopeId","data-v-368f5ccc"]]);const ld={class:"row justify-between"},nd=o("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),sd=o("div",{class:"text-h6"},"Decline Report",-1),rd={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){const v=ot(),C=P(""),R=P(!1),f=P(!1),b=P({rowsPerPage:0}),U=()=>{f.value=!0},i=()=>{R.value=!0},m=d,p=async()=>{if(!C.value){ce.create({type:"negative",message:"Remark is required"});return}try{const V=await v.declineReport(m.report.id,C.value);console.log("Report declined:",V),ce.create({type:"negative",message:"Report declined successfully"}),R.value=!1,f.value=!1,C.value=""}catch(V){console.error("Error declining report:",V),ce.create({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const V=await v.confirmReport(m.report.id);console.log("Report confirmed:",V),ce.create({type:"positive",message:"Report confirmed successfully"}),f.value=!1}catch(V){console.error(V)}},h=z(()=>m.report.other_added_stock||[]),c=[{name:"product_name",label:"Product Name",field:V=>V.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:V=>V.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:V=>V.added_stocks?`${V.added_stocks} pcs`:"N/A"}],S=V=>{const y=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",k=V.firstname?y(V.firstname):"No Firstname",_=V.middlename?y(V.middlename).charAt(0)+".":"",u=V.lastname?y(V.lastname):"No Lastname";return`${k} ${_} ${u}`};return(V,y)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:U})]),e(X,{modelValue:f.value,"onUpdate:modelValue":y[2]||(y[2]=k=>f.value=k)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",ld,[nd,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=k=>f.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(S(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"yellow",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:h.value,columns:c,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":y[1]||(y[1]=k=>b.value=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(N,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(I,{color:"negative",label:"Decline",class:"action-btn",onClick:i}),e(I,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(X,{modelValue:R.value,"onUpdate:modelValue":y[4]||(y[4]=k=>R.value=k)},{default:t(()=>[e(H,null,{default:t(()=>[e(N,null,{default:t(()=>[sd]),_:1}),e(N,null,{default:t(()=>[e(D,{modelValue:C.value,"onUpdate:modelValue":y[3]||(y[3]=k=>C.value=k),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[k=>!!k||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Me,{align:"right"},{default:t(()=>[de(e(I,{flat:"",label:"Cancel",color:"primary"},null,512),[[ie]]),e(I,{flat:"",label:"Confirm",color:"negative",onClick:p})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const dd=d=>(ne("data-v-355e3e60"),d=d(),se(),d),id={class:"q-gutter-md q-ma-md"},ud={key:0},cd={class:"row justify-between"},pd={class:"text-subtitle1"},md={class:"text-subtitle1"},_d={class:"text-subtitle1"},gd={key:1,class:"data-error"},fd=dd(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),vd={__name:"TransactionPendingCard",setup(d){const v=Ve(),C=ot(),R=z(()=>C.pendingOtherReports),f=v.params.branch_id,b=P("pending"),U=async()=>{try{const r=await C.fetchPendingOtherStocks(f,b.value);console.log(R.value)}catch(r){console.error("Error fetching pending stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",id,[R.value.length?(x(),A("div",ud,[(x(!0),A(E,null,fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",cd,[o("div",pd,$(i(c.created_at)),1),o("div",md,$(m(c.created_at)),1),o("div",_d,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"yellow",outlined:""},{default:t(()=>[q(" Pending ")]),_:1})]),o("div",null,[e(rd,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(x(),A("div",gd,[e(ae,{name:"warning",color:"warning",size:"4em"}),fd]))])]),_:1})]))}};var yd=Z(vd,[["__scopeId","data-v-355e3e60"]]);const hd={class:"row justify-between"},bd=o("div",{class:"text-h6"},"Other Added Stocks Report",-1),wd={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){je(),P(!1);const v=P(!1),C=()=>{v.value=!0};Be();const R=d,f=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.other_added_stock||[])),b=i=>{const m=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",p=i.firstname?m(i.firstname):"No Firstname",r=i.middlename?m(i.middlename).charAt(0)+".":"",h=i.lastname?m(i.lastname):"No Lastname";return`${p} ${r} ${h}`},U=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,m)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(X,{modelValue:v.value,"onUpdate:modelValue":m[2]||(m[2]=p=>v.value=p)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",hd,[bd,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=p=>v.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(b(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"green",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})])]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:f.value,columns:U,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":m[1]||(m[1]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const kd=d=>(ne("data-v-5b0a7351"),d=d(),se(),d),xd={class:"q-gutter-md q-ma-md"},$d={class:"row justify-between"},Vd={class:"text-subtitle1"},Cd={class:"text-subtitle1"},Rd={class:"text-subtitle1"},Sd={key:1,class:"data-error"},Pd=kd(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ud={__name:"TransactionConfirmedCard",setup(d){const v=Ve(),C=ot(),R=z(()=>C.confirmedOtherReports),f=v.params.branch_id,b=P("confirmed"),U=async()=>{try{const r=await C.fetchConfirmedOtherStocks(f,b.value);console.log(R.value)}catch(r){console.error("Error fetching confirmed stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",xd,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",$d,[o("div",Vd,$(i(c.created_at)),1),o("div",Cd,$(m(c.created_at)),1),o("div",Rd,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"green",outlined:""},{default:t(()=>[q($(c.status),1)]),_:2},1024)]),o("div",null,[e(wd,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",Sd,[e(ae,{name:"warning",color:"warning",size:"4em"}),Pd]))])]),_:1})]))}};var Nd=Z(Ud,[["__scopeId","data-v-5b0a7351"]]);const qd={class:"row justify-between"},Dd=o("div",{class:"text-h6"},"Others Added Stocks Report",-1),Ad={class:"q-mt-md"},Id={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){je(),P(!1);const v=P(!1),C=()=>{v.value=!0},R=d,f=z(()=>(console.log("Filtered rows:",R.report||[]),R.report.other_added_stock||[])),b=i=>{const m=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",p=i.firstname?m(i.firstname):"No Firstname",r=i.middlename?m(i.middlename).charAt(0)+".":"",h=i.lastname?m(i.lastname):"No Lastname";return`${p} ${r} ${h}`},U=[{name:"product_name",label:"Product Name",field:i=>(console.log("Row data:",i),i.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:i=>(console.log("Row data:",i),i.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:i=>i.added_stocks?`${i.added_stocks} pcs`:"N/A"}];return(i,m)=>(x(),A(E,null,[o("div",null,[e(I,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:C})]),e(X,{modelValue:v.value,"onUpdate:modelValue":m[2]||(m[2]=p=>v.value=p)},{default:t(()=>[e(H,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(N,null,{default:t(()=>[o("div",qd,[Dd,e(I,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=p=>v.value=!1)})])]),_:1}),e(N,null,{default:t(()=>[o("div",null,"Cashier: "+$(b(d.report.employee)),1),o("div",null," Branch: "+$(d.report.branch.name),1),o("div",null,[q(" Status: "),e(ye,{color:"red",outlined:""},{default:t(()=>[q($(d.report.status),1)]),_:1})]),o("div",Ad,"Remark: "+$(d.report.remark),1)]),_:1}),e(N,null,{default:t(()=>[e(Ce,{rows:f.value,columns:U,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":m[1]||(m[1]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Td=d=>(ne("data-v-67ff56ab"),d=d(),se(),d),Bd={class:"q-gutter-md q-ma-md"},Fd={class:"row justify-between"},zd={class:"text-subtitle1"},Ld={class:"text-subtitle1"},Od={class:"text-subtitle1"},Md={key:1,class:"data-error"},Hd=Td(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),jd={__name:"TransactionDeclinedCard",setup(d){const v=Ve(),C=ot(),R=z(()=>C.declinedOtherReports),f=v.params.branch_id,b=P("declined"),U=async()=>{try{const r=await C.fetchDeclinedOtherStocks(f,b.value);console.log("selectedOtherProductDeclined",R.value)}catch(r){console.error("Error fetching decline stocks:",r)}};Ne(async()=>{f&&await U()});const i=r=>$e.formatDate(r,"MMMM D, YYYY"),m=r=>$e.formatDate(r,"hh:mm A"),p=r=>{const h=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",c=r.firstname?h(r.firstname):"No Firstname",S=r.middlename?h(r.middlename).charAt(0)+".":"",V=r.lastname?h(r.lastname):"No Lastname";return`${c} ${S} ${V}`};return(r,h)=>(x(),A("div",null,[e(He,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Bd,[R.value.length?(x(!0),A(E,{key:0},fe(R.value,(c,S)=>(x(),F(H,{key:S},{default:t(()=>[e(N,null,{default:t(()=>[o("div",Fd,[o("div",zd,$(i(c.created_at)),1),o("div",Ld,$(m(c.created_at)),1),o("div",Od,$(c.branch.name)+" - "+$(p(c.employee)),1),o("div",null,[e(ye,{color:"red",outlined:""},{default:t(()=>[q($(c.status),1)]),_:2},1024)]),o("div",null,[e(Id,{report:c},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),A("div",Md,[e(ae,{name:"warning",color:"warning",size:"4em"}),Hd]))])]),_:1})]))}};var Qd=Z(jd,[["__scopeId","data-v-67ff56ab"]]);const Ed={class:"q-gutter-y-sm"},Kd={__name:"OtherTransactionPage",setup(d){const v=P("pendingReports"),C=z(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(R,f)=>(x(),A(E,null,[o("div",Ed,[e(Ke,{modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=b=>v.value=b),"indicator-color":C.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(ke,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(ke,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(ke,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ye,{modelValue:v.value,"onUpdate:modelValue":f[1]||(f[1]=b=>v.value=b),animated:""},{default:t(()=>[e(xe,{name:"pendingReports"},{default:t(()=>[e(yd)]),_:1}),e(xe,{name:"confirmReports"},{default:t(()=>[e(Nd)]),_:1}),e(xe,{name:"declineReports"},{default:t(()=>[e(Qd)]),_:1})]),_:1},8,["modelValue"])],64))}};var Yd=Z(Kd,[["__scopeId","data-v-b76c19b4"]]);const bt=d=>(ne("data-v-0a732ed6"),d=d(),se(),d),Gd={class:"q-gutter-y-sm"},Wd=bt(()=>o("h1",null,"Bread",-1)),Jd=bt(()=>o("h1",null,"Cake",-1)),Xd={__name:"TransactionPage",setup(d){const v=P("bread");return(C,R)=>(x(),A(E,null,[o("div",Gd,[e(Ke,{modelValue:v.value,"onUpdate:modelValue":R[0]||(R[0]=f=>v.value=f),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(ke,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(ke,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(ke,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(ke,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(ke,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Ye,{modelValue:v.value,"onUpdate:modelValue":R[1]||(R[1]=f=>v.value=f),animated:""},{default:t(()=>[e(xe,{name:"bread"},{default:t(()=>[e(H,null,{default:t(()=>[Wd]),_:1})]),_:1}),e(xe,{name:"selecta"},{default:t(()=>[e(mr)]),_:1}),e(xe,{name:"softdrinks"},{default:t(()=>[e(od)]),_:1}),e(xe,{name:"cake"},{default:t(()=>[e(H,null,{default:t(()=>[Jd]),_:1})]),_:1}),e(xe,{name:"other"},{default:t(()=>[e(Yd)]),_:1})]),_:1},8,["modelValue"])],64))}};var Zd=Z(Xd,[["__scopeId","data-v-0a732ed6"]]);const Ee=d=>(ne("data-v-f0d86c36"),d=d(),se(),d),ei=Ee(()=>o("div",{class:"text-h6"},"Create Branch Recipe",-1)),ti={class:"q-mb-lg"},ai={key:0,class:"custom-list z-top"},oi={class:"q-mb-sm"},li=Ee(()=>o("div",null,"Recipe Name",-1)),ni={class:"q-mb-lg"},si=Ee(()=>o("div",null,"Category",-1)),ri=Ee(()=>o("div",null,"Breads",-1)),di={class:"q-mt-md q-gutter-y-sm"},ii=Ee(()=>o("div",{class:"text-weight-thin"},"Ingredients List",-1)),ui={class:"q-mt-xl q-gutter-y-sm"},ci={class:"row justify-between"},pi=Ee(()=>o("div",{align:"center"},"Ingredients",-1)),mi=Ee(()=>o("div",{align:"center"},"Quantity",-1)),_i=["onKeyup"],gi={align:"right"},fi={__name:"RecipeCreate",setup(d){const v=Ve(),C=v.params.branch_id,R=Pt(),f=z(()=>R.recipes),b=et(),U=Ge(),i=et(),m=z(()=>b.branchRecipes),p=P(!1),r=()=>{p.value=!0},h=()=>{clearForm(),p.value=!1},c=Q=>Q?Q.split(" ").map(K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase()).join(" "):"",S=P(""),V=async()=>{R.searchRecipe(S.value)},y=z(()=>_.target!==0),k=Q=>{_.recipe_id=Q.id,_.recipe_name=Q.name,_.category=Q.category,S.value=""},_=Te({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:v.params.branch_id}),u=P(!1),g=P(null),s=P([]),n=P(s.value),l=P([]),a=P([]),w=Te({name:"",quantity:""}),T=P(a.value);(async()=>{await U.fetchProductsByCategory("Bread"),u.value=!1,s.value=U.breads.map(Q=>({label:Q.name,value:Q.id}))})(),(async()=>{const Q="Ingredients";await i.fetchBranchRawMaterials(Q,C),u.value=!1,a.value=i.ingredients.map(K=>({label:K.raw_material_name,value:K.raw_material_id,unit:K.ingredient_unit}))})();const ue=()=>{w.name="",w.quantity=""},Se=(Q,K)=>{Q.length>2&&(s.value.includes(Q)||K(Q,"add-unique"))},we=(Q,K)=>{K(()=>{if(Q==="")n.value=s.value;else{const O=Q.toLowerCase();n.value=s.value.filter(B=>B.label.toLowerCase().indexOf(O)>-1)}})},le=(Q,K)=>{K(()=>{if(Q==="")T.value=a.value;else{const O=Q.toLowerCase();T.value=a.value.filter(B=>B.label.toLowerCase().indexOf(O)>-1)}})},be=()=>{const Q=l.value;function K(M,me){return M.find(De=>De.ingredients_id==me)}const O=w.name.value;K(Q,O)?ce.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(l.value=[...Q,{ingredients_id:w.name.value,label:w.name.label,quantity:w.quantity,unit:w.name.unit}],ue())},j=Q=>{l.value.splice(Q,1)};he(()=>w.name,Q=>{Q&&Q.unit?w.unit=Q.unit:w.unit=""});const oe=()=>{_.recipe_id="",_.target="",g.value=null,l.value=[],w.name="",w.quantity=""},ge=async()=>{const Q={recipe_id:_.recipe_id,target:_.target,status:"active",branch_id:_.branches_id,breads:g.value.map(K=>({bread_id:K.value})),ingredients:l.value.map(K=>({ingredient_id:K.ingredients_id,quantity:K.quantity}))};console.log("branchRecipe",Q),await b.saveBranchRecipe(Q),m.value=await b.fetchBranchRecipes(C),oe(),p.value=!1};return(Q,K)=>(x(),A(E,null,[e(I,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:r}),e(X,{modelValue:p.value,"onUpdate:modelValue":K[7]||(K[7]=O=>p.value=O)},{default:t(()=>[e(H,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(N,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[ei,e(Ue),de(e(I,{icon:"close",flat:"",dense:"",round:""},null,512),[[ie]])]),_:1}),e(N,null,{default:t(()=>{var O;return[o("div",ti,[e(D,{modelValue:S.value,"onUpdate:modelValue":[K[0]||(K[0]=B=>S.value=B),V],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[o("div",null,[e(ae,{name:"search"})])]),default:t(()=>[S.value?(x(),A("div",ai,[e(H,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var B;return[(B=f.value)!=null&&B.length?(x(!0),A(E,{key:1},fe(f.value,M=>(x(),F(re,{onClick:me=>k(M),key:M.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(c(M.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),F(re,{key:0},{default:t(()=>[q(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ie("",!0)]),_:1},8,["modelValue"])]),o("div",oi,[li,e(D,{modelValue:_.recipe_name,"onUpdate:modelValue":K[1]||(K[1]=B=>_.recipe_name=B),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",ni,[si,e(D,{modelValue:_.category,"onUpdate:modelValue":K[2]||(K[2]=B=>_.category=B),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[e(D,{modelValue:_.target,"onUpdate:modelValue":K[3]||(K[3]=B=>_.target=B),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),o("div",null,[ri,e(nt,{modelValue:g.value,"onUpdate:modelValue":K[4]||(K[4]=B=>g.value=B),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:n.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:Se,onFilter:we,rules:[B=>B&&B.length>0||"Bread is required"]},{"no-option":t(()=>[e(re,null,{default:t(()=>[e(Y,{class:"text-grey"},{default:t(()=>[q(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),o("div",di,[ii,o("div",null,[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[(x(!0),A(E,null,fe(l.value,(B,M)=>(x(),F(re,{key:M},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,null,{default:t(()=>[q($(B.label),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[q($(B.quantity)+" "+$(B.unit),1)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(I,{onClick:me=>j(M),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),o("div",ui,[o("div",ci,[o("div",null,[pi,e(nt,{modelValue:w.name,"onUpdate:modelValue":K[5]||(K[5]=B=>w.name=B),debounce:"3000",outlined:"","chips-color":"primary",options:T.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:le,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(re,null,{default:t(()=>[e(Y,{class:"text-grey"},{default:t(()=>[q(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),o("div",null,[mi,e(D,{modelValue:w.quantity,"onUpdate:modelValue":K[6]||(K[6]=B=>w.quantity=B),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((O=w==null?void 0:w.name)==null?void 0:O.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),o("form",{onKeyup:pe(xt(be,["prevent"]),["enter"])},[o("div",gi,[e(I,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:be})])],40,_i)])]}),_:1}),e(Me,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(I,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:h}),e(I,{class:"glossy",color:"teal",label:"Create",onClick:ge,disable:!y.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var vi=Z(fi,[["__scopeId","data-v-f0d86c36"]]);const wt=d=>(ne("data-v-33664d62"),d=d(),se(),d),yi=wt(()=>o("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),hi=wt(()=>o("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),bi={__name:"RecipeDelete",props:["delete"],setup(d){const v=et(),C=d,R=P(!1),f=()=>{R.value=!0},b=async()=>{await v.deleteRecipe(C.delete.row.id),R.value=!1};return(U,i)=>(x(),A(E,null,[e(I,{onClick:f,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(ve,{class:"bg-negative",delay:200},{default:t(()=>[q("Delete")]),_:1})]),_:1}),e(X,{modelValue:R.value,"onUpdate:modelValue":i[0]||(i[0]=m=>R.value=m),persistent:""},{default:t(()=>[e(H,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(N,{class:"q-pt-none q-pb-sm"},{default:t(()=>[yi,hi]),_:1}),e(tt,{class:"q-mb-md"}),e(N,null,{default:t(()=>[e(Me,{align:"right",class:"q-pt-none"},{default:t(()=>[de(e(I,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ie]]),e(I,{dense:"",label:"Delete",color:"negative",onClick:b,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var wi=Z(bi,[["__scopeId","data-v-33664d62"]]);const ki=d=>(ne("data-v-7a561dd0"),d=d(),se(),d),xi={class:"text-h6 text-white"},$i=ki(()=>o("div",{class:"text-h6",align:"center"},"Bread List",-1)),Vi={class:"row",align:"center"},Ci={__name:"RecipeBreadGroups",props:["breadGroups"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe();console.log("breadGroups",d.breadGroups);const U=i=>i?i.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"";return(i,m)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(N,{class:"row bg-backgroud text-h6"},{default:t(()=>[o("div",xi,$(U(d.breadGroups.name)),1),e(Ue),o("div",null,[de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])])]),_:1}),e(N,null,{default:t(()=>[$i]),_:1}),e(N,null,{default:t(()=>[(x(!0),A(E,null,fe(d.breadGroups.bread_groups,(p,r)=>(x(),A("div",{key:r},[o("div",Vi,$(p),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ri=Z(Ci,[["__scopeId","data-v-7a561dd0"]]);const Si=d=>(ne("data-v-435e3b8f"),d=d(),se(),d),Pi={class:"text-h6 text-white"},Ui=Si(()=>o("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Ni={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(d){const{dialogRef:v,onDialogHide:C,onDialogOK:R,onDialogCancel:f}=qe();console.log("ingredientGroups",d.ingredientGroups);const U=m=>m?m.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",i=m=>{const p=Number(m.quantity)||0,r=m.unit||"";return p>1e3?`${parseFloat((p/1e3).toFixed(3))} kg`:p>1?`${parseFloat(p.toFixed(3))} ${r}`:`${parseFloat(p.toFixed(3))} ${r}`};return(m,p)=>(x(),F(X,{ref_key:"dialogRef",ref:v,onHide:te(C),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(H,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(N,{class:"row bg-backgroud text-h6"},{default:t(()=>[o("div",Pi,$(U(d.ingredientGroups.name)),1),e(Ue),o("div",null,[de(e(I,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ie]])])]),_:1}),e(N,null,{default:t(()=>[Ui]),_:1}),e(N,null,{default:t(()=>[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(re,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Raw Materials Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Code")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-overline"},{default:t(()=>[q("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),A(E,null,fe(d.ingredientGroups.ingredient_groups,(r,h)=>(x(),F(re,{key:h},{default:t(()=>[e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(r.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(r.code),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(W,{class:"text-caption"},{default:t(()=>[q($(i(r)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var qi=Z(Ni,[["__scopeId","data-v-435e3b8f"]]);const Di=d=>(ne("data-v-89832402"),d=d(),se(),d),Ai={class:"row justify-between"},Ii={class:"q-my-sm"},Ti={key:0,class:"spinner-wrapper"},Bi={key:1},Fi={key:0,class:"data-error"},zi=Di(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Li={class:"row justify-center q-gutter-x-md"},Oi={__name:"RecipeTable",setup(d){const C=Ve().params.branch_id,R=et(),f=P(""),b=P(!0),U=P([]),i=P(!1),m=P({rowsPerPage:0}),p=["inactive","active"],r=z(()=>R.branchRecipes);console.log("branch recipe",r.value);const h=z(()=>f.value?r.value.filter(a=>a.name.toLowerCase().includes(f.value.toLowerCase())):r.value);Ne(async()=>{C&&await c(C)});const c=async a=>{try{b.value=!0;const w=await R.fetchBranchRecipes(a);r.value=w,console.log("branchRecipeRows",r.value),r.value.length||(i.value=!0),console.log("Branch recipe",r.value)}catch(w){console.log("Error fetching recipe",w)}finally{b.value=!1}},S=a=>{const w=Number(a)||0;return parseFloat(w.toFixed(3)).toString()},V=a=>!a&&a!==0?"Set Target":typeof a=="number"||!isNaN(a)?(a=parseFloat(a),a%1===0?a:parseFloat(a.toFixed(1))):a;async function y(a,w){try{const T=await ee.put("/api/update-target/"+a.id,{target:parseFloat(w)});if(console.log("response",T),T.status==200){const L=U.value.findIndex(J=>J.id==a.id);U.value[L]=w}ce.create({type:"positive",message:"Recipe target edited successfully"})}catch(T){console.error("Error updating recipe target:",T),ce.create({type:"negative",message:"Failed to edit recipe target"})}}async function k(a,w){try{if((await ee.put("/api/branch-update-status/"+a.id,{status:w})).status==200){const L=U.value.findIndex(J=>J.id==a.id);U.value[L]=w}ce.create({type:"positive",message:"Recipe status change successfully"})}catch(T){console.error("Error updating recipe status:",T),ce.create({type:"negative",message:"Failed to change recipe status"})}}const _=a=>a?a.split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1).toLowerCase()).join(" "):"",u=[{name:"name",label:"Recipe name",align:"center",field:a=>a.name},{name:"category",label:"Category",align:"center",field:a=>a.recipe},{name:"target",label:"Target",align:"center",field:a=>V(a.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],g=Be(),s=a=>{console.log("Bread Groups:",a),g.dialog({component:Ri,componentProps:{breadGroups:a}})},n=a=>{console.log("Ingredients Groups:",a),g.dialog({component:qi,componentProps:{ingredientGroups:a}})},l=a=>{switch(a){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(a,w)=>(x(),A(E,null,[o("div",Ai,[o("div",null,[e(D,{class:"q-pb-lg q-pl-md",modelValue:f.value,"onUpdate:modelValue":w[0]||(w[0]=T=>f.value=T),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ae,{name:"search"})]),_:1},8,["modelValue"])]),o("div",Ii,[e(vi)])]),b.value?(x(),A("div",Ti,[e(at,{size:"50px",color:"primary"})])):(x(),A("div",Bi,[h.value.length===0?(x(),A("div",Fi,[e(ae,{name:"warning",color:"warning",size:"4em"}),zi])):(x(),F(Ce,{key:1,class:"table-container sticky-header",filter:f.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:u,rows:h.value,"row-key":"name","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":w[1]||(w[1]=T=>m.value=T),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(T=>[e(G,{props:T},{default:t(()=>[o("span",null,$(_(T.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(T=>[e(G,{props:T},{default:t(()=>[o("span",null,$(_(T.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(T=>[e(G,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[o("span",null,[q($(S(T.row.target))+" ",1),e(ve,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[q("Edit Target")]),_:1})]),e(_e,{"onUpdate:modelValue":[L=>y(T.row,L),L=>T.row.target=L],modelValue:T.row.target,"auto-save":""},{default:t(L=>[e(D,{modelValue:L.value,"onUpdate:modelValue":J=>L.value=J,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:pe(L.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(T=>[e(G,{props:T},{default:t(()=>[e(ye,{outline:"",color:l(T.row.status)},{default:t(()=>[q($(_(T.row.status))+" ",1),e(ve,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[q("Change Status")]),_:1})]),_:2},1032,["color"]),e(_e,{"onUpdate:modelValue":[L=>k(T.row,L),L=>T.row.status=L],modelValue:T.row.status,"auto-save":""},{default:t(L=>[o("span",null,$(T.row.name),1),e(nt,{modelValue:L.value,"onUpdate:modelValue":J=>L.value=J,dense:"",label:"status",autofocus:"",options:p,counter:"",mask:"###",onKeyup:pe(L.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(T=>[e(G,{props:T},{default:t(()=>[e(I,{"no-caps":"",onClick:L=>s(T.row),label:`${T.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(T=>[e(G,{props:T},{default:t(()=>[e(I,{"no-caps":"",onClick:L=>n(T.row),label:`${T.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(T=>[e(G,{props:T},{default:t(()=>[o("div",Li,[e(wi,{delete:T},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Mi=Z(Oi,[["__scopeId","data-v-89832402"]]);const Hi={__name:"RecipePage",setup(d){return(v,C)=>(x(),A("div",null,[e(Mi)]))}};const ji={class:"elegant-container q-gutter-md"},Qi={class:"text-h6 row justify-between"},Ei={class:"q-gutter-sm"},Ki={class:"tab-container"},Yi={__name:"BranchIdPage",setup(d){const v=Ve(),C=P(""),R=$t(),f=async p=>(await ee.get(`/api/branches/${p}`)).data,b=async()=>{const p=v.params.branch_id,r=await f(p);r&&r.name?C.value=r.name:console.error("Branch data is missing 'name' property or invalid:",r)};Ne(()=>{b()});const U=p=>p?p.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",i=P("products"),m=()=>{Ae.show(),R.push("/admin/branches").finally(()=>{Ae.hide()})};return(p,r)=>(x(),F(Vt,{padding:""},{default:t(()=>[o("div",ji,[o("div",Qi,[o("div",null,[e(I,{outline:"",flat:"",icon:"arrow_back",onClick:m}),e(Ue)]),o("div",null,[e(ae,{name:"fa-solid fa-store",color:"red-6"}),q(" "+$(U(C.value)),1)])]),o("div",Ei,[o("div",Ki,[e(Ke,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=h=>i.value=h),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(ke,{name:"products",label:"Products"}),e(ke,{name:"rawMaterials",label:"Raw Materials"}),e(ke,{name:"recipe",label:"Recipe"}),e(ke,{name:"production",label:"Production"}),e(ke,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(H,{class:"q-mt-sm"},{default:t(()=>[e(Ye,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=h=>i.value=h),animated:""},{default:t(()=>[e(xe,{name:"products"},{default:t(()=>[e(ta)]),_:1}),e(xe,{name:"rawMaterials"},{default:t(()=>[e(Ca)]),_:1}),e(xe,{name:"recipe"},{default:t(()=>[e(Hi)]),_:1}),e(xe,{name:"production"},{default:t(()=>[e(xs)]),_:1}),e(xe,{name:"transaction"},{default:t(()=>[e(Zd)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Au=Z(Yi,[["__scopeId","data-v-eb7c826e"]]);export{Au as default};
