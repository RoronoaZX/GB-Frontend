import{d as p,r as n,P as o,N as r}from"./index.574b640c.js";import{api as i}from"./axios.fe305231.js";const v=p("rawMaterials",()=>{const w=n(null),s=n([]),l=n([]);return{rawMaterial:w,rawMaterials:s,ingredients:l,searchRawMaterials:async a=>{const e=await i.get("/api/search-rawMaterials",{params:{keyword:a}});s.value=e.data,console.log("Search rawe materials",e.data)},createRawMaterials:async a=>{console.log("Data",a);try{o.show();const e=await i.post("/api/raw-materials",a);console.log("RawMaterials",e.data.rawMaterials),s.value.unshift(e.data.rawMaterials),r.create({type:"positive",message:"Raw Materials successfully created",timeout:1e3})}catch(e){console.log("error",e),e.response.data.message,r.create({type:"warning",icon:"warning",message:e.response.data.message||"ERROR",timeout:5e3})}finally{o.hide()}},fetchRawMaterials:async()=>{const a=await i.get("/api/raw-materials");s.value=a.data,console.log("Raw Materialssss",s.value)},updateRawMaterials:async(a,e)=>{try{o.show();const t=await i.put(`/api/raw-materials/${a}`,e),c=s.value.findIndex(d=>d.id===a);c!==-1&&(s.value[c]=t.data),r.create({type:"positive",message:"Raw Materials updated successfully",timeout:1e3})}catch(t){console.log("erororoeo",t),t.response.data.message==="The name has already been taken. (and 1 more error)"?r.create({type:"warning",icon:"warning",message:t.response.data.message||"ERROR",timeout:5e3}):r.create({type:"negative",icon:"error",message:t.response.data.message||"ERROR",timeout:5e3})}o.hide()},deleteRawMaterials:async a=>{await i.delete(`/api/raw-materials/${a}`),s.value=s.value.filter(e=>e.id!==a),r.create({type:"positive",icon:"warning",message:"Raw Materials successfully deleted",timeout:1e3})},fetchIngredients:async a=>{const e=await i.get("/api/ingredients",a);l.value=e.data}}});export{v as u};
