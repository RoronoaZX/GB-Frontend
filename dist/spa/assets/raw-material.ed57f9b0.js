import{d as p,r as n,P as i,N as o}from"./index.2fb0bbd3.js";import{api as r}from"./axios.cb23f86d.js";const k=p("rawMaterials",()=>{const w=n(null),t=n([]),l=n([]);return{rawMaterial:w,rawMaterials:t,ingredients:l,searchRawMaterials:async e=>{const a=await r.get("/api/search-rawMaterials",{params:{keyword:e}});t.value=a.data,console.log("Search rawe materials",a.data)},createRawMaterials:async e=>{console.log("Data",e);try{i.show();const a=await r.post("/api/raw-materials",e);console.log("RawMaterials",a.data.rawMaterials),t.value.unshift(a.data.rawMaterials),o.create({type:"positive",message:"Raw Materials successfully created",timeout:1e3})}catch(a){console.log("error",a),a.response.data.message,o.create({type:"warning",icon:"warning",message:a.response.data.message||"ERROR",timeout:5e3})}finally{i.hide()}},fetchRawMaterials:async()=>{const e=await r.get("/api/raw-materials");t.value=e.data,console.log("Raw Materialssss",t.value)},updateRawMaterials:async(e,a)=>{try{i.show();const s=await r.put(`/api/raw-materials/${e}`,a),c=t.value.findIndex(d=>d.id===e);c!==-1&&(t.value[c]=s.data),o.create({type:"positive",message:"Raw Materials updated successfully",timeout:1e3})}catch(s){console.log("error",s),s.response.data.message==="The name has already been taken. (and 1 more error)"?o.create({type:"warning",icon:"warning",message:s.response.data.message||"ERROR",timeout:5e3}):o.create({type:"negative",icon:"error",message:s.response.data.message||"ERROR",timeout:5e3})}i.hide()},deleteRawMaterials:async e=>{await r.delete(`/api/raw-materials/${e}`),t.value=t.value.filter(a=>a.id!==e),o.create({type:"positive",icon:"warning",message:"Raw Materials successfully deleted",timeout:1e3})},fetchIngredients:async e=>{const a=await r.get("/api/ingredients",e);l.value=a.data},fetchBranchWarehouseRawMaterials:async(e,a)=>{console.log("designation",e),console.log("id",a);try{const s=await r.get(`/api/fetchrawMaterialsBranchWarehouse/${a}`,{params:{designation:e}});console.log("Raw Materialsss",s.data),t.value=s.data.data}catch(s){console.log("error",s)}}}});export{k as u};
