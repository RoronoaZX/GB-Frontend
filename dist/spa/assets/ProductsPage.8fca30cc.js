import{r as O,t as ue,u as E,c as P,z as ye,o as j,a2 as Q,J as t,f as e,w as a,a3 as D,a4 as de,e as oe,Q as M,aJ as xe,_ as q,a0 as ve,I,M as A,K as U,a1 as G,O as J,R as W,ad as ce,$ as N,ba as Ie,aH as Re,aI as je,N as re,g as De,a7 as Te,br as ze,a9 as Me,bs as Oe,bt as Ee,ai as Ye,j as fe,l as He,L as Pe,a as Ke}from"./index.04e5d2a1.js";import{Q as Ge,a as he,b as Je,c as pe}from"./QTabPanels.884a00c0.js";import{Q as Se}from"./QIntersection.1c0e78e9.js";import{Q as be}from"./QScrollArea.dfe41ab4.js";import{u as ie}from"./sales-report.1760147d.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import{b as Y}from"./use-virtual-scroll.d9a82e64.js";import{Q as $e,a as se,b as T}from"./QList.cac99ad7.js";import{Q as Be}from"./QSelect.8847eac9.js";import{C as me}from"./ClosePopup.75c7dc8b.js";import{u as Ae,a as Fe}from"./softdrinks-products.60428fa4.js";import{Q as _e}from"./QTd.c6470de7.js";import{Q as Ue}from"./QBadge.faf807a8.js";import{b as We}from"./selection.2d402656.js";import{Q as Le}from"./QTable.567840bb.js";import{q as Qe}from"./date.77b26df7.js";import{u as Xe}from"./cake-maker-report.d4accdc8.js";import"./QResizeObserver.92867d05.js";import"./use-panel.505210cf.js";import"./touch.9135741d.js";import"./QScrollObserver.84a8d28b.js";import"./TouchPan.2ca12d25.js";import"./axios.51ed7a81.js";import"./QChip.86896193.js";import"./QMenu.30ddde90.js";import"./QVirtualScroll.dfc83220.js";const Z=l=>(J("data-v-792757c0"),l=l(),W(),l),Ze={class:"q-mt-md"},et={class:"row q-pa-lg q-gutter-y-lg"},tt=Z(()=>t("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),at={class:"q-pa-xm row q-gutter-x-sm justify-between"},lt=Z(()=>t("div",null,"Quantity:",-1)),st={class:"q-pa-xm row q-gutter-x-sm justify-between"},ot=Z(()=>t("div",null,"Price:",-1)),nt={class:"row justify-between"},dt={class:"text-h6"},it={class:"q-mb-lg row justify-between"},rt=Z(()=>t("div",{class:"text-weight-light"},"Remainnings",-1)),ut=Z(()=>t("div",{class:"text-weight-light"},"Bread Out",-1)),ct={class:"row q-gutter-xm justify-between"},mt={class:"q-gutter-sm"},pt=Z(()=>t("div",{class:"text-weight-light"},"Total Bread",-1)),_t=Z(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),vt={class:"q-gutter-sm"},gt=Z(()=>t("div",{class:"text-weight-light"},"Price",-1)),ft={class:"q-gutter-sm"},ht=Z(()=>t("div",{class:"text-weight-light"},"Sold Pcs",-1)),yt=Z(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),xt={class:"q-gutter-sm"},bt=Z(()=>t("div",{class:"text-weight-light"},"Sales Amount",-1)),wt={align:"right"},kt={__name:"BreadCard",setup(l){const m=ie(),r=m.user;console.log("userdat",r);const o=O(null),_=O(!1),c=n=>{o.value=n,_.value=!0},s=ue({breadSold:0,remainnings:0,beginnings:0,breadOut:0}),S=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),L=n=>n?n.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",v=()=>{if(o.value){const n=parseInt(o.value.total_quantity)||0,d=parseInt(s.remainnings)||0,i=parseInt(s.breadOut)||0,y=d+i;s.breadSold=n-y}};E(()=>s.remainnings,n=>{v()}),E(()=>s.breadOut,n=>{v()});const x=P(()=>o.value?s.breadSold*o.value.price:0),b=P(()=>S(x.value));ye(async()=>{var i;const n=m.user,d=((i=n==null?void 0:n.employee)==null?void 0:i.branch_id)||"";d&&await R(d)});const R=async n=>{await m.fetchBranchProducts(n)},V=P(()=>m.breadProducts);E(V,n=>{});const B=()=>{o.value=null,s.breadSold=0,s.remainnings=0,s.beginnings=0,s.breadOut=0,_.value=!1},F=()=>{var n;if(o.value){const d={user_id:r==null?void 0:r.data.id,branch_id:((n=r==null?void 0:r.employee)==null?void 0:n.branch_id)||"",product_id:o.value.product.id,name:o.value.product.name,total:o.value.total_quantity,new_production:o.value.new_production,bread_sold:s.breadSold,bread_out:s.breadOut,beginnings:o.value.beginnings,remaining:s.remainnings,price:o.value.price,sales:x.value};m.updateBreadReport(d),B()}};return(n,d)=>(j(),Q(D,null,[t("div",Ze,[e(be,{style:{height:"700px","max-width":"1500px"}},{default:a(()=>[t("div",et,[(j(!0),Q(D,null,de(V.value,(i,y)=>(j(),oe(Se,{key:y,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:a(()=>[e(M,{onClick:u=>c(i),class:"q-ma-sm my-card"},{default:a(()=>[tt,t("div",{class:xe(["q-pa-sm",{"text-h6":i.product.name.length<=10,"text-caption text-weight-medium":i.product.name.length>10&&i.product.name.length<=20,"text-caption text-weight-medium":i.product.name.length>20}])},q(L(i.product.name)),3),e(ve),e(I,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[t("div",at,[lt,t("div",null,q(i.total_quantity),1)]),t("div",st,[ot,t("div",null,q(S(i.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t("div",null,[e(G,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=i=>_.value=i)},{default:a(()=>[e(M,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[e(I,null,{default:a(()=>[t("div",nt,[t("div",dt,q(o.value?o.value.product.name:""),1),t("div",null,[e(A,{round:"",dense:"",flat:"",icon:"close",onClick:B})])])]),_:1}),e(I,null,{default:a(()=>[t("div",it,[t("div",null,[rt,e(U,{modelValue:s.remainnings,"onUpdate:modelValue":d[0]||(d[0]=i=>s.remainnings=i),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),t("div",null,[ut,e(U,{modelValue:s.breadOut,"onUpdate:modelValue":d[1]||(d[1]=i=>s.breadOut=i),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),t("div",ct,[t("div",mt,[pt,e(U,{dense:"",outlined:"",readonly:"",label:o.value?o.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[_t]),_:1},8,["label"])]),t("div",vt,[gt,e(U,{dense:"",outlined:"",readonly:"",label:o.value?S(o.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),t("div",ft,[ht,e(U,{dense:"",modelValue:s.breadSold,"onUpdate:modelValue":d[2]||(d[2]=i=>s.breadSold=i),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[yt]),_:1},8,["modelValue"])]),t("div",xt,[bt,e(U,{dense:"",outlined:"",modelValue:b.value,"onUpdate:modelValue":d[3]||(d[3]=i=>b.value=i),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:a(()=>[t("div",wt,[e(A,{color:"red-6",label:"Ok",onClick:F})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var St=X(kt,[["__scopeId","data-v-792757c0"]]);const $t=t("div",{class:"q-gutter-y-md"},[t("div",{class:"row justify-between"},[t("div")])],-1),Pt={__name:"BreadPage",setup(l){return(m,r)=>(j(),Q(D,null,[$t,t("div",null,[e(St)])],64))}};const Ve=l=>(J("data-v-5defb780"),l=l(),W(),l),Vt={class:"row justify-between"},qt=Ve(()=>t("div",{class:"text-h6"},"Add Selecta Stocks",-1)),Ct={class:"q-mt-md q-gutter-y-sm"},Ot={class:"q-mt-xl q-gutter-y-sm"},It={class:"row justify-between"},Rt=Ve(()=>t("div",{align:"center"},"Selecta Product",-1)),jt=Ve(()=>t("div",{align:"center"},"Added Stocks",-1)),Bt={align:"right"},At={__name:"SelectaAddStocks",setup(l){var z,C;const r=ie().user,o=((z=r==null?void 0:r.employee)==null?void 0:z.branch_id)||"";(C=r==null?void 0:r.employee)!=null&&C.employee_id;const _=Ae();P(()=>_.selectaProducts);const c=O(!1),s=()=>{c.value=!0};O("");const S=O("Selecta"),L=O(!1),v=O([]),x=O([]),b=ue({name:"",added_stocks:""}),R=O(x.value);(async()=>{try{const g=(o==null?void 0:o.branches_id)||o,h=S.value;if(!g||!h){console.error("Invalid branchesId or category value.");return}const w=await _.fetchBranchSelectaProduct(g,h);L.value=!1,x.value=_.selectaProducts.map(f=>({label:f.name,value:f.id,price:f.price}))}catch(g){console.error("Error fetching branch selecta:",g)}})();const B=()=>{b.name="",b.added_stocks=""},F=(g,h)=>{h(()=>{if(g==="")R.value=x.value;else{const w=g.toLowerCase();R.value=x.value.filter(f=>f.label.toLowerCase().indexOf(w)>-1)}})},n=()=>{const g=v.value;function h(k,K){return k.find(ne=>ne.product_id==K)}const w=b.name.value;if(h(g,w))re.create({type:"negative",icon:"warning",message:"Product already exists",timeout:2e3});else{const k=x.value.find(K=>K.value===w);v.value=[...g,{product_id:b.name.value,label:b.name.label,added_stocks:b.added_stocks,price:k.price}],B()}},d=g=>{v.value.splice(g,1)},i=P(()=>v.value.length>0&&v.value.every(g=>g.added_stocks>0)),y=g=>g?g.split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase()).join(" "):"",u=()=>{$(),c.value=!1},$=()=>{p.product_id="",p.product_name="",p.product_category="",p.price="",p.added_stocks=""},p=ue({product_id:"",product_name:"",product_category:"",price:0,added_stocks:0}),H=async()=>{var g,h;try{const w={branches_id:((g=r==null?void 0:r.employee)==null?void 0:g.branch_id)||"",employee_id:((h=r==null?void 0:r.employee)==null?void 0:h.employee_id)||"",status:"pending",products:v.value};await _.createSelectaStocks(w),console.log("Data sent to backend:",w),$(),v.value=[],c.value=!1,re.create({type:"positive",message:"Selecta stocks successfully saved!",timeout:2e3})}catch(w){console.error("Error saving selecta stocks:",w),re.create({type:"negative",message:"An error occurred while saving selecta stocks.",timeout:2e3})}};return(g,h)=>(j(),Q(D,null,[e(A,{class:"bg-gradient text-white",outlined:"",label:"Add Selecta Stocks",onClick:s}),e(G,{modelValue:c.value,"onUpdate:modelValue":h[3]||(h[3]=w=>c.value=w)},{default:a(()=>[e(M,{style:{width:"450px"}},{default:a(()=>[e(I,{class:"bg-gradient text-white"},{default:a(()=>[t("div",Vt,[qt,t("div",null,[ce(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[me]])])])]),_:1}),e(I,null,{default:a(()=>[t("div",Ct,[t("div",null,[e($e,{dense:"",separator:"",class:"box"},{default:a(()=>[e(se,null,{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Product Name")]),_:1})]),_:1}),e(T,null,{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Added Stocks")]),_:1})]),_:1}),e(T,{side:""})]),_:1}),(j(!0),Q(D,null,de(v.value,(w,f)=>(j(),oe(se,{key:f},{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-caption"},{default:a(()=>[N(q(y(w.label)),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:a(()=>[e(Y,{class:"text-caption q-ml-md"},{default:a(()=>[N(q(w.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024),e(T,{side:""},{default:a(()=>[e(A,{onClick:k=>d(f),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),t("div",Ot,[t("div",It,[t("div",null,[Rt,e(Be,{modelValue:b.name,"onUpdate:modelValue":h[0]||(h[0]=w=>b.name=w),debounce:"3000",outlined:"","chips-color":"primary",options:R.value,dense:"",label:"Selecta",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:F,style:{width:"215px","max-width":"600px","min-width":"80px"}},{"no-option":a(()=>[e(se,null,{default:a(()=>[e(T,{class:"text-grey"},{default:a(()=>[N(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),t("div",null,[jt,e(U,{modelValue:b.added_stocks,"onUpdate:modelValue":h[1]||(h[1]=w=>b.added_stocks=w),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:"pcs",style:{width:"115px"}},null,8,["modelValue"])])]),t("form",{onKeyup:h[2]||(h[2]=Ie(Re((...w)=>g.addBranchProduct&&g.addBranchProduct(...w),["prevent"]),["enter"]))},[t("div",Bt,[e(A,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:n})])],32)])]),_:1}),e(je,{class:"row q-ma-md",align:"right"},{default:a(()=>[e(A,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:u}),e(A,{class:"glossy",color:"teal",label:"Create",onClick:H,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ft=X(At,[["__scopeId","data-v-5defb780"]]);const ee=l=>(J("data-v-713cd99b"),l=l(),W(),l),Ut={class:"q-mt-md"},Lt={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},Qt=ee(()=>t("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Nt={class:"q-pa-xm row q-gutter-x-sm justify-between"},Dt=ee(()=>t("div",null,"Quantity:",-1)),Tt={class:"q-pa-xm row q-gutter-x-sm justify-between"},zt=ee(()=>t("div",null,"Price:",-1)),Mt={class:"row justify-between"},Et={class:"text-h6"},Yt={class:"q-mb-lg row justify-between"},Ht=ee(()=>t("div",{class:"text-weight-light"},"Remainnings",-1)),Kt=ee(()=>t("div",{class:"text-weight-light"},"Selecta Out",-1)),Gt={class:"row q-gutter-xm justify-between"},Jt={class:"q-gutter-sm"},Wt=ee(()=>t("div",{class:"text-weight-light"},"Total Selecta",-1)),Xt=ee(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Zt={class:"q-gutter-sm"},ea=ee(()=>t("div",{class:"text-weight-light"},"Price",-1)),ta={class:"q-gutter-sm"},aa=ee(()=>t("div",{class:"text-weight-light"},"Sold Pcs",-1)),la=ee(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),sa={class:"q-gutter-sm"},oa=ee(()=>t("div",{class:"text-weight-light"},"Sales Amount",-1)),na={align:"right"},da={__name:"SelectaCard",setup(l){const m=ie(),r=m.user,o=O(null),_=O(!1),c=n=>{o.value=n,_.value=!0},s=ue({selectaSold:0,selectaRemainings:0,selectaBeginnings:0,selectaOut:0}),S=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),L=n=>n?n.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",v=P(()=>o.value?s.selectaSold*o.value.price:0),x=P(()=>S(v.value)),b=()=>{if(o.value){const n=parseInt(o.value.total_quantity)||0,d=parseInt(s.selectaRemainings)||0,i=parseInt(s.selectaOut)||0,y=d+i;s.selectaSold=n-y}};E(()=>s.selectaRemainings,n=>{b()}),E(()=>s.selectaOut,n=>{b()}),ye(async()=>{var i;const n=m.user,d=((i=n==null?void 0:n.employee)==null?void 0:i.branch_id)||"";d&&await R(d)});const R=async n=>{await m.fetchBranchProducts(n)},V=P(()=>m.selectaProducts);E(V,n=>{});const B=()=>{o.value=null,s.selectaSold=0,s.selectaRemainings=0,s.selectaBeginnings=0,s.selectaOut=0,_.value=!1},F=()=>{var n;if(o.value){const d={user_id:r==null?void 0:r.data.id,branch_id:((n=r==null?void 0:r.employee)==null?void 0:n.branch_id)||"",product_id:o.value.product.id,name:o.value.product.name,total:o.value.total_quantity,added_stocks:o.value.new_production,sold:s.selectaSold,out:s.selectaOut,beginnings:o.value.beginnings,remaining:s.selectaRemainings,price:o.value.price,sales:v.value};m.updateSelectaReport(d),B()}};return(n,d)=>(j(),Q(D,null,[t("div",Ut,[e(be,{style:{height:"calc(100vh - 150px)","max-width":"1500px"}},{default:a(()=>[t("div",Lt,[(j(!0),Q(D,null,de(V.value,(i,y)=>(j(),oe(Se,{key:y,once:"",transition:"scale",class:"example-item"},{default:a(()=>[e(M,{onClick:u=>c(i),class:"q-ma-sm my-card"},{default:a(()=>[Qt,t("div",{class:xe(["q-pa-sm",{"text-h6":i.product.name.length<=10,"text-caption text-weight-medium":i.product.name.length>10&&i.product.name.length<=20,"text-caption":i.product.name.length>20}])},q(L(i.product.name)),3),e(ve),e(I,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[t("div",Nt,[Dt,t("div",null,q(i.total_quantity),1)]),t("div",Tt,[zt,t("div",null,q(S(i.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t("div",null,[e(G,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=i=>_.value=i)},{default:a(()=>[e(M,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[e(I,null,{default:a(()=>[t("div",Mt,[t("div",Et,q(o.value?o.value.product.name:""),1),t("div",null,[e(A,{round:"",dense:"",flat:"",icon:"close",onClick:B})])])]),_:1}),e(I,null,{default:a(()=>[t("div",Yt,[t("div",null,[Ht,e(U,{modelValue:s.selectaRemainings,"onUpdate:modelValue":d[0]||(d[0]=i=>s.selectaRemainings=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),t("div",null,[Kt,e(U,{modelValue:s.selectaOut,"onUpdate:modelValue":d[1]||(d[1]=i=>s.selectaOut=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),t("div",Gt,[t("div",Jt,[Wt,e(U,{dense:"",outlined:"",readonly:"",label:o.value?o.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Xt]),_:1},8,["label"])]),t("div",Zt,[ea,e(U,{dense:"",outlined:"",readonly:"",label:o.value?S(o.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),t("div",ta,[aa,e(U,{dense:"",modelValue:s.selectaSold,"onUpdate:modelValue":d[2]||(d[2]=i=>s.selectaSold=i),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[la]),_:1},8,["modelValue"])]),t("div",sa,[oa,e(U,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=i=>x.value=i),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:a(()=>[t("div",na,[e(A,{color:"red-6",label:"Ok",onClick:F})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var ia=X(da,[["__scopeId","data-v-713cd99b"]]);function ke(l,m){return[!0,!1].includes(l)?l:m}var Ne=De({name:"QPagination",props:{...Te,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:l=>(typeof l=="string"?parseInt(l,10):l)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:l=>l===""||ze.includes(l)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(l,{emit:m}){const{proxy:r}=He(),{$q:o}=r,_=Me(l,o),c=P(()=>parseInt(l.min,10)),s=P(()=>parseInt(l.max,10)),S=P(()=>parseInt(l.maxPages,10)),L=P(()=>B.value+" / "+s.value),v=P(()=>ke(l.boundaryLinks,l.input)),x=P(()=>ke(l.boundaryNumbers,!l.input)),b=P(()=>ke(l.directionLinks,l.input)),R=P(()=>ke(l.ellipses,!l.input)),V=O(null),B=P({get:()=>l.modelValue,set:f=>{if(f=parseInt(f,10),l.disable||isNaN(f))return;const k=We(f,c.value,s.value);l.modelValue!==k&&m("update:modelValue",k)}});E(()=>`${c.value}|${s.value}`,()=>{B.value=l.modelValue});const F=P(()=>"q-pagination row no-wrap items-center"+(l.disable===!0?" disabled":"")),n=P(()=>l.gutter in Oe?`${Oe[l.gutter]}px`:l.gutter||null),d=P(()=>n.value!==null?`--q-pagination-gutter-parent:-${n.value};--q-pagination-gutter-child:${n.value}`:null),i=P(()=>{const f=[l.iconFirst||o.iconSet.pagination.first,l.iconPrev||o.iconSet.pagination.prev,l.iconNext||o.iconSet.pagination.next,l.iconLast||o.iconSet.pagination.last];return o.lang.rtl===!0?f.reverse():f}),y=P(()=>({"aria-disabled":l.disable===!0?"true":"false",role:"navigation"})),u=P(()=>Ee(l,"flat")),$=P(()=>({[u.value]:!0,round:l.round,rounded:l.rounded,padding:l.padding,color:l.color,textColor:l.textColor,size:l.size,ripple:l.ripple!==null?l.ripple:!0})),p=P(()=>{const f={[u.value]:!1};return l.activeDesign!==""&&(f[l.activeDesign]=!0),f}),H=P(()=>({...p.value,color:l.activeColor||l.color,textColor:l.activeTextColor||l.textColor})),z=P(()=>{let f=Math.max(S.value,1+(R.value?2:0)+(x.value?2:0));const k={pgFrom:c.value,pgTo:s.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(s.value).length)}em`}};return S.value&&f<s.value-c.value+1&&(f=1+Math.floor(f/2)*2,k.pgFrom=Math.max(c.value,Math.min(s.value-f+1,l.modelValue-Math.floor(f/2))),k.pgTo=Math.min(s.value,k.pgFrom+f-1),x.value&&(k.boundaryStart=!0,k.pgFrom++),R.value&&k.pgFrom>c.value+(x.value?1:0)&&(k.ellipsesStart=!0,k.pgFrom++),x.value&&(k.boundaryEnd=!0,k.pgTo--),R.value&&k.pgTo<s.value-(x.value?1:0)&&(k.ellipsesEnd=!0,k.pgTo--)),k});function C(f){B.value=f}function g(f){B.value=B.value+f}const h=P(()=>{function f(){B.value=V.value,V.value=null}return{"onUpdate:modelValue":k=>{V.value=k},onKeyup:k=>{Ye(k,13)===!0&&f()},onBlur:f}});function w(f,k,K){const ne={"aria-label":k,"aria-current":"false",...$.value,...f};return K===!0&&Object.assign(ne,{"aria-current":"true",...H.value}),k!==void 0&&(l.toFn!==void 0?ne.to=l.toFn(k):ne.onClick=()=>{C(k)}),fe(A,ne)}return Object.assign(r,{set:C,setByOffset:g}),()=>{const f=[],k=[];let K;if(v.value===!0&&(f.push(w({key:"bls",disable:l.disable||l.modelValue<=c.value,icon:i.value[0]},c.value)),k.unshift(w({key:"ble",disable:l.disable||l.modelValue>=s.value,icon:i.value[3]},s.value))),b.value===!0&&(f.push(w({key:"bdp",disable:l.disable||l.modelValue<=c.value,icon:i.value[1]},l.modelValue-1)),k.unshift(w({key:"bdn",disable:l.disable||l.modelValue>=s.value,icon:i.value[2]},l.modelValue+1))),l.input!==!0){K=[];const{pgFrom:ne,pgTo:Ce,marginalStyle:ge}=z.value;if(z.value.boundaryStart===!0){const le=c.value===l.modelValue;f.push(w({key:"bns",style:ge,disable:l.disable,label:c.value},c.value,le))}if(z.value.boundaryEnd===!0){const le=s.value===l.modelValue;k.unshift(w({key:"bne",style:ge,disable:l.disable,label:s.value},s.value,le))}z.value.ellipsesStart===!0&&f.push(w({key:"bes",style:ge,disable:l.disable,label:"\u2026",ripple:!1},ne-1)),z.value.ellipsesEnd===!0&&k.unshift(w({key:"bee",style:ge,disable:l.disable,label:"\u2026",ripple:!1},Ce+1));for(let le=ne;le<=Ce;le++)K.push(w({key:`bpg${le}`,style:ge,disable:l.disable,label:le},le,le===l.modelValue))}return fe("div",{class:F.value,...y.value},[fe("div",{class:"q-pagination__content row no-wrap items-center",style:d.value},[...f,l.input===!0?fe(U,{class:"inline",style:{width:`${L.value.length/1.5}em`},type:"number",dense:!0,value:V.value,disable:l.disable,dark:_.value,borderless:!0,inputClass:l.inputClass,inputStyle:l.inputStyle,placeholder:L.value,min:c.value,max:s.value,...h.value}):fe("div",{class:"q-pagination__middle row justify-center"},K),...k])])}}});const ra=l=>(J("data-v-d5004326"),l=l(),W(),l),ua=ra(()=>t("div",{class:"text-h6"},"Selecta Products",-1)),ca={__name:"SelectaViewStockReport",props:["report"],setup(l){const m=O(!1),r=()=>{m.value=!0};console.log("report",l.report);const _=c=>c?c.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"";return(c,s)=>(j(),Q(D,null,[e(A,{class:"gradient-icon",flat:"",rounded:"",onClick:r},{default:a(()=>[e(Pe,{name:"visibility",class:"gradient-icon"})]),_:1}),e(G,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=S=>m.value=S)},{default:a(()=>[e(M,{padding:"",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[e(I,{class:"bg-gradient text-white row justify-between"},{default:a(()=>[ua,t("div",null,[ce(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[me]])])]),_:1}),e(I,null,{default:a(()=>[t("div",null,"Remarks: "+q(l.report.remark?l.report.remark:"N/A"),1),t("div",null,"Status: "+q(l.report.status),1)]),_:1}),e(I,null,{default:a(()=>[e($e,{dense:"",separator:"",class:"box"},{default:a(()=>[e(se,null,{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Product Name")]),_:1})]),_:1}),e(T,{side:""},{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Added Stocks")]),_:1})]),_:1})]),_:1}),(j(!0),Q(D,null,de(l.report.selecta_added_stocks,(S,L)=>(j(),oe(se,{key:L},{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-caption"},{default:a(()=>[N(q(_(S.product.name)),1)]),_:2},1024)]),_:2},1024),e(T,{class:"text-caption",side:""},{default:a(()=>[N(q(S.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ma=X(ca,[["__scopeId","data-v-d5004326"]]);const pa=l=>(J("data-v-c56bfed2"),l=l(),W(),l),_a={class:"row justify-between"},va=pa(()=>t("div",{class:"text-h6"},"Selecta Stocks Reports",-1)),ga={__name:"SelectaViewAddedStocks",setup(l){var y;const m=Ae();P(()=>m.selectaProductReports).value.selecta_added_stocks;const _=ie().user,c=((y=_==null?void 0:_.employee)==null?void 0:y.branch_id)||"",s=O(!1),S=O([]),L=async()=>{try{c&&await R(c),s.value=!0}catch(u){console.error("Error opening dialog:",u)}},v=O({page:1,rowsPerPage:10,sortBy:"id",descending:!1}),x=O(1),b=O(!0),R=async()=>{try{const{page:u,rowsPerPage:$,sortBy:p,descending:H}=v.value,z=await m.fetchSelectaProductReports(c,u,$,p,H);S.value=z.data,x.value=z.last_page}catch(u){console.error("Error fetching selecta product reports:",u)}},V=u=>Qe.formatDate(u,"MMMM DD, YYYY"),B=u=>{const $=new Date(u),p={hour:"2-digit",minute:"2-digit",hour12:!0};return $.toLocaleTimeString(void 0,p)},F=u=>{const $=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"",p=u.firstname?$(u.firstname):"No Firstname",H=u.middlename?$(u.middlename).charAt(0)+".":"",z=u.lastname?$(u.lastname):"No Lastname";return`${p} ${H} ${z}`.trim()},n=[{name:"date",align:"center",label:"Date",field:u=>V(u.created_at)},{name:"time",align:"center",label:"Time",field:u=>B(u.created_at)},{name:"employee",align:"center",label:"Employee",field:"employee"},{name:"status",align:"center",label:"Status",field:"status"},{name:"action",align:"center",label:"Actions",field:"action"}],d=u=>{switch(u){case"declined":return"red";case"confirmed":return"green";case"pending":return"orange";default:return"grey"}},i=u=>u?u.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"";return E(()=>v.value.page,R),E(()=>v.value.rowsPerPage,R),(u,$)=>(j(),Q(D,null,[e(A,{class:"bg-gradient text-white",outlined:"",label:"Stocks Reports",onClick:L}),e(G,{modelValue:s.value,"onUpdate:modelValue":[$[1]||($[1]=p=>s.value=p),u.onDialogChange],maximized:b.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:a(()=>[e(M,null,{default:a(()=>[e(I,{class:"bg-gradient text-white"},{default:a(()=>[t("div",_a,[va,t("div",null,[ce(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[me]])])])]),_:1}),e(I,null,{default:a(()=>[e(Le,{rows:S.value,columns:n,"row-key":"id",flat:"",bordered:"",dense:"",pagination:v.value.page,onRequest:R},{"body-cell-employee":a(p=>[e(_e,{props:p},{default:a(()=>[N(q(F(p.row.employee)),1)]),_:2},1032,["props"])]),"body-cell-status":a(p=>[e(_e,{props:p},{default:a(()=>[e(Ue,{color:d(p.row.status)},{default:a(()=>[N(q(i(p.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":a(p=>[e(_e,{props:p},{default:a(()=>[e(ma,{report:p.row},null,8,["report"])]),_:2},1032,["props"])]),default:a(()=>[t("template",null,[e(Ne,{modelValue:v.value.page,"onUpdate:modelValue":[$[0]||($[0]=p=>v.value.page=p),R],max:x.value,"max-pages":x.value},null,8,["modelValue","max","max-pages"])])]),_:1},8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized","onUpdate:modelValue"])],64))}};var fa=X(ga,[["__scopeId","data-v-c56bfed2"]]);const ha={class:"q-gutter-y-md"},ya={class:"row q-gutter-md"},xa=t("div",null,null,-1),ba={class:"row q-gutter-md"},wa={__name:"SelectaPage",setup(l){return(m,r)=>(j(),Q(D,null,[t("div",ha,[t("div",ya,[xa,t("div",ba,[t("div",null,[e(Ft)]),t("div",null,[e(fa)])])])]),t("div",null,[e(ia)])],64))}};const te=l=>(J("data-v-19bb52bd"),l=l(),W(),l),ka={class:"q-mt-md"},Sa={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},$a=te(()=>t("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Pa={class:"q-pa-xm row q-gutter-x-sm justify-between"},Va=te(()=>t("div",null,"Quantity:",-1)),qa={class:"q-pa-xm row q-gutter-x-sm justify-between"},Ca=te(()=>t("div",null,"Price:",-1)),Oa={class:"row justify-between"},Ia={class:"text-h6"},Ra={class:"q-mb-lg row justify-between"},ja=te(()=>t("div",{class:"text-weight-light"},"Remainnings",-1)),Ba=te(()=>t("div",{class:"text-weight-light"},"Softdrinks Out",-1)),Aa={class:"row q-gutter-xm justify-between"},Fa={class:"q-gutter-sm"},Ua=te(()=>t("div",{class:"text-weight-light"},"Total Softdrinks",-1)),La=te(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Qa={class:"q-gutter-sm"},Na=te(()=>t("div",{class:"text-weight-light"},"Price",-1)),Da={class:"q-gutter-sm"},Ta=te(()=>t("div",{class:"text-weight-light"},"Sold Pcs",-1)),za=te(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Ma={class:"q-gutter-sm"},Ea=te(()=>t("div",{class:"text-weight-light"},"Sales Amount",-1)),Ya={align:"right"},Ha={__name:"SoftdrinksCard",setup(l){const m=ie(),r=m.user,o=O(null),_=O(!1),c=n=>{o.value=n,_.value=!0},s=ue({softdrinksSold:0,remainnings:0,beginnings:0,softdrinksOut:0}),S=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(n),L=n=>n?n.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",v=P(()=>o.value?s.softdrinksSold*o.value.price:0),x=P(()=>S(v.value)),b=()=>{if(o.value){const n=parseInt(o.value.total_quantity)||0,d=parseInt(s.remainnings)||0,i=parseInt(s.softdrinksOut)||0,y=d+i;s.softdrinksSold=n-y}};E(()=>s.remainnings,n=>{b()}),E(()=>s.softdrinksOut,n=>{b()}),ye(async()=>{var i;const n=m.user,d=((i=n==null?void 0:n.employee)==null?void 0:i.branch_id)||"";d&&await R(d)});const R=async n=>{await m.fetchBranchProducts(n)},V=P(()=>m.softdrinksProducts);E(V,n=>{});const B=()=>{o.value=null,s.softdrinksSold=0,s.remainnings=0,s.beginnings=0,s.softdrinksOut=0,_.value=!1},F=()=>{var n;if(o.value){const d={user_id:r==null?void 0:r.data.id,branch_id:((n=r==null?void 0:r.employee)==null?void 0:n.branch_id)||"",product_id:o.value.product.id,name:o.value.product.name,total:o.value.total_quantity,added_stocks:o.value.new_production,sold:s.softdrinksSold,out:s.softdrinksOut,beginnings:o.value.beginnings,remaining:s.remainnings,price:o.value.price,sales:v.value};m.updateSoftdrinksReport(d),B()}};return(n,d)=>(j(),Q(D,null,[t("div",ka,[e(be,{style:{height:"450px","max-width":"1500px"}},{default:a(()=>[t("div",Sa,[(j(!0),Q(D,null,de(V.value,(i,y)=>(j(),oe(Se,{key:y,once:"",transition:"scale",class:"example-item"},{default:a(()=>[e(M,{onClick:u=>c(i),class:"q-ma-sm my-card"},{default:a(()=>[$a,t("div",{class:xe(["q-pa-sm",{"text-h6":i.product.name.length<=10,"text-caption text-weight-medium":i.product.name.length>10&&i.product.name.length<=20,"text-caption text-weight-medium":i.product.name.length>20}])},q(L(i.product.name)),3),e(ve),e(I,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[t("div",Pa,[Va,t("div",null,q(i.total_quantity),1)]),t("div",qa,[Ca,t("div",null,q(S(i.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t("div",null,[e(G,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=i=>_.value=i)},{default:a(()=>[e(M,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[e(I,null,{default:a(()=>[t("div",Oa,[t("div",Ia,q(o.value?o.value.product.name:""),1),t("div",null,[e(A,{round:"",dense:"",flat:"",icon:"close",onClick:B})])])]),_:1}),e(I,null,{default:a(()=>[t("div",Ra,[t("div",null,[ja,e(U,{modelValue:s.remainnings,"onUpdate:modelValue":d[0]||(d[0]=i=>s.remainnings=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),t("div",null,[Ba,e(U,{modelValue:s.softdrinksOut,"onUpdate:modelValue":d[1]||(d[1]=i=>s.softdrinksOut=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),t("div",Aa,[t("div",Fa,[Ua,e(U,{dense:"",outlined:"",readonly:"",label:o.value?o.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[La]),_:1},8,["label"])]),t("div",Qa,[Na,e(U,{dense:"",outlined:"",readonly:"",label:o.value?S(o.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),t("div",Da,[Ta,e(U,{dense:"",modelValue:s.softdrinksSold,"onUpdate:modelValue":d[2]||(d[2]=i=>s.softdrinksSold=i),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[za]),_:1},8,["modelValue"])]),t("div",Ma,[Ea,e(U,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=i=>x.value=i),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:a(()=>[t("div",Ya,[e(A,{color:"red-6",label:"Ok",onClick:F})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var Ka=X(Ha,[["__scopeId","data-v-19bb52bd"]]);const qe=l=>(J("data-v-ce001eb4"),l=l(),W(),l),Ga={class:"row justify-between"},Ja=qe(()=>t("div",{class:"text-h6"},"Add Softdrinks Stocks",-1)),Wa={class:"q-mt-xl q-gutter-y-sm"},Xa={class:"row justify-between"},Za=qe(()=>t("div",{align:"center"},"Softdrinks Product",-1)),el=qe(()=>t("div",{align:"center"},"Added Stocks",-1)),tl={align:"right"},al={__name:"SoftdrinksAddStocks",setup(l){var z;const r=ie().user,o=((z=r==null?void 0:r.employee)==null?void 0:z.branch_id)||"",_=Fe();P(()=>_.softdrinksProducts);const c=O(!1),s=()=>{c.value=!0},S=O("Softdrinks"),L=O(!1),v=O([]),x=O([]),b=ue({name:"",added_stocks:""}),R=O(x.value);console.log("filterSoftdrinksProductsOptions",R.value),(async()=>{try{const C=(o==null?void 0:o.branches_id)||o,g=S.value;if(!C||!g){console.error("Invalid branchesId or category value.");return}const h=await _.fetchBranchSoftdrinksProduct(C,g);L.value=!1,x.value=_.softdrinksProducts.map(w=>({label:w.name,value:w.id,price:w.price})),console.log("softdrinksProductsOptions.value",x.value)}catch(C){console.error("Error fetching branch softdrinks:",C)}})();const B=()=>{b.name="",b.added_stocks=""},F=(C,g)=>{g(()=>{if(C==="")R.value=x.value;else{const h=C.toLowerCase();R.value=x.value.filter(w=>w.label.toLowerCase().indexOf(h)>-1)}})},n=()=>{const C=v.value;function g(f,k){return f.find(K=>K.product_id==k)}const h=b.name.value;if(g(C,h))re.create({type:"negative",icon:"warning",message:"Product already exists",timeout:2e3});else{const f=x.value.find(k=>k.value===h);v.value=[...C,{product_id:b.name.value,label:b.name.label,added_stocks:b.added_stocks,price:f.price}],B()}},d=C=>{v.value.splice(C,1)},i=P(()=>v.value.length>0&&v.value.every(C=>C.added_stocks>0)),y=C=>C?C.split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()).join(" "):"",u=()=>{$(),c.value=!1},$=()=>{p.product_id="",p.product_name="",p.product_category="",p.price="",p.added_stocks=""},p=ue({product_id:"",product_name:"",product_category:"",price:0,added_stocks:0}),H=async()=>{var C,g;try{const h={branches_id:((C=r==null?void 0:r.employee)==null?void 0:C.branch_id)||"",employee_id:((g=r==null?void 0:r.employee)==null?void 0:g.employee_id)||"",status:"pending",products:v.value};await _.createSoftdrinksStocks(h),console.log("Data sent to backend:",h),$(),v.value=[],c.value=!1,re.create({type:"positive",message:"Softdrinks stocks successfully saved!",timeout:2e3})}catch(h){console.error("Error saving selecta stocks:",h),re.create({type:"negative",message:"An error occurred while saving selecta stocks.",timeout:2e3})}};return(C,g)=>(j(),Q(D,null,[e(A,{class:"bg-gradient text-white",outlined:"",label:"Add Softdrinks Stocks",onClick:s}),e(G,{modelValue:c.value,"onUpdate:modelValue":g[3]||(g[3]=h=>c.value=h)},{default:a(()=>[e(M,{style:{width:"450px"}},{default:a(()=>[e(I,{class:"bg-gradient text-white"},{default:a(()=>[t("div",Ga,[Ja,t("div",null,[ce(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[me]])])])]),_:1}),e(I,{class:"q-mt-md q-gutter-y-sm"},{default:a(()=>[t("div",null,[e($e,{dense:"",separator:"",class:"box"},{default:a(()=>[e(se,null,{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Product Name")]),_:1})]),_:1}),e(T,null,{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Added Stocks")]),_:1})]),_:1}),e(T,{side:""})]),_:1}),(j(!0),Q(D,null,de(v.value,(h,w)=>(j(),oe(se,{key:w},{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-caption"},{default:a(()=>[N(q(y(h.label)),1)]),_:2},1024)]),_:2},1024),e(T,null,{default:a(()=>[e(Y,{class:"text-caption q-ml-md"},{default:a(()=>[N(q(h.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024),e(T,{side:""},{default:a(()=>[e(A,{onClick:f=>d(w),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t("div",Wa,[t("div",Xa,[t("div",null,[Za,e(Be,{modelValue:b.name,"onUpdate:modelValue":g[0]||(g[0]=h=>b.name=h),debounce:"3000",outlined:"","chips-color":"primary",options:R.value,dense:"",label:"Softdrinks",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:F,style:{width:"215px","max-width":"600px","min-width":"80px"}},{"no-option":a(()=>[e(se,null,{default:a(()=>[e(T,{class:"text-grey"},{default:a(()=>[N(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),t("div",null,[el,e(U,{modelValue:b.added_stocks,"onUpdate:modelValue":g[1]||(g[1]=h=>b.added_stocks=h),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:"pcs",style:{width:"115px"}},null,8,["modelValue"])])])]),t("form",{onKeyup:g[2]||(g[2]=Ie(Re((...h)=>C.addBranchProduct&&C.addBranchProduct(...h),["prevent"]),["enter"]))},[t("div",tl,[e(A,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:n})])],32)]),_:1}),e(je,{class:"row q-ma-md",align:"right"},{default:a(()=>[e(A,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:u}),e(A,{class:"glossy",color:"teal",label:"Create",onClick:H,disable:!i.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ll=X(al,[["__scopeId","data-v-ce001eb4"]]);const sl=l=>(J("data-v-10101cf4"),l=l(),W(),l),ol=sl(()=>t("div",{class:"text-h6"},"Softdrinks Products",-1)),nl={__name:"SoftdrinksViewStocksReport",props:["report"],setup(l){const m=O(!1),r=()=>{m.value=!0};console.log("report",l.report);const _=c=>c?c.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"";return(c,s)=>(j(),Q(D,null,[e(A,{class:"gradient-icon",flat:"",rounded:"",onClick:r},{default:a(()=>[e(Pe,{name:"visibility",class:"gradient-icon"})]),_:1}),e(G,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=S=>m.value=S)},{default:a(()=>[e(M,{padding:"",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[e(I,{class:"bg-gradient text-white row justify-between"},{default:a(()=>[ol,t("div",null,[ce(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[me]])])]),_:1}),e(I,null,{default:a(()=>[t("div",null,"Remarks: "+q(l.report.remark?l.report.remark:"N/A"),1),t("div",null,"Status: "+q(l.report.status),1)]),_:1}),e(I,null,{default:a(()=>[e($e,{dense:"",separator:"",class:"box"},{default:a(()=>[e(se,null,{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Product Name")]),_:1})]),_:1}),e(T,{side:""},{default:a(()=>[e(Y,{class:"text-overline"},{default:a(()=>[N("Added Stocks")]),_:1})]),_:1})]),_:1}),(j(!0),Q(D,null,de(l.report.softdrinks_added_stocks,(S,L)=>(j(),oe(se,{key:L},{default:a(()=>[e(T,null,{default:a(()=>[e(Y,{class:"text-caption"},{default:a(()=>[N(q(_(S.product.name)),1)]),_:2},1024)]),_:2},1024),e(T,{class:"text-caption",side:""},{default:a(()=>[N(q(S.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var dl=X(nl,[["__scopeId","data-v-10101cf4"]]);const il=l=>(J("data-v-b49c97ea"),l=l(),W(),l),rl={class:"row justify-between"},ul=il(()=>t("div",{class:"text-h6"},"Softdrinks Stocks Reports",-1)),cl={__name:"SoftdrinksViewAddedStocks",setup(l){var y;const m=Fe();P(()=>m.softdrinksProductsReport).value.softdrinks_added_stocks;const _=ie().user,c=((y=_==null?void 0:_.employee)==null?void 0:y.branch_id)||"",s=O(!1),S=O([]),L=async()=>{try{c&&await R(c),s.value=!0}catch(u){console.error("Error opening dialog:",u)}},v=O({page:1,rowsPerPage:10,sortBy:"id",descending:!1}),x=O(1),b=O(!0),R=async()=>{try{const{page:u,rowsPerPage:$,sortBy:p,descending:H}=v.value,z=await m.fetchSoftdrinksProductReports(c,u,$,p,H);S.value=z.data,x.value=z.last_page}catch(u){console.error("Error fetching selecta product reports:",u)}},V=u=>Qe.formatDate(u,"MMM DD, YYYY"),B=u=>{const $=new Date(u),p={hour:"2-digit",minute:"2-digit",hour12:!0};return $.toLocaleDateString(void 0,p)},F=u=>{const $=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"",p=u.firstname?$(u.firstname):"No Firstname",H=u.middlename?$(u.middlename).charAt(0)+".":"",z=u.lastname?$(u.lastname):"No Lastname";return`${p} ${H} ${z}`.trim()},n=[{name:"date",align:"center",label:"Date",field:u=>V(u.created_at)},{name:"time",align:"center",label:"Time",field:u=>B(u.created_at)},{name:"employee",align:"center",label:"Employee",field:"employee"},{name:"status",align:"center",label:"Status",field:"status"},{name:"action",align:"center",label:"Actions",field:"action"}],d=u=>{switch(u){case"declined":return"red";case"confirmed":return"green";case"pending":return"orange";default:return"grey"}},i=u=>u?u.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"";return E(()=>v.value.page,R),E(()=>v.value.rowsPerPage,R),(u,$)=>(j(),Q(D,null,[e(A,{class:"bg-gradient text-white",outlined:"",label:"Stocks Reports",onClick:L}),e(G,{modelValue:s.value,"onUpdate:modelValue":$[1]||($[1]=p=>s.value=p),maximized:b.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:a(()=>[e(M,null,{default:a(()=>[e(I,{class:"bg-gradient text-white"},{default:a(()=>[t("div",rl,[ul,t("div",null,[ce(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[me]])])])]),_:1}),e(I,null,{default:a(()=>[e(Le,{rows:S.value,columns:n,"row-key":"id",flat:"",bordered:"",dense:"",pagination:v.value.page,onRequest:R},{"body-cell-employee":a(p=>[e(_e,{props:p},{default:a(()=>[N(q(F(p.row.employee)),1)]),_:2},1032,["props"])]),"body-cell-status":a(p=>[e(_e,{props:p},{default:a(()=>[e(Ue,{color:d(p.row.status)},{default:a(()=>[N(q(i(p.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":a(p=>[e(_e,{props:p},{default:a(()=>[e(dl,{report:p.row},null,8,["report"])]),_:2},1032,["props"])]),default:a(()=>[t("template",null,[e(Ne,{modelValue:v.value.page,"onUpdate:modelValue":[$[0]||($[0]=p=>v.value.page=p),R],max:x.value,"max-pages":x.value},null,8,["modelValue","max","max-pages"])])]),_:1},8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])],64))}};var ml=X(cl,[["__scopeId","data-v-b49c97ea"]]);const pl={class:"q-gutter-y-md"},_l={class:"row q-gutter-md"},vl={__name:"SoftdrinksPage",setup(l){return(m,r)=>(j(),Q(D,null,[t("div",pl,[t("div",_l,[t("div",null,[e(ll)]),t("div",null,[e(ml)])])]),t("div",null,[e(Ka)])],64))}};const we=l=>(J("data-v-7c76d10f"),l=l(),W(),l),gl={class:"q-mt-md"},fl={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},hl=we(()=>t("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),yl={class:"q-pa-xm row q-gutter-x-sm justify-between"},xl=we(()=>t("div",null,"Layers",-1)),bl={class:"q-pa-xm row q-gutter-x-sm justify-between"},wl=we(()=>t("div",null,"Price:",-1)),kl={class:"row justify-between"},Sl={class:"text-h6"},$l={class:"row q-gutter-x-sm"},Pl=we(()=>t("div",{class:"text-subtitle2"},"Layer /s :",-1)),Vl={class:"text-weight-light"},ql={class:"row q-gutter-x-sm"},Cl=we(()=>t("div",{class:"text-subtitle2"},"Price :",-1)),Ol={class:"text-weight-light"},Il={__name:"CakeCard",setup(l){const m=ie(),r=Xe(),o=P(()=>r.onDisplayProducts),_=localStorage.getItem("branch_id"),c=O(null),s=O(!1);ye(async()=>{_&&await S()});const S=async()=>{const V=await r.fetchOnDisplayProducts(_);o.value=V,console.log("sdfasdfas",o.value)},L=V=>V?V.split(" ").map(B=>B.charAt(0).toUpperCase()+B.slice(1).toLowerCase()).join(" "):"",v=V=>{c.value=V,s.value=!0},x=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(V).replace("\u20B1","\u20B1 "),b=async()=>{if(c.value){const V={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"sold"};console.log(V),m.updateCakeReport(V),re.create({type:"positive",message:`${V.name} is sold`})}s.value=!1},R=async()=>{if(c.value){const V={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"pull out"};m.updateCakeReport(V),re.create({type:"warning",message:`${V.name} is pull out`})}s.value=!1};return(V,B)=>(j(),Q(D,null,[t("div",gl,[e(be,{style:{height:"450px","max-width":"1500px"}},{default:a(()=>[t("div",fl,[(j(!0),Q(D,null,de(o.value,(F,n)=>(j(),oe(Se,{key:n,once:"",transition:"scale",class:"example-item"},{default:a(()=>[e(M,{onClick:d=>v(F),class:"q-ma-sm my-card"},{default:a(()=>[hl,t("div",{class:xe(["q-pa-sm",{"text-h6":F.name.length<=10,"text-caption text-weight-medium":F.name.length>10&&F.name.length<=20,"text-caption text-weight-medium":F.name.length>20}])},q(L(F.name)),3),e(ve),e(I,null,{default:a(()=>[t("div",yl,[xl,t("div",null,q(F.layers),1)]),t("div",bl,[wl,t("div",null,q(x(F.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e(G,{modelValue:s.value,"onUpdate:modelValue":B[0]||(B[0]=F=>s.value=F)},{default:a(()=>[e(M,null,{default:a(()=>[e(I,null,{default:a(()=>[t("div",kl,[t("div",Sl,q(L(c.value.name)),1),t("div",null,[ce(e(A,{round:"",dense:"",flat:"",icon:"close"},null,512),[[me]])])])]),_:1}),e(ve),e(I,{class:"row justify-between"},{default:a(()=>[t("div",$l,[Pl,t("div",Vl,q(c.value.layers),1)]),t("div",ql,[Cl,t("div",Ol,q(x(c.value.price)),1)])]),_:1}),e(I,{class:"q-gutter-x-md"},{default:a(()=>[e(A,{label:"Sold",color:"primary",unelevated:"",class:"rounded-borders",icon:"check_circle",onClick:b}),e(A,{label:"Pull Out",color:"negative",outline:"",class:"rounded-borders",icon:"close",onClick:R})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Rl=X(Il,[["__scopeId","data-v-7c76d10f"]]);const jl={__name:"CakePage",setup(l){return(m,r)=>(j(),Q("div",null,[e(Rl)]))}};const ae=l=>(J("data-v-2b1ee91c"),l=l(),W(),l),Bl={class:"q-mt-md"},Al={class:"row q-pa-lg q-gutter-y-lg"},Fl=ae(()=>t("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Ul={class:"q-pa-xm row q-gutter-x-sm justify-between"},Ll=ae(()=>t("div",null,"Quantity:",-1)),Ql={class:"q-pa-xm row q-gutter-x-sm justify-between"},Nl=ae(()=>t("div",null,"Price:",-1)),Dl={class:"text-h6"},Tl={class:"q-mb-lg row justify-between"},zl=ae(()=>t("div",{class:"text-weight-light"},"Remainnings",-1)),Ml=ae(()=>t("div",{class:"text-weight-light"},"Product Out",-1)),El={class:"row q-gutter-xm justify-between"},Yl={class:"q-gutter-sm"},Hl=ae(()=>t("div",{class:"text-weight-light"},"Total Product",-1)),Kl=ae(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Gl={class:"q-gutter-sm"},Jl=ae(()=>t("div",{class:"text-weight-light"},"Price",-1)),Wl={class:"q-gutter-sm"},Xl=ae(()=>t("div",{class:"text-weight-light"},"Sold Pcs",-1)),Zl=ae(()=>t("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),es={class:"q-gutter-sm"},ts=ae(()=>t("div",{class:"text-weight-light"},"Sales Amount",-1)),as={align:"right"},ls={__name:"OtherCard",setup(l){const m=ie(),r=m.user;console.log("userdata for branch",r);const o=O(null),_=O(!1),c=n=>{o.value=n,_.value=!0},s=ue({otherProductSold:0,remainnings:0,beginnings:0,otherProductOut:0}),S=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(n).replace("\u20B1","\u20B1 "),L=n=>n?n.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",v=()=>{if(o.value){const n=parseInt(o.value.total_quantity)||0,d=parseInt(s.remainnings)||0,i=parseInt(s.otherProductOut)||0,y=d+i;s.otherProductSold=n-y}};E(()=>s.remainnings,n=>{v()}),E(()=>s.otherProductOut,n=>{v()});const x=P(()=>m.othersProducts);console.log("othersProducts",x.value);const b=P(()=>o.value?s.otherProductSold*o.value.price:0),R=P(()=>S(b.value));ye(async()=>{var i;const n=m.user,d=((i=n==null?void 0:n.employee)==null?void 0:i.branch_id)||"";d&&await V(d)});const V=async n=>{await m.fetchBranchProducts(n)},B=()=>{o.value=null,s.otherProductOut=0,s.beginnings=0,s.otherProductSold=0,s.remainnings=0,_.value=!1},F=async()=>{var n;if(o.value){const d={user_id:r==null?void 0:r.data.id,branch_id:((n=r==null?void 0:r.employee)==null?void 0:n.branch_id)||"",product_id:o.value.product.id,name:o.value.product.name,total:o.value.total_quantity,sold:s.otherProductSold,out:s.otherProductOut,added_stocks:o.value.new_production,beginnings:o.value.beginnings,remaining:s.remainnings,price:o.value.price,sales:b.value};console.log("report",d),m.updateOtherProductsReport(d),B()}};return(n,d)=>{const i=Ke("q-itersection");return j(),Q(D,null,[t("div",Bl,[e(be,{style:{height:"700px","max-width":"1500px"}},{default:a(()=>[t("div",Al,[(j(!0),Q(D,null,de(x.value,(y,u)=>(j(),oe(i,{key:u,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:a(()=>[e(M,{onClick:$=>c(y),class:"q-ma-sm my-card"},{default:a(()=>[Fl,t("div",{class:xe(["q-pa-sm",{"text-h6":y.product.name.length<=10,"text-caption text-weight-medium":y.product.name.length>10&&y.product.name.length<=20,"text-caption text-weight-medium":y.product.name.length>20}])},q(L(y.product.name)),3),e(ve),e(I,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[t("div",Ul,[Ll,t("div",null,q(y.total_quantity),1)]),t("div",Ql,[Nl,t("div",null,q(S(y.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t("div",null,[e(G,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=y=>_.value=y)},{default:a(()=>[e(M,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[e(I,{class:"row justify-between"},{default:a(()=>[t("div",Dl,q(o.value?o.value.product.name:""),1),t("div",null,[e(A,{round:"",dense:"",flat:"",icon:"close",onClick:B})])]),_:1}),e(I,null,{default:a(()=>[t("div",Tl,[t("div",null,[zl,e(U,{modelValue:s.remainnings,"onUpdate:modelValue":d[0]||(d[0]=y=>s.remainnings=y),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),t("div",null,[Ml,e(U,{modelValue:s.otherProductOut,"onUpdate:modelValue":d[1]||(d[1]=y=>s.otherProductOut=y),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),t("div",El,[t("div",Yl,[Hl,e(U,{dense:"",outlined:"",readonly:"",label:o.value?o.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Kl]),_:1},8,["label"])]),t("div",Gl,[Jl,e(U,{dense:"",outlined:"",readonly:"",label:o.value?S(o.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),t("div",Wl,[Xl,e(U,{dense:"",modelValue:s.otherProductSold,"onUpdate:modelValue":d[2]||(d[2]=y=>s.otherProductSold=y),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Zl]),_:1},8,["modelValue"])]),t("div",es,[ts,e(U,{dense:"",outlined:"",modelValue:R.value,"onUpdate:modelValue":d[3]||(d[3]=y=>R.value=y),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),e(I,null,{default:a(()=>[t("div",as,[e(A,{color:"red-6",label:"Ok",onClick:F})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}}};var ss=X(ls,[["__scopeId","data-v-2b1ee91c"]]);const os={__name:"OtherPage",setup(l){return(m,r)=>(j(),Q("div",null,[e(ss)]))}},ns={class:"text-h6 text-white"},js={__name:"ProductsPage",setup(l){const m=O("bread");return(r,o)=>(j(),oe(M,{flat:""},{default:a(()=>[e(I,{style:{"background-color":"#ef4444"}},{default:a(()=>[t("div",ns,[e(Pe,{name:"fa-solid fa-store"}),N(" Store Branches ")])]),_:1}),e(I,null,{default:a(()=>[e(Ge,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=_=>m.value=_),dense:"",class:"bg-white","active-color":"red-6","indicator-color":"red-6",align:"justify"},{default:a(()=>[e(he,{name:"bread",label:"Bread"}),e(he,{name:"selecta",label:"Selecta"}),e(he,{name:"softdrinks",label:"Softdrinks"}),e(he,{name:"cake",label:"Cake /s"}),e(he,{name:"others",label:"Other /s"})]),_:1},8,["modelValue"])]),_:1}),e(I,null,{default:a(()=>[e(Je,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=_=>m.value=_),animated:""},{default:a(()=>[e(pe,{name:"bread"},{default:a(()=>[t("div",null,[e(Pt)])]),_:1}),e(pe,{name:"selecta"},{default:a(()=>[t("div",null,[e(wa)])]),_:1}),e(pe,{name:"softdrinks"},{default:a(()=>[t("div",null,[e(vl)])]),_:1}),e(pe,{name:"cake"},{default:a(()=>[e(jl)]),_:1}),e(pe,{name:"others"},{default:a(()=>[e(os)]),_:1}),e(pe)]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{js as default};
