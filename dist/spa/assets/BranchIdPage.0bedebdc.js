import{bd as he,c as I,r as P,t as He,o as x,a2 as S,f as e,M as V,w as t,Q as B,I as $,ad as ee,J as a,K as E,L as ne,e as U,$ as C,a3 as O,a4 as pe,_ as y,bc as Ke,aI as Se,a1 as K,a0 as Ye,N as ve,O as ae,R as le,z as we,u as Te,ba as Ae,aJ as mt,be as j,d as pt,P as je,aH as _t,H as ft}from"./index.ddb1e547.js";import{Q as Ve}from"./QSpace.6512c958.js";import{Q as Ie,a as de,b as Le,c as ce}from"./QTabPanels.05fa5fd9.js";import{Q as gt}from"./QPage.b9cfc49e.js";import{Q as qe,a as ge,b as W}from"./QList.45d4f32c.js";import{b as re}from"./use-virtual-scroll.0a0ba716.js";import{C as te}from"./ClosePopup.c72a2009.js";import{u as Xe}from"./branch-product.aa7e6d13.js";import{u as lt}from"./product.3718a519.js";import{Q as Ge}from"./QSpinnerDots.9dd7e80e.js";import{Q,a as ie}from"./QTable.d394eae1.js";import{Q as se}from"./QBadge.533fee77.js";import{Q as oe}from"./QTooltip.67c69ba3.js";import{Q as Fe}from"./QPopupEdit.128d90b1.js";import{_ as Y}from"./plugin-vue_export-helper.21dcd24c.js";import{api as Pe}from"./axios.40f70768.js";import{u as Ze}from"./branch-rawMaterials.49d07555.js";import{u as vt}from"./raw-material.95c3b12c.js";import{u as xe}from"./use-dialog-plugin-component.dc716b20.js";import{Q as ht}from"./QMenu.b8fed9cf.js";import{q as ue}from"./date.1d9e654d.js";import{u as Re}from"./use-quasar.b7f26bc9.js";import{p as Qe,v as nt}from"./vfs_fontes.3eb8cb31.js";import{Q as De}from"./QScrollArea.dfaf04f5.js";import{u as Ne,a as Me,b as Je}from"./other-product.a528ac7b.js";import{Q as We}from"./QSelect.8425e4e2.js";import{u as yt}from"./recipe.d166939d.js";import{u as Ee}from"./branch-recipe.b937c33f.js";import"./QResizeObserver.950bd569.js";import"./use-panel.57e1538e.js";import"./touch.9135741d.js";import"./selection.4feaa4ff.js";import"./QVirtualScroll.c353dabb.js";import"./QScrollObserver.3cb9f134.js";import"./TouchPan.149c9d95.js";import"./QChip.879d63a3.js";const bt=a("div",{class:"text-h6"},"Create Branch Product",-1),wt={class:"q-mb-lg"},xt={key:0,class:"custom-list z-top"},kt=a("div",null,"Product Name",-1),$t=a("div",null,"Category",-1),Ct={class:"row justify-between"},Rt=a("div",null,"Beginnings",-1),Pt=a("div",null,"Total Quantity",-1),St=a("div",null,"Price",-1),Vt={__name:"ProductCreate",setup(o){const v=he(),w=lt(),k=I(()=>w.products),_=Xe(),d=P(""),b=async()=>{w.searchProducts(d.value)},s=I(()=>i.price!==0&&i.beginnings!==0&&i.total_quantity!==0),c=P(!1),m=()=>{c.value=!0},n=()=>{f(),c.value=!1},r=g=>g?g.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",l=g=>{i.product_id=g.id,i.product_name=g.name,i.category=g.category,d.value=""},i=He({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:v.params.branch_id}),f=()=>{i.product_id="",i.product_name="",i.category="",i.price=0,i.beginnings=0,i.total_quantity=0},u=async()=>{try{const{product_name:g,...p}=i;await _.createBranchProducts(p),console.log("data to send",p),f(),c.value=!1}catch(g){console.log(g)}};return(g,p)=>(x(),S(O,null,[e(V,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:m}),e(K,{modelValue:c.value,"onUpdate:modelValue":p[6]||(p[6]=R=>c.value=R),persistent:""},{default:t(()=>[e(B,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e($,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[bt,e(Ve),ee(e(V,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e($,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",wt,[e(E,{modelValue:d.value,"onUpdate:modelValue":[p[0]||(p[0]=R=>d.value=R),b],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[d.value?(x(),S("div",xt,[e(B,null,{default:t(()=>[e(qe,{separator:""},{default:t(()=>{var R;return[(R=k.value)!=null&&R.length?(x(!0),S(O,{key:1},pe(k.value,D=>(x(),U(ge,{onClick:F=>l(D),key:D.id,clickable:""},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[C(y(r(D.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),U(ge,{key:0},{default:t(()=>[C(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ke("",!0)]),_:1},8,["modelValue"])]),a("div",null,[kt,e(E,{modelValue:i.product_name,"onUpdate:modelValue":p[1]||(p[1]=R=>i.product_name=R),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[$t,e(E,{modelValue:i.category,"onUpdate:modelValue":p[2]||(p[2]=R=>i.category=R),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",Ct,[a("div",null,[Rt,e(E,{modelValue:i.beginnings,"onUpdate:modelValue":p[3]||(p[3]=R=>i.beginnings=R),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[Pt,e(E,{modelValue:i.total_quantity,"onUpdate:modelValue":p[4]||(p[4]=R=>i.total_quantity=R),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[St,e(E,{modelValue:i.price,"onUpdate:modelValue":p[5]||(p[5]=R=>i.price=R),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Se,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(V,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(V,{class:"glossy",color:"teal",label:"Create",onClick:u,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ot=o=>(ae("data-v-196482e9"),o=o(),le(),o),Dt=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),qt=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Nt={__name:"ProductDelete",props:["delete"],setup(o){const v=Xe(),w=o;console.log("delte",w.delete.row.id);const k=async()=>{try{await v.deleteBranchProducts(w.delete.row.id),ve.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),_.value=!1}catch(b){console.error(b.message)}},_=P(!1),d=()=>{console.log("ID",w.delete.row.id),_.value=!0};return(b,s)=>(x(),S(O,null,[e(V,{onClick:d,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(oe,{class:"bg-negative",delay:200},{default:t(()=>[C("Delete")]),_:1})]),_:1}),e(K,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=c=>_.value=c)},{default:t(()=>[e(B,null,{default:t(()=>[e($,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Dt,qt]),_:1}),e(Ye,{class:"q-mb-md"}),e($,null,{default:t(()=>[e(Se,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(V,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(V,{dense:"",label:"Delete",color:"negative",onClick:k,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Tt=Y(Nt,[["__scopeId","data-v-196482e9"]]);const At=o=>(ae("data-v-c74b6072"),o=o(),le(),o),Ut={class:"row justify-between"},Bt={class:"q-my-sm"},Ft={key:0,class:"spinner-wrapper"},It={key:1},Lt={key:0,class:"data-error"},Mt=At(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zt={key:1},Ht={__name:"ProductTable",setup(o){const w=he().params.branch_id,k=Xe(),_=P(""),d=P(!0),b=P([]),s=P(!1),c=P({rowsPerPage:0}),m=I(()=>k.branchProducts);console.log("branchssdfrer",m.value);const n=I(()=>_.value?m.value.filter(D=>D.name.toLowerCase().includes(_.value.toLowerCase())):m.value),r=D=>D?D.split(" ").map(F=>F.charAt(0).toUpperCase()+F.slice(1).toLowerCase()).join(" "):"";we(async()=>{w&&await l(w)});const l=async D=>{try{d.value=!0;const F=await k.fetchBranchProducts(D);m.value=F,m.value.length||(s.value=!0),console.log("Branch product",m.value)}catch(F){console.log("Error fetching branch product:",F),s.value=!0}finally{d.value=!1}};Te(_,async D=>{d.value=!0,await new Promise(F=>setTimeout(F,1e3)),d.value=!1,s.value=n.value.length===0});async function i(D,F){try{const N=await Pe.put("/api/update-branch-products/"+D.id,{price:parseInt(F)});if(N.status===200){const A=b.value.findIndex(h=>h.id==D.id);b.value[A]=parseInt(F),ve.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}async function f(D,F){try{const N=await Pe.put("/api/update-branch-products-beginnings/"+D.id,{beginnings:parseInt(F)});if(N.status===200){const A=b.value.findIndex(h=>h.id==D.id);b.value[A]=parseInt(F),ve.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}async function u(D,F){try{const N=await Pe.put("/api/update-branch-products-total-quantity/"+D.id,{total_quantity:parseInt(F)});if(N.status===200){const A=b.value.findIndex(h=>h.id==D.id);b.value[A]=parseInt(F),ve.create({type:"positive",message:N.data.message,timout:1e3,position:"top"})}}catch(N){console.error("Error updating price:",N)}}const g=D=>{switch(D){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},p=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(D),R=[{name:"name",label:"Product Name",align:"center",field:D=>D.product.name,format:D=>`${D}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:D=>p(D),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:D=>`${D} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:D=>`${D} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(D,F)=>(x(),S(O,null,[a("div",Ut,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:_.value,"onUpdate:modelValue":F[0]||(F[0]=N=>_.value=N),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Bt,[e(Vt)])]),d.value?(x(),S("div",Ft,[e(Ge,{size:"50px",color:"primary"})])):(x(),S("div",It,[n.value.length===0?(x(),S("div",Lt,[e(ne,{name:"warning",color:"warning",size:"4em"}),Mt])):(x(),U(ie,{key:1,class:"table-container sticky-header",filter:_.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:R,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":F[1]||(F[1]=N=>c.value=N),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(N=>[e(Q,{key:"name",props:N},{default:t(()=>{var A;return[C(y((A=N.row.product)!=null&&A.name?r(N.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(N=>[e(Q,{key:"name",props:N},{default:t(()=>[N.row.category?(x(),U(se,{key:0,color:g(N.row.category)},{default:t(()=>[C(y(N.row.category),1)]),_:2},1032,["color"])):(x(),S("span",zt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(N=>[e(Q,{props:N,class:"cursor-pointer"},{default:t(()=>[a("span",null,[C(y(p(N.row.price))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[C("Edit Price")]),_:1})]),e(Fe,{"onUpdate:modelValue":[A=>i(N.row,A),A=>N.row.price=A],modelValue:N.row.price,"auto-save":""},{default:t(A=>[e(E,{modelValue:A.value,"onUpdate:modelValue":h=>A.value=h,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Ae(A.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(N=>[e(Q,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[C(y(N.row.beginnings?N.row.beginnings:"Set Beginnings")+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[C("Edit beginnings")]),_:1})]),e(Fe,{"onUpdate:modelValue":[A=>f(N.row,A),A=>N.row.beginnings=A],modelValue:N.row.beginnings,"auto-save":""},{default:t(A=>[e(E,{modelValue:A.value,"onUpdate:modelValue":h=>A.value=h,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ae(A.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(N=>[e(Q,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[C(y(N.row.total_quantity?N.row.total_quantity:"Set Quantity")+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[C("Edit quantity")]),_:1})]),e(Fe,{"onUpdate:modelValue":[A=>u(N.row,A),A=>N.row.total_quantity=A],modelValue:N.row.total_quantity,"auto-save":""},{default:t(A=>[e(E,{modelValue:A.value,"onUpdate:modelValue":h=>A.value=h,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ae(A.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(N=>[e(Q,{class:"q-gutter-x-md",props:N},{default:t(()=>[e(Tt,{delete:N},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Ot=Y(Ht,[["__scopeId","data-v-c74b6072"]]);const jt={class:"q-gutter-sm"},Qt={__name:"ProductPage",setup(o){return(v,w)=>(x(),S("div",jt,[a("div",null,[e(Ot)])]))}},Et=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Kt={class:"q-mb-lg"},Yt={key:0,class:"custom-list z-top"},Gt=a("div",null,"Raw Materials Code",-1),Jt=a("div",null,"Raw Materials Name",-1),Wt=a("div",null,"Category",-1),Xt=a("div",null,"Quantity",-1),Zt={__name:"RawMaterialsCreate",setup(o){const v=he(),w=vt(),k=I(()=>w.rawMaterials),_=Ze(),d=P(""),b=async()=>{w.searchRawMaterials(d.value)},s=I(()=>l.total_quantity!==""),c=P(!1),m=()=>{c.value=!0},n=()=>{i(),c.value=!1},r=u=>{l.ingredients_id=u.id,l.ingredient_name=u.name,l.ingredient_code=u.code,l.category=u.category,l.unit=u.unit,d.value=""},l=He({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:v.params.branch_id}),i=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},f=async()=>{try{const{product_name:u,...g}=l;await _.createBranchRawMaterials(g),console.log("data to send",g),i(),c.value=!1}catch(u){console.log(u)}};return(u,g)=>(x(),S(O,null,[e(V,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:m,style:{background:"#f43f5e"}}),e(K,{modelValue:c.value,"onUpdate:modelValue":g[5]||(g[5]=p=>c.value=p),persistent:""},{default:t(()=>[e(B,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e($,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Et,e(Ve),ee(e(V,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e($,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Kt,[e(E,{modelValue:d.value,"onUpdate:modelValue":[g[0]||(g[0]=p=>d.value=p),b],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[d.value?(x(),S("div",Yt,[e(B,null,{default:t(()=>[e(qe,{separator:""},{default:t(()=>{var p;return[(p=k.value)!=null&&p.length?(x(!0),S(O,{key:1},pe(k.value,R=>(x(),U(ge,{onClick:D=>r(R),key:R.id,clickable:""},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[C(y(R.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),U(ge,{key:0},{default:t(()=>[C(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ke("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Gt,e(E,{modelValue:l.ingredient_code,"onUpdate:modelValue":g[1]||(g[1]=p=>l.ingredient_code=p),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Jt,e(E,{modelValue:l.ingredient_name,"onUpdate:modelValue":g[2]||(g[2]=p=>l.ingredient_name=p),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Wt,e(E,{modelValue:l.category,"onUpdate:modelValue":g[3]||(g[3]=p=>l.category=p),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Xt,e(E,{modelValue:l.total_quantity,"onUpdate:modelValue":g[4]||(g[4]=p=>l.total_quantity=p),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[p=>p&&p.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Se,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(V,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(V,{class:"glossy",color:"teal",label:"Create",onClick:f,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const st=o=>(ae("data-v-17ad5e9f"),o=o(),le(),o),ea=st(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ta=st(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),aa={__name:"RawMaterialsTableDelete",props:["delete"],setup(o){const v=Ze(),w=o,k=async()=>{console.log("clickkkd");try{await v.deleteBranchRawMaterials(w.delete.row.id),ve.create({type:"negative",icon:"warning",message:`Raw Materials ${w.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),_.value=!1}catch(b){console.error(b.message)}},_=P(!1),d=()=>{_.value=!0};return(b,s)=>(x(),S(O,null,[e(V,{onClick:d,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(oe,{class:"bg-negative",delay:200},{default:t(()=>[C("Delete")]),_:1})]),_:1}),e(K,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=c=>_.value=c)},{default:t(()=>[e(B,null,{default:t(()=>[e($,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[ea,ta]),_:1}),e(Ye,{class:"q-mb-md"}),e($,null,{default:t(()=>[e(Se,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(V,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(V,{dense:"",label:"Delete",color:"negative",onClick:k,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var la=Y(aa,[["__scopeId","data-v-17ad5e9f"]]);const rt=o=>(ae("data-v-74a3fea6"),o=o(),le(),o),na={class:"row justify-between"},oa={class:"q-my-sm"},sa={key:0,class:"spinner-wrapper"},ra={key:1},ia={key:0,class:"data-error"},da=rt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ca=rt(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),ua={class:"row justify-center q-gutter-x-md"},ma={__name:"RawMaterialsTable",setup(o){const w=he().params.branch_id,k=Ze(),_=P(""),d=P(!0),b=P([]),s=P(!1),c=P({rowsPerPage:0}),m=I(()=>k.branchRawMaterials),n=I(()=>_.value?m.value.filter(g=>g.name.toLowerCase().includes(_.value.toLowerCase())):m.value);we(async()=>{console.log("props.branchId in onMounted:",w),w&&await r(w)});const r=async g=>{try{d.value=!0;const p=await k.fetchBranchRawMaterials(g);m.value=p,m.value.length||(s.value=!0),console.log("Branch Raw Materials",m.value)}catch(p){console.log("Error fetching branch product:",p),s.value=!0}finally{d.value=!1}};async function l(g,p){try{const R=await Pe.put("/api/update-branch-rawMaterials/"+g.id,{total_quantity:parseInt(p)});if(R.status===200){const D=b.value.findIndex(F=>F.id==g.id);b.value[D]=parseInt(p),ve.create({type:"positive",message:R.data.message,timout:1e3,position:"top"})}}catch(R){console.error("Error updating price:",R)}}Te(_,async g=>{d.value=!0,await new Promise(p=>setTimeout(p,1e3)),d.value=!1,s.value=n.value.length===0});const i=g=>{const p=g.total_quantity;if(g.ingredients.unit==="Grams"&&p<1e3)return"bg-red";let D;return p>=1e3?D=p/1e3:D=p,D<5?D<=2?"bg-red":(D<=3,"bg-warning"):"bg-positive"},f=g=>{const p=g.total_quantity,R=g.ingredients.unit;if(p>1e3){const D=(p/1e3).toFixed(2);return D.endsWith(".00")?`${Math.round(p/1e3)} kilos`:`${D} kilos`}else return p>1?`${p} ${R}`:`${p} ${R}`},u=[{name:"code",label:"Raw Materials Code",align:"center",field:g=>{var p,R;return(R=(p=g==null?void 0:g.ingredients)==null?void 0:p.code)!=null?R:"No Code"},format:g=>`${g}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:g=>{var p,R;return(R=(p=g==null?void 0:g.ingredients)==null?void 0:p.name)!=null?R:"No Code"},format:g=>`${g}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(g,p)=>(x(),S(O,null,[a("div",na,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:_.value,"onUpdate:modelValue":p[0]||(p[0]=R=>_.value=R),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",oa,[e(Zt)])]),d.value?(x(),S("div",sa,[e(Ge,{size:"50px",color:"primary"})])):(x(),S("div",ra,[n.value.length===0?(x(),S("div",ia,[e(ne,{name:"warning",color:"warning",size:"4em"}),da])):(x(),U(ie,{key:1,class:"table-container sticky-header",filter:_.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:u,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":p[1]||(p[1]=R=>c.value=R),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(R=>[e(Q,{props:R},{default:t(()=>[e(se,{square:"",class:mt(["text-white cursor-pointer",i(R.row)])},{default:t(()=>[C(y(f(R.row))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[ca]),_:1}),e(Fe,{"onUpdate:modelValue":[D=>l(R.row,D),D=>R.row.total_quantity=D],modelValue:R.row.total_quantity,"auto-save":""},{default:t(D=>[e(E,{modelValue:D.value,"onUpdate:modelValue":F=>D.value=F,dense:"",suffix:R.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Ae(D.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(R=>[e(Q,{props:R},{default:t(()=>[a("div",ua,[e(la,{delete:R},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var pa=Y(ma,[["__scopeId","data-v-74a3fea6"]]);const _a={class:"q-gutter-sm"},fa={class:"q-gutter-x-sm"},ga={__name:"RawMaterialsPage",setup(o){return(v,w)=>(x(),S("div",_a,[a("div",fa,[e(se,{label:"Good",class:"text-white",color:"positive"}),e(se,{label:"Warning",class:"text-white",color:"warning"}),e(se,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(pa)])]))}};const va={class:"text-h6 text-white"},ha={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe();console.log("breadReportsaaasss",o.breadProduction);const b=c=>c?c.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",s=[{name:"bread_name",label:"Bread Name",align:"left",field:c=>(console.log("Row data:",c),c.bread.name||"N/A"),format:c=>b(c)},{name:"production",label:"Production",align:"center",field:c=>c.bread_production||c.filling_production||"0"}];return(c,m)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",va,y(`${b((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Ve),a("div",null,[ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]}),_:1}),e(ie,{rows:o.breadProduction,columns:s},null,8,["rows"])]),_:1})]),_:1},8,["onHide"]))}};var ya=Y(ha,[["__scopeId","data-v-849d6d20"]]);const ba=o=>(ae("data-v-961b0a22"),o=o(),le(),o),wa={class:"text-h6 text-white"},xa=ba(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ka={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe();console.log("ingredientProduction",o.ingredientProduction);const b=c=>{const m=Number(c.quantity)||0,n=c.unit||"";return m>1e3?`${parseFloat((m/1e3).toFixed(3))} kg`:m>1?`${parseFloat(m.toFixed(3))} ${n}`:`${parseFloat(m.toFixed(3))} ${n}`},s=c=>c?c.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"";return(c,m)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",wa,y(`${s((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Ve),a("div",null,[ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]}),_:1}),e($,null,{default:t(()=>[xa]),_:1}),e($,null,{default:t(()=>[e(qe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ge,null,{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Raw Materials Name")]),_:1})]),_:1}),e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Code")]),_:1})]),_:1}),e(W,{side:""},{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),S(O,null,pe(o.ingredientProduction,(n,r)=>(x(),U(ge,{key:r},{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(n.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(n.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(b(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var $a=Y(ka,[["__scopeId","data-v-961b0a22"]]);const it=pt("productions",()=>{const o=P([]),v=P([]);return{productions:o,production:v,fetchAllProduction:async()=>{const d=await Pe.get("/api/branch-production-report");o.value=d.data.reports},fetchBranchProductions:async d=>{try{const b=await Pe.get(`/api/branches/${d}/production-report`);o.value=b.data}catch(b){console.log(b)}},updateBakerReport:async(d,b)=>{console.log("data in store",b),console.log("data in store",d),je.show();try{const s=await Pe.put(`api/update/branch-baker-report/${d}`,b);console.log(s.data)}catch(s){console.error("Error updating baker report:",s)}finally{je.hide()}}}});const dt=o=>(ae("data-v-222cab78"),o=o(),le(),o),Ca={class:"text-h6 text-dark"},Ra={class:"row q-gutter-sm"},Pa={class:"row q-mt-sm q-gutter-sm"},Sa=dt(()=>a("div",{class:"q-mt-sm"},"Kilo",-1)),Va={class:"q-mt-xl q-gutter-md"},Da={key:0},qa={class:"q-mx-sm"},Na=dt(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Ta={__name:"EditBakersReport",props:["bakerReports","sales_report_id"],setup(o){const v=it(),{dialogRef:w,onDialogHide:k}=xe(),_=o;console.log("bakers report",_.bakerReports);const d=He({target:0,actual_target:0,short:0,over:0,kilo:0}),b=I(()=>_.bakerReports.ingredient_bakers_reports.map(f=>{const u=parseFloat(_.bakerReports.kilo)||1,g=parseFloat(d.kilo)||1,R=f.quantity/u*g;return{...f,quantity:R.toFixed(3)}})),s=f=>f?f.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",c=f=>{const u=Number(f.quantity)||0,g=f.unit||"";return u>1e3?`${parseFloat((u/1e3).toFixed(3))} kg`:u>1?`${parseFloat(u.toFixed(3))} ${g}`:`${parseFloat(u.toFixed(3))} ${g}`},m=f=>{const u=Number(f)||0;return parseFloat(u.toFixed(3)).toString()},n=f=>{const u=Number(f)||0;return parseFloat(u.toFixed(3)).toString()},r=I(()=>_.bakerReports.combined_bakers_reports.reduce((f,u)=>f+(parseFloat(u.bread_production)||0),0)),l=()=>{const f=r.value,u=parseFloat(d.actual_target)||0;f>u?(d.over=f-u,d.short=0):(d.short=u-f,d.over=0)};Te(()=>_.bakerReports,f=>{f&&(d.target=m(f.target)||0,d.actual_target=f.actual_target||0,d.short=f.short||0,d.over=f.over||0,d.kilo=n(f.kilo)||0)},{immediate:!0}),Te(()=>d.kilo,()=>{const f=parseFloat(d.kilo)||1,g=(parseFloat(d.target)||0)*f;d.actual_target=m(Math.ceil(g)),l()}),Te(()=>r.value,()=>l());const i=async()=>{var D,F,N;const f=_.bakerReports.id,u=((N=(F=(D=_.bakerReports)==null?void 0:D.branch_recipe)==null?void 0:F.recipe)==null?void 0:N.category)||null,g=_.bakerReports.status,p=(_==null?void 0:_.sales_report_id)||null,R={initial_bakerreports_id:f,sales_report_id:p,category:u,target:d.target,actual_target:d.actual_target,short:d.short,over:d.over,status:g,kilo:d.kilo,combined_bakers_reports:_.bakerReports.combined_bakers_reports.map(A=>({bread_id:A.bread.id,bread_production:A.bread_production})),recalculated_ingredients:b.value.map(A=>({ingredients_id:A.ingredients.id,quantity:A.quantity,unit:A.unit}))};console.log("Edited Bakers Report",R),console.log("Edited Bakers Report",f);try{await v.updateBakerReport(f,R),ve.create({type:"positive",message:"Baker report updated successfully!",position:"top"}),k()}catch(A){console.error("Error updating baker report:",A),ve.create({type:"negative",message:"Failed to update baker report. Please try again.",position:"top"})}};return(f,u)=>(x(),U(K,{ref_key:"dialogRef",ref:w,onHide:j(k)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,{class:"row bg-backgroud text-h6"},{default:t(()=>{var g,p,R,D,F,N;return[a("div",Ca,y(`${s((R=(p=(g=o.bakerReports)==null?void 0:g.branch_recipe)==null?void 0:p.recipe)==null?void 0:R.name)} - ${(N=(F=(D=o.bakerReports)==null?void 0:D.branch_recipe)==null?void 0:F.recipe)==null?void 0:N.category}`),1),e(Ve),a("div",null,[ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]}),_:1}),C(" sales_report_id:"+y(o.sales_report_id)+" ",1),e($,{class:"row q-gutter-x-xl"},{default:t(()=>[a("div",null,[a("div",Ra,[a("div",null,[C(" Target Pcs "),e(E,{readonly:"",modelValue:d.target,"onUpdate:modelValue":u[0]||(u[0]=g=>d.target=g),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),a("div",null,[C(" Actual Target "),e(E,{readonly:"",modelValue:d.actual_target,"onUpdate:modelValue":u[1]||(u[1]=g=>d.actual_target=g),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),a("div",Pa,[a("div",null,[C(" Short "),e(E,{readonly:"",modelValue:d.short,"onUpdate:modelValue":u[2]||(u[2]=g=>d.short=g),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),a("div",null,[C(" Over "),e(E,{readonly:"",modelValue:d.over,"onUpdate:modelValue":u[3]||(u[3]=g=>d.over=g),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),a("div",null,[Sa,e(E,{outlined:"",modelValue:d.kilo,"onUpdate:modelValue":u[4]||(u[4]=g=>d.kilo=g),dense:"",type:"number",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),a("div",Va,[o.bakerReports.combined_bakers_reports.length?(x(),S("div",Da,[(x(!0),S(O,null,pe(o.bakerReports.combined_bakers_reports,(g,p)=>(x(),S("div",{key:p,class:"q-my-md"},[e(Ye,{class:"q-ma-md"}),a("div",qa,y(g.bread.name),1),e(E,{outlined:"",modelValue:g.bread_production,"onUpdate:modelValue":R=>g.bread_production=R,dense:"",type:"numbers",suffix:"pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):Ke("",!0)])]),a("div",null,[Na,e(qe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ge,null,{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Raw Materials Name")]),_:1})]),_:1}),e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Code")]),_:1})]),_:1}),e(W,{side:""},{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),S(O,null,pe(b.value,(g,p)=>(x(),U(ge,{key:p},{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(g.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(g.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(c(g)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(Se,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[ee(e(V,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[te]]),e(V,{class:"glossy",color:"teal",label:"Save",onClick:i})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Aa=Y(Ta,[["__scopeId","data-v-222cab78"]]);const Ua=o=>(ae("data-v-f96814be"),o=o(),le(),o),Ba=Ua(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),Fa={class:"text-subtitle1 text-weight-regular"},Ia={class:"q-ma-sm"},La={class:"q-ma-sm",align:"center"},Ma=["src"],za={__name:"BakerReportPanel",props:["bakersReport","sales_report_id"],setup(o){Qe.exports.vfs=nt;const v=o,w=v.bakersReport;console.log("Bakers Report",v.bakersReport);const k=P(!0),_=P(!1);P(!1);const d=P({rowsPerPage:0}),b=P(""),s=Re(),c=(h,q)=>{s.dialog({component:ya,componentProps:{breadProduction:h,branchRecipe:q}})},m=(h,q)=>{s.dialog({component:$a,componentProps:{ingredientProduction:h,branchRecipe:q}})},n=(h,q)=>{s.dialog({component:Aa,componentProps:{bakerReports:h,sales_report_id:q}})},r=h=>ue.formatDate(h,"MMM. DD, YYYY"),l=h=>{const q=Number(h)||0;return parseFloat(q.toFixed(3)).toString()},i=h=>{const q=Number(h)||0;return parseFloat(q.toFixed(3)).toString()},f=h=>h?h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",u=h=>{const q=$e=>$e?$e.charAt(0).toUpperCase()+$e.slice(1).toLowerCase():"",T=h.firstname?q(h.firstname):"No Firstname",G=h.middlename?q(h.middlename).charAt(0)+".":"",_e=h.lastname?q(h.lastname):"No Lastname";return`${T} ${G} ${_e}`.trim()},g=h=>{const q=new Date(h),T={hour:"2-digit",minute:"2-digit",hour12:!0};return q.toLocaleTimeString(void 0,T)},p=h=>{switch(h){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},R=h=>h?h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",D=h=>h?h.recipe_category==="Filling"?h.filling_bakers_reports||[]:h.recipe_category==="Dough"?h.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),F=[{name:"recipe_name",align:"center",label:"Recipe Name",field:h=>h.branch_recipe&&h.branch_recipe.recipe?{name:h.branch_recipe.recipe.name,category:h.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:h=>`${R(h.name)} (${h.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:h=>g(h)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:h=>`${i(h)}`},{name:"actual_target",align:"center",label:"Actual Target",field:h=>h.target*h.kilo,format:h=>`${Math.ceil(h)}`},{name:"over",align:"center",label:"Over",field:"over",format:h=>`${h}`},{name:"short",align:"center",label:"Short",field:"short",format:h=>`${h}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],N=h=>{var H,Z,ye,fe,be,M,z,ke,J,Ce,Be,Oe,et,tt;console.log("bakerReport",h);const q=`${(ye=(Z=(H=h==null?void 0:h.branch_recipe)==null?void 0:H.recipe)==null?void 0:Z.name)!=null?ye:"Unkown Recipe"} (${(fe=h==null?void 0:h.recipe_category)!=null?fe:"Unkown Category"})`,T=(M=(be=h==null?void 0:h.branch_recipe)==null?void 0:be.target)!=null?M:0,G=(z=h==null?void 0:h.actual_target)!=null?z:0,_e=(ke=h==null?void 0:h.kilo)!=null?ke:0,$e=(J=h==null?void 0:h.over)!=null?J:0,L=(Ce=h==null?void 0:h.short)!=null?Ce:0,X={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:q,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${l(T)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${G} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${i(_e)} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${$e} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${L} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${h.branch.name||"No name available"}
                Baker: ${u(((Be=h==null?void 0:h.user)==null?void 0:Be.employee)||"Unknown Baker Name")}
                Recipe: ${((Oe=h.recipe)==null?void 0:Oe.name)||"Unknown Recipe"} (${h.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${r(((et=v.bakersReport[0])==null?void 0:et.created_at)||((tt=v.bakersReport[1])==null?void 0:tt.created_at)||"No name available")}
                Time: ${g(h.created_at)}
                Status: ${f(h.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...D(h).map(me=>{var ze;return[{text:((ze=me==null?void 0:me.bread)==null?void 0:ze.name)||"Unknown Bread",style:"body"},{text:h.recipe_category==="Filling"?`${(me==null?void 0:me.filling_production)||"0"} pcs`:`${me==null?void 0:me.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(h.ingredient_bakers_reports||[]).map(me=>{var ze,at;return[{text:((ze=me==null?void 0:me.ingredients)==null?void 0:ze.code)||"Unknown Ingredient",style:"body"},{text:`${(me==null?void 0:me.quantity)||"Unknown Quantity"} ${((at=me==null?void 0:me.ingredients)==null?void 0:at.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},X]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},A=h=>{const q=N(h);Qe.exports.createPdf(q).getDataUrl(T=>{b.value=T,_.value=!0})};return(h,q)=>(x(),S("div",null,[e(B,{class:"my-card q-pa-md"},{default:t(()=>{var T,G,_e,$e,L,X;return[Ba,a("div",Fa,[a("div",null," Name: "+y(u(((G=(T=j(w)[0])==null?void 0:T.user)==null?void 0:G.employee)||(($e=(_e=j(w)[1])==null?void 0:_e.user)==null?void 0:$e.employee)||"No name available")),1),a("div",null," Date: "+y(`${r(((L=v.bakersReport[0])==null?void 0:L.created_at)||((X=v.bakersReport[1])==null?void 0:X.created_at)||"No name available")}`),1)]),e($,null,{default:t(()=>[e(ie,{class:"table-container sticky-header2",columns:F,rows:j(w),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:d.value,"rows-per-page-options":[0]},{"body-cell-status":t(H=>[e(Q,{props:H},{default:t(()=>[e(se,{align:"middle",color:p(H.row.status)},{default:t(()=>[C(y(f(H.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(H=>[e(Q,{props:H},{default:t(()=>[e(V,{class:"gradient-icon",flat:"",rounded:"",onClick:Z=>c(H.row.combined_bakers_reports,H.row.branch_recipe)},{default:t(()=>[e(ne,{name:"visibility",class:"gradient-icon"}),e(oe,{class:"gradient-tooltip"},{default:t(()=>[C("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(H=>[e(Q,{props:H},{default:t(()=>[e(V,{class:"gradient-icon2",flat:"",rounded:"",onClick:Z=>m(H.row.ingredient_bakers_reports,H.row.branch_recipe)},{default:t(()=>[e(ne,{name:"visibility",class:"gradient-icon2"}),e(oe,{class:"gradient-tooltip"},{default:t(()=>[C("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(H=>[e(Q,{props:H},{default:t(()=>[e(V,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:Z=>h.toggleMenu(H.row)},null,8,["onClick"]),e(ht,{modelValue:H.row.menu,"onUpdate:modelValue":Z=>H.row.menu=Z,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(qe,{style:{"min-width":"100px"}},{default:t(()=>[ee((x(),U(ge,{clickable:"",onClick:Z=>A(H.row)},{default:t(()=>[e(W,{avatar:""},{default:t(()=>[e(ne,{name:"print"})]),_:1}),e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[C("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[te]]),ee((x(),U(ge,{clickable:"",onClick:Z=>n(H.row,o.sales_report_id)},{default:t(()=>[e(W,{avatar:""},{default:t(()=>[e(ne,{name:"edit"})]),_:1}),e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[C("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[te]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(K,{modelValue:_.value,"onUpdate:modelValue":q[0]||(q[0]=T=>_.value=T),"backdrop-filter":h.backdropFilter,maximized:k.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Ia,[a("div",La,[ee((x(),U(V,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(oe,null,{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])]),a("div",null,[a("iframe",{src:b.value,width:"100%",height:"700px"},null,8,Ma)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Ha=Y(za,[["__scopeId","data-v-f96814be"]]);const Oa={class:"row justify-between text-white"},ja=a("div",{class:"text-h6"},"Bread Report",-1),Qa={class:"row justify-end q-mt-md"},Ea={class:"text-h6"},Ka={__name:"BreadReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o,b=P("");console.log("Reports data structure:",d.reports);const s=l=>l?l.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",c=[{name:"name",label:"Bread Name",field:l=>(console.log("Row data:",l),l.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:l=>`${l}`},{name:"total",label:"Bread Total (PCS)",field:"total",field:l=>(l.remaining||0)+(l.new_production||0)},{name:"breadSold",label:"Bread Sold (PCS)",field:l=>{const i=(l.beginnings||0)+(l.new_production||0),f=(l.remaining||0)+(l.bread_out||0);return i-f},format:l=>`${l}`},{name:"sales",label:"Total Sales",field:l=>{const i=(l.beginnings||0)+(l.new_production||0),f=(l.remaining||0)+(l.bread_out||0);return(i-f)*(l.price||0)},format:l=>`${m(l)}`}],m=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),n=I(()=>{if(!b.value||!b.value.trim())return d.reports||[];const l=b.value.trim().toLowerCase();return(d.reports||[]).filter(i=>i.bread.name.toLowerCase().includes(l)||i.price.toString().includes(l)||i.sales.toString().includes(l))}),r=I(()=>{const l=n.value.reduce((i,f)=>{const u=(f.beginnings||0)+(f.new_production||0),g=(f.remaining||0)+(f.bread_out||0),R=(u-g)*(f.price||0);return console.log(`Adding salesAmount: ${R} to total: ${i}`),i+R},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Overall Total Sales:",r.value),(l,i)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Oa,[ja,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(E,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:b.value,"onUpdate:modelValue":i[0]||(i[0]=f=>b.value=f),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":i[1]||(i[1]=f=>l.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(f=>[e(Q,{props:f},{default:t(()=>[a("span",null,y(`${s(f.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(f=>[e(Q,{props:f},{default:t(()=>[a("span",null,y(`${m(f.row.price)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e($,null,{default:t(()=>[a("div",Qa,[a("div",Ea," Overall Total Sales: "+y(m(r.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ya={class:"row justify-between text-white"},Ga=a("div",{class:"text-h6"},"Selecta Report",-1),Ja={class:"row justify-end q-mt-md"},Wa={class:"text-h6"},Xa={__name:"SelectaReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o;console.log("Reports data structure:",d.reports);const b=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Selecta Name",field:r=>(console.log("Row data:",r),r.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],c=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),m=I(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),n=I(()=>{const r=m.value.reduce((l,i)=>{const f=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",m.value),(r,l)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ya,[Ga,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${b(i.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${c(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${c(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e($,null,{default:t(()=>[a("div",Ja,[a("div",Wa," Overall Total Sales: "+y(c(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Za={class:"row justify-between text-white"},el=a("div",{class:"text-h6"},"Softdrinks Report",-1),tl={class:"row justify-end q-mt-md"},al={class:"text-h6"},ll={__name:"SoftdrinksReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o;console.log("Reports data structure:",d.reports);const b=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Softdrinks Name",field:r=>(console.log("Row data:",r),r.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],c=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),m=I(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),n=I(()=>{const r=m.value.reduce((l,i)=>{const f=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",m.value),(r,l)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Za,[el,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${b(i.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${c(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${c(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e($,null,{default:t(()=>[a("div",tl,[a("div",al," Overall Total Sales: "+y(c(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},nl={class:"row justify-between text-white"},ol=a("div",{class:"text-h6"},"Cake Report",-1),sl={class:"row justify-end q-mt-md"},rl={class:"text-h6"},il={__name:"CakeReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o;console.log("Report cake:",d.reports);const b=I(()=>(console.log("Filtered cake rows:",d.reports||[]),d.reports||[])),s=r=>{const l=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",i=r.firstname?l(r.firstname):"No Firstname",f=r.middlename?l(r.middlename).charAt(0)+".":"",u=r.lastname?l(r.lastname):"No Lastname";return`${i} ${f} ${u}`},c=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r).replace("\u20B1","\u20B1 "),m=I(()=>{const r=b.value.reduce((l,i)=>{const f=parseFloat(i.cake_report.price)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",r),r}),n=[{name:"name",label:"Cake Name",field:r=>(console.log("Row data:",r),r.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:r=>s(r.cake_report.user.employee)},{name:"price",label:"Price",field:r=>c(r.cake_report.price)},{name:"layers",label:"Layers",field:r=>r.cake_report.layers},{name:"sales_status",label:"Sale Status",field:r=>r.cake_report.sales_status}];return(r,l)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",nl,[ol,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",sl,[a("div",rl," Overall Total Sales: "+y(c(m.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},dl={class:"row justify-between text-white"},cl=a("div",{class:"text-h6"},"Other Products Report",-1),ul={class:"row justify-end q-mt-md"},ml={class:"text-h6"},pl={__name:"OtherProductsReport",props:["reports"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o,b=I(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),s=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",c=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),m=[{name:"name",label:"Product Name",field:r=>(console.log("Row data:",r),r.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Product Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],n=I(()=>{const r=b.value.reduce((l,i)=>{const f=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${f} to total: ${l}`),l+f},0);return console.log("Overall Total Sales computed as:",r),r});return(r,l)=>(x(),S("div",null,[e(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",dl,[cl,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${s(i.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${c(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(Q,{props:i},{default:t(()=>[a("span",null,y(`${c(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e($,null,{default:t(()=>[a("div",ul,[a("div",ml," Overall Total Sales: "+y(c(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const _l=o=>(ae("data-v-69f74a0d"),o=o(),le(),o),fl=_l(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),gl={class:"item-start q-gutter-md",align:"center"},vl={__name:"ProductsReport",props:["sales_Reports"],setup(o){const v=o,w=v.sales_Reports;console.log("sales report2",v);const k=Re(),_=m=>{k.dialog({component:Ka,componentProps:{reports:m}})},d=m=>{k.dialog({component:Xa,componentProps:{reports:m}})},b=m=>{k.dialog({component:ll,componentProps:{reports:m}})},s=m=>{k.dialog({component:il,componentProps:{reports:m}})},c=m=>{k.dialog({component:pl,componentProps:{reports:m}})};return(m,n)=>(x(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e($,null,{default:t(()=>[fl]),_:1}),e($,null,{default:t(()=>[a("div",gl,[e(V,{onClick:n[0]||(n[0]=r=>_(v.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(V,{onClick:n[1]||(n[1]=r=>d(j(w)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(V,{onClick:n[2]||(n[2]=r=>b(j(w)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(V,{onClick:n[3]||(n[3]=r=>s(j(w)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(V,{onClick:n[4]||(n[4]=r=>c(j(w)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var hl=Y(vl,[["__scopeId","data-v-69f74a0d"]]);const yl={class:"row justify-between text-white"},bl=a("div",{class:"text-h6"},"Denomination Report",-1),wl={class:"row text-weight-regular text-subtitle1"},xl={class:"col-6"},kl={class:"col-6"},$l={class:"row justify-end q-mt-md"},Cl={class:"text-h6"},Rl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o;console.log("Denomination Props",d.reports);const b=d.reports[0];console.log("Reports data structure:",d.reports);const s=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),c=I(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[]));return console.log("Filtered Rows:",c.value),(m,n)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",yl,[bl,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[a("div",wl,[a("div",xl,[a("div",null,"1000 Bills: "+y(j(b).oneThousandBills),1),a("div",null,"500 Bills: "+y(j(b).fiveHundredBills),1),a("div",null,"200 Bills: "+y(j(b).twoHundredBills),1),a("div",null,"100 Bills: "+y(j(b).oneHundredBills),1),a("div",null,"50 Bills: "+y(j(b).fiftyBills),1),a("div",null,"20 Bills: "+y(j(b).twentyBills),1)]),a("div",kl,[a("div",null,"20 coins: "+y(j(b).twentyCoins),1),a("div",null,"10 coins: "+y(j(b).tenCoins),1),a("div",null,"5 coins: "+y(j(b).fiveCoins),1),a("div",null,"1 coins: "+y(j(b).oneCoins),1),a("div",null,"25 cents: "+y(j(b).twentyFiveCents),1)])])]),_:1}),e($,null,{default:t(()=>[a("div",$l,[a("div",Cl," Overall Total Denomination: "+y(s(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Pl=o=>(ae("data-v-43ad17ba"),o=o(),le(),o),Sl=Pl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),Vl={class:"q-gutter-x-md",align:"center"},Dl={__name:"DenominationReport",props:["sales_Reports"],setup(o){const v=o;v.sales_Reports,console.log("Denomination report",v);const w=Re(),k=(_,d)=>{w.dialog({component:Rl,componentProps:{reports:_,total:d}})};return(_,d)=>(x(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e($,null,{default:t(()=>[Sl]),_:1}),e($,null,{default:t(()=>[a("div",Vl,[e(V,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:d[0]||(d[0]=b=>k(v.sales_Reports[0].denomination_reports,v.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var ql=Y(Dl,[["__scopeId","data-v-43ad17ba"]]);const Nl={class:"row justify-between text-white"},Tl=a("div",{class:"text-h6"},"Expenses Report",-1),Al={class:"row justify-end q-mt-md"},Ul={class:"text-h6"},Bl={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o;d.reports,console.log("Expenses total",d.total);const b=n=>n?n.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Expenses Name",field:n=>(console.log("Row data:",n),n.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",d.reports);const c=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),m=I(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[]));return console.log("Expenses:",m.value),(n,r)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w),onOk:n.handleButtonClick,onCancel:j(_)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Nl,[Tl,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":r[0]||(r[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(Q,{props:l},{default:t(()=>[a("span",null,y(`${b(l.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[e(Q,{props:l},{default:t(()=>[a("span",null,y(`${c(l.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e($,null,{default:t(()=>[a("div",Al,[a("div",Ul," Overall Total Expenses: "+y(c(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Fl=o=>(ae("data-v-4747b3c7"),o=o(),le(),o),Il=Fl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Ll={class:"q-gutter-x-md",align:"center"},Ml={__name:"ExpensesReport",props:["sales_Reports"],setup(o){const v=o;console.log("Expenses Data",v.sales_Reports[0].expenses_reports);const w=Re(),k=(_,d)=>{w.dialog({component:Bl,componentProps:{reports:_,total:d}})};return(_,d)=>(x(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e($,null,{default:t(()=>[Il]),_:1}),e($,null,{default:t(()=>[a("div",Ll,[e(V,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:d[0]||(d[0]=b=>k(v.sales_Reports[0].expenses_reports,v.sales_Reports[0].expenses_total))})])]),_:1})]),_:1})]))}};var zl=Y(Ml,[["__scopeId","data-v-4747b3c7"]]);const Hl={class:"row justify-between text-white"},Ol=a("div",{class:"text-h6"},"Credits Report",-1),jl={class:"row justify-end q-mt-md"},Ql={class:"text-h6"},El={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe(),d=o,b=d.reports;console.log("creditReports data",b),b.forEach((i,f)=>{console.log(`Report ${f}:`,i),console.log(`Credit Products for Report ${f}:`,i.credit_products.total_amount)});const s=I(()=>b.flatMap(i=>i.credit_products.map(f=>{const u=parseInt(f.pieces,10)||0,g=parseFloat(f.price)||0,p=u*g;return{...f,total_amount:p}})));console.log("All Credit Products:",s.value[0]);const c=i=>i?i.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",m=i=>{const f=R=>R?R.charAt(0).toUpperCase()+R.slice(1).toLowerCase():"",u=i.firstname?f(i.firstname):"No Firstname",g=i.middlename?f(i.middlename).charAt(0)+".":"",p=i.lastname?f(i.lastname):"No Lastname";return`${u} ${g} ${p}`.trim()},n=[{name:"name",label:"Employee Name",field:i=>m(i.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:i=>i.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",d.reports);const r=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),l=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return(i,f)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w),onOk:i.handleButtonClick,onCancel:j(_)},{default:t(()=>[e(B,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e($,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Hl,[Ol,ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])]),_:1}),e($,null,{default:t(()=>[e(ie,{filter:i.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":f[0]||(f[0]=u=>i.pagination=u),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(u=>[e(Q,{props:u},{default:t(()=>[a("span",null,y(`${c(u.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(u=>[e(Q,{props:u},{default:t(()=>[a("span",null,y(`${r(u.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(u=>[e(Q,{props:u},{default:t(()=>[a("span",null,y(`${l(u.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e($,null,{default:t(()=>[a("div",jl,[a("div",Ql," Overall Credits Total: "+y(r(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Kl=o=>(ae("data-v-037b1d7d"),o=o(),le(),o),Yl=Kl(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Gl={class:"q-gutter-x-md",align:"center"},Jl={__name:"CreditsReport",props:["sales_Reports"],setup(o){const v=o,w=Re(),k=(_,d)=>{w.dialog({component:El,componentProps:{reports:_,total:d}})};return(_,d)=>(x(),S("div",null,[e(B,{class:"user-card"},{default:t(()=>[e($,null,{default:t(()=>[Yl]),_:1}),e($,null,{default:t(()=>[a("div",Gl,[e(V,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:d[0]||(d[0]=b=>k(v.sales_Reports[0].credit_reports,v.sales_Reports[0].credit_total))})])]),_:1}),e($)]),_:1})]))}};var Wl=Y(Jl,[["__scopeId","data-v-037b1d7d"]]);const Xl=o=>(ae("data-v-759d120e"),o=o(),le(),o),Zl={class:"q-mt-lg row items-start q-gutter-md justify-center"},en={class:"row justify-between"},tn=Xl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),an={align:"right"},ln={class:"text-subtitle1 text-weight-regular"},nn={class:"row q-gutter-sm q-pa-md"},on={class:"q-ma-sm"},sn={class:"q-ma-sm",align:"center"},rn=["src"],dn={__name:"SalesReportPanel",props:["salesReport"],setup(o){Qe.exports.vfs=nt;const v=o,w=v.salesReport;console.log("reportsData",v.salesReport);const k=P(!0),_=P(!1),d=P(""),b=l=>ue.formatDate(l,"MMMM DD, YYYY"),s=l=>{const i=new Date(l),f={hour:"2-digit",minute:"2-digit",hour12:!0};return i.toLocaleTimeString(void 0,f)},c=l=>{const i=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",f=l.firstname?i(l.firstname):"No Firstname",u=l.middlename?i(l.middlename).charAt(0)+".":"",g=l.lastname?i(l.lastname):"No Lastname";return`${f} ${u} ${g}`.trim()},m=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const i=I(()=>l.credit_reports.flatMap(L=>L.credit_products));console.log("All Credit Products:",i.value);const f=[{title:"Bread Production",data:(l.bread_reports||[]).map(L=>{const X=(L.new_production||0)+(L.beginnings||0),H=(L.remaining||0)+(L.bread_out||0),Z=X-H,ye=(L.price||0)*Z;return{...L,total:X,bread_sold:Z,sales:ye}}),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(l.selecta_reports||[]).map(L=>{const X=L.beginnings||0,H=(L.remaining||0)+(L.out||0),Z=X-H,ye=(L.price||0)*Z;return{...L,total:H,sold:Z,sales:ye}}),columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(l.softdrinks_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(l.other_products_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:l.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],u=l.expenses_reports||[],g=i.value||[],p=l.denomination_reports[0]||[],R=l.denomination_total;l.charges_amount,l.over_total;const D={bills:[{name:"One Thousand",pcs:p.oneThousandBills||0},{name:"Five Hundred",pcs:p.fiveHundredBills||0},{name:"Two Hundred",pcs:p.twoHundredBills||0},{name:"One Hundred",pcs:p.oneHundredBills||0},{name:"Fifty",pcs:p.fiftyBills||0},{name:"Twenty",pcs:p.twentyBills||0}],coins:[{name:"Twenty",pcs:p.twentyCoins||0},{name:"Ten",pcs:p.tenCoins||0},{name:"Five",pcs:p.fiveCoins||0},{name:"One",pcs:p.oneCoins||0},{name:"Twenty Five Cents",pcs:p.twentyFiveCents||0}]},F=(L,X,H)=>{const Z=(fe,be)=>be.split(".").reduce((M,z)=>M?M[z]:0,fe),ye=H.reduce((fe,be)=>(fe[be]=L.reduce((M,z)=>M+parseFloat(Z(z,be))||0,0),fe),{});return[...L.map(fe=>X.map(be=>{if(be==="cake_report.user.employee"){const M=Z(fe,"cake_report.user.employee");return{text:M?c(M):"No Employee",style:"body",alignment:"center"}}return{text:be.includes(".")?Z(fe,be)||"-":fe[be]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:X.length-H.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(X.length-H.length-1).fill({}),...H.map(fe=>({text:`\u20B1 ${ye[fe].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let N=0;const A=g.length>0?g.map(L=>{const X=(L.price||0)*(L.pieces||0);return N+=X,[{text:c(L.credit_user_id),style:"body",alignment:"center"},{text:L.product.name,style:"body",alignment:"center"},{text:L.pieces,style:"body",alignment:"center"},{text:m(L.price),style:"body",alignment:"center"},{text:m(X),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];A.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:m(N),style:"bodyBold",alignment:"center",colSpan:2},{}]);let h=0;const q=u.length>0?u.map(L=>{const X=parseFloat(L.amount.replace(/[^0-9.-]+/g,""));return isNaN(X)||(h+=X),[{text:L.name,style:"body",alignment:"center"},{text:L.description,style:"body",alignment:"center"},{text:`${m(X)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];q.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${m(h)}`,style:"bodyBold",alignment:"center"}]);const T=D.bills.map((L,X)=>{var H,Z;return[{text:L.name,style:"body",alignment:"center"},{text:L.pcs,style:"body",alignment:"center"},{text:((H=D.coins[X])==null?void 0:H.name)||"",style:"body",alignment:"center"},{text:((Z=D.coins[X])==null?void 0:Z.pcs)||"0",style:"body",alignment:"center"}]});T.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${m(R)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const G=f.map(({title:L,data:X,columns:H,totals:Z})=>({stack:[{text:L,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(H.length).fill("*"),body:[H.map(ye=>({text:ye.split(".").pop().replace(/_/g," ").replace(/\b\w/g,fe=>fe.toUpperCase()),style:"tableHeader",alignment:"center"})),...F(X,H,Z)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),_e=f.reduce((L,X)=>{const H=X.data.reduce((Z,ye)=>Z+(ye.sales||0),0);return L+H},0),$e={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:m(R),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:m(_e),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:m(h),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:m(N),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:m(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${m(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${c(l.user.employee)}
          Date: ${b(l.created_at)}
Time: ${s(l.created_at)}
`,margin:[0,0,0,10]},{}]},...G,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...q]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...A]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...T]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},$e]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},r=l=>{const i=n(l);Qe.exports.createPdf(i).getDataUrl(f=>{d.value=f,_.value=!0})};return(l,i)=>(x(),S(O,null,[e(B,{class:"my-card q-pa-md"},{default:t(()=>[e($,null,{default:t(()=>[a("div",Zl,[(x(!0),S(O,null,pe(j(w),(f,u)=>(x(),S("div",{key:u},[e(B,{flat:"",dense:"",bordered:""},{default:t(()=>[e($,null,{default:t(()=>[a("div",en,[tn,a("div",an,[e(V,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:g=>r(f)},null,8,["onClick"]),a("div",null,[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C(" Print Report ")]),_:1})])])]),a("div",ln,[a("div",null,"Name: "+y(c(f.user.employee)),1),a("div",null,"Date: "+y(b(f.created_at)),1),a("div",null,"Time: "+y(s(f.created_at)),1)])]),_:2},1024),a("div",nn,[e(hl,{sales_Reports:[f]},null,8,["sales_Reports"]),e(ql,{sales_Reports:[f]},null,8,["sales_Reports"]),e(zl,{sales_Reports:[f]},null,8,["sales_Reports"]),e(Wl,{sales_Reports:[f]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(K,{modelValue:_.value,"onUpdate:modelValue":i[0]||(i[0]=f=>_.value=f),maximized:k.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",on,[a("div",sn,[ee((x(),U(V,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(oe,null,{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])]),a("div",null,[a("iframe",{src:d.value,width:"100%",height:"700px"},null,8,rn)])])]),_:1},8,["modelValue","maximized"])],64))}};var cn=Y(dn,[["__scopeId","data-v-759d120e"]]);const un={class:"text-h6"},mn={class:"row q-gutter-x-md"},pn={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(o,{emit:v}){const{dialogRef:w,onDialogHide:k,onDialogOK:_,onDialogCancel:d}=xe(),b=o;console.log("production report",b.reports);const s=b.reports.baker_reports,c=b.reports.sales_reports,m=b.reports.sales_reports_id;console.log("sales_report_id",m);const n=v,r=P("bakerReport"),l=P(!0),i=P(!1),f=g=>g?g.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",u=()=>{n("selectReport",b.reports),i.value=!0};return(g,p)=>(x(),U(K,{ref_key:"dialogRef",ref:w,modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=R=>i.value=R),onHide:j(k),onOk:u,onCancel:j(d),maximized:l.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(B,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e($,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",un,y(`${f(o.reports.branch_name)} ( ${o.reportLabel} Reports)`),1),e(Ve),a("div",mn,[a("div",null,[ee((x(),U(V,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(oe,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[C("Close")]),_:1})]),_:1})),[[te]])])])]),_:1}),e($,null,{default:t(()=>[a("div",null,[e(Ie,{modelValue:r.value,"onUpdate:modelValue":p[0]||(p[0]=R=>r.value=R),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(de,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(de,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Le,{modelValue:r.value,"onUpdate:modelValue":p[1]||(p[1]=R=>r.value=R),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(ce,{name:"bakerReport"},{default:t(()=>[e(Ha,{bakersReport:j(s),sales_report_id:j(m)},null,8,["bakersReport","sales_report_id"])]),_:1}),e(ce,{name:"salesReport"},{default:t(()=>[e(cn,{salesReport:j(c)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var _n=Y(pn,[["__scopeId","data-v-0a776a06"]]);const fn=o=>(ae("data-v-12387bc6"),o=o(),le(),o),gn={key:0,class:"spinner-wrapper"},vn={key:1},hn={key:0,class:"data-error"},yn=fn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),bn={class:"row justify-center q-gutter-x-md"},wn={__name:"ProductionTable",setup(o){const v=he();P("bakerReport");const w=v.params.branch_id;P(!1),P(!0),P(""),P("");const k=P({rowsPerPage:0}),_=it(),d=P(""),b=I(()=>_.productions);P(!0);const s=P(!0),c=P(!1),m=I(()=>d.value?b.value.filter(u=>u.name.toLowerCase().includes(d.value.toLowerCase())):b.value);we(async()=>{w&&await n(w)});const n=async u=>{try{s.value=!0;const g=await _.fetchBranchProductions(u);console.log("Fetched data:",g),console.log("Production rows:",b.value),b.value.length||(c.value=!0)}catch{c.value=!0}finally{s.value=!1}};Te(d,async u=>{s.value=!0,await new Promise(g=>setTimeout(g,1e3)),s.value=!1,c.value=m.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:u=>ue.formatDate(u,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],i=Re(),f=(u,g)=>{i.dialog({component:_n,componentProps:{reports:u,reportLabel:g}})};return(u,g)=>(x(),S(O,null,[a("div",null,[e(E,{modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=p=>d.value=p),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),s.value?(x(),S("div",gn,[e(Ge,{size:"50px",color:"primary"})])):(x(),S("div",vn,[m.value.length===0?(x(),S("div",hn,[e(ne,{name:"warning",color:"warning",size:"4em"}),yn])):(x(),U(ie,{key:1,class:"table-container sticky-header",filter:d.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:m.value,"row-key":"reportDate","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":g[1]||(g[1]=p=>k.value=p),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(p=>[e(Q,{props:p},{default:t(()=>[a("div",bn,[e(V,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:R=>f(p.row.AM,"AM")},{default:t(()=>[C("AM")]),_:2},1032,["onClick"]),e(V,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:R=>f(p.row.PM,"PM")},{default:t(()=>[C("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var xn=Y(wn,[["__scopeId","data-v-12387bc6"]]);const kn={__name:"ProductionPage",setup(o){return(v,w)=>(x(),S("div",null,[e(xn)]))}},$n={class:"row justify-between"},Cn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Rn=a("div",{class:"text-h6"},"Decline Report",-1),Pn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const v=Ne(),w=P(""),k=P(!1),_=P(!1),d=P({rowsPerPage:0}),b=Re(),s=o,c=()=>{_.value=!0},m=()=>{k.value=!0},n=async()=>{if(!w.value){b.notify({type:"negative",message:"Remark is required"});return}try{const u=await v.declineReport(s.report.id,w.value);console.log("Report declined:",u),b.notify({type:"negative",message:"Report declined successfully"}),k.value=!1,_.value=!1,w.value=""}catch(u){console.error("Error declining report:",u),b.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const u=await v.confirmReport(s.report.id);console.log("Report confirmed:",u),b.notify({type:"positive",message:"Report confirmed successfully"}),_.value=!1}catch(u){console.error(u)}},l=I(()=>s.report.selecta_added_stocks||[]),i=u=>{const g=F=>F?F.charAt(0).toUpperCase()+F.slice(1).toLowerCase():"",p=u.firstname?g(u.firstname):"No Firstname",R=u.middlename?g(u.middlename).charAt(0)+".":"",D=u.lastname?g(u.lastname):"No Lastname";return`${p} ${R} ${D}`},f=[{name:"product_name",label:"Product Name",field:u=>u.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:u=>u.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:u=>u.added_stocks?`${u.added_stocks} pcs`:"N/A"}];return(u,g)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:c})]),e(K,{modelValue:_.value,"onUpdate:modelValue":g[2]||(g[2]=p=>_.value=p)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",$n,[Cn,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:g[0]||(g[0]=p=>_.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(i(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"yellow",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})])]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:l.value,columns:f,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":g[1]||(g[1]=p=>d.value=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e($,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(V,{color:"negative",label:"Decline",class:"action-btn",onClick:m}),e(V,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:k.value,"onUpdate:modelValue":g[4]||(g[4]=p=>k.value=p)},{default:t(()=>[e(B,null,{default:t(()=>[e($,null,{default:t(()=>[Rn]),_:1}),e($,null,{default:t(()=>[e(E,{modelValue:w.value,"onUpdate:modelValue":g[3]||(g[3]=p=>w.value=p),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[p=>!!p||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Se,{align:"right"},{default:t(()=>[ee(e(V,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(V,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Sn=o=>(ae("data-v-08e549d4"),o=o(),le(),o),Vn={class:"q-gutter-md q-ma-md"},Dn={class:"row justify-between"},qn={class:"text-subtitle1"},Nn={class:"text-subtitle1"},Tn={class:"text-subtitle1"},An={key:1,class:"data-error"},Un=Sn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Bn={__name:"TransactionPendingCard",setup(o){const v=he(),w=Ne(),k=I(()=>w.pendingSelectaReports),_=v.params.branch_id,d=P("pending"),b=async()=>{try{const n=await w.fetchPendingSelectaStocks(_,d.value);console.log(k.value)}catch(n){console.error("Error fetching pending stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Vn,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",Dn,[a("div",qn,y(s(l.created_at)),1),a("div",Nn,y(c(l.created_at)),1),a("div",Tn,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"yellow",outlined:""},{default:t(()=>[C(" Pending ")]),_:1})]),a("div",null,[e(Pn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",An,[e(ne,{name:"warning",color:"warning",size:"4em"}),Un]))])]),_:1})]))}};var Fn=Y(Bn,[["__scopeId","data-v-08e549d4"]]);const In={class:"row justify-between"},Ln=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Mn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Ne(),P(!1);const v=P(!1),w=()=>{v.value=!0};Re();const k=o,_=I(()=>(console.log("Filtered rows:",k.report||[]),k.report.selecta_added_stocks||[])),d=s=>{const c=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",m=s.firstname?c(s.firstname):"No Firstname",n=s.middlename?c(s.middlename).charAt(0)+".":"",r=s.lastname?c(s.lastname):"No Lastname";return`${m} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,c)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=m=>v.value=m)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",In,[Ln,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=m=>v.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(d(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"green",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})])]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:_.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":c[1]||(c[1]=m=>s.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const zn=o=>(ae("data-v-c1019cbc"),o=o(),le(),o),Hn={class:"q-gutter-md q-ma-md"},On={class:"row justify-between"},jn={class:"text-subtitle1"},Qn={class:"text-subtitle1"},En={class:"text-subtitle1"},Kn={key:1,class:"data-error"},Yn=zn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Gn={__name:"TransactionConfirmedCard",setup(o){const v=he(),w=Ne(),k=I(()=>w.confirmedSelectaReports),_=v.params.branch_id,d=P("confirmed"),b=async()=>{try{const n=await w.fetchConfirmedSelectaStocks(_,d.value);console.log(k.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Hn,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",On,[a("div",jn,y(s(l.created_at)),1),a("div",Qn,y(c(l.created_at)),1),a("div",En,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"green",outlined:""},{default:t(()=>[C(y(l.status),1)]),_:2},1024)]),a("div",null,[e(Mn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",Kn,[e(ne,{name:"warning",color:"warning",size:"4em"}),Yn]))])]),_:1})]))}};var Jn=Y(Gn,[["__scopeId","data-v-c1019cbc"]]);const Wn={class:"row justify-between"},Xn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Zn={class:"q-mt-md"},eo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Ne(),P(!1);const v=P(!1),w=()=>{v.value=!0},k=o,_=I(()=>(console.log("Filtered rows:",k.report||[]),k.report.selecta_added_stocks||[])),d=s=>{const c=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",m=s.firstname?c(s.firstname):"No Firstname",n=s.middlename?c(s.middlename).charAt(0)+".":"",r=s.lastname?c(s.lastname):"No Lastname";return`${m} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,c)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=m=>v.value=m)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",Wn,[Xn,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=m=>v.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(d(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"red",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})]),a("div",Zn,"Remark: "+y(o.report.remark),1)]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:_.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":c[1]||(c[1]=m=>s.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const to=o=>(ae("data-v-6b801095"),o=o(),le(),o),ao={class:"q-gutter-md q-ma-md"},lo={class:"row justify-between"},no={class:"text-subtitle1"},oo={class:"text-subtitle1"},so={class:"text-subtitle1"},ro={key:1,class:"data-error"},io=to(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),co={__name:"TransactionDeclinedCard",setup(o){const v=he(),w=Ne(),k=I(()=>w.declinedSelectaReports),_=v.params.branch_id,d=P("declined"),b=async()=>{try{const n=await w.fetchDeclinedSelectaStocks(_,d.value);console.log("selectedProductsDeclined",k.value)}catch(n){console.error("Error fetching decline stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ao,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",lo,[a("div",no,y(s(l.created_at)),1),a("div",oo,y(c(l.created_at)),1),a("div",so,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"red",outlined:""},{default:t(()=>[C(y(l.status),1)]),_:2},1024)]),a("div",null,[e(eo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",ro,[e(ne,{name:"warning",color:"warning",size:"4em"}),io]))])]),_:1})]))}};var uo=Y(co,[["__scopeId","data-v-6b801095"]]);const mo={class:"q-gutter-y-sm"},po={__name:"SelectaTransactionPage",setup(o){const v=P("pendingReports"),w=I(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(k,_)=>(x(),S(O,null,[a("div",mo,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":_[0]||(_[0]=d=>v.value=d),"indicator-color":w.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(de,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(de,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(de,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=d=>v.value=d),animated:""},{default:t(()=>[e(ce,{name:"pendingReports"},{default:t(()=>[e(Fn)]),_:1}),e(ce,{name:"confirmReports"},{default:t(()=>[e(Jn)]),_:1}),e(ce,{name:"declineReports"},{default:t(()=>[e(uo)]),_:1})]),_:1},8,["modelValue"])],64))}};var _o=Y(po,[["__scopeId","data-v-6cbd59c6"]]);const fo={class:"row justify-between"},go=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),vo=a("div",{class:"text-h6"},"Decline Report",-1),ho={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const v=Me(),w=P(""),k=P(!1),_=P(!1),d=P({rowPerPage:0}),b=Re(),s=o,c=()=>{_.value=!0},m=()=>{k.value=!0},n=async()=>{if(!w.value){b.notify({type:"negative",message:"Remark is required"});return}try{const u=await v.declineReport(s.report.id,w.value);console.log("Report declined:",u),b.notify({type:"negative",message:"Report declined successfully"}),k.value=!1,_.value=!1,w.value=""}catch(u){console.error("Error declining report:",u),b.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const u=await v.confirmReport(s.report.id);console.log("Report confirmed:",u),b.notify({type:"positive",message:"Report confirmed successfully"}),_.value=!1}catch(u){console.error(u)}},l=I(()=>s.report.softdrinks_added_stocks||[]),i=u=>{const g=F=>F?F.charAt(0).toUpperCase()+F.slice(1).toLowerCase():"",p=u.firstname?g(u.firstname):"No Firstname",R=u.middlename?g(u.middlename).charAt(0)+".":"",D=u.lastname?g(u.lastname):"No Lastname";return`${p} ${R} ${D}`},f=[{name:"product_name",label:"Product Name",field:u=>u.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:u=>u.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:u=>u.added_stocks?`${u.added_stocks} pcs`:"N/A"}];return(u,g)=>(x(),S("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:c}),e(K,{modelValue:_.value,"onUpdate:modelValue":g[2]||(g[2]=p=>_.value=p)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",fo,[go,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:g[0]||(g[0]=p=>_.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(i(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"yellow",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})])]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:l.value,columns:f,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":g[1]||(g[1]=p=>d.value=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e($,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(V,{color:"negative",label:"Decline",class:"action-btn",onClick:m}),e(V,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:k.value,"onUpdate:modelValue":g[4]||(g[4]=p=>k.value=p)},{default:t(()=>[e(B,null,{default:t(()=>[e($,null,{default:t(()=>[vo]),_:1}),e($,null,{default:t(()=>[e(E,{modelValue:w.value,"onUpdate:modelValue":g[3]||(g[3]=p=>w.value=p),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[p=>!!p||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Se,{align:"right"},{default:t(()=>[ee(e(V,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(V,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const yo=o=>(ae("data-v-7ba0107e"),o=o(),le(),o),bo={class:"q-gutter-md q-ma-md"},wo={class:"row justify-between"},xo={class:"text-subtitle1"},ko={class:"text-subtitle1"},$o={class:"text-subtitle1"},Co={key:1,class:"data-error"},Ro=yo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Po={__name:"TransactionPendingCard",setup(o){const v=he(),w=Me(),k=I(()=>w.pendingSoftdrinksReports),_=v.params.branch_id,d=P("pending"),b=async()=>{try{const n=await w.fetchPendingSoftdrinksStocks(_,d.value);console.log(k.value)}catch(n){console.error("Error fetching pending stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",bo,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",wo,[a("div",xo,y(s(l.created_at)),1),a("div",ko,y(c(l.created_at)),1),a("div",$o,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"yellow",outlined:""},{default:t(()=>[C(" Pending ")]),_:1})]),a("div",null,[e(ho,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",Co,[e(ne,{name:"warning",color:"warning",size:"4em"}),Ro]))])]),_:1})]))}};var So=Y(Po,[["__scopeId","data-v-7ba0107e"]]);const Vo={class:"row justify-between"},Do=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),qo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Me(),P(!1);const v=P(!1),w=()=>{v.value=!0},k=o,_=I(()=>(console.log("Filtered rows:",k.report||[]),k.report.softdrinks_added_stocks||[])),d=s=>{const c=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",m=s.firstname?c(s.firstname):"No Firstname",n=s.middlename?c(s.middlename).charAt(0)+".":"",r=s.lastname?c(s.lastname):"No Lastname";return`${m} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,c)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=m=>v.value=m)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",Vo,[Do,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=m=>v.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(d(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"green",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})])]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:_.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":c[1]||(c[1]=m=>s.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const No=o=>(ae("data-v-2b1290c8"),o=o(),le(),o),To={class:"q-gutter-md q-ma-md"},Ao={class:"row justify-between"},Uo={class:"text-subtitle1"},Bo={class:"text-subtitle1"},Fo={class:"text-subtitle1"},Io={key:1,class:"data-error"},Lo=No(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Mo={__name:"TransactionConfirmedCard",setup(o){const v=he(),w=Me(),k=I(()=>w.confirmedSoftdrinksReports),_=v.params.branch_id,d=P("confirmed"),b=async()=>{try{const n=await w.fetchConfirmedSoftdrinksStocks(_,d.value);console.log(k.value)}catch(n){console.error("Error fetching confirmed stocks",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",To,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",Ao,[a("div",Uo,y(s(l.created_at)),1),a("div",Bo,y(c(l.created_at)),1),a("div",Fo,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"green",outlined:""},{default:t(()=>[C(y(l.status),1)]),_:2},1024)]),a("div",null,[e(qo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",Io,[e(ne,{name:"warning",color:"warning",size:"4em"}),Lo]))])]),_:1})]))}};var zo=Y(Mo,[["__scopeId","data-v-2b1290c8"]]);const Ho={class:"row justify-between"},Oo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),jo={class:"q-mt-md"},Qo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Me();const v=P(!1),w=()=>{v.value=!0},k=o,_=I(()=>(console.log("Filtered rows:",k.report||[]),k.report.softdrinks_added_stocks)),d=s=>{const c=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",m=s.firstname?c(s.firstname):"No Firstname",n=s.middlename?c(s.middlename).charAt(0)+".":"",r=s.lastname?c(s.lastname):"No Lastname";return`${m} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,c)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=m=>v.value=m)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",Ho,[Oo,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=m=>v.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(d(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"red",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})]),a("div",jo,"Remark: "+y(o.report.remark),1)]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:_.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":c[1]||(c[1]=m=>s.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Eo=o=>(ae("data-v-51a1abe5"),o=o(),le(),o),Ko={class:"q-gutter-md q-ma-md"},Yo={class:"row justify-between"},Go={class:"text-subtitle1"},Jo={class:"text-subtitle1"},Wo={class:"text-subtitle1"},Xo={key:1,class:"data-error"},Zo=Eo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),es={__name:"TransactionDeclinedCard",setup(o){const v=he(),w=Me(),k=I(()=>w.declinedSoftdrinksReports),_=v.params.branch_id,d=P("declined"),b=async()=>{try{const n=await w.fetchDeclinedSoftdrinksStocks(_,d.value);console.log("softdrinksProductsDeclined",k.value)}catch(n){console.error("Error fetching decline stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),U(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Ko,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",Yo,[a("div",Go,y(s(l.created_at)),1),a("div",Jo,y(c(l.created_at)),1),a("div",Wo,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"red",outlined:""},{default:t(()=>[C(y(l.status),1)]),_:2},1024)]),a("div",null,[e(Qo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",Xo,[e(ne,{name:"warning",color:"warning",size:"4em"}),Zo]))])]),_:1}))}};var ts=Y(es,[["__scopeId","data-v-51a1abe5"]]);const as={class:"q-gutter-y-sm"},ls={__name:"SoftdrinksTransactionPage",setup(o){const v=P("pendingReports"),w=I(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(k,_)=>(x(),S(O,null,[a("div",as,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":_[0]||(_[0]=d=>v.value=d),"indicator-color":w.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(de,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(de,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(de,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=d=>v.value=d),animated:""},{default:t(()=>[e(ce,{name:"pendingReports"},{default:t(()=>[e(So)]),_:1}),e(ce,{name:"confirmReports"},{default:t(()=>[e(zo)]),_:1}),e(ce,{name:"declineReports"},{default:t(()=>[e(ts)]),_:1})]),_:1},8,["modelValue"])],64))}};var ns=Y(ls,[["__scopeId","data-v-368f5ccc"]]);const os={class:"row justify-between"},ss=a("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),rs=a("div",{class:"text-h6"},"Decline Report",-1),is={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const v=Je(),w=P(""),k=P(!1),_=P(!1),d=P({rowsPerPage:0}),b=()=>{_.value=!0},s=()=>{k.value=!0},c=o,m=async()=>{if(!w.value){ve.create({type:"negative",message:"Remark is required"});return}try{const f=await v.declineReport(c.report.id,w.value);console.log("Report declined:",f),ve.create({type:"negative",message:"Report declined successfully"}),k.value=!1,_.value=!1,w.value=""}catch(f){console.error("Error declining report:",f),ve.create({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const f=await v.confirmReport(c.report.id);console.log("Report confirmed:",f),ve.create({type:"positive",message:"Report confirmed successfully"}),_.value=!1}catch(f){console.error(f)}},r=I(()=>c.report.other_added_stock||[]),l=[{name:"product_name",label:"Product Name",field:f=>f.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:f=>f.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:f=>f.added_stocks?`${f.added_stocks} pcs`:"N/A"}],i=f=>{const u=D=>D?D.charAt(0).toUpperCase()+D.slice(1).toLowerCase():"",g=f.firstname?u(f.firstname):"No Firstname",p=f.middlename?u(f.middlename).charAt(0)+".":"",R=f.lastname?u(f.lastname):"No Lastname";return`${g} ${p} ${R}`};return(f,u)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:b})]),e(K,{modelValue:_.value,"onUpdate:modelValue":u[2]||(u[2]=g=>_.value=g)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",os,[ss,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:u[0]||(u[0]=g=>_.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(i(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"yellow",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})])]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:r.value,columns:l,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":u[1]||(u[1]=g=>d.value=g),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e($,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(V,{color:"negative",label:"Decline",class:"action-btn",onClick:s}),e(V,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:k.value,"onUpdate:modelValue":u[4]||(u[4]=g=>k.value=g)},{default:t(()=>[e(B,null,{default:t(()=>[e($,null,{default:t(()=>[rs]),_:1}),e($,null,{default:t(()=>[e(E,{modelValue:w.value,"onUpdate:modelValue":u[3]||(u[3]=g=>w.value=g),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[g=>!!g||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Se,{align:"right"},{default:t(()=>[ee(e(V,{flat:"",label:"Cancel",color:"primary"},null,512),[[te]]),e(V,{flat:"",label:"Confirm",color:"negative",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ds=o=>(ae("data-v-355e3e60"),o=o(),le(),o),cs={class:"q-gutter-md q-ma-md"},us={key:0},ms={class:"row justify-between"},ps={class:"text-subtitle1"},_s={class:"text-subtitle1"},fs={class:"text-subtitle1"},gs={key:1,class:"data-error"},vs=ds(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),hs={__name:"TransactionPendingCard",setup(o){const v=he(),w=Je(),k=I(()=>w.pendingOtherReports),_=v.params.branch_id,d=P("pending"),b=async()=>{try{const n=await w.fetchPendingOtherStocks(_,d.value);console.log(k.value)}catch(n){console.error("Error fetching pending stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",cs,[k.value.length?(x(),S("div",us,[(x(!0),S(O,null,pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",ms,[a("div",ps,y(s(l.created_at)),1),a("div",_s,y(c(l.created_at)),1),a("div",fs,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"yellow",outlined:""},{default:t(()=>[C(" Pending ")]),_:1})]),a("div",null,[e(is,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(x(),S("div",gs,[e(ne,{name:"warning",color:"warning",size:"4em"}),vs]))])]),_:1})]))}};var ys=Y(hs,[["__scopeId","data-v-355e3e60"]]);const bs={class:"row justify-between"},ws=a("div",{class:"text-h6"},"Other Added Stocks Report",-1),xs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Ne(),P(!1);const v=P(!1),w=()=>{v.value=!0};Re();const k=o,_=I(()=>(console.log("Filtered rows:",k.report||[]),k.report.other_added_stock||[])),d=s=>{const c=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",m=s.firstname?c(s.firstname):"No Firstname",n=s.middlename?c(s.middlename).charAt(0)+".":"",r=s.lastname?c(s.lastname):"No Lastname";return`${m} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,c)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=m=>v.value=m)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",bs,[ws,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=m=>v.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(d(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"green",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})])]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:_.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":c[1]||(c[1]=m=>s.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ks=o=>(ae("data-v-5b0a7351"),o=o(),le(),o),$s={class:"q-gutter-md q-ma-md"},Cs={class:"row justify-between"},Rs={class:"text-subtitle1"},Ps={class:"text-subtitle1"},Ss={class:"text-subtitle1"},Vs={key:1,class:"data-error"},Ds=ks(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),qs={__name:"TransactionConfirmedCard",setup(o){const v=he(),w=Je(),k=I(()=>w.confirmedOtherReports),_=v.params.branch_id,d=P("confirmed"),b=async()=>{try{const n=await w.fetchConfirmedOtherStocks(_,d.value);console.log(k.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",$s,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",Cs,[a("div",Rs,y(s(l.created_at)),1),a("div",Ps,y(c(l.created_at)),1),a("div",Ss,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"green",outlined:""},{default:t(()=>[C(y(l.status),1)]),_:2},1024)]),a("div",null,[e(xs,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",Vs,[e(ne,{name:"warning",color:"warning",size:"4em"}),Ds]))])]),_:1})]))}};var Ns=Y(qs,[["__scopeId","data-v-5b0a7351"]]);const Ts={class:"row justify-between"},As=a("div",{class:"text-h6"},"Others Added Stocks Report",-1),Us={class:"q-mt-md"},Bs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Ne(),P(!1);const v=P(!1),w=()=>{v.value=!0},k=o,_=I(()=>(console.log("Filtered rows:",k.report||[]),k.report.other_added_stock||[])),d=s=>{const c=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",m=s.firstname?c(s.firstname):"No Firstname",n=s.middlename?c(s.middlename).charAt(0)+".":"",r=s.lastname?c(s.lastname):"No Lastname";return`${m} ${n} ${r}`},b=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,c)=>(x(),S(O,null,[a("div",null,[e(V,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(K,{modelValue:v.value,"onUpdate:modelValue":c[2]||(c[2]=m=>v.value=m)},{default:t(()=>[e(B,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e($,null,{default:t(()=>[a("div",Ts,[As,e(V,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=m=>v.value=!1)})])]),_:1}),e($,null,{default:t(()=>[a("div",null,"Cashier: "+y(d(o.report.employee)),1),a("div",null," Branch: "+y(o.report.branch.name),1),a("div",null,[C(" Status: "),e(se,{color:"red",outlined:""},{default:t(()=>[C(y(o.report.status),1)]),_:1})]),a("div",Us,"Remark: "+y(o.report.remark),1)]),_:1}),e($,null,{default:t(()=>[e(ie,{rows:_.value,columns:b,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":c[1]||(c[1]=m=>s.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Fs=o=>(ae("data-v-67ff56ab"),o=o(),le(),o),Is={class:"q-gutter-md q-ma-md"},Ls={class:"row justify-between"},Ms={class:"text-subtitle1"},zs={class:"text-subtitle1"},Hs={class:"text-subtitle1"},Os={key:1,class:"data-error"},js=Fs(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Qs={__name:"TransactionDeclinedCard",setup(o){const v=he(),w=Je(),k=I(()=>w.declinedOtherReports),_=v.params.branch_id,d=P("declined"),b=async()=>{try{const n=await w.fetchDeclinedOtherStocks(_,d.value);console.log("selectedOtherProductDeclined",k.value)}catch(n){console.error("Error fetching decline stocks:",n)}};we(async()=>{_&&await b()});const s=n=>ue.formatDate(n,"MMMM D, YYYY"),c=n=>ue.formatDate(n,"hh:mm A"),m=n=>{const r=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",f=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${f}`};return(n,r)=>(x(),S("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Is,[k.value.length?(x(!0),S(O,{key:0},pe(k.value,(l,i)=>(x(),U(B,{key:i},{default:t(()=>[e($,null,{default:t(()=>[a("div",Ls,[a("div",Ms,y(s(l.created_at)),1),a("div",zs,y(c(l.created_at)),1),a("div",Hs,y(l.branch.name)+" - "+y(m(l.employee)),1),a("div",null,[e(se,{color:"red",outlined:""},{default:t(()=>[C(y(l.status),1)]),_:2},1024)]),a("div",null,[e(Bs,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),S("div",Os,[e(ne,{name:"warning",color:"warning",size:"4em"}),js]))])]),_:1})]))}};var Es=Y(Qs,[["__scopeId","data-v-67ff56ab"]]);const Ks={class:"q-gutter-y-sm"},Ys={__name:"OtherTransactionPage",setup(o){const v=P("pendingReports"),w=I(()=>{switch(v.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(k,_)=>(x(),S(O,null,[a("div",Ks,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":_[0]||(_[0]=d=>v.value=d),"indicator-color":w.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(de,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(de,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(de,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=d=>v.value=d),animated:""},{default:t(()=>[e(ce,{name:"pendingReports"},{default:t(()=>[e(ys)]),_:1}),e(ce,{name:"confirmReports"},{default:t(()=>[e(Ns)]),_:1}),e(ce,{name:"declineReports"},{default:t(()=>[e(Es)]),_:1})]),_:1},8,["modelValue"])],64))}};var Gs=Y(Ys,[["__scopeId","data-v-b76c19b4"]]);const ct=o=>(ae("data-v-0a732ed6"),o=o(),le(),o),Js={class:"q-gutter-y-sm"},Ws=ct(()=>a("h1",null,"Bread",-1)),Xs=ct(()=>a("h1",null,"Cake",-1)),Zs={__name:"TransactionPage",setup(o){const v=P("bread");return(w,k)=>(x(),S(O,null,[a("div",Js,[e(Ie,{modelValue:v.value,"onUpdate:modelValue":k[0]||(k[0]=_=>v.value=_),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(de,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(de,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(de,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(de,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(de,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Le,{modelValue:v.value,"onUpdate:modelValue":k[1]||(k[1]=_=>v.value=_),animated:""},{default:t(()=>[e(ce,{name:"bread"},{default:t(()=>[e(B,null,{default:t(()=>[Ws]),_:1})]),_:1}),e(ce,{name:"selecta"},{default:t(()=>[e(_o)]),_:1}),e(ce,{name:"softdrinks"},{default:t(()=>[e(ns)]),_:1}),e(ce,{name:"cake"},{default:t(()=>[e(B,null,{default:t(()=>[Xs]),_:1})]),_:1}),e(ce,{name:"other"},{default:t(()=>[e(Gs)]),_:1})]),_:1},8,["modelValue"])],64))}};var er=Y(Zs,[["__scopeId","data-v-0a732ed6"]]);const Ue=o=>(ae("data-v-f0d86c36"),o=o(),le(),o),tr=Ue(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),ar={class:"q-mb-lg"},lr={key:0,class:"custom-list z-top"},nr={class:"q-mb-sm"},or=Ue(()=>a("div",null,"Recipe Name",-1)),sr={class:"q-mb-lg"},rr=Ue(()=>a("div",null,"Category",-1)),ir=Ue(()=>a("div",null,"Breads",-1)),dr={class:"q-mt-md q-gutter-y-sm"},cr=Ue(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),ur={class:"q-mt-xl q-gutter-y-sm"},mr={class:"row justify-between"},pr=Ue(()=>a("div",{align:"center"},"Ingredients",-1)),_r=Ue(()=>a("div",{align:"center"},"Quantity",-1)),fr=["onKeyup"],gr={align:"right"},vr={__name:"RecipeCreate",setup(o){const v=he(),w=v.params.branch_id,k=yt(),_=I(()=>k.recipes),d=Ee(),b=lt(),s=Ee(),c=I(()=>d.branchRecipes),m=P(!1),n=()=>{m.value=!0},r=()=>{clearForm(),m.value=!1},l=M=>M?M.split(" ").map(z=>z.charAt(0).toUpperCase()+z.slice(1).toLowerCase()).join(" "):"",i=P(""),f=async()=>{k.searchRecipe(i.value)},u=I(()=>p.target!==0),g=M=>{p.recipe_id=M.id,p.recipe_name=M.name,p.category=M.category,i.value=""},p=He({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:v.params.branch_id}),R=P(!1),D=P(null),F=P([]),N=P(F.value),A=P([]),h=P([]),q=He({name:"",quantity:""}),T=P(h.value);(async()=>{await b.fetchProductsByCategory("Bread"),R.value=!1,F.value=b.breads.map(M=>({label:M.name,value:M.id}))})(),(async()=>{const M="Ingredients";await s.fetchBranchRawMaterials(M,w),R.value=!1,h.value=s.ingredients.map(z=>({label:z.raw_material_name,value:z.raw_material_id,unit:z.ingredient_unit}))})();const $e=()=>{q.name="",q.quantity=""},L=(M,z)=>{M.length>2&&(F.value.includes(M)||z(M,"add-unique"))},X=(M,z)=>{z(()=>{if(M==="")N.value=F.value;else{const ke=M.toLowerCase();N.value=F.value.filter(J=>J.label.toLowerCase().indexOf(ke)>-1)}})},H=(M,z)=>{z(()=>{if(M==="")T.value=h.value;else{const ke=M.toLowerCase();T.value=h.value.filter(J=>J.label.toLowerCase().indexOf(ke)>-1)}})},Z=()=>{const M=A.value;function z(Ce,Be){return Ce.find(Oe=>Oe.ingredients_id==Be)}const ke=q.name.value;z(M,ke)?ve.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(A.value=[...M,{ingredients_id:q.name.value,label:q.name.label,quantity:q.quantity,unit:q.name.unit}],$e())},ye=M=>{A.value.splice(M,1)};Te(()=>q.name,M=>{M&&M.unit?q.unit=M.unit:q.unit=""});const fe=()=>{p.recipe_id="",p.target="",D.value=null,A.value=[],q.name="",q.quantity=""},be=async()=>{const M={recipe_id:p.recipe_id,target:p.target,status:"active",branch_id:p.branches_id,breads:D.value.map(z=>({bread_id:z.value})),ingredients:A.value.map(z=>({ingredient_id:z.ingredients_id,quantity:z.quantity}))};console.log("branchRecipe",M),await d.saveBranchRecipe(M),c.value=await d.fetchBranchRecipes(w),fe(),m.value=!1};return(M,z)=>(x(),S(O,null,[e(V,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:n}),e(K,{modelValue:m.value,"onUpdate:modelValue":z[7]||(z[7]=ke=>m.value=ke)},{default:t(()=>[e(B,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e($,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[tr,e(Ve),ee(e(V,{icon:"close",flat:"",dense:"",round:""},null,512),[[te]])]),_:1}),e($,null,{default:t(()=>{var ke;return[a("div",ar,[e(E,{modelValue:i.value,"onUpdate:modelValue":[z[0]||(z[0]=J=>i.value=J),f],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[i.value?(x(),S("div",lr,[e(B,null,{default:t(()=>[e(qe,{separator:""},{default:t(()=>{var J;return[(J=_.value)!=null&&J.length?(x(!0),S(O,{key:1},pe(_.value,Ce=>(x(),U(ge,{onClick:Be=>g(Ce),key:Ce.id,clickable:""},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[C(y(l(Ce.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),U(ge,{key:0},{default:t(()=>[C(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ke("",!0)]),_:1},8,["modelValue"])]),a("div",nr,[or,e(E,{modelValue:p.recipe_name,"onUpdate:modelValue":z[1]||(z[1]=J=>p.recipe_name=J),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",sr,[rr,e(E,{modelValue:p.category,"onUpdate:modelValue":z[2]||(z[2]=J=>p.category=J),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(E,{modelValue:p.target,"onUpdate:modelValue":z[3]||(z[3]=J=>p.target=J),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),a("div",null,[ir,e(We,{modelValue:D.value,"onUpdate:modelValue":z[4]||(z[4]=J=>D.value=J),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:N.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:L,onFilter:X,rules:[J=>J&&J.length>0||"Bread is required"]},{"no-option":t(()=>[e(ge,null,{default:t(()=>[e(W,{class:"text-grey"},{default:t(()=>[C(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",dr,[cr,a("div",null,[e(qe,{dense:"",separator:"",class:"box"},{default:t(()=>[(x(!0),S(O,null,pe(A.value,(J,Ce)=>(x(),U(ge,{key:Ce},{default:t(()=>[e(W,null,{default:t(()=>[e(re,null,{default:t(()=>[C(y(J.label),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[C(y(J.quantity)+" "+y(J.unit),1)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(V,{onClick:Be=>ye(Ce),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",ur,[a("div",mr,[a("div",null,[pr,e(We,{modelValue:q.name,"onUpdate:modelValue":z[5]||(z[5]=J=>q.name=J),debounce:"3000",outlined:"","chips-color":"primary",options:T.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:H,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ge,null,{default:t(()=>[e(W,{class:"text-grey"},{default:t(()=>[C(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[_r,e(E,{modelValue:q.quantity,"onUpdate:modelValue":z[6]||(z[6]=J=>q.quantity=J),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((ke=q==null?void 0:q.name)==null?void 0:ke.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Ae(_t(Z,["prevent"]),["enter"])},[a("div",gr,[e(V,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Z})])],40,fr)])]}),_:1}),e(Se,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(V,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(V,{class:"glossy",color:"teal",label:"Create",onClick:be,disable:!u.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var hr=Y(vr,[["__scopeId","data-v-f0d86c36"]]);const ut=o=>(ae("data-v-33664d62"),o=o(),le(),o),yr=ut(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),br=ut(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),wr={__name:"RecipeDelete",props:["delete"],setup(o){const v=Ee(),w=o,k=P(!1),_=()=>{k.value=!0},d=async()=>{await v.deleteRecipe(w.delete.row.id),k.value=!1};return(b,s)=>(x(),S(O,null,[e(V,{onClick:_,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(oe,{class:"bg-negative",delay:200},{default:t(()=>[C("Delete")]),_:1})]),_:1}),e(K,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=c=>k.value=c),persistent:""},{default:t(()=>[e(B,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e($,{class:"q-pt-none q-pb-sm"},{default:t(()=>[yr,br]),_:1}),e(Ye,{class:"q-mb-md"}),e($,null,{default:t(()=>[e(Se,{align:"right",class:"q-pt-none"},{default:t(()=>[ee(e(V,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[te]]),e(V,{dense:"",label:"Delete",color:"negative",onClick:d,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var xr=Y(wr,[["__scopeId","data-v-33664d62"]]);const kr=o=>(ae("data-v-7a561dd0"),o=o(),le(),o),$r={class:"text-h6 text-white"},Cr=kr(()=>a("div",{class:"text-h6",align:"center"},"Bread List",-1)),Rr={class:"row",align:"center"},Pr={__name:"RecipeBreadGroups",props:["breadGroups"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe();console.log("breadGroups",o.breadGroups);const b=s=>s?s.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"";return(s,c)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(B,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e($,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",$r,y(b(o.breadGroups.name)),1),e(Ve),a("div",null,[ee(e(V,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[te]])])]),_:1}),e($,null,{default:t(()=>[Cr]),_:1}),e($,null,{default:t(()=>[(x(!0),S(O,null,pe(o.breadGroups.bread_groups,(m,n)=>(x(),S("div",{key:n},[a("div",Rr,y(m),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Sr=Y(Pr,[["__scopeId","data-v-7a561dd0"]]);const Vr=o=>(ae("data-v-435e3b8f"),o=o(),le(),o),Dr={class:"text-h6 text-white"},qr=Vr(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Nr={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(o){const{dialogRef:v,onDialogHide:w,onDialogOK:k,onDialogCancel:_}=xe();console.log("ingredientGroups",o.ingredientGroups);const b=c=>c?c.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",s=c=>{const m=Number(c.quantity)||0,n=c.unit||"";return m>1e3?`${parseFloat((m/1e3).toFixed(3))} kg`:m>1?`${parseFloat(m.toFixed(3))} ${n}`:`${parseFloat(m.toFixed(3))} ${n}`};return(c,m)=>(x(),U(K,{ref_key:"dialogRef",ref:v,onHide:j(w),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(B,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e($,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",Dr,y(b(o.ingredientGroups.name)),1),e(Ve),a("div",null,[ee(e(V,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[te]])])]),_:1}),e($,null,{default:t(()=>[qr]),_:1}),e($,null,{default:t(()=>[e(qe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ge,null,{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Raw Materials Name")]),_:1})]),_:1}),e(W,null,{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Code")]),_:1})]),_:1}),e(W,{side:""},{default:t(()=>[e(re,{class:"text-overline"},{default:t(()=>[C("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),S(O,null,pe(o.ingredientGroups.ingredient_groups,(n,r)=>(x(),U(ge,{key:r},{default:t(()=>[e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(n.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(W,null,{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(n.code),1)]),_:2},1024)]),_:2},1024),e(W,{side:""},{default:t(()=>[e(re,{class:"text-caption"},{default:t(()=>[C(y(s(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Tr=Y(Nr,[["__scopeId","data-v-435e3b8f"]]);const Ar=o=>(ae("data-v-89832402"),o=o(),le(),o),Ur={class:"row justify-between"},Br={class:"q-my-sm"},Fr={key:0,class:"spinner-wrapper"},Ir={key:1},Lr={key:0,class:"data-error"},Mr=Ar(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zr={class:"row justify-center q-gutter-x-md"},Hr={__name:"RecipeTable",setup(o){const w=he().params.branch_id,k=Ee(),_=P(""),d=P(!0),b=P([]),s=P(!1),c=P({rowsPerPage:0}),m=["inactive","active"],n=I(()=>k.branchRecipes);console.log("branch recipe",n.value);const r=I(()=>_.value?n.value.filter(h=>h.name.toLowerCase().includes(_.value.toLowerCase())):n.value);we(async()=>{w&&await l(w)});const l=async h=>{try{d.value=!0;const q=await k.fetchBranchRecipes(h);n.value=q,console.log("branchRecipeRows",n.value),n.value.length||(s.value=!0),console.log("Branch recipe",n.value)}catch(q){console.log("Error fetching recipe",q)}finally{d.value=!1}},i=h=>{const q=Number(h)||0;return parseFloat(q.toFixed(3)).toString()},f=h=>!h&&h!==0?"Set Target":typeof h=="number"||!isNaN(h)?(h=parseFloat(h),h%1===0?h:parseFloat(h.toFixed(1))):h;async function u(h,q){try{const T=await Pe.put("/api/update-target/"+h.id,{target:parseFloat(q)});if(console.log("response",T),T.status==200){const G=b.value.findIndex(_e=>_e.id==h.id);b.value[G]=q}ve.create({type:"positive",message:"Recipe target edited successfully"})}catch(T){console.error("Error updating recipe target:",T),ve.create({type:"negative",message:"Failed to edit recipe target"})}}async function g(h,q){try{if((await Pe.put("/api/branch-update-status/"+h.id,{status:q})).status==200){const G=b.value.findIndex(_e=>_e.id==h.id);b.value[G]=q}ve.create({type:"positive",message:"Recipe status change successfully"})}catch(T){console.error("Error updating recipe status:",T),ve.create({type:"negative",message:"Failed to change recipe status"})}}const p=h=>h?h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",R=[{name:"name",label:"Recipe name",align:"center",field:h=>h.name},{name:"category",label:"Category",align:"center",field:h=>h.recipe},{name:"target",label:"Target",align:"center",field:h=>f(h.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],D=Re(),F=h=>{console.log("Bread Groups:",h),D.dialog({component:Sr,componentProps:{breadGroups:h}})},N=h=>{console.log("Ingredients Groups:",h),D.dialog({component:Tr,componentProps:{ingredientGroups:h}})},A=h=>{switch(h){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(h,q)=>(x(),S(O,null,[a("div",Ur,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:_.value,"onUpdate:modelValue":q[0]||(q[0]=T=>_.value=T),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Br,[e(hr)])]),d.value?(x(),S("div",Fr,[e(Ge,{size:"50px",color:"primary"})])):(x(),S("div",Ir,[r.value.length===0?(x(),S("div",Lr,[e(ne,{name:"warning",color:"warning",size:"4em"}),Mr])):(x(),U(ie,{key:1,class:"table-container sticky-header",filter:_.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:R,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:c.value,"onUpdate:pagination":q[1]||(q[1]=T=>c.value=T),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(T=>[e(Q,{props:T},{default:t(()=>[a("span",null,y(p(T.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(T=>[e(Q,{props:T},{default:t(()=>[a("span",null,y(p(T.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(T=>[e(Q,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[C(y(i(T.row.target))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[C("Edit Target")]),_:1})]),e(Fe,{"onUpdate:modelValue":[G=>u(T.row,G),G=>T.row.target=G],modelValue:T.row.target,"auto-save":""},{default:t(G=>[e(E,{modelValue:G.value,"onUpdate:modelValue":_e=>G.value=_e,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:Ae(G.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(T=>[e(Q,{props:T},{default:t(()=>[e(se,{outline:"",color:A(T.row.status)},{default:t(()=>[C(y(p(T.row.status))+" ",1),e(oe,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[C("Change Status")]),_:1})]),_:2},1032,["color"]),e(Fe,{"onUpdate:modelValue":[G=>g(T.row,G),G=>T.row.status=G],modelValue:T.row.status,"auto-save":""},{default:t(G=>[a("span",null,y(T.row.name),1),e(We,{modelValue:G.value,"onUpdate:modelValue":_e=>G.value=_e,dense:"",label:"status",autofocus:"",options:m,counter:"",mask:"###",onKeyup:Ae(G.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(T=>[e(Q,{props:T},{default:t(()=>[e(V,{"no-caps":"",onClick:G=>F(T.row),label:`${T.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(T=>[e(Q,{props:T},{default:t(()=>[e(V,{"no-caps":"",onClick:G=>N(T.row),label:`${T.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(T=>[e(Q,{props:T},{default:t(()=>[a("div",zr,[e(xr,{delete:T},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Or=Y(Hr,[["__scopeId","data-v-89832402"]]);const jr={__name:"RecipePage",setup(o){return(v,w)=>(x(),S("div",null,[e(Or)]))}};const Qr={class:"elegant-container q-gutter-md"},Er={class:"text-h6 row justify-between"},Kr={class:"q-gutter-sm"},Yr={class:"tab-container"},Gr={__name:"BranchIdPage",setup(o){const v=he(),w=P(""),k=ft(),_=async m=>(await Pe.get(`/api/branches/${m}`)).data,d=async()=>{const m=v.params.branch_id,n=await _(m);n&&n.name?w.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};we(()=>{d()});const b=m=>m?m.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",s=P("products"),c=()=>{je.show(),k.push("/admin/branches").finally(()=>{je.hide()})};return(m,n)=>(x(),U(gt,{padding:""},{default:t(()=>[a("div",Qr,[a("div",Er,[a("div",null,[e(V,{outline:"",flat:"",icon:"arrow_back",onClick:c}),e(Ve)]),a("div",null,[e(ne,{name:"fa-solid fa-store",color:"red-6"}),C(" "+y(b(w.value)),1)])]),a("div",Kr,[a("div",Yr,[e(Ie,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=r=>s.value=r),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(de,{name:"products",label:"Products"}),e(de,{name:"rawMaterials",label:"Raw Materials"}),e(de,{name:"recipe",label:"Recipe"}),e(de,{name:"production",label:"Production"}),e(de,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(B,{class:"q-mt-sm"},{default:t(()=>[e(Le,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=r=>s.value=r),animated:""},{default:t(()=>[e(ce,{name:"products"},{default:t(()=>[e(Qt)]),_:1}),e(ce,{name:"rawMaterials"},{default:t(()=>[e(ga)]),_:1}),e(ce,{name:"recipe"},{default:t(()=>[e(jr)]),_:1}),e(ce,{name:"production"},{default:t(()=>[e(kn)]),_:1}),e(ce,{name:"transaction"},{default:t(()=>[e(er)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Ni=Y(Gr,[["__scopeId","data-v-eb7c826e"]]);export{Ni as default};
