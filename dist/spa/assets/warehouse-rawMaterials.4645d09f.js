import{d,r as o,h as M,P as n,N as i}from"./index.6cf65197.js";import{api as t}from"./axios.03a68e3a.js";import{u as R}from"./raw-material.18ca48b8.js";const N=d("warehouseRawMaterials",()=>{const c=o(null),s=o([]),w=o([]),u=R(),h=M(()=>u.rawMaterials);return{warehouseId:w,warehouseRawMaterial:c,warehouseRawMaterials:s,createWarehouseRawMaterials:async e=>{n.show(),console.log("datassss",e);try{const a=await t.post("/api/warehouse-raw-materials-report",e);if(console.log("responsedfasdfasd",a.data),a.data.message==="Warehouse Raw Materials saved successfully"){const r=h.value.find(p=>p.id===e.raw_material_id),l={...a.data,raw_materials:r||{name:"No Name",code:"Unknown"},total_quantity:e.total_quantity};console.log("newRawMaterials",l),s.value.unshift(l),i.create({type:"positive",message:"Warehouse Raw Materials saved successfully",position:"top"})}else a.data.message==="The RawMaterials already exists in this branch."&&i.create({type:"warning",message:"The Raw Materials already exists in this branch.",position:"top"})}catch(a){console.log(a),i.create({type:"negative",message:"An error occurred while saving the branch product.",position:"top"})}finally{n.hide()}},fetchWarehouseRawMaterials:async e=>{console.log("warehouseId",e);try{const a=await t.get(`/api/warehouse/${e}/rawMaterials`);s.value=a.data}catch(a){console.log("error",a)}},deleteWarehouseRawMaterials:async e=>{await t.delete(`/api/warehouse-raw-materials-report/${e}`),s.value=s.value.filter(a=>a.id!==e)},searchWarehouseRawMaterials:async(e,a)=>{const r=await t.post("/api/search-warehouse-rawMaterials",{keyword:e,warehouse_id:a});s.value=r.data}}});export{N as u};
