import{q as h}from"./date.cee13728.js";import{d as b,r as c,c as l,z as r,N as s}from"./index.95535fc5.js";import{u as E}from"./employee.86b7cbd0.js";import{u as T}from"./branch.d286f92d.js";import{u as v}from"./warehouse.d2332407.js";import{api as _}from"./axios.42e54811.js";const A=b("employmentType",()=>{const e=c(null);return{employmentType:e,fetchEmploymentType:async()=>{const o=await _.get("/api/employment-types");e.value=o.data,console.log("Employementresponse",o.data)}}}),i=E(),u=T(),d=v(),y=A(),D=l(()=>u.branches),M=l(()=>d.warehouses),g=l(()=>y.employmentType),C=e=>{var t;return(t=e==null?void 0:e.designation)!=null&&t.designation_type?e.designation.designation_type==="branch"?D.value:M.value:[]},F=async()=>{await u.fetchBranches()};r(F);const N=async()=>{await d.fetchWarehouses()};r(N);const w=async()=>{await y.fetchEmploymentType(),console.log("employmentTypeList.value",g.value)};r(w);const j=l(()=>g.value.map(e=>({label:e.category,value:e.id}))),a=c(!1),k=async(e,t)=>{a.value=!0;try{const o={id:e.id,firstname:t.firstname||e.firstname,middlename:t.middlename||e.middlename,lastname:t.lastname||e.lastname};await i.updateEmployeeFullname(o),s.create({message:"Fullname updated successfully",color:"positive",position:"top",timeout:2e3})}catch(o){console.error("Error updating fullname:",o),s.create({message:"Failed to update amount",color:"negative",position:"top",timeout:2e3})}finally{a.value=!1}},x=async(e,t,o)=>{console.log("\u2705 employmenTypeOgj() calledsss!"),console.log("\u{1F9E9} New employmenTypeOgj ID:",t),console.log("\u{1F4E6} Original employmenTypeOgj object:",e),a.value=!0;try{const n={employee_id:e.id,employment_type_id:t};console.log("update employmentType",n),await i.updateEmployeeEmploymentType(n),typeof o=="function"&&o()}catch(n){console.log(n)}finally{a.value=!1}},z=async(e,t)=>{a.value=!0;try{const o={id:e.id,address:t};await i.updateEmployeeAddress(o),s.create({message:"Address updated successfully",color:"positive",position:"top",timeout:2e3})}catch(o){console.error("Error updating address:",o),s.create({message:"Failed to update address",color:"negative",position:"top",timeout:2e3})}finally{a.value=!1}},W=async(e,t)=>{a.value=!0;try{const o={id:e.id,phone:t};await i.updateEmployeePhone(o),s.create({message:"Phone number updated successfully",color:"positive",position:"top",timeout:2e3})}catch(o){console.error("Error updating phone number:",o),s.create({message:"Failed to update phone number",color:"negative",position:"top",timeout:2e3})}finally{a.value=!1}},Y=async(e,t)=>{a.value=!0;try{const o={id:e.id,birthdate:t};await i.updateEmployeebirthdate(o),s.create({message:"Birthdate updated successfully",color:"positive",position:"top",timeout:2e3})}catch{s.create({message:"Failed to update birthdate",color:"negative",position:"top",timeout:2e3})}finally{a.value=!1}},R=async(e,t,o)=>{console.log("\u2705 updateEmployeeDesignation() calledsss!"),console.log("\u{1F9E9} New designation ID:",t),console.log("\u{1F4E6} Original designation object:",e),a.value=!0;try{const n={id:e.designation_type_id,designation_id:t,designation_type:e.designation_type};console.log("Employee Designation:",n),await i.updateEmployeeDesignation(n),typeof o=="function"&&o()}catch(n){console.log("designation error:",n)}finally{a.value=!1}},U=async(e,t)=>{console.log("updateEmployeeTimeIn composables",e,t),a.value=!0;try{const o={designation_type:e.designation_type,designation_id:e.designation_type_id,time_in:t};await i.updateEmployeeTimeIn(o)}catch(o){console.error("Error updating time in:",o)}finally{a.value=!1}},H=async(e,t)=>{console.log("updateEmployeeTimeOut composables",e,t),a.value=!0;try{const o={designation_type:e.designation_type,designation_id:e.designation_type_id,time_out:t};await i.updateEmployeeTimeOut(o),s.create({message:"Time OUT updated successfully",color:"positive",position:"top",timeout:2e3})}catch(o){console.error("Error updating time out:",o),s.create({message:"Failed to update amount",color:"negative",position:"top",timeout:2e3})}finally{a.value=!1}},G=e=>/^(0[1-9]|1[0-2]):([0-5][0-9]) (AM|PM)$/.test(e)||"Time format must be HH:MM AM/PM (e.g., 01:00 AM)";function O(e){const t=m=>m?m.toLowerCase().split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1)).join(" "):"",o=e.firstname?t(e.firstname):"No Firstname",n=e.middlename?t(e.middlename).charAt(0)+".":"",f=e.lastname?t(e.lastname):"No Lastname";return`${o} ${n} ${f}`}function J(e){return e?e.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function S(e){return h.formatDate(e,"MMMM DD, YYYY")}const K=e=>{switch(e){case"Regular":return"blue-8";case"Trainee":return"orange-5";case"Part-time":return"teal-5";default:return"grey"}},Q=[{name:"fullname",required:!0,label:"Full Name",align:"left",field:e=>O(e),format:e=>`${e}`,sortable:!0,style:"position: sticky; left: 0 ; background: white; z-index: 1;",headerStyle:"position: sticky; left: 0; background: white; z-index: 2;"},{name:"employmentType",label:"Employment Type",align:"center",field:e=>e.employment_type.category||"N/A",format:e=>`${e}`},{name:"address",required:!0,label:"Address",align:"left",field:"address",sortable:!0},{name:"phone",required:!0,label:"Phone",align:"center",field:"phone",format:e=>`${e}`,sortable:!0},{name:"birthdate",required:!0,label:"Birthdate",align:"center",field:"birthdate",format:e=>S(e),sortable:!0},{name:"designation",required:!0,label:"Designation",align:"center",field:e=>{var t;return((t=e.designation)==null?void 0:t.name)||"N/A"},sortable:!0},{name:"time_in",required:!0,label:"Time In",align:"center",field:e=>{var t;return((t=e.designation)==null?void 0:t.time_in)||"N/A"},sortable:!0},{name:"time_out",required:!0,label:"Time Out",align:"center",field:e=>{var t;return((t=e.designation)==null?void 0:t.time_out)||"N/A"},sortable:!0},{name:"actions",align:"center",label:"Action",field:"actions"}];export{k as a,x as b,J as c,z as d,j as e,O as f,K as g,W as h,S as i,Y as j,R as k,U as l,H as m,Q as n,C as o,a as t,A as u,G as v};
