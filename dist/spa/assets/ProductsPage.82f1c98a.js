import{r as I,t as ue,u as L,h,z as ge,o as $,a2 as U,J as e,e as t,w as a,a3 as A,a4 as ne,c as Z,Q as N,I as f,_ as k,a0 as re,M as F,K as V,a1 as ee,O as te,R as le,ad as xe,$ as D,ba as Oe,aH as Ie,aI as Be,N as pe,f as Re,a7 as je,br as Fe,a9 as Qe,bs as Pe,bt as Ue,ai as Ae,j as me,l as Le,L as qe,a as Ne}from"./index.9d41a448.js";import{Q as Te,a as _e,b as De,c as ie}from"./QTabPanels.cff3ecbb.js";import{Q as be}from"./QIntersection.9dbbec65.js";import{Q as he}from"./QScrollArea.af1bcc32.js";import{u as oe}from"./sales-report.5845356f.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import{b as de}from"./use-virtual-scroll.584cd8e9.js";import{Q as Ve,a as ve,b as E}from"./QList.947946e1.js";import{Q as Me}from"./QSelect.837eeafe.js";import{C as we}from"./ClosePopup.bfadaadf.js";import{u as Ce}from"./selecta-product.59b2631e.js";import{Q as ke}from"./QTd.68363949.js";import{Q as Ee}from"./QBadge.2239dd90.js";import{b as ze}from"./selection.e07b7265.js";import{Q as He}from"./QTable.b15f5d1e.js";import{q as Ke}from"./date.721b18b6.js";import{u as Ye}from"./cake-maker-report.959a9ecc.js";import"./QResizeObserver.6cc8c844.js";import"./use-panel.66d005cc.js";import"./touch.9135741d.js";import"./QScrollObserver.8050fd4e.js";import"./TouchPan.3f32da97.js";import"./axios.71c2d668.js";import"./QChip.0657df15.js";import"./QMenu.6f6f9668.js";import"./QVirtualScroll.b7ad36a5.js";const z=l=>(te("data-v-e033ecf2"),l=l(),le(),l),Ge={class:"q-mt-md"},Je={class:"row q-pa-lg q-gutter-y-lg"},We=z(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Xe={class:"text-h6"},Ze={class:"q-pa-xm row q-gutter-x-sm justify-between"},et=z(()=>e("div",null,"Quantity:",-1)),tt={class:"q-pa-xm row q-gutter-x-sm justify-between"},lt=z(()=>e("div",null,"Price:",-1)),at={class:"row justify-between"},st={class:"text-h6"},nt={class:"q-mb-lg row justify-between"},ot=z(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),it=z(()=>e("div",{class:"text-weight-light"},"Bread Out",-1)),dt={class:"row q-gutter-xm justify-between"},ut={class:"q-gutter-sm"},rt=z(()=>e("div",{class:"text-weight-light"},"Total Bread",-1)),ct=z(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),mt={class:"q-gutter-sm"},_t=z(()=>e("div",{class:"text-weight-light"},"Price",-1)),pt={class:"q-gutter-sm"},vt=z(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),gt=z(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),ht={class:"q-gutter-sm"},ft=z(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),yt={align:"right"},xt={__name:"BreadCard",setup(l){const r=oe(),u=r.user;console.log("userdat",u);const n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},s=ue({breadSold:0,remainnings:0,beginnings:0,breadOut:0}),w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(s.remainnings)||0,d=parseInt(s.breadOut)||0,p=i+d;s.breadSold=o-p}};L(()=>s.remainnings,o=>{R()}),L(()=>s.breadOut,o=>{R()});const x=h(()=>n.value?s.breadSold*n.value.price:0),S=h(()=>w(x.value));ge(async()=>{var d;const o=r.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await C(i)});const C=async o=>{await r.fetchBranchProducts(o)},q=h(()=>r.breadProducts);L(q,o=>{});const g=()=>{n.value=null,s.breadSold=0,s.remainnings=0,s.beginnings=0,s.breadOut=0,_.value=!1},B=()=>{var o;if(n.value){const i={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,new_production:n.value.new_production,bread_sold:s.breadSold,bread_out:s.breadOut,beginnings:n.value.beginnings,remaining:s.remainnings,price:n.value.price,sales:x.value};r.updateBreadReport(i),g()}};return(o,i)=>($(),U(A,null,[e("div",Ge,[t(he,{style:{height:"700px","max-width":"1500px"}},{default:a(()=>[e("div",Je,[($(!0),U(A,null,ne(q.value,(d,p)=>($(),Z(be,{key:p,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:a(()=>[t(N,{onClick:M=>c(d),class:"q-ma-sm my-card"},{default:a(()=>[We,t(f,null,{default:a(()=>[e("div",Xe,k(d.product.name),1)]),_:2},1024),t(re),t(f,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[e("div",Ze,[et,e("div",null,k(d.total_quantity),1)]),e("div",tt,[lt,e("div",null,k(w(d.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":i[4]||(i[4]=d=>_.value=d)},{default:a(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[t(f,null,{default:a(()=>[e("div",at,[e("div",st,k(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])])]),_:1}),t(f,null,{default:a(()=>[e("div",nt,[e("div",null,[ot,t(V,{modelValue:s.remainnings,"onUpdate:modelValue":i[0]||(i[0]=d=>s.remainnings=d),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[it,t(V,{modelValue:s.breadOut,"onUpdate:modelValue":i[1]||(i[1]=d=>s.breadOut=d),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",dt,[e("div",ut,[rt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[ct]),_:1},8,["label"])]),e("div",mt,[_t,t(V,{dense:"",outlined:"",readonly:"",label:n.value?w(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",pt,[vt,t(V,{dense:"",modelValue:s.breadSold,"onUpdate:modelValue":i[2]||(i[2]=d=>s.breadSold=d),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[gt]),_:1},8,["modelValue"])]),e("div",ht,[ft,t(V,{dense:"",outlined:"",modelValue:S.value,"onUpdate:modelValue":i[3]||(i[3]=d=>S.value=d),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(f,null,{default:a(()=>[e("div",yt,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var bt=ae(xt,[["__scopeId","data-v-e033ecf2"]]);const wt=e("div",{class:"q-gutter-y-md"},[e("div",{class:"row justify-between"},[e("div")])],-1),St={__name:"BreadPage",setup(l){return(r,u)=>($(),U(A,null,[wt,e("div",null,[t(bt)])],64))}};const Se=l=>(te("data-v-40bd9405"),l=l(),le(),l),kt={class:"row justify-between"},$t=Se(()=>e("div",{class:"text-h6"},"Add Selecta Stocks",-1)),Pt={class:"q-mt-md q-gutter-y-sm"},qt=Se(()=>e("div",{class:"text-weight-meduim"},"Selecta List",-1)),Vt={class:"q-mt-xl q-gutter-y-sm"},Ct={class:"row justify-between"},Ot=Se(()=>e("div",{align:"center"},"Selecta Product",-1)),It=Se(()=>e("div",{align:"center"},"Added Stocks",-1)),Bt={align:"right"},Rt={__name:"SelectaAddStocks",setup(l){var T,J;const u=oe().user,n=((T=u==null?void 0:u.employee)==null?void 0:T.branch_id)||"";(J=u==null?void 0:u.employee)!=null&&J.employee_id;const _=Ce();h(()=>_.selectaProducts);const c=I(!1),s=()=>{c.value=!0};I("");const w=I("Selecta"),R=I(!1),x=I([]),S=I([]),C=ue({name:"",added_stocks:""}),q=I(S.value);(async()=>{try{const O=(n==null?void 0:n.branches_id)||n,j=w.value;if(!O||!j){console.error("Invalid branchesId or category value.");return}const b=await _.fetchBranchSelectaProduct(O,j);R.value=!1,S.value=_.selectaProducts.map(m=>({label:m.name,value:m.id,price:m.price}))}catch(O){console.error("Error fetching branch selecta:",O)}})();const B=()=>{C.name="",C.added_stocks=""},o=(O,j)=>{j(()=>{if(O==="")q.value=S.value;else{const b=O.toLowerCase();q.value=S.value.filter(m=>m.label.toLowerCase().indexOf(b)>-1)}})},i=()=>{const O=x.value;function j(v,W){return v.find(X=>X.product_id==W)}const b=C.name.value;if(j(O,b))pe.create({type:"negative",icon:"warning",message:"Ingredient already exists",timeout:2e3});else{const v=S.value.find(W=>W.value===b);x.value=[...O,{product_id:C.name.value,label:C.name.label,added_stocks:C.added_stocks,price:v.price}],B()}},d=O=>{x.value.splice(O,1)},p=h(()=>x.value.length>0&&x.value.every(O=>O.added_stocks>0)),M=O=>O?O.split(" ").map(j=>j.charAt(0).toUpperCase()+j.slice(1).toLowerCase()).join(" "):"",y=()=>{Q(),c.value=!1},Q=()=>{P.product_id="",P.product_name="",P.product_category="",P.price="",P.added_stocks=""},P=ue({product_id:"",product_name:"",product_category:"",price:0,added_stocks:0}),se=async()=>{var O,j;try{const b={branches_id:((O=u==null?void 0:u.employee)==null?void 0:O.branch_id)||"",employee_id:((j=u==null?void 0:u.employee)==null?void 0:j.employee_id)||"",status:"pending",products:x.value};await _.createSelectaStocks(b),console.log("Data sent to backend:",b),Q(),x.value=[],c.value=!1,pe.create({type:"positive",message:"Selecta stocks successfully saved!",timeout:2e3})}catch(b){console.error("Error saving selecta stocks:",b),pe.create({type:"negative",message:"An error occurred while saving selecta stocks.",timeout:2e3})}};return(O,j)=>($(),U(A,null,[t(F,{class:"bg-gradient text-white",outlined:"",label:"Add Selecta Stocks",onClick:s}),t(ee,{modelValue:c.value,"onUpdate:modelValue":j[3]||(j[3]=b=>c.value=b)},{default:a(()=>[t(N,{style:{width:"450px"}},{default:a(()=>[t(f,{class:"bg-gradient text-white"},{default:a(()=>[e("div",kt,[$t,e("div",null,[xe(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[we]])])])]),_:1}),t(f,null,{default:a(()=>[e("div",Pt,[qt,e("div",null,[t(Ve,{dense:"",separator:"",class:"box"},{default:a(()=>[t(ve,null,{default:a(()=>[t(E,null,{default:a(()=>[t(de,{class:"text-overline"},{default:a(()=>[D("Product Name")]),_:1})]),_:1}),t(E,null,{default:a(()=>[t(de,{class:"text-overline"},{default:a(()=>[D("Added Stocks")]),_:1})]),_:1}),t(E,{side:""})]),_:1}),($(!0),U(A,null,ne(x.value,(b,m)=>($(),Z(ve,{key:m},{default:a(()=>[t(E,null,{default:a(()=>[t(de,{class:"text-caption"},{default:a(()=>[D(k(M(b.label)),1)]),_:2},1024)]),_:2},1024),t(E,{class:"text-caption"},{default:a(()=>[D(k(b.added_stocks)+" pcs",1)]),_:2},1024),t(E,{side:""},{default:a(()=>[t(F,{onClick:v=>d(m),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),e("div",Vt,[e("div",Ct,[e("div",null,[Ot,t(Me,{modelValue:C.name,"onUpdate:modelValue":j[0]||(j[0]=b=>C.name=b),debounce:"3000",outlined:"","chips-color":"primary",options:q.value,dense:"",label:"Selecta",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:o,style:{width:"215px","max-width":"600px","min-width":"80px"}},{"no-option":a(()=>[t(ve,null,{default:a(()=>[t(E,{class:"text-grey"},{default:a(()=>[D(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),e("div",null,[It,t(V,{modelValue:C.added_stocks,"onUpdate:modelValue":j[1]||(j[1]=b=>C.added_stocks=b),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:"pcs",style:{width:"115px"}},null,8,["modelValue"])])]),e("form",{onKeyup:j[2]||(j[2]=Oe(Ie((...b)=>O.addBranchProduct&&O.addBranchProduct(...b),["prevent"]),["enter"]))},[e("div",Bt,[t(F,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:i})])],32)])]),_:1}),t(Be,{class:"row q-ma-md",align:"right"},{default:a(()=>[t(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:y}),t(F,{class:"glossy",color:"teal",label:"Create",onClick:se,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var jt=ae(Rt,[["__scopeId","data-v-40bd9405"]]);const H=l=>(te("data-v-1c40b65a"),l=l(),le(),l),Ft={class:"q-mt-md"},Qt={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},Ut=H(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),At={class:"text-h6"},Lt={class:"q-pa-xm row q-gutter-x-sm justify-between"},Nt=H(()=>e("div",null,"Quantity:",-1)),Tt={class:"q-pa-xm row q-gutter-x-sm justify-between"},Dt=H(()=>e("div",null,"Price:",-1)),Mt={class:"row justify-between"},Et={class:"text-h6"},zt={class:"q-mb-lg row justify-between"},Ht=H(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Kt=H(()=>e("div",{class:"text-weight-light"},"Selecta Out",-1)),Yt={class:"row q-gutter-xm justify-between"},Gt={class:"q-gutter-sm"},Jt=H(()=>e("div",{class:"text-weight-light"},"Total Selecta",-1)),Wt=H(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Xt={class:"q-gutter-sm"},Zt=H(()=>e("div",{class:"text-weight-light"},"Price",-1)),el={class:"q-gutter-sm"},tl=H(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),ll=H(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),al={class:"q-gutter-sm"},sl=H(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),nl={align:"right"},ol={__name:"SelectaCard",setup(l){const r=oe(),u=r.user,n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},s=ue({selectaSold:0,selectaRemainings:0,selectaBeginnings:0,selectaOut:0}),w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=h(()=>n.value?s.selectaSold*n.value.price:0),x=h(()=>w(R.value)),S=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(s.selectaRemainings)||0,d=parseInt(s.selectaOut)||0,p=i+d;s.selectaSold=o-p}};L(()=>s.selectaRemainings,o=>{S()}),L(()=>s.selectaOut,o=>{S()}),ge(async()=>{var d;const o=r.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await C(i)});const C=async o=>{await r.fetchBranchProducts(o)},q=h(()=>r.selectaProducts);L(q,o=>{});const g=()=>{n.value=null,s.selectaSold=0,s.selectaRemainings=0,s.selectaBeginnings=0,s.selectaOut=0,_.value=!1},B=()=>{var o;if(n.value){const i={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,added_stocks:n.value.new_production,sold:s.selectaSold,out:s.selectaOut,beginnings:n.value.beginnings,remaining:s.selectaRemainings,price:n.value.price,sales:R.value};r.updateSelectaReport(i),g()}};return(o,i)=>($(),U(A,null,[e("div",Ft,[t(he,{style:{height:"calc(100vh - 150px)","max-width":"1500px"}},{default:a(()=>[e("div",Qt,[($(!0),U(A,null,ne(q.value,(d,p)=>($(),Z(be,{key:p,once:"",transition:"scale",class:"example-item"},{default:a(()=>[t(N,{onClick:M=>c(d),class:"q-ma-sm my-card"},{default:a(()=>[Ut,t(f,null,{default:a(()=>[e("div",At,k(d.product.name),1)]),_:2},1024),t(re),t(f,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[e("div",Lt,[Nt,e("div",null,k(d.total_quantity),1)]),e("div",Tt,[Dt,e("div",null,k(w(d.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":i[4]||(i[4]=d=>_.value=d)},{default:a(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[t(f,null,{default:a(()=>[e("div",Mt,[e("div",Et,k(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])])]),_:1}),t(f,null,{default:a(()=>[e("div",zt,[e("div",null,[Ht,t(V,{modelValue:s.selectaRemainings,"onUpdate:modelValue":i[0]||(i[0]=d=>s.selectaRemainings=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Kt,t(V,{modelValue:s.selectaOut,"onUpdate:modelValue":i[1]||(i[1]=d=>s.selectaOut=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",Yt,[e("div",Gt,[Jt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Wt]),_:1},8,["label"])]),e("div",Xt,[Zt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?w(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",el,[tl,t(V,{dense:"",modelValue:s.selectaSold,"onUpdate:modelValue":i[2]||(i[2]=d=>s.selectaSold=d),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[ll]),_:1},8,["modelValue"])]),e("div",al,[sl,t(V,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":i[3]||(i[3]=d=>x.value=d),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(f,null,{default:a(()=>[e("div",nl,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var il=ae(ol,[["__scopeId","data-v-1c40b65a"]]);function ye(l,r){return[!0,!1].includes(l)?l:r}var dl=Re({name:"QPagination",props:{...je,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:l=>(typeof l=="string"?parseInt(l,10):l)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:l=>l===""||Fe.includes(l)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(l,{emit:r}){const{proxy:u}=Le(),{$q:n}=u,_=Qe(l,n),c=h(()=>parseInt(l.min,10)),s=h(()=>parseInt(l.max,10)),w=h(()=>parseInt(l.maxPages,10)),R=h(()=>B.value+" / "+s.value),x=h(()=>ye(l.boundaryLinks,l.input)),S=h(()=>ye(l.boundaryNumbers,!l.input)),C=h(()=>ye(l.directionLinks,l.input)),q=h(()=>ye(l.ellipses,!l.input)),g=I(null),B=h({get:()=>l.modelValue,set:m=>{if(m=parseInt(m,10),l.disable||isNaN(m))return;const v=ze(m,c.value,s.value);l.modelValue!==v&&r("update:modelValue",v)}});L(()=>`${c.value}|${s.value}`,()=>{B.value=l.modelValue});const o=h(()=>"q-pagination row no-wrap items-center"+(l.disable===!0?" disabled":"")),i=h(()=>l.gutter in Pe?`${Pe[l.gutter]}px`:l.gutter||null),d=h(()=>i.value!==null?`--q-pagination-gutter-parent:-${i.value};--q-pagination-gutter-child:${i.value}`:null),p=h(()=>{const m=[l.iconFirst||n.iconSet.pagination.first,l.iconPrev||n.iconSet.pagination.prev,l.iconNext||n.iconSet.pagination.next,l.iconLast||n.iconSet.pagination.last];return n.lang.rtl===!0?m.reverse():m}),M=h(()=>({"aria-disabled":l.disable===!0?"true":"false",role:"navigation"})),y=h(()=>Ue(l,"flat")),Q=h(()=>({[y.value]:!0,round:l.round,rounded:l.rounded,padding:l.padding,color:l.color,textColor:l.textColor,size:l.size,ripple:l.ripple!==null?l.ripple:!0})),P=h(()=>{const m={[y.value]:!1};return l.activeDesign!==""&&(m[l.activeDesign]=!0),m}),se=h(()=>({...P.value,color:l.activeColor||l.color,textColor:l.activeTextColor||l.textColor})),T=h(()=>{let m=Math.max(w.value,1+(q.value?2:0)+(S.value?2:0));const v={pgFrom:c.value,pgTo:s.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(s.value).length)}em`}};return w.value&&m<s.value-c.value+1&&(m=1+Math.floor(m/2)*2,v.pgFrom=Math.max(c.value,Math.min(s.value-m+1,l.modelValue-Math.floor(m/2))),v.pgTo=Math.min(s.value,v.pgFrom+m-1),S.value&&(v.boundaryStart=!0,v.pgFrom++),q.value&&v.pgFrom>c.value+(S.value?1:0)&&(v.ellipsesStart=!0,v.pgFrom++),S.value&&(v.boundaryEnd=!0,v.pgTo--),q.value&&v.pgTo<s.value-(S.value?1:0)&&(v.ellipsesEnd=!0,v.pgTo--)),v});function J(m){B.value=m}function O(m){B.value=B.value+m}const j=h(()=>{function m(){B.value=g.value,g.value=null}return{"onUpdate:modelValue":v=>{g.value=v},onKeyup:v=>{Ae(v,13)===!0&&m()},onBlur:m}});function b(m,v,W){const X={"aria-label":v,"aria-current":"false",...Q.value,...m};return W===!0&&Object.assign(X,{"aria-current":"true",...se.value}),v!==void 0&&(l.toFn!==void 0?X.to=l.toFn(v):X.onClick=()=>{J(v)}),me(F,X)}return Object.assign(u,{set:J,setByOffset:O}),()=>{const m=[],v=[];let W;if(x.value===!0&&(m.push(b({key:"bls",disable:l.disable||l.modelValue<=c.value,icon:p.value[0]},c.value)),v.unshift(b({key:"ble",disable:l.disable||l.modelValue>=s.value,icon:p.value[3]},s.value))),C.value===!0&&(m.push(b({key:"bdp",disable:l.disable||l.modelValue<=c.value,icon:p.value[1]},l.modelValue-1)),v.unshift(b({key:"bdn",disable:l.disable||l.modelValue>=s.value,icon:p.value[2]},l.modelValue+1))),l.input!==!0){W=[];const{pgFrom:X,pgTo:$e,marginalStyle:ce}=T.value;if(T.value.boundaryStart===!0){const G=c.value===l.modelValue;m.push(b({key:"bns",style:ce,disable:l.disable,label:c.value},c.value,G))}if(T.value.boundaryEnd===!0){const G=s.value===l.modelValue;v.unshift(b({key:"bne",style:ce,disable:l.disable,label:s.value},s.value,G))}T.value.ellipsesStart===!0&&m.push(b({key:"bes",style:ce,disable:l.disable,label:"\u2026",ripple:!1},X-1)),T.value.ellipsesEnd===!0&&v.unshift(b({key:"bee",style:ce,disable:l.disable,label:"\u2026",ripple:!1},$e+1));for(let G=X;G<=$e;G++)W.push(b({key:`bpg${G}`,style:ce,disable:l.disable,label:G},G,G===l.modelValue))}return me("div",{class:o.value,...M.value},[me("div",{class:"q-pagination__content row no-wrap items-center",style:d.value},[...m,l.input===!0?me(V,{class:"inline",style:{width:`${R.value.length/1.5}em`},type:"number",dense:!0,value:g.value,disable:l.disable,dark:_.value,borderless:!0,inputClass:l.inputClass,inputStyle:l.inputStyle,placeholder:R.value,min:c.value,max:s.value,...j.value}):me("div",{class:"q-pagination__middle row justify-center"},W),...v])])}}});const ul=l=>(te("data-v-4932762d"),l=l(),le(),l),rl=ul(()=>e("div",{class:"text-h6"},"Selecta Products",-1)),cl={__name:"SelectaViewStockReport",props:["report"],setup(l){const r=I(!1),u=()=>{r.value=!0};console.log("report",l.report);const _=c=>c?c.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"";return(c,s)=>($(),U(A,null,[t(F,{class:"gradient-icon",flat:"",rounded:"",onClick:u},{default:a(()=>[t(qe,{name:"visibility",class:"gradient-icon"})]),_:1}),t(ee,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=w=>r.value=w)},{default:a(()=>[t(N,{padding:"",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[t(f,{class:"bg-gradient text-white row justify-between"},{default:a(()=>[rl,e("div",null,[xe(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[we]])])]),_:1}),t(f,null,{default:a(()=>[e("div",null,"remarks: "+k(l.report.remark?l.report.remark:"N/A"),1),e("div",null,"status: "+k(l.report.status),1)]),_:1}),t(f,null,{default:a(()=>[t(Ve,{dense:"",separator:"",class:"box"},{default:a(()=>[t(ve,null,{default:a(()=>[t(E,null,{default:a(()=>[t(de,{class:"text-overline"},{default:a(()=>[D("Product Name")]),_:1})]),_:1}),t(E,{side:""},{default:a(()=>[t(de,{class:"text-overline"},{default:a(()=>[D("Added Stocks")]),_:1})]),_:1})]),_:1}),($(!0),U(A,null,ne(l.report.selecta_added_stocks,(w,R)=>($(),Z(ve,{key:R},{default:a(()=>[t(E,null,{default:a(()=>[t(de,{class:"text-caption"},{default:a(()=>[D(k(_(w.product.name)),1)]),_:2},1024)]),_:2},1024),t(E,{class:"text-caption",side:""},{default:a(()=>[D(k(w.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ml=ae(cl,[["__scopeId","data-v-4932762d"]]);const _l=l=>(te("data-v-c56bfed2"),l=l(),le(),l),pl={class:"row justify-between"},vl=_l(()=>e("div",{class:"text-h6"},"Selecta Stocks Reports",-1)),gl={__name:"SelectaViewAddedStocks",setup(l){var M;const r=Ce();h(()=>r.selectaProductReports).value.selecta_added_stocks;const _=oe().user,c=((M=_==null?void 0:_.employee)==null?void 0:M.branch_id)||"",s=I(!1),w=I([]),R=async()=>{try{c&&await q(c),s.value=!0}catch(y){console.error("Error opening dialog:",y)}},x=I({page:1,rowsPerPage:10,sortBy:"id",descending:!1}),S=I(1),C=I(!0),q=async()=>{try{const{page:y,rowsPerPage:Q,sortBy:P,descending:se}=x.value,T=await r.fetchSelectaProductReports(c,y,Q,P,se);w.value=T.data,S.value=T.last_page}catch(y){console.error("Error fetching selecta product reports:",y)}},g=y=>Ke.formatDate(y,"MMMM DD, YYYY"),B=y=>{const Q=new Date(y),P={hour:"2-digit",minute:"2-digit",hour12:!0};return Q.toLocaleTimeString(void 0,P)},o=y=>{const Q=J=>J?J.charAt(0).toUpperCase()+J.slice(1).toLowerCase():"",P=y.firstname?Q(y.firstname):"No Firstname",se=y.middlename?Q(y.middlename).charAt(0)+".":"",T=y.lastname?Q(y.lastname):"No Lastname";return`${P} ${se} ${T}`.trim()},i=[{name:"date",align:"center",label:"Date",field:y=>g(y.created_at)},{name:"time",align:"center",label:"Time",field:y=>B(y.created_at)},{name:"employee",align:"center",label:"Employee",field:"employee"},{name:"status",align:"center",label:"Status",field:"status"},{name:"action",align:"center",label:"Actions",field:"action"}],d=y=>{switch(y){case"declined":return"red";case"confirmed":return"green";case"pending":return"orange";default:return"grey"}},p=y=>y?y.split(" ").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase()).join(" "):"";return L(()=>x.value.page,q),L(()=>x.value.rowsPerPage,q),(y,Q)=>($(),U(A,null,[t(F,{class:"bg-gradient text-white",outlined:"",label:"Stocks Reports",onClick:R}),t(ee,{modelValue:s.value,"onUpdate:modelValue":[Q[1]||(Q[1]=P=>s.value=P),y.onDialogChange],maximized:C.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:a(()=>[t(N,null,{default:a(()=>[t(f,{class:"bg-gradient text-white"},{default:a(()=>[e("div",pl,[vl,e("div",null,[xe(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[we]])])])]),_:1}),t(f,null,{default:a(()=>[t(He,{rows:w.value,columns:i,"row-key":"id",flat:"",bordered:"",dense:"",pagination:x.value.page,onRequest:q},{"body-cell-employee":a(P=>[t(ke,{props:P},{default:a(()=>[D(k(o(P.row.employee)),1)]),_:2},1032,["props"])]),"body-cell-status":a(P=>[t(ke,{props:P},{default:a(()=>[t(Ee,{color:d(P.row.status)},{default:a(()=>[D(k(p(P.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":a(P=>[t(ke,{props:P},{default:a(()=>[t(ml,{report:P.row},null,8,["report"])]),_:2},1032,["props"])]),default:a(()=>[e("template",null,[t(dl,{modelValue:x.value.page,"onUpdate:modelValue":[Q[0]||(Q[0]=P=>x.value.page=P),q],max:S.value,"max-pages":S.value},null,8,["modelValue","max","max-pages"])])]),_:1},8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized","onUpdate:modelValue"])],64))}};var hl=ae(gl,[["__scopeId","data-v-c56bfed2"]]);const fl={class:"q-gutter-y-md"},yl={class:"row q-gutter-md"},xl=e("div",null,null,-1),bl={class:"row q-gutter-md"},wl={__name:"SelectaPage",setup(l){return(r,u)=>($(),U(A,null,[e("div",fl,[e("div",yl,[xl,e("div",bl,[e("div",null,[t(jt)]),e("div",null,[t(hl)])])])]),e("div",null,[t(il)])],64))}};const K=l=>(te("data-v-5a398aa4"),l=l(),le(),l),Sl={class:"q-mt-md"},kl={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},$l=K(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Pl={class:"text-h6"},ql={class:"q-pa-xm row q-gutter-x-sm justify-between"},Vl=K(()=>e("div",null,"Quantity:",-1)),Cl={class:"q-pa-xm row q-gutter-x-sm justify-between"},Ol=K(()=>e("div",null,"Price:",-1)),Il={class:"row justify-between"},Bl={class:"text-h6"},Rl={class:"q-mb-lg row justify-between"},jl=K(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Fl=K(()=>e("div",{class:"text-weight-light"},"Softdrinks Out",-1)),Ql={class:"row q-gutter-xm justify-between"},Ul={class:"q-gutter-sm"},Al=K(()=>e("div",{class:"text-weight-light"},"Total Softdrinks",-1)),Ll=K(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Nl={class:"q-gutter-sm"},Tl=K(()=>e("div",{class:"text-weight-light"},"Price",-1)),Dl={class:"q-gutter-sm"},Ml=K(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),El=K(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),zl={class:"q-gutter-sm"},Hl=K(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),Kl={align:"right"},Yl={__name:"SoftdrinksCard",setup(l){const r=oe(),u=r.user,n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},s=ue({softdrinksSold:0,remainnings:0,beginnings:0,softdrinksOut:0}),w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=h(()=>n.value?s.softdrinksSold*n.value.price:0),x=h(()=>w(R.value)),S=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(s.remainnings)||0,d=parseInt(s.softdrinksOut)||0,p=i+d;s.softdrinksSold=o-p}};L(()=>s.remainnings,o=>{S()}),L(()=>s.softdrinksOut,o=>{S()}),ge(async()=>{var d;const o=r.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await C(i)});const C=async o=>{await r.fetchBranchProducts(o)},q=h(()=>r.softdrinksProducts);L(q,o=>{});const g=()=>{n.value=null,s.softdrinksSold=0,s.remainnings=0,s.beginnings=0,s.softdrinksOut=0,_.value=!1},B=()=>{var o;if(n.value){const i={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,added_stocks:n.value.new_production,sold:s.softdrinksSold,out:s.softdrinksOut,beginnings:n.value.beginnings,remaining:s.remainnings,price:n.value.price,sales:R.value};r.updateSoftdrinksReport(i),g()}};return(o,i)=>($(),U(A,null,[e("div",Sl,[t(he,{style:{height:"450px","max-width":"1500px"}},{default:a(()=>[e("div",kl,[($(!0),U(A,null,ne(q.value,(d,p)=>($(),Z(be,{key:p,once:"",transition:"scale",class:"example-item"},{default:a(()=>[t(N,{onClick:M=>c(d),class:"q-ma-sm my-card"},{default:a(()=>[$l,t(f,null,{default:a(()=>[e("div",Pl,k(d.product.name),1)]),_:2},1024),t(re),t(f,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[e("div",ql,[Vl,e("div",null,k(d.total_quantity),1)]),e("div",Cl,[Ol,e("div",null,k(w(d.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":i[4]||(i[4]=d=>_.value=d)},{default:a(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[t(f,null,{default:a(()=>[e("div",Il,[e("div",Bl,k(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])])]),_:1}),t(f,null,{default:a(()=>[e("div",Rl,[e("div",null,[jl,t(V,{modelValue:s.remainnings,"onUpdate:modelValue":i[0]||(i[0]=d=>s.remainnings=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Fl,t(V,{modelValue:s.softdrinksOut,"onUpdate:modelValue":i[1]||(i[1]=d=>s.softdrinksOut=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",Ql,[e("div",Ul,[Al,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Ll]),_:1},8,["label"])]),e("div",Nl,[Tl,t(V,{dense:"",outlined:"",readonly:"",label:n.value?w(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Dl,[Ml,t(V,{dense:"",modelValue:s.softdrinksSold,"onUpdate:modelValue":i[2]||(i[2]=d=>s.softdrinksSold=d),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[El]),_:1},8,["modelValue"])]),e("div",zl,[Hl,t(V,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":i[3]||(i[3]=d=>x.value=d),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(f,null,{default:a(()=>[e("div",Kl,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var Gl=ae(Yl,[["__scopeId","data-v-5a398aa4"]]);const Jl=e("div",{class:"q-gutter-y-md"},[e("div",{class:"row justify-between"},[e("div")])],-1),Wl={__name:"SoftdrinksPage",setup(l){return(r,u)=>($(),U(A,null,[Jl,e("div",null,[t(Gl)])],64))}};const fe=l=>(te("data-v-155011f7"),l=l(),le(),l),Xl={class:"q-mt-md"},Zl={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},ea=fe(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),ta={class:"text-h6"},la={class:"q-pa-xm row q-gutter-x-sm justify-between"},aa=fe(()=>e("div",null,"Layers",-1)),sa={class:"q-pa-xm row q-gutter-x-sm justify-between"},na=fe(()=>e("div",null,"Price:",-1)),oa={class:"row justify-between"},ia={class:"text-h6"},da={class:"row q-gutter-x-sm"},ua=fe(()=>e("div",{class:"text-subtitle2"},"Layer /s :",-1)),ra={class:"text-weight-light"},ca={class:"row q-gutter-x-sm"},ma=fe(()=>e("div",{class:"text-subtitle2"},"Price :",-1)),_a={class:"text-weight-light"},pa={__name:"CakeCard",setup(l){const r=oe(),u=Ye(),n=h(()=>u.onDisplayProducts),_=localStorage.getItem("branch_id"),c=I(null),s=I(!1);ge(async()=>{_&&await w()});const w=async()=>{const g=await u.fetchOnDisplayProducts(_);n.value=g,console.log("sdfasdfas",n.value)},R=g=>g?g.split(" ").map(B=>B.charAt(0).toUpperCase()+B.slice(1).toLowerCase()).join(" "):"",x=g=>{c.value=g,s.value=!0},S=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g).replace("\u20B1","\u20B1 "),C=async()=>{if(c.value){const g={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"sold"};console.log(g),r.updateCakeReport(g),pe.create({type:"positive",message:`${g.name} is sold`})}s.value=!1},q=async()=>{if(c.value){const g={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"pull out"};r.updateCakeReport(g),pe.create({type:"warning",message:`${g.name} is pull out`})}s.value=!1};return(g,B)=>($(),U(A,null,[e("div",Xl,[t(he,{style:{height:"450px","max-width":"1500px"}},{default:a(()=>[e("div",Zl,[($(!0),U(A,null,ne(n.value,(o,i)=>($(),Z(be,{key:i,once:"",transition:"scale",class:"example-item"},{default:a(()=>[t(N,{onClick:d=>x(o),class:"q-ma-sm my-card"},{default:a(()=>[ea,t(f,null,{default:a(()=>[e("div",ta,k(R(o.name)),1)]),_:2},1024),t(re),t(f,null,{default:a(()=>[e("div",la,[aa,e("div",null,k(o.layers),1)]),e("div",sa,[na,e("div",null,k(S(o.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t(ee,{modelValue:s.value,"onUpdate:modelValue":B[0]||(B[0]=o=>s.value=o)},{default:a(()=>[t(N,null,{default:a(()=>[t(f,null,{default:a(()=>[e("div",oa,[e("div",ia,k(R(c.value.name)),1),e("div",null,[xe(t(F,{round:"",dense:"",flat:"",icon:"close"},null,512),[[we]])])])]),_:1}),t(re),t(f,{class:"row justify-between"},{default:a(()=>[e("div",da,[ua,e("div",ra,k(c.value.layers),1)]),e("div",ca,[ma,e("div",_a,k(S(c.value.price)),1)])]),_:1}),t(f,{class:"q-gutter-x-md"},{default:a(()=>[t(F,{label:"Sold",color:"primary",unelevated:"",class:"rounded-borders",icon:"check_circle",onClick:C}),t(F,{label:"Pull Out",color:"negative",outline:"",class:"rounded-borders",icon:"close",onClick:q})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var va=ae(pa,[["__scopeId","data-v-155011f7"]]);const ga={__name:"CakePage",setup(l){return(r,u)=>($(),U("div",null,[t(va)]))}};const Y=l=>(te("data-v-2fbc66b5"),l=l(),le(),l),ha={class:"q-mt-md"},fa={class:"row q-pa-lg q-gutter-y-lg"},ya=Y(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),xa={class:"text-h6"},ba={class:"q-pa-xm row q-gutter-x-sm justify-between"},wa=Y(()=>e("div",null,"Quantity:",-1)),Sa={class:"q-pa-xm row q-gutter-x-sm justify-between"},ka=Y(()=>e("div",null,"Price:",-1)),$a={class:"text-h6"},Pa={class:"q-mb-lg row justify-between"},qa=Y(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Va=Y(()=>e("div",{class:"text-weight-light"},"Product Out",-1)),Ca={class:"row q-gutter-xm justify-between"},Oa={class:"q-gutter-sm"},Ia=Y(()=>e("div",{class:"text-weight-light"},"Total Product",-1)),Ba=Y(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Ra={class:"q-gutter-sm"},ja=Y(()=>e("div",{class:"text-weight-light"},"Price",-1)),Fa={class:"q-gutter-sm"},Qa=Y(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),Ua=Y(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Aa={class:"q-gutter-sm"},La=Y(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),Na={align:"right"},Ta={__name:"OtherCard",setup(l){const r=oe(),u=r.user;console.log("userdata for branch",u);const n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},s=ue({otherProductSold:0,remainnings:0,beginnings:0,otherProductOut:0}),w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o).replace("\u20B1","\u20B1 "),R=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(s.remainnings)||0,d=parseInt(s.otherProductOut)||0,p=i+d;s.otherProductSold=o-p}};L(()=>s.remainnings,o=>{R()}),L(()=>s.otherProductOut,o=>{R()});const x=h(()=>r.othersProducts);console.log("othersProducts",x.value);const S=h(()=>n.value?s.otherProductSold*n.value.price:0),C=h(()=>w(S.value));ge(async()=>{var d;const o=r.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await q(i)});const q=async o=>{await r.fetchBranchProducts(o)},g=()=>{n.value=null,s.otherProductOut=0,s.beginnings=0,s.otherProductSold=0,s.remainnings=0,_.value=!1},B=async()=>{var o;if(n.value){const i={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,sold:s.otherProductSold,out:s.otherProductOut,added_stocks:n.value.new_production,beginnings:n.value.beginnings,remaining:s.remainnings,price:n.value.price,sales:S.value};console.log("report",i),r.updateOtherProductsReport(i),g()}};return(o,i)=>{const d=Ne("q-itersection");return $(),U(A,null,[e("div",ha,[t(he,{style:{height:"700px","max-width":"1500px"}},{default:a(()=>[e("div",fa,[($(!0),U(A,null,ne(x.value,(p,M)=>($(),Z(d,{key:M,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:a(()=>[t(N,{onClick:y=>c(p),class:"q-ma-sm my-card"},{default:a(()=>[ya,t(f,null,{default:a(()=>[e("div",xa,k(p.product.name),1)]),_:2},1024),t(re),t(f,{class:"text-subtitle2 text-weight-regular"},{default:a(()=>[e("div",ba,[wa,e("div",null,k(p.total_quantity),1)]),e("div",Sa,[ka,e("div",null,k(w(p.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":i[4]||(i[4]=p=>_.value=p)},{default:a(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:a(()=>[t(f,{class:"row justify-between"},{default:a(()=>[e("div",$a,k(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])]),_:1}),t(f,null,{default:a(()=>[e("div",Pa,[e("div",null,[qa,t(V,{modelValue:s.remainnings,"onUpdate:modelValue":i[0]||(i[0]=p=>s.remainnings=p),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Va,t(V,{modelValue:s.otherProductOut,"onUpdate:modelValue":i[1]||(i[1]=p=>s.otherProductOut=p),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",Ca,[e("div",Oa,[Ia,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Ba]),_:1},8,["label"])]),e("div",Ra,[ja,t(V,{dense:"",outlined:"",readonly:"",label:n.value?w(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Fa,[Qa,t(V,{dense:"",modelValue:s.otherProductSold,"onUpdate:modelValue":i[2]||(i[2]=p=>s.otherProductSold=p),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:a(()=>[Ua]),_:1},8,["modelValue"])]),e("div",Aa,[La,t(V,{dense:"",outlined:"",modelValue:C.value,"onUpdate:modelValue":i[3]||(i[3]=p=>C.value=p),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(f,null,{default:a(()=>[e("div",Na,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}}};var Da=ae(Ta,[["__scopeId","data-v-2fbc66b5"]]);const Ma={__name:"OtherPage",setup(l){return(r,u)=>($(),U("div",null,[t(Da)]))}},Ea={class:"text-h6 text-white"},hs={__name:"ProductsPage",setup(l){const r=I("bread");return(u,n)=>($(),Z(N,{flat:""},{default:a(()=>[t(f,{style:{"background-color":"#ef4444"}},{default:a(()=>[e("div",Ea,[t(qe,{name:"fa-solid fa-store"}),D(" Store Branches ")])]),_:1}),t(f,null,{default:a(()=>[t(Te,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=_=>r.value=_),dense:"",class:"bg-white","active-color":"red-6","indicator-color":"red-6",align:"justify"},{default:a(()=>[t(_e,{name:"bread",label:"Bread"}),t(_e,{name:"selecta",label:"Selecta"}),t(_e,{name:"softdrinks",label:"Softdrinks"}),t(_e,{name:"cake",label:"Cake /s"}),t(_e,{name:"others",label:"Other /s"})]),_:1},8,["modelValue"])]),_:1}),t(f,null,{default:a(()=>[t(De,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=_=>r.value=_),animated:""},{default:a(()=>[t(ie,{name:"bread"},{default:a(()=>[e("div",null,[t(St)])]),_:1}),t(ie,{name:"selecta"},{default:a(()=>[e("div",null,[t(wl)])]),_:1}),t(ie,{name:"softdrinks"},{default:a(()=>[e("div",null,[t(Wl)])]),_:1}),t(ie,{name:"cake"},{default:a(()=>[t(ga)]),_:1}),t(ie,{name:"others"},{default:a(()=>[t(Ma)]),_:1}),t(ie)]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{hs as default};
