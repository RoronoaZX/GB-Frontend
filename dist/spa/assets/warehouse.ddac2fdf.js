import{d as g,r,N as o,P as c}from"./index.757c26ea.js";import{api as a}from"./axios.03379b07.js";const F=g("warehouses",()=>{const n=r(null),t=r([]),i=r([]),l=r({}),p=e=>{l.value=e},w=async e=>{try{console.log("Searching for warehouse with keyword:",e);const s=await a.post("/api/search-warehouse",{keyword:e});console.log("warehouse reposnse",s.data),n.value=s.data}catch(s){console.log(s)}},y=async e=>{console.log("warehouseId",e);try{const s=await a.get(`/api/warehouse/${e}/warehouseBranchReports`);i.value=s.data,console.log("reponsess waREHOUSE ",s.data)}catch{}},d=async e=>{const s=await a.get(`/api/warehouse/${e}`);n.value=s.data},h=async()=>{try{const e=await a.get("/api/warehouses");t.value=e.data,console.log("response",e.data)}catch{o.create({type:"negative",message:"Failed to fetch warehouse",setTimeout:1e3})}finally{}};return{user:l,warehouse:n,warehouses:t,warehouseBranchReports:i,fetchWarehouses:h,createWarehouses:async e=>{console.log("Data parameters being sent:",e);try{const s=await a.post("/api/warehouses",e);console.log("Response from backend:",s.data),h()}catch(s){console.error("Error creating warehouse:",s.response?s.response.data:s.message),o.create({type:"negative",message:"Failed to create warehouse",setTimeout:1e3})}},updateWarehouses:async(e,s)=>{c.show();try{const u=await a.put(`/api/warehouses/${e}`,s);h(),o.create({type:"positive",message:"Warehouse updated successfully",setTimeout:1e3})}catch{o.create({type:"negative",message:"Failed to update warehouse",setTimeout:1e3})}finally{c.hide()}},deleteWarehouse:async e=>{c.show();try{const s=await a.delete(`/api/warehouses/${e}`);t.value=t.value.filter(u=>u.id!==e),o.create({type:"positive",message:"Warehouse deleted successfully"})}catch{o.create({type:"negative",message:"Failed to delete warehouse"})}finally{c.hide()}},fetchWarehouseWithEmployee:async()=>{const e=await a.get("/api/fetchWarehouseWithEmployee");t.value=e.data},fetchWarehouseByBranchID:y,fetchCertainWarehouse:d,search:w,setUser:p}});export{F as u};
