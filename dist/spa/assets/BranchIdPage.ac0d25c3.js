import{bd as de,h as U,r as P,t as Te,o as h,a2 as S,e,M as D,w as t,Q as I,I as R,ad as G,J as a,K as E,L as re,c as N,$ as V,a3 as j,a4 as ne,_ as f,bc as Le,aI as ke,a1 as Y,a0 as Ve,N as ge,O as te,R as ae,z as $e,u as Ie,ba as Se,aJ as st,be as A,d as rt,aH as it,H as dt,P as We}from"./index.f4b8fb6f.js";import{Q as Be}from"./QSpace.2c65189d.js";import{Q as ze,a as pe,b as je,c as _e}from"./QTabPanels.251ff07e.js";import{Q as ct}from"./QPage.79a50471.js";import{Q as Ue,a as ve,b as we}from"./QList.86eabbe9.js";import{b as Ne}from"./use-virtual-scroll.1c4d8dd6.js";import{C as W}from"./ClosePopup.3821973c.js";import{u as Oe}from"./branch-product.3c9e9c02.js";import{u as Xe}from"./product.7fbfe8e4.js";import{Q as Fe}from"./QSpinnerDots.1dea5914.js";import{Q as H}from"./QTd.8b266f36.js";import{Q as J}from"./QBadge.fe7448f8.js";import{Q as K}from"./QTooltip.3bb8d551.js";import{Q as De}from"./QPopupEdit.d7f0a4c4.js";import{Q as le}from"./QTable.174a16ef.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import{api as xe}from"./axios.404fe92e.js";import{u as Qe}from"./branch-rawMaterials.eef1199c.js";import{u as Ze}from"./raw-material.97405a22.js";import{u as he}from"./use-dialog-plugin-component.82f9bb8b.js";import{q as ye}from"./date.f6e924ec.js";import{p as Ae,v as et}from"./vfs_fontes.3eb8cb31.js";import{u as Ce}from"./use-quasar.a7ea7bbf.js";import{Q as Ee}from"./QScrollArea.4010763a.js";import{u as qe}from"./selecta-product.ee368091.js";import{Q as Me}from"./QSelect.c7c3b268.js";import{Q as Je}from"./QChip.3e7f1461.js";import{u as ut}from"./recipe.e25a437e.js";import{u as Ke}from"./branch-recipe.89972953.js";import"./QResizeObserver.46a451ca.js";import"./use-panel.9cbd5ba5.js";import"./touch.9135741d.js";import"./selection.9cc77a90.js";import"./QMenu.52e4bd53.js";import"./QVirtualScroll.9b892be7.js";import"./QScrollObserver.4825142b.js";import"./TouchPan.0b215d33.js";const mt=a("div",{class:"text-h6"},"Create Branch Product",-1),pt={class:"q-mb-lg"},_t={key:0,class:"custom-list z-top"},gt=a("div",null,"Product Name",-1),ft=a("div",null,"Category",-1),vt={class:"row justify-between"},yt=a("div",null,"Beginnings",-1),ht=a("div",null,"Total Quantity",-1),bt=a("div",null,"Price",-1),wt={__name:"ProductCreate",setup(i){const x=de(),$=Xe(),k=U(()=>$.products),b=Oe(),m=P(""),g=async()=>{$.searchProducts(m.value)},p=U(()=>n.price!==0&&n.beginnings!==0&&n.total_quantity!==0),y=P(!1),w=()=>{y.value=!0},s=()=>{c(),y.value=!1},l=u=>u?u.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",o=u=>{n.product_id=u.id,n.product_name=u.name,n.category=u.category,m.value=""},n=Te({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:x.params.branch_id}),c=()=>{n.product_id="",n.product_name="",n.category="",n.price=0,n.beginnings=0,n.total_quantity=0},_=async()=>{try{const{product_name:u,...r}=n;await b.createBranchProducts(r),console.log("data to send",r),c(),y.value=!1}catch(u){console.log(u)}};return(u,r)=>(h(),S(j,null,[e(D,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:w}),e(Y,{modelValue:y.value,"onUpdate:modelValue":r[6]||(r[6]=d=>y.value=d),persistent:""},{default:t(()=>[e(I,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[mt,e(Be),G(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[W]])]),_:1}),e(R,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",pt,[e(E,{modelValue:m.value,"onUpdate:modelValue":[r[0]||(r[0]=d=>m.value=d),g],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(re,{name:"search"})])]),default:t(()=>[m.value?(h(),S("div",_t,[e(I,null,{default:t(()=>[e(Ue,{separator:""},{default:t(()=>{var d;return[(d=k.value)!=null&&d.length?(h(!0),S(j,{key:1},ne(k.value,C=>(h(),N(ve,{onClick:v=>o(C),key:C.id,clickable:""},{default:t(()=>[e(we,null,{default:t(()=>[e(Ne,null,{default:t(()=>[V(f(l(C.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),N(ve,{key:0},{default:t(()=>[V(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Le("",!0)]),_:1},8,["modelValue"])]),a("div",null,[gt,e(E,{modelValue:n.product_name,"onUpdate:modelValue":r[1]||(r[1]=d=>n.product_name=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[ft,e(E,{modelValue:n.category,"onUpdate:modelValue":r[2]||(r[2]=d=>n.category=d),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",vt,[a("div",null,[yt,e(E,{modelValue:n.beginnings,"onUpdate:modelValue":r[3]||(r[3]=d=>n.beginnings=d),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[ht,e(E,{modelValue:n.total_quantity,"onUpdate:modelValue":r[4]||(r[4]=d=>n.total_quantity=d),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[bt,e(E,{modelValue:n.price,"onUpdate:modelValue":r[5]||(r[5]=d=>n.price=d),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(ke,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:s}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:_,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const tt=i=>(te("data-v-196482e9"),i=i(),ae(),i),xt=tt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),$t=tt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),kt={__name:"ProductDelete",props:["delete"],setup(i){const x=Oe(),$=i;console.log("delte",$.delete.row.id);const k=async()=>{try{await x.deleteBranchProducts($.delete.row.id),ge.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),b.value=!1}catch(g){console.error(g.message)}},b=P(!1),m=()=>{console.log("ID",$.delete.row.id),b.value=!0};return(g,p)=>(h(),S(j,null,[e(D,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(K,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(Y,{modelValue:b.value,"onUpdate:modelValue":p[0]||(p[0]=y=>b.value=y)},{default:t(()=>[e(I,null,{default:t(()=>[e(R,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[xt,$t]),_:1}),e(Ve,{class:"q-mb-md"}),e(R,null,{default:t(()=>[e(ke,{align:"right",class:"q-pt-none"},{default:t(()=>[G(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[W]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:k,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ct=X(kt,[["__scopeId","data-v-196482e9"]]);const Rt=i=>(te("data-v-592d46f2"),i=i(),ae(),i),Pt={class:"row justify-between"},St={class:"q-my-sm"},qt={key:0,class:"spinner-wrapper"},Vt={key:1},Dt={key:0,class:"data-error"},Bt=Rt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Tt={key:1},Ut={__name:"ProductTable",setup(i){const $=de().params.branch_id,k=Oe(),b=P(""),m=P(!0),g=P([]),p=P(!1),y=P({rowsPerPage:0}),w=U(()=>k.branchProducts);console.log("branchssdfrer",w.value);const s=U(()=>b.value?w.value.filter(d=>d.name.toLowerCase().includes(b.value.toLowerCase())):w.value),l=d=>d?d.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"";$e(async()=>{$&&await o($)});const o=async d=>{try{m.value=!0;const C=await k.fetchBranchProducts(d);w.value=C,w.value.length||(p.value=!0),console.log("Branch product",w.value)}catch(C){console.log("Error fetching branch product:",C),p.value=!0}finally{m.value=!1}};Ie(b,async d=>{m.value=!0,await new Promise(C=>setTimeout(C,1e3)),m.value=!1,p.value=s.value.length===0});async function n(d,C){try{const v=await xe.put("/api/update-branch-products/"+d.id,{price:parseInt(C)});if(v.status===200){const q=g.value.findIndex(B=>B.id==d.id);g.value[q]=parseInt(C),ge.create({type:"positive",message:v.data.message,timout:1e3,position:"top"})}}catch(v){console.error("Error updating price:",v)}}async function c(d,C){try{const v=await xe.put("/api/update-branch-products-total-quantity/"+d.id,{total_quantity:parseInt(C)});if(v.status===200){const q=g.value.findIndex(B=>B.id==d.id);g.value[q]=parseInt(C),ge.create({type:"positive",message:v.data.message,timout:1e3,position:"top"})}}catch(v){console.error("Error updating price:",v)}}const _=d=>{switch(d){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},u=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(d),r=[{name:"name",label:"Product Name",align:"center",field:d=>d.product.name,format:d=>`${d}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:d=>u(d),sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:d=>`${d} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(d,C)=>(h(),S(j,null,[a("div",Pt,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:b.value,"onUpdate:modelValue":C[0]||(C[0]=v=>b.value=v),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),a("div",St,[e(wt)])]),m.value?(h(),S("div",qt,[e(Fe,{size:"50px",color:"primary"})])):(h(),S("div",Vt,[s.value.length===0?(h(),S("div",Dt,[e(re,{name:"warning",color:"warning",size:"4em"}),Bt])):(h(),N(le,{key:1,class:"table-container sticky-header",filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":C[1]||(C[1]=v=>y.value=v),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(v=>[e(H,{key:"name",props:v},{default:t(()=>{var q;return[V(f((q=v.row.product)!=null&&q.name?l(v.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(v=>[e(H,{key:"name",props:v},{default:t(()=>[v.row.category?(h(),N(J,{key:0,color:_(v.row.category)},{default:t(()=>[V(f(v.row.category),1)]),_:2},1032,["color"])):(h(),S("span",Tt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(v=>[e(H,{props:v,class:"cursor-pointer"},{default:t(()=>[a("span",null,[V(f(u(v.row.price))+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit Price")]),_:1})]),e(De,{"onUpdate:modelValue":[q=>n(v.row,q),q=>v.row.price=q],modelValue:v.row.price,"auto-save":""},{default:t(q=>[e(E,{modelValue:q.value,"onUpdate:modelValue":B=>q.value=B,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Se(q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-total_quantity":t(v=>[e(H,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[V(f(v.row.total_quantity?v.row.total_quantity:"Set Quantity")+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit quantity")]),_:1})]),e(De,{"onUpdate:modelValue":[q=>c(v.row,q),q=>v.row.total_quantity=q],modelValue:v.row.total_quantity,"auto-save":""},{default:t(q=>[e(E,{modelValue:q.value,"onUpdate:modelValue":B=>q.value=B,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:Se(q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(v=>[e(H,{class:"q-gutter-x-md",props:v},{default:t(()=>[e(Ct,{delete:v},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Nt=X(Ut,[["__scopeId","data-v-592d46f2"]]);const At={class:"q-gutter-sm"},It={__name:"ProductPage",setup(i){return(x,$)=>(h(),S("div",At,[a("div",null,[e(Nt)])]))}},Ft=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Ht={class:"q-mb-lg"},Mt={key:0,class:"custom-list z-top"},Lt=a("div",null,"Raw Materials Code",-1),zt=a("div",null,"Raw Materials Name",-1),jt=a("div",null,"Category",-1),Ot=a("div",null,"Quantity",-1),Qt={__name:"RawMaterialsCreate",setup(i){const x=de(),$=Ze(),k=U(()=>$.rawMaterials),b=Qe(),m=P(""),g=async()=>{$.searchRawMaterials(m.value)},p=U(()=>o.total_quantity!==""),y=P(!1),w=()=>{y.value=!0},s=()=>{n(),y.value=!1},l=_=>{o.ingredients_id=_.id,o.ingredient_name=_.name,o.ingredient_code=_.code,o.category=_.category,o.unit=_.unit,m.value=""},o=Te({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:x.params.branch_id}),n=()=>{o.ingredients_id="",o.ingredient_name="",o.ingredient_code="",o.total_quantity="",o.ingredients_id="",o.category="",o.unit=""},c=async()=>{try{const{product_name:_,...u}=o;await b.createBranchRawMaterials(u),console.log("data to send",u),n(),y.value=!1}catch(_){console.log(_)}};return(_,u)=>(h(),S(j,null,[e(D,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:w,style:{background:"#f43f5e"}}),e(Y,{modelValue:y.value,"onUpdate:modelValue":u[5]||(u[5]=r=>y.value=r),persistent:""},{default:t(()=>[e(I,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Ft,e(Be),G(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[W]])]),_:1}),e(R,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Ht,[e(E,{modelValue:m.value,"onUpdate:modelValue":[u[0]||(u[0]=r=>m.value=r),g],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(re,{name:"search"})])]),default:t(()=>[m.value?(h(),S("div",Mt,[e(I,null,{default:t(()=>[e(Ue,{separator:""},{default:t(()=>{var r;return[(r=k.value)!=null&&r.length?(h(!0),S(j,{key:1},ne(k.value,d=>(h(),N(ve,{onClick:C=>l(d),key:d.id,clickable:""},{default:t(()=>[e(we,null,{default:t(()=>[e(Ne,null,{default:t(()=>[V(f(d.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),N(ve,{key:0},{default:t(()=>[V(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Le("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Lt,e(E,{modelValue:o.ingredient_code,"onUpdate:modelValue":u[1]||(u[1]=r=>o.ingredient_code=r),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[zt,e(E,{modelValue:o.ingredient_name,"onUpdate:modelValue":u[2]||(u[2]=r=>o.ingredient_name=r),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[jt,e(E,{modelValue:o.category,"onUpdate:modelValue":u[3]||(u[3]=r=>o.category=r),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Ot,e(E,{modelValue:o.total_quantity,"onUpdate:modelValue":u[4]||(u[4]=r=>o.total_quantity=r),type:"number",outlined:"",suffix:o.unit||"",dense:"",rules:[r=>r&&r.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(ke,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:s}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:c,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const at=i=>(te("data-v-17ad5e9f"),i=i(),ae(),i),Et=at(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Kt=at(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Yt={__name:"RawMaterialsTableDelete",props:["delete"],setup(i){const x=Qe(),$=i,k=async()=>{console.log("clickkkd");try{await x.deleteBranchRawMaterials($.delete.row.id),ge.create({type:"negative",icon:"warning",message:`Raw Materials ${$.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),b.value=!1}catch(g){console.error(g.message)}},b=P(!1),m=()=>{b.value=!0};return(g,p)=>(h(),S(j,null,[e(D,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(K,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(Y,{modelValue:b.value,"onUpdate:modelValue":p[0]||(p[0]=y=>b.value=y)},{default:t(()=>[e(I,null,{default:t(()=>[e(R,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Et,Kt]),_:1}),e(Ve,{class:"q-mb-md"}),e(R,null,{default:t(()=>[e(ke,{align:"right",class:"q-pt-none"},{default:t(()=>[G(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[W]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:k,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Gt=X(Yt,[["__scopeId","data-v-17ad5e9f"]]);const lt=i=>(te("data-v-74a3fea6"),i=i(),ae(),i),Wt={class:"row justify-between"},Jt={class:"q-my-sm"},Xt={key:0,class:"spinner-wrapper"},Zt={key:1},ea={key:0,class:"data-error"},ta=lt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),aa=lt(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),la={class:"row justify-center q-gutter-x-md"},oa={__name:"RawMaterialsTable",setup(i){const $=de().params.branch_id,k=Qe(),b=P(""),m=P(!0),g=P([]),p=P(!1),y=P({rowsPerPage:0}),w=U(()=>k.branchRawMaterials),s=U(()=>b.value?w.value.filter(u=>u.name.toLowerCase().includes(b.value.toLowerCase())):w.value);$e(async()=>{console.log("props.branchId in onMounted:",$),$&&await l($)});const l=async u=>{try{m.value=!0;const r=await k.fetchBranchRawMaterials(u);w.value=r,w.value.length||(p.value=!0),console.log("Branch Raw Materials",w.value)}catch(r){console.log("Error fetching branch product:",r),p.value=!0}finally{m.value=!1}};async function o(u,r){try{const d=await xe.put("/api/update-branch-rawMaterials/"+u.id,{total_quantity:parseInt(r)});if(d.status===200){const C=g.value.findIndex(v=>v.id==u.id);g.value[C]=parseInt(r),ge.create({type:"positive",message:d.data.message,timout:1e3,position:"top"})}}catch(d){console.error("Error updating price:",d)}}Ie(b,async u=>{m.value=!0,await new Promise(r=>setTimeout(r,1e3)),m.value=!1,p.value=s.value.length===0});const n=u=>{const r=u.total_quantity;if(u.ingredients.unit==="Grams"&&r<1e3)return"bg-red";let C;return r>=1e3?C=r/1e3:C=r,C<5?C<=2?"bg-red":(C<=3,"bg-warning"):"bg-positive"},c=u=>{const r=u.total_quantity,d=u.ingredients.unit;if(r>1e3){const C=(r/1e3).toFixed(2);return C.endsWith(".00")?`${Math.round(r/1e3)} kilos`:`${C} kilos`}else return r>1?`${r} ${d}`:`${r} ${d}`},_=[{name:"code",label:"Raw Materials Code",align:"center",field:u=>{var r,d;return(d=(r=u==null?void 0:u.ingredients)==null?void 0:r.code)!=null?d:"No Code"},format:u=>`${u}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:u=>{var r,d;return(d=(r=u==null?void 0:u.ingredients)==null?void 0:r.name)!=null?d:"No Code"},format:u=>`${u}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(u,r)=>(h(),S(j,null,[a("div",Wt,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:b.value,"onUpdate:modelValue":r[0]||(r[0]=d=>b.value=d),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Jt,[e(Qt)])]),m.value?(h(),S("div",Xt,[e(Fe,{size:"50px",color:"primary"})])):(h(),S("div",Zt,[s.value.length===0?(h(),S("div",ea,[e(re,{name:"warning",color:"warning",size:"4em"}),ta])):(h(),N(le,{key:1,class:"table-container sticky-header",filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:_,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":r[1]||(r[1]=d=>y.value=d),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(d=>[e(H,{props:d},{default:t(()=>[e(J,{square:"",class:st(["text-white cursor-pointer",n(d.row)])},{default:t(()=>[V(f(c(d.row))+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[aa]),_:1}),e(De,{"onUpdate:modelValue":[C=>o(d.row,C),C=>d.row.total_quantity=C],modelValue:d.row.total_quantity,"auto-save":""},{default:t(C=>[e(E,{modelValue:C.value,"onUpdate:modelValue":v=>C.value=v,dense:"",suffix:d.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Se(C.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(d=>[e(H,{props:d},{default:t(()=>[a("div",la,[e(Gt,{delete:d},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var na=X(oa,[["__scopeId","data-v-74a3fea6"]]);const sa={class:"q-gutter-sm"},ra={class:"q-gutter-x-sm"},ia={__name:"RawMaterialsPage",setup(i){return(x,$)=>(h(),S("div",sa,[a("div",ra,[e(J,{label:"Good",class:"text-white",color:"positive"}),e(J,{label:"Warning",class:"text-white",color:"warning"}),e(J,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(na)])]))}};const Ye=i=>(te("data-v-239e42ee"),i=i(),ae(),i),da=Ye(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),ca={class:"text-subtitle1 text-weight-regular"},ua={class:"row q-gutter-md"},ma={class:"text-h6 row justify-between"},pa={class:"row items-start q-gutter-x-md text-overline elegant-text"},_a={class:"row q-gutter-x-sm q-gutter-y-xm"},ga={class:"row q-gutter-x-sm q-gutter-y-xm"},fa={class:"row q-gutter-x-sm"},va={class:"row q-gutter-x-sm"},ya={class:"row"},ha={class:"col-6"},ba=Ye(()=>a("div",{class:"text-subtitle1",align:"center"},"Ingredients",-1)),wa={class:"row justify-center q-gutter-x-lg q-pa-lg"},xa={class:"row items-start"},$a={class:"col-6"},ka=Ye(()=>a("div",{class:"text-subtitle1",align:"center"},"Bread",-1)),Ca={class:"row justify-center q-gutter-x-lg q-pa-lg"},Ra={key:0},Pa={key:1},Sa={key:2},qa={class:"q-ma-sm"},Va={class:"q-ma-sm",align:"center"},Da=["src"],Ba={__name:"BakerReportPanel",props:["bakersReport"],setup(i){Ae.exports.vfs=et;const x=i,$=x.bakersReport;console.log("Bakers Report",x.bakersReport);const k=P(!0),b=P(!1),m=P(""),g=c=>ye.formatDate(c,"MMM. DD, YYYY"),p=c=>c?c.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",y=c=>{const _=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"",u=c.firstname?_(c.firstname):"No Firstname",r=c.middlename?_(c.middlename).charAt(0)+".":"",d=c.lastname?_(c.lastname):"No Lastname";return`${u} ${r} ${d}`.trim()},w=c=>{const _=new Date(c),u={hour:"2-digit",minute:"2-digit",hour12:!0};return _.toLocaleTimeString(void 0,u)},s=c=>{switch(c){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},l=c=>c?c.recipe_category==="Filling"?c.filling_bakers_reports||[]:c.recipe_category==="Dough"?c.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),o=c=>{var B,se,L,M;console.log("bakerReport",c);const _=`${c.branch_recipe.recipe.name} (${c.recipe_category})`,u=c.branch_recipe.recipe.target,r=c.actual_target,d=c.kilo,C=c.over,v=c.short,q={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:_,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${u} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${r} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${d} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${C} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${v} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${c.branch.name||"No name available"}
                Baker: ${y(((B=c==null?void 0:c.user)==null?void 0:B.employee)||"Unknown Baker Name")}
                Recipe: ${((se=c.recipe)==null?void 0:se.name)||"Unknown Recipe"} (${c.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${g(((L=x.bakersReport[0])==null?void 0:L.created_at)||((M=x.bakersReport[1])==null?void 0:M.created_at)||"No name available")}
                Time: ${w(c.created_at)}
                Status: ${p(c.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...l(c).map(Q=>{var Z;return[{text:((Z=Q==null?void 0:Q.bread)==null?void 0:Z.name)||"Unknown Bread",style:"body"},{text:c.recipe_category==="Filling"?`${(Q==null?void 0:Q.filling_production)||"0"} pcs`:`${Q==null?void 0:Q.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(c.ingredient_bakers_reports||[]).map(Q=>{var Z,O;return[{text:((Z=Q==null?void 0:Q.ingredients)==null?void 0:Z.code)||"Unknown Ingredient",style:"body"},{text:`${(Q==null?void 0:Q.quantity)||"Unknown Quantity"} ${((O=Q==null?void 0:Q.ingredients)==null?void 0:O.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},q]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},n=c=>{const _=o(c);Ae.exports.createPdf(_).getDataUrl(u=>{m.value=u,b.value=!0})};return(c,_)=>(h(),S("div",null,[e(I,{class:"my-card q-pa-md"},{default:t(()=>{var u,r,d,C,v,q;return[da,a("div",ca,[a("div",null," Name: "+f(y(((r=(u=A($)[0])==null?void 0:u.user)==null?void 0:r.employee)||((C=(d=A($)[1])==null?void 0:d.user)==null?void 0:C.employee)||"No name available")),1),a("div",null," Date: "+f(`${g(((v=x.bakersReport[0])==null?void 0:v.created_at)||((q=x.bakersReport[1])==null?void 0:q.created_at)||"No name available")}`),1)]),e(R,null,{default:t(()=>[a("div",ua,[(h(!0),S(j,null,ne(A($),(B,se)=>(h(),S("div",{key:se,class:"row q-gutter-sm"},[e(I,{flat:"",dense:"",bordered:"",class:"q-pa-md q-my-sm user-card",style:{width:"675px","max-width":"1500px"}},{default:t(()=>{var L;return[a("div",ma,[a("div",null,f(`${p((L=B.branch_recipe.recipe)==null?void 0:L.name)||"Unknown Recipe"} (${B.recipe_category||"Unknown Category"})`),1),e(D,{padding:"xs md",label:"Print",icon:"print",outline:"",onClick:M=>n(B),class:"user-button"},null,8,["onClick"])]),a("div",null,"Time: "+f(w(B.created_at)),1),a("div",null,[V(" Status: "),e(J,{align:"middle",color:s(B.status)},{default:t(()=>[V(f(p(B.status)),1)]),_:2},1032,["color"])]),e(R,null,{default:t(()=>[a("div",pa,[a("div",_a,[V(" Actual Target: "),a("div",null,[e(J,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${(B==null?void 0:B.actual_target)||"No target"} pcs`),1)]),_:2},1024)])]),a("div",ga,[V(" Kilo: "),a("div",null,[e(J,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${(B==null?void 0:B.kilo)||"No Kilo"} kgs`),1)]),_:2},1024)])]),a("div",fa,[V(" Over: "),a("div",null,[e(J,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${B.over} pcs`),1)]),_:2},1024)])]),a("div",va,[V(" Short: "),a("div",null,[e(J,{outline:"",align:"middle",color:"teal"},{default:t(()=>[V(f(`${B.short} pcs`),1)]),_:2},1024)])])])]),_:2},1024),e(R,null,{default:t(()=>[a("div",ya,[a("div",ha,[ba,a("div",wa,[a("div",null,[(h(!0),S(j,null,ne(B.ingredient_bakers_reports||[],(M,Q)=>{var Z,O;return h(),S("div",{key:Q,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,f(((Z=M==null?void 0:M.ingredients)==null?void 0:Z.name)||"Unknown Ingredient"),1),a("div",xa,f(`${(M==null?void 0:M.quantity)||"Unknown Quantity"} ${((O=M==null?void 0:M.ingredients)==null?void 0:O.unit)||""}`),1)])}),128))])])]),a("div",$a,[ka,a("div",Ca,[a("div",null,[(h(!0),S(j,null,ne(l(B),(M,Q)=>{var Z;return h(),S("div",{key:Q,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,f(((Z=M==null?void 0:M.bread)==null?void 0:Z.name)||"Unknown Bread"),1),a("div",null,[B.recipe_category==="Filling"?(h(),S("div",Ra,f(`${(M==null?void 0:M.filling_production)||"0"} pcs`),1)):B.recipe_category==="Dough"?(h(),S("div",Pa,f(`${M==null?void 0:M.bread_new_production} pcs`),1)):(h(),S("div",Sa,f("0 pcs")))])])}),128))])])])])]),_:2},1024)]}),_:2},1024)]))),128))])]),_:1})]}),_:1}),e(Y,{modelValue:b.value,"onUpdate:modelValue":_[0]||(_[0]=u=>b.value=u),"backdrop-filter":c.backdropFilter,maximized:k.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",qa,[a("div",Va,[G((h(),N(D,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(K,null,{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])]),a("div",null,[a("iframe",{src:m.value,width:"100%",height:"700px"},null,8,Da)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Ta=X(Ba,[["__scopeId","data-v-239e42ee"]]);const Ua={class:"row justify-between text-white"},Na=a("div",{class:"text-h6"},"Bread Report",-1),Aa={class:"row justify-end q-mt-md"},Ia={class:"text-h6"},Fa={__name:"BreadReport",props:["reports"],setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i;console.log("Reports data structure:",m.reports);const g=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",p=[{name:"name",label:"Bread Name",field:l=>(console.log("Row data:",l),l.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:l=>`${l}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:l=>`${l}`},{name:"total",label:"Bread Total (PCS)",field:"total",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],y=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),w=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),s=U(()=>{const l=w.value.reduce((o,n)=>{const c=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${c} to total: ${o}`),o+c},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Overall Total Sales:",s.value),(l,o)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Ua,[Na,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:w.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${g(n.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Aa,[a("div",Ia," Overall Total Sales: "+f(y(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ha={class:"row justify-between text-white"},Ma=a("div",{class:"text-h6"},"Selecta Report",-1),La={class:"row justify-end q-mt-md"},za={class:"text-h6"},ja={__name:"SelectaReport",props:["reports"],setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i;console.log("Reports data structure:",m.reports);const g=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",p=[{name:"name",label:"Selecta Name",field:l=>(console.log("Row data:",l),l.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:l=>`${l}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],y=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),w=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),s=U(()=>{const l=w.value.reduce((o,n)=>{const c=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${c} to total: ${o}`),o+c},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Filtered Rows:",w.value),(l,o)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ha,[Ma,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:w.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${g(n.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",La,[a("div",za," Overall Total Sales: "+f(y(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Oa={class:"row justify-between text-white"},Qa=a("div",{class:"text-h6"},"Softdrinks Report",-1),Ea={class:"row justify-end q-mt-md"},Ka={class:"text-h6"},Ya={__name:"SoftdrinksReport",props:["reports"],setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i;console.log("Reports data structure:",m.reports);const g=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",p=[{name:"name",label:"Softdrinks Name",field:l=>(console.log("Row data:",l),l.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:l=>`${l}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],y=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),w=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),s=U(()=>{const l=w.value.reduce((o,n)=>{const c=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${c} to total: ${o}`),o+c},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Filtered Rows:",w.value),(l,o)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Oa,[Qa,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:w.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${g(n.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Ea,[a("div",Ka," Overall Total Sales: "+f(y(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ga={class:"row justify-between text-white"},Wa=a("div",{class:"text-h6"},"Cake Report",-1),Ja={class:"row justify-end q-mt-md"},Xa={class:"text-h6"},Za={__name:"CakeReport",props:["reports"],setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i;console.log("Report cake:",m.reports);const g=U(()=>(console.log("Filtered cake rows:",m.reports||[]),m.reports||[])),p=l=>{const o=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",n=l.firstname?o(l.firstname):"No Firstname",c=l.middlename?o(l.middlename).charAt(0)+".":"",_=l.lastname?o(l.lastname):"No Lastname";return`${n} ${c} ${_}`},y=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1 "),w=U(()=>{const l=g.value.reduce((o,n)=>{const c=parseFloat(n.cake_report.price)||0;return console.log(`Adding salesAmount: ${c} to total: ${o}`),o+c},0);return console.log("Overall Total Sales computed as:",l),l}),s=[{name:"name",label:"Cake Name",field:l=>(console.log("Row data:",l),l.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:l=>p(l.cake_report.user.employee)},{name:"price",label:"Price",field:l=>y(l.cake_report.price)},{name:"layers",label:"Layers",field:l=>l.cake_report.layers},{name:"sales_status",label:"Sale Status",field:l=>l.cake_report.sales_status}];return(l,o)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",Ga,[Wa,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:g.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",Ja,[a("div",Xa," Overall Total Sales: "+f(y(w.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},el={class:"row justify-between text-white"},tl=a("div",{class:"text-h6"},"Other Products Report",-1),al={class:"row justify-end q-mt-md"},ll={class:"text-h6"},ol={__name:"OtherProductsReport",props:["reports"],setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i,g=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[])),p=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",y=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),w=[{name:"name",label:"Product Name",field:l=>(console.log("Row data:",l),l.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Product Out (PCS)",field:"out",format:l=>`${l}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],s=U(()=>{const l=g.value.reduce((o,n)=>{const c=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${c} to total: ${o}`),o+c},0);return console.log("Overall Total Sales computed as:",l),l});return(l,o)=>(h(),S("div",null,[e(Y,{ref_key:"dialogRef",ref:x,onHide:A($)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",el,[tl,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:w,rows:g.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${p(n.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(H,{props:n},{default:t(()=>[a("span",null,f(`${y(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",al,[a("div",ll," Overall Total Sales: "+f(y(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const nl=i=>(te("data-v-0eb81aec"),i=i(),ae(),i),sl=nl(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),rl={class:"item-start q-gutter-md",align:"center"},il={class:"text-weight-regular text-subtitle1"},dl={__name:"ProductsReport",props:["sales_Reports"],setup(i){const x=i,$=x.sales_Reports;console.log("sales report2",x);const k=Ce(),b=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),m=s=>{k.dialog({component:Fa,componentProps:{reports:s}})},g=s=>{k.dialog({component:ja,componentProps:{reports:s}})},p=s=>{k.dialog({component:Ya,componentProps:{reports:s}})},y=s=>{k.dialog({component:Za,componentProps:{reports:s}})},w=s=>{k.dialog({component:ol,componentProps:{reports:s}})};return(s,l)=>(h(),S("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[sl]),_:1}),e(R,null,{default:t(()=>[a("div",rl,[e(D,{onClick:l[0]||(l[0]=o=>m(x.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(D,{onClick:l[1]||(l[1]=o=>g(A($)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(D,{onClick:l[2]||(l[2]=o=>p(A($)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(D,{onClick:l[3]||(l[3]=o=>y(A($)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(D,{onClick:l[4]||(l[4]=o=>w(A($)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1}),e(R,null,{default:t(()=>[a("div",il," Total sales: "+f(b(A($)[0].products_total_sales)),1)]),_:1})]),_:1})]))}};var cl=X(dl,[["__scopeId","data-v-0eb81aec"]]);const ul={class:"row justify-between text-white"},ml=a("div",{class:"text-h6"},"Denomination Report",-1),pl={class:"row text-weight-regular text-subtitle1"},_l={class:"col-6"},gl={class:"col-6"},fl={class:"row justify-end q-mt-md"},vl={class:"text-h6"},yl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i;console.log("Denomination Props",m.reports);const g=m.reports[0];console.log("Reports data structure:",m.reports);const p=w=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(w),y=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[]));return console.log("Filtered Rows:",y.value),(w,s)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",ul,[ml,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[a("div",pl,[a("div",_l,[a("div",null,"1000 Bills: "+f(A(g).oneThousandBills),1),a("div",null,"500 Bills: "+f(A(g).fiveHundredBills),1),a("div",null,"200 Bills: "+f(A(g).twoHundredBills),1),a("div",null,"100 Bills: "+f(A(g).oneHundredBills),1),a("div",null,"50 Bills: "+f(A(g).fiftyBills),1),a("div",null,"20 Bills: "+f(A(g).twentyBills),1)]),a("div",gl,[a("div",null,"20 coins: "+f(A(g).twentyCoins),1),a("div",null,"10 coins: "+f(A(g).tenCoins),1),a("div",null,"5 coins: "+f(A(g).fiveCoins),1),a("div",null,"1 coins: "+f(A(g).oneCoins),1),a("div",null,"25 cents: "+f(A(g).twentyFiveCents),1)])])]),_:1}),e(R,null,{default:t(()=>[a("div",fl,[a("div",vl," Overall Total Denomination: "+f(p(i.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const hl=i=>(te("data-v-0bfb79ef"),i=i(),ae(),i),bl=hl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),wl={class:"q-gutter-x-md",align:"center"},xl={class:"text-weight-regular text-subtitle1"},$l={__name:"DenominationReport",props:["sales_Reports"],setup(i){const x=i;x.sales_Reports,console.log("Denomination report",x);const $=Ce(),k=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),b=(m,g)=>{$.dialog({component:yl,componentProps:{reports:m,total:g}})};return(m,g)=>(h(),S("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[bl]),_:1}),e(R,null,{default:t(()=>[a("div",wl,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:g[0]||(g[0]=p=>b(x.sales_Reports[0].denomination_reports,x.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1}),e(R,null,{default:t(()=>[a("div",xl," Total Denomination : "+f(k(x.sales_Reports[0].denomination_total)),1)]),_:1})]),_:1})]))}};var kl=X($l,[["__scopeId","data-v-0bfb79ef"]]);const Cl={class:"row justify-between text-white"},Rl=a("div",{class:"text-h6"},"Expenses Report",-1),Pl={class:"row justify-end q-mt-md"},Sl={class:"text-h6"},ql={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i;m.reports,console.log("Expenses total",m.total);const g=s=>s?s.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",p=[{name:"name",label:"Expenses Name",field:s=>(console.log("Row data:",s),s.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",m.reports);const y=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),w=U(()=>(console.log("Filtered rows:",m.reports||[]),m.reports||[]));return console.log("Expenses:",w.value),(s,l)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($),onOk:s.handleButtonClick,onCancel:A(b)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Cl,[Rl,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:s.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:w.value,"row-key":"name","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":l[0]||(l[0]=o=>s.pagination=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(H,{props:o},{default:t(()=>[a("span",null,f(`${g(o.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(o=>[e(H,{props:o},{default:t(()=>[a("span",null,f(`${y(o.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Pl,[a("div",Sl," Overall Total Expenses: "+f(y(i.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Vl=i=>(te("data-v-338c99d0"),i=i(),ae(),i),Dl=Vl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Bl={class:"q-gutter-x-md",align:"center"},Tl={class:"text-weight-regular text-subtitle1"},Ul={__name:"ExpensesReport",props:["sales_Reports"],setup(i){const x=i;console.log("Expenses Data",x.sales_Reports[0].expenses_reports);const $=Ce(),k=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),b=(m,g)=>{$.dialog({component:ql,componentProps:{reports:m,total:g}})};return(m,g)=>(h(),S("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[Dl]),_:1}),e(R,null,{default:t(()=>[a("div",Bl,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:g[0]||(g[0]=p=>b(x.sales_Reports[0].expenses_reports,x.sales_Reports[0].expenses_total))})])]),_:1}),e(R,null,{default:t(()=>[a("div",Tl," Total Expenses : "+f(k(x.sales_Reports[0].expenses_total)),1)]),_:1})]),_:1})]))}};var Nl=X(Ul,[["__scopeId","data-v-338c99d0"]]);const Al={class:"row justify-between text-white"},Il=a("div",{class:"text-h6"},"Credits Report",-1),Fl={class:"row justify-end q-mt-md"},Hl={class:"text-h6"},Ml={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(i){const{dialogRef:x,onDialogHide:$,onDialogOK:k,onDialogCancel:b}=he(),m=i,g=m.reports;console.log("creditReports data",g),g.forEach((n,c)=>{console.log(`Report ${c}:`,n),console.log(`Credit Products for Report ${c}:`,n.credit_products.total_amount)});const p=U(()=>g.flatMap(n=>n.credit_products.map(c=>{const _=parseInt(c.pieces,10)||0,u=parseFloat(c.price)||0,r=_*u;return{...c,total_amount:r}})));console.log("All Credit Products:",p.value[0]);const y=n=>n?n.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",w=n=>{const c=d=>d?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():"",_=n.firstname?c(n.firstname):"No Firstname",u=n.middlename?c(n.middlename).charAt(0)+".":"",r=n.lastname?c(n.lastname):"No Lastname";return`${_} ${u} ${r}`.trim()},s=[{name:"name",label:"Employee Name",field:n=>w(n.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:n=>n.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",m.reports);const l=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),o=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n);return(n,c)=>(h(),N(Y,{ref_key:"dialogRef",ref:x,onHide:A($),onOk:n.handleButtonClick,onCancel:A(b)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(R,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Al,[Il,G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])]),_:1}),e(R,null,{default:t(()=>[e(le,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:p.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":c[0]||(c[0]=_=>n.pagination=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(_=>[e(H,{props:_},{default:t(()=>[a("span",null,f(`${y(_.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(_=>[e(H,{props:_},{default:t(()=>[a("span",null,f(`${l(_.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(_=>[e(H,{props:_},{default:t(()=>[a("span",null,f(`${o(_.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(R,null,{default:t(()=>[a("div",Fl,[a("div",Hl," Overall Credits Total: "+f(l(i.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Ll=i=>(te("data-v-29d6ba68"),i=i(),ae(),i),zl=Ll(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),jl={class:"q-gutter-x-md",align:"center"},Ol={class:"text-weight-regular text-subtitle1"},Ql={__name:"CreditsReport",props:["sales_Reports"],setup(i){const x=i,$=Ce(),k=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(m),b=(m,g)=>{$.dialog({component:Ml,componentProps:{reports:m,total:g}})};return(m,g)=>(h(),S("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(R,null,{default:t(()=>[zl]),_:1}),e(R,null,{default:t(()=>[a("div",jl,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:g[0]||(g[0]=p=>b(x.sales_Reports[0].credit_reports,x.sales_Reports[0].credit_total))})])]),_:1}),e(R,null,{default:t(()=>[a("div",Ol," Total Credits : "+f(k(x.sales_Reports[0].credit_total)),1)]),_:1}),e(R)]),_:1})]))}};var El=X(Ql,[["__scopeId","data-v-29d6ba68"]]);const Kl=i=>(te("data-v-5d46a8e5"),i=i(),ae(),i),Yl={class:"q-mt-lg row items-start q-gutter-md justify-center"},Gl={class:"row justify-between"},Wl=Kl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Jl={align:"right"},Xl={class:"text-subtitle1 text-weight-regular"},Zl={class:"row q-gutter-sm q-pa-md"},eo={class:"q-ma-sm"},to={class:"q-ma-sm",align:"center"},ao=["src"],lo={__name:"SalesReportPanel",props:["salesReport"],setup(i){Ae.exports.vfs=et;const x=i,$=x.salesReport;console.log("reportsData",x.salesReport);const k=P(!0),b=P(!1),m=P(""),g=o=>ye.formatDate(o,"MMMM DD, YYYY"),p=o=>{const n=new Date(o),c={hour:"2-digit",minute:"2-digit",hour12:!0};return n.toLocaleTimeString(void 0,c)},y=o=>{const n=r=>r?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():"",c=o.firstname?n(o.firstname):"No Firstname",_=o.middlename?n(o.middlename).charAt(0)+".":"",u=o.lastname?n(o.lastname):"No Lastname";return`${c} ${_} ${u}`.trim()},w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(o).replace("\u20B1","\u20B1	"),s=o=>{const n=U(()=>o.credit_reports.flatMap(O=>O.credit_products));console.log("All Credit Products:",n.value);const c=[{title:"Bread Production",data:o.bread_reports||[],columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:o.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:o.softdrinks_reports||[],columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:o.other_products_reports||[],columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:o.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],_=o.expenses_reports||[],u=n.value||[],r=o.credit_total,d=o.denomination_reports[0]||[],C=o.denomination_total,v=o.expenses_total;o.products_total_sales,o.charges_amount,o.over_total;const q={bills:[{name:"One Thousand",pcs:d.oneThousandBills||0},{name:"Five Hundred",pcs:d.fiveHundredBills||0},{name:"Two Hundred",pcs:d.twoHundredBills||0},{name:"One Hundred",pcs:d.oneHundredBills||0},{name:"Fifty",pcs:d.fiftyBills||0},{name:"Twenty",pcs:d.twentyBills||0}],coins:[{name:"Twenty",pcs:d.twentyCoins||0},{name:"Ten",pcs:d.tenCoins||0},{name:"Five",pcs:d.fiveCoins||0},{name:"One",pcs:d.oneCoins||0},{name:"Twenty Five Cents",pcs:d.twentyFiveCents||0}]},B=(O,ce,oe)=>{const ue=(ee,ie)=>ie.split(".").reduce((fe,T)=>fe?fe[T]:0,ee),Pe=oe.reduce((ee,ie)=>(ee[ie]=O.reduce((fe,T)=>fe+parseFloat(ue(T,ie))||0,0),ee),{});return[...O.map(ee=>ce.map(ie=>{if(ie==="cake_report.user.employee"){const fe=ue(ee,"cake_report.user.employee");return{text:fe?y(fe):"No Employee",style:"body",alignment:"center"}}return{text:ie.includes(".")?ue(ee,ie)||"-":ee[ie]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:ce.length-oe.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(ce.length-oe.length-1).fill({}),...oe.map(ee=>({text:`\u20B1 ${Pe[ee].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]},se=u.length>0?u.map(O=>[{text:y(O.credit_user_id),style:"body",alignment:"center"},{text:O.product.name,style:"body",alignment:"center"},{text:O.pieces,style:"body",alignment:"center"},{text:O.price,style:"body",alignment:"center"},{text:O.total_amount,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:5,alignment:"center"}]];se.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:`${w(r)}`,style:"bodyBold",alignment:"center",colSpan:2},{}]);const L=_.length>0?_.map(O=>[{text:O.name,style:"body",alignment:"center"},{text:O.description,style:"body",alignment:"center"},{text:`${w(O.amount)}`,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:3,alignment:"center"}]];L.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${w(v)}`,style:"bodyBold",alignment:"center"}]);const M=q.bills.map((O,ce)=>{var oe,ue;return[{text:O.name,style:"body",alignment:"center"},{text:O.pcs,style:"body",alignment:"center"},{text:((oe=q.coins[ce])==null?void 0:oe.name)||"",style:"body",alignment:"center"},{text:((ue=q.coins[ce])==null?void 0:ue.pcs)||"0",style:"body",alignment:"center"}]});M.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${w(C)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const Q=c.map(({title:O,data:ce,columns:oe,totals:ue})=>({stack:[{text:O,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(oe.length).fill("*"),body:[oe.map(Pe=>({text:Pe.split(".").pop().replace(/_/g," ").replace(/\b\w/g,ee=>ee.toUpperCase()),style:"tableHeader",alignment:"center"})),...B(ce,oe,ue)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),Z={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:w(C),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:w(o.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:w(v),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:w(o.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${w(o.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${o.branch.name}
          Cashier: ${y(o.user.employee)}
          Date: ${g(o.created_at)}
Time: ${p(o.created_at)}
`,margin:[0,0,0,10]},{}]},...Q,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...L]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...se]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...M]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},Z]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},l=o=>{const n=s(o);Ae.exports.createPdf(n).getDataUrl(c=>{m.value=c,b.value=!0})};return(o,n)=>(h(),S(j,null,[e(I,{class:"my-card q-pa-md"},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Yl,[(h(!0),S(j,null,ne(A($),(c,_)=>(h(),S("div",{key:_},[e(I,{flat:"",dense:"",bordered:""},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Gl,[Wl,a("div",Jl,[e(D,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:u=>l(c)},null,8,["onClick"]),a("div",null,[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V(" Print Report ")]),_:1})])])]),a("div",Xl,[a("div",null,"Name: "+f(y(c.user.employee)),1),a("div",null,"Date: "+f(g(c.created_at)),1),a("div",null,"Time: "+f(p(c.created_at)),1)])]),_:2},1024),a("div",Zl,[e(cl,{sales_Reports:[c]},null,8,["sales_Reports"]),e(kl,{sales_Reports:[c]},null,8,["sales_Reports"]),e(Nl,{sales_Reports:[c]},null,8,["sales_Reports"]),e(El,{sales_Reports:[c]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(Y,{modelValue:b.value,"onUpdate:modelValue":n[0]||(n[0]=c=>b.value=c),maximized:k.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",eo,[a("div",to,[G((h(),N(D,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(K,null,{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])]),a("div",null,[a("iframe",{src:m.value,width:"100%",height:"700px"},null,8,ao)])])]),_:1},8,["modelValue","maximized"])],64))}};var oo=X(lo,[["__scopeId","data-v-5d46a8e5"]]);const no={class:"text-h6"},so={class:"row q-gutter-x-md"},ro={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(i,{emit:x}){const{dialogRef:$,onDialogHide:k,onDialogOK:b,onDialogCancel:m}=he(),g=i;console.log("production report",g.reports);const p=g.reports.baker_reports,y=g.reports.sales_reports,w=x,s=P("bakerReport"),l=P(!0),o=P(!1),n=_=>_?_.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",c=()=>{w("selectReport",g.reports),o.value=!0};return(_,u)=>(h(),N(Y,{ref_key:"dialogRef",ref:$,modelValue:o.value,"onUpdate:modelValue":u[2]||(u[2]=r=>o.value=r),onHide:A(k),onOk:c,onCancel:A(m),maximized:l.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(I,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",no,f(`${n(i.reports.branch_name)} ( ${i.reportLabel} Reports)`),1),e(Be),a("div",so,[a("div",null,[G((h(),N(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(K,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[V("Close")]),_:1})]),_:1})),[[W]])])])]),_:1}),e(R,null,{default:t(()=>[a("div",null,[e(ze,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=r=>s.value=r),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(pe,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(pe,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(je,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=r=>s.value=r),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(_e,{name:"bakerReport"},{default:t(()=>[e(Ta,{bakersReport:A(p)},null,8,["bakersReport"])]),_:1}),e(_e,{name:"salesReport"},{default:t(()=>[e(oo,{salesReport:A(y)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var io=X(ro,[["__scopeId","data-v-643ff984"]]);const co=rt("productions",()=>{const i=P([]),x=P([]);return{productions:i,production:x,fetchAllProduction:async()=>{const b=await xe.get("/api/branch-production-report");i.value=b.data.reports},fetchBranchProductions:async b=>{try{const m=await xe.get(`/api/branches/${b}/production-report`);i.value=m.data}catch(m){console.log(m)}}}});const uo=i=>(te("data-v-12387bc6"),i=i(),ae(),i),mo={key:0,class:"spinner-wrapper"},po={key:1},_o={key:0,class:"data-error"},go=uo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),fo={class:"row justify-center q-gutter-x-md"},vo={__name:"ProductionTable",setup(i){const x=de();P("bakerReport");const $=x.params.branch_id;P(!1),P(!0),P(""),P("");const k=P({rowsPerPage:0}),b=co(),m=P(""),g=U(()=>b.productions);P(!0);const p=P(!0),y=P(!1),w=U(()=>m.value?g.value.filter(_=>_.name.toLowerCase().includes(m.value.toLowerCase())):g.value);$e(async()=>{$&&await s($)});const s=async _=>{try{p.value=!0;const u=await b.fetchBranchProductions(_);console.log("Fetched data:",u),console.log("Production rows:",g.value),g.value.length||(y.value=!0)}catch{y.value=!0}finally{p.value=!1}};Ie(m,async _=>{p.value=!0,await new Promise(u=>setTimeout(u,1e3)),p.value=!1,y.value=w.value.length===0});const o=[{name:"reportDate",align:"center",label:"Date",field:"date",format:_=>ye.formatDate(_,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],n=Ce(),c=(_,u)=>{n.dialog({component:io,componentProps:{reports:_,reportLabel:u}})};return(_,u)=>(h(),S(j,null,[a("div",null,[e(E,{modelValue:m.value,"onUpdate:modelValue":u[0]||(u[0]=r=>m.value=r),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),p.value?(h(),S("div",mo,[e(Fe,{size:"50px",color:"primary"})])):(h(),S("div",po,[w.value.length===0?(h(),S("div",_o,[e(re,{name:"warning",color:"warning",size:"4em"}),go])):(h(),N(le,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:o,rows:w.value,"row-key":"reportDate","virtual-scroll":"",pagination:k.value,"onUpdate:pagination":u[1]||(u[1]=r=>k.value=r),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(r=>[e(H,{props:r},{default:t(()=>[a("div",fo,[e(D,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:d=>c(r.row.AM,"AM")},{default:t(()=>[V("AM")]),_:2},1032,["onClick"]),e(D,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:d=>c(r.row.PM,"PM")},{default:t(()=>[V("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var yo=X(vo,[["__scopeId","data-v-12387bc6"]]);const ho={__name:"ProductionPage",setup(i){return(x,$)=>(h(),S("div",null,[e(yo)]))}},bo={class:"row justify-between"},wo=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),xo=a("div",{class:"text-h6"},"Decline Report",-1),$o={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(i){const x=qe(),$=P(""),k=P(!1),b=P(!1),m=P({rowsPerPage:0}),g=Ce(),p=i,y=()=>{b.value=!0},w=()=>{k.value=!0},s=async()=>{if(!$.value){g.notify({type:"negative",message:"Remark is required"});return}try{const _=await x.declineReport(p.report.id,$.value);console.log("Report declined:",_),g.notify({type:"negative",message:"Report declined successfully"}),k.value=!1,b.value=!1,$.value=""}catch(_){console.error("Error declining report:",_),g.notify({type:"negative",message:"Failed to decline report"})}},l=async()=>{try{const _=await x.confirmReport(p.report.id);console.log("Report confirmed:",_),g.notify({type:"positive",message:"Report confirmed successfully"}),b.value=!1}catch(_){console.error(_)}},o=U(()=>p.report.selecta_added_stocks||[]),n=_=>{const u=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",r=_.firstname?u(_.firstname):"No Firstname",d=_.middlename?u(_.middlename).charAt(0)+".":"",C=_.lastname?u(_.lastname):"No Lastname";return`${r} ${d} ${C}`},c=[{name:"product_name",label:"Product Name",field:_=>_.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:_=>_.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:_=>_.added_stocks?`${_.added_stocks} pcs`:"N/A"}];return(_,u)=>(h(),S(j,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:y})]),e(Y,{modelValue:b.value,"onUpdate:modelValue":u[2]||(u[2]=r=>b.value=r)},{default:t(()=>[e(I,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",bo,[wo,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:u[0]||(u[0]=r=>b.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+f(n(i.report.employee)),1),a("div",null," Branch: "+f(i.report.branch.name),1),a("div",null,[V(" Status: "),e(J,{color:"yellow",outlined:""},{default:t(()=>[V(f(i.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(le,{rows:o.value,columns:c,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:m.value,"onUpdate:pagination":u[1]||(u[1]=r=>m.value=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(R,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(D,{color:"negative",label:"Decline",class:"action-btn",onClick:w}),e(D,{color:"positive",label:"Confirm",class:"action-btn",onClick:l})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:k.value,"onUpdate:modelValue":u[4]||(u[4]=r=>k.value=r)},{default:t(()=>[e(I,null,{default:t(()=>[e(R,null,{default:t(()=>[xo]),_:1}),e(R,null,{default:t(()=>[e(E,{modelValue:$.value,"onUpdate:modelValue":u[3]||(u[3]=r=>$.value=r),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[r=>!!r||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(ke,{align:"right"},{default:t(()=>[G(e(D,{flat:"",label:"Cancel",color:"primary"},null,512),[[W]]),e(D,{flat:"",label:"Confirm",color:"negative",onClick:s})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ko={class:"q-gutter-md q-ma-md"},Co={class:"row justify-between"},Ro={class:"text-subtitle1"},Po={class:"text-subtitle1"},So={class:"text-subtitle1"},qo={__name:"TransactionPendingCard",setup(i){const x=de(),$=qe(),k=U(()=>$.pendingSelectaReports),b=x.params.branch_id,m=P("pending"),g=async()=>{try{const s=await $.fetchPendingSelectaStocks(b,m.value);console.log(k.value)}catch(s){console.error("Error fetching pending stocks:",s)}};$e(async()=>{b&&await g()});const p=s=>ye.formatDate(s,"MMMM D, YYYY"),y=s=>ye.formatDate(s,"hh:mm A"),w=s=>{const l=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",o=s.firstname?l(s.firstname):"No Firstname",n=s.middlename?l(s.middlename).charAt(0)+".":"",c=s.lastname?l(s.lastname):"No Lastname";return`${o} ${n} ${c}`};return(s,l)=>(h(),S("div",null,[e(Ee,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ko,[(h(!0),S(j,null,ne(k.value,(o,n)=>(h(),N(I,{key:n},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Co,[a("div",Ro,f(p(o.created_at)),1),a("div",Po,f(y(o.created_at)),1),a("div",So,f(o.branch.name)+" - "+f(w(o.employee)),1),a("div",null,[e(J,{color:"yellow",outlined:""},{default:t(()=>[V(" Pending ")]),_:1})]),a("div",null,[e($o,{report:o},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]))}},Vo={class:"row justify-between"},Do=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Bo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(i){qe(),P(!1);const x=P(!1),$=()=>{x.value=!0};Ce();const k=i,b=U(()=>(console.log("Filtered rows:",k.report||[]),k.report.selecta_added_stocks||[])),m=p=>{const y=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",w=p.firstname?y(p.firstname):"No Firstname",s=p.middlename?y(p.middlename).charAt(0)+".":"",l=p.lastname?y(p.lastname):"No Lastname";return`${w} ${s} ${l}`},g=[{name:"product_name",label:"Product Name",field:p=>(console.log("Row data:",p),p.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:p=>(console.log("Row data:",p),p.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,y)=>(h(),S(j,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(Y,{modelValue:x.value,"onUpdate:modelValue":y[2]||(y[2]=w=>x.value=w)},{default:t(()=>[e(I,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Vo,[Do,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=w=>x.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+f(m(i.report.employee)),1),a("div",null," Branch: "+f(i.report.branch.name),1),a("div",null,[V(" Status: "),e(J,{color:"green",outlined:""},{default:t(()=>[V(f(i.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(le,{rows:b.value,columns:g,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:p.pagination,"onUpdate:pagination":y[1]||(y[1]=w=>p.pagination=w),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},To={class:"q-gutter-md q-ma-md"},Uo={class:"row justify-between"},No={class:"text-subtitle1"},Ao={class:"text-subtitle1"},Io={class:"text-subtitle1"},Fo={__name:"TransactionConfirmedCard",setup(i){const x=de(),$=qe(),k=U(()=>$.confirmedSelectaReports),b=x.params.branch_id,m=P("confirmed"),g=async()=>{try{const s=await $.fetchConfirmedSelectaStocks(b,m.value);console.log(k.value)}catch(s){console.error("Error fetching confirmed stocks:",s)}};$e(async()=>{b&&await g()});const p=s=>ye.formatDate(s,"MMMM D, YYYY"),y=s=>ye.formatDate(s,"hh:mm A"),w=s=>{const l=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",o=s.firstname?l(s.firstname):"No Firstname",n=s.middlename?l(s.middlename).charAt(0)+".":"",c=s.lastname?l(s.lastname):"No Lastname";return`${o} ${n} ${c}`};return(s,l)=>(h(),S("div",null,[e(Ee,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",To,[(h(!0),S(j,null,ne(k.value,(o,n)=>(h(),N(I,{key:n},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Uo,[a("div",No,f(p(o.created_at)),1),a("div",Ao,f(y(o.created_at)),1),a("div",Io,f(o.branch.name)+" - "+f(w(o.employee)),1),a("div",null,[e(J,{color:"green",outlined:""},{default:t(()=>[V(f(o.status),1)]),_:2},1024)]),a("div",null,[e(Bo,{report:o},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]))}},Ho={class:"row justify-between"},Mo=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Lo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(i){qe(),P(!1);const x=P(!1),$=()=>{x.value=!0},k=i,b=U(()=>(console.log("Filtered rows:",k.report||[]),k.report.selecta_added_stocks||[])),m=p=>{const y=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",w=p.firstname?y(p.firstname):"No Firstname",s=p.middlename?y(p.middlename).charAt(0)+".":"",l=p.lastname?y(p.lastname):"No Lastname";return`${w} ${s} ${l}`},g=[{name:"product_name",label:"Product Name",field:p=>(console.log("Row data:",p),p.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:p=>(console.log("Row data:",p),p.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,y)=>(h(),S(j,null,[a("div",null,[e(D,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(Y,{modelValue:x.value,"onUpdate:modelValue":y[2]||(y[2]=w=>x.value=w)},{default:t(()=>[e(I,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(R,null,{default:t(()=>[a("div",Ho,[Mo,e(D,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=w=>x.value=!1)})])]),_:1}),e(R,null,{default:t(()=>[a("div",null,"Cashier: "+f(m(i.report.employee)),1),a("div",null," Branch: "+f(i.report.branch.name),1),a("div",null,[V(" Status: "),e(J,{color:"red",outlined:""},{default:t(()=>[V(f(i.report.status),1)]),_:1})])]),_:1}),e(R,null,{default:t(()=>[e(le,{rows:b.value,columns:g,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:p.pagination,"onUpdate:pagination":y[1]||(y[1]=w=>p.pagination=w),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},zo={class:"q-gutter-md q-ma-md"},jo={class:"row justify-between"},Oo={class:"text-subtitle1"},Qo={class:"text-subtitle1"},Eo={class:"text-subtitle1"},Ko={__name:"TransactionDeclinedCard",setup(i){const x=de(),$=qe(),k=U(()=>$.declinedSelectaReports),b=x.params.branch_id,m=P("declined"),g=async()=>{try{const s=await $.fetchDeclinedSelectaStocks(b,m.value);console.log("selectedProductsDeclined",k.value)}catch(s){console.error("Error fetching decline stocks:",s)}};$e(async()=>{b&&await g()});const p=s=>ye.formatDate(s,"MMMM D, YYYY"),y=s=>ye.formatDate(s,"hh:mm A"),w=s=>{const l=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",o=s.firstname?l(s.firstname):"No Firstname",n=s.middlename?l(s.middlename).charAt(0)+".":"",c=s.lastname?l(s.lastname):"No Lastname";return`${o} ${n} ${c}`};return(s,l)=>(h(),S("div",null,[e(Ee,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",zo,[(h(!0),S(j,null,ne(k.value,(o,n)=>(h(),N(I,{key:n},{default:t(()=>[e(R,null,{default:t(()=>[a("div",jo,[a("div",Oo,f(p(o.created_at)),1),a("div",Qo,f(y(o.created_at)),1),a("div",Eo,f(o.branch.name)+" - "+f(w(o.employee)),1),a("div",null,[e(J,{color:"red",outlined:""},{default:t(()=>[V(f(o.status),1)]),_:2},1024)]),a("div",null,[e(Lo,{report:o},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]))}};const Yo={class:"q-gutter-y-sm"},Go={__name:"TransactionPage",setup(i){const x=P("pendingReports");return($,k)=>(h(),S(j,null,[a("div",Yo,[e(ze,{modelValue:x.value,"onUpdate:modelValue":k[0]||(k[0]=b=>x.value=b),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(pe,{class:"text-white",name:"pendingReports",icon:"event_available",label:"Pending Reports"}),e(pe,{class:"text-white",name:"confirmReports",icon:"calendar_month",label:"Confirm Reports"}),e(pe,{class:"text-white",name:"declineReports",icon:"calendar_month",label:"Decline Reports"})]),_:1},8,["modelValue"])]),e(je,{modelValue:x.value,"onUpdate:modelValue":k[1]||(k[1]=b=>x.value=b),animated:""},{default:t(()=>[e(_e,{name:"pendingReports"},{default:t(()=>[e(qo)]),_:1}),e(_e,{name:"confirmReports"},{default:t(()=>[e(Fo)]),_:1}),e(_e,{name:"declineReports"},{default:t(()=>[e(Ko)]),_:1})]),_:1},8,["modelValue"])],64))}};var Wo=X(Go,[["__scopeId","data-v-63e6b257"]]);const Re=i=>(te("data-v-2adb6214"),i=i(),ae(),i),Jo=Re(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),Xo={class:"q-mb-lg"},Zo={key:0,class:"custom-list z-top"},en={class:"q-mb-sm"},tn=Re(()=>a("div",null,"Recipe Name",-1)),an={class:"q-mb-lg"},ln=Re(()=>a("div",null,"Category",-1)),on=Re(()=>a("div",null,"Breads",-1)),nn={class:"q-mt-md q-gutter-y-sm"},sn=Re(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),rn={class:"q-mt-xl q-gutter-y-sm"},dn={class:"row justify-between"},cn=Re(()=>a("div",{align:"center"},"Ingredients",-1)),un=Re(()=>a("div",{align:"center"},"Quantity",-1)),mn=["onKeyup"],pn={align:"right"},_n={__name:"RecipeCreate",setup(i){const x=de(),$=x.params.branch_id,k=ut(),b=U(()=>k.recipes),m=Ke(),g=Xe(),p=Ze(),y=U(()=>m.branchRecipes),w=P(!1),s=()=>{w.value=!0},l=()=>{clearForm(),w.value=!1},o=T=>T?T.split(" ").map(F=>F.charAt(0).toUpperCase()+F.slice(1).toLowerCase()).join(" "):"",n=P(""),c=async()=>{k.searchRecipe(n.value)},_=U(()=>r.target!==0),u=T=>{r.recipe_id=T.id,r.recipe_name=T.name,r.category=T.category,n.value=""},r=Te({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:x.params.branch_id}),d=P(!1),C=P(null),v=P([]),q=P(v.value),B=P([]),se=P([]),L=Te({name:"",quantity:""}),M=P(se.value);(async()=>{await g.fetchProductsByCategory("Bread"),d.value=!1,v.value=g.breads.map(T=>({label:T.name,value:T.id}))})(),(async()=>{await p.fetchIngredients("Ingredients"),d.value=!1,se.value=p.ingredients.map(T=>({label:T.name,value:T.id,unit:T.unit}))})();const O=()=>{L.name="",L.quantity=""},ce=(T,F)=>{T.length>2&&(v.value.includes(T)||F(T,"add-unique"))},oe=(T,F)=>{F(()=>{if(T==="")q.value=v.value;else{const me=T.toLowerCase();q.value=v.value.filter(z=>z.label.toLowerCase().indexOf(me)>-1)}})},ue=(T,F)=>{F(()=>{if(T==="")M.value=se.value;else{const me=T.toLowerCase();M.value=se.value.filter(z=>z.label.toLowerCase().indexOf(me)>-1)}})},Pe=()=>{const T=B.value;function F(be,He){return be.find(nt=>nt.ingredients_id==He)}const me=L.name.value;F(T,me)?ge.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(B.value=[...T,{ingredients_id:L.name.value,label:L.name.label,quantity:L.quantity,unit:L.name.unit}],O())},ee=T=>{B.value.splice(T,1)};Ie(()=>L.name,T=>{T&&T.unit?L.unit=T.unit:L.unit=""});const ie=()=>{r.recipe_id="",r.target="",C.value=null,B.value=[],L.name="",L.quantity=""},fe=async()=>{const T={recipe_id:r.recipe_id,target:r.target,status:"active",branch_id:r.branches_id,breads:C.value.map(F=>({bread_id:F.value})),ingredients:B.value.map(F=>({ingredient_id:F.ingredients_id,quantity:F.quantity}))};console.log("branchRecipe",T),await m.saveBranchRecipe(T),y.value=await m.fetchBranchRecipes($),ie(),w.value=!1};return(T,F)=>(h(),S(j,null,[e(D,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:s}),e(Y,{modelValue:w.value,"onUpdate:modelValue":F[7]||(F[7]=me=>w.value=me)},{default:t(()=>[e(I,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(R,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Jo,e(Be),G(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[W]])]),_:1}),e(R,null,{default:t(()=>{var me;return[a("div",Xo,[e(E,{modelValue:n.value,"onUpdate:modelValue":[F[0]||(F[0]=z=>n.value=z),c],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(re,{name:"search"})])]),default:t(()=>[n.value?(h(),S("div",Zo,[e(I,null,{default:t(()=>[e(Ue,{separator:""},{default:t(()=>{var z;return[(z=b.value)!=null&&z.length?(h(!0),S(j,{key:1},ne(b.value,be=>(h(),N(ve,{onClick:He=>u(be),key:be.id,clickable:""},{default:t(()=>[e(we,null,{default:t(()=>[e(Ne,null,{default:t(()=>[V(f(o(be.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(h(),N(ve,{key:0},{default:t(()=>[V(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Le("",!0)]),_:1},8,["modelValue"])]),a("div",en,[tn,e(E,{modelValue:r.recipe_name,"onUpdate:modelValue":F[1]||(F[1]=z=>r.recipe_name=z),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",an,[ln,e(E,{modelValue:r.category,"onUpdate:modelValue":F[2]||(F[2]=z=>r.category=z),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(E,{modelValue:r.target,"onUpdate:modelValue":F[3]||(F[3]=z=>r.target=z),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs"},null,8,["modelValue"])]),a("div",null,[on,e(Me,{modelValue:C.value,"onUpdate:modelValue":F[4]||(F[4]=z=>C.value=z),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:q.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:ce,onFilter:oe,rules:[z=>z&&z.length>0||"Bread is required"]},{"no-option":t(()=>[e(ve,null,{default:t(()=>[e(we,{class:"text-grey"},{default:t(()=>[V(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",nn,[sn,a("div",null,[e(Ue,{dense:"",separator:"",class:"box"},{default:t(()=>[(h(!0),S(j,null,ne(B.value,(z,be)=>(h(),N(ve,{key:be},{default:t(()=>[e(we,null,{default:t(()=>[e(Ne,null,{default:t(()=>[V(f(z.label),1)]),_:2},1024)]),_:2},1024),e(we,null,{default:t(()=>[V(f(z.quantity)+" "+f(z.unit),1)]),_:2},1024),e(we,{side:""},{default:t(()=>[e(D,{onClick:He=>ee(be),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",rn,[a("div",dn,[a("div",null,[cn,e(Me,{modelValue:L.name,"onUpdate:modelValue":F[5]||(F[5]=z=>L.name=z),debounce:"3000",outlined:"","chips-color":"primary",options:M.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:ue,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ve,null,{default:t(()=>[e(we,{class:"text-grey"},{default:t(()=>[V(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[un,e(E,{modelValue:L.quantity,"onUpdate:modelValue":F[6]||(F[6]=z=>L.quantity=z),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((me=L==null?void 0:L.name)==null?void 0:me.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Se(it(Pe,["prevent"]),["enter"])},[a("div",pn,[e(D,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Pe})])],40,mn)])]}),_:1}),e(ke,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:l}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:fe,disable:!_.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var gn=X(_n,[["__scopeId","data-v-2adb6214"]]);const ot=i=>(te("data-v-33664d62"),i=i(),ae(),i),fn=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),vn=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),yn={__name:"RecipeDelete",props:["delete"],setup(i){const x=Ke(),$=i,k=P(!1),b=()=>{k.value=!0},m=async()=>{await x.deleteRecipe($.delete.row.id),k.value=!1};return(g,p)=>(h(),S(j,null,[e(D,{onClick:b,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(K,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(Y,{modelValue:k.value,"onUpdate:modelValue":p[0]||(p[0]=y=>k.value=y),persistent:""},{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(R,{class:"q-pt-none q-pb-sm"},{default:t(()=>[fn,vn]),_:1}),e(Ve,{class:"q-mb-md"}),e(R,null,{default:t(()=>[e(ke,{align:"right",class:"q-pt-none"},{default:t(()=>[G(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[W]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:m,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var hn=X(yn,[["__scopeId","data-v-33664d62"]]);const Ge=i=>(te("data-v-1968f928"),i=i(),ae(),i),bn={class:"row justify-between"},wn={class:"q-my-sm"},xn={key:0,class:"spinner-wrapper"},$n={key:1},kn={key:0,class:"data-error"},Cn=Ge(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Rn=Ge(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Breads List ",-1)),Pn=Ge(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Ingredients List ",-1)),Sn={class:"row justify-center q-gutter-x-md"},qn={__name:"RecipeTable",setup(i){const $=de().params.branch_id,k=Ke(),b=P(""),m=P(!0),g=P([]),p=P(!1),y=P({rowsPerPage:0}),w=["inactive","active"],s=U(()=>k.branchRecipes);console.log("branch recipe",s.value);const l=U(()=>b.value?s.value.filter(d=>d.name.toLowerCase().includes(b.value.toLowerCase())):s.value);$e(async()=>{$&&await o($)});const o=async d=>{try{m.value=!0;const C=await k.fetchBranchRecipes(d);s.value=C,console.log("branchRecipeRows",s.value),s.value.length||(p.value=!0),console.log("Branch recipe",s.value)}catch(C){console.log("Error fetching recipe",C)}finally{m.value=!1}};async function n(d,C){try{const v=await xe.put("/api/update-target/"+d.id,{target:parseInt(C)});if(console.log("response",v),v.status==200){const q=g.value.findIndex(B=>B.id==d.id);g.value[q]=C}ge.create({type:"positive",message:"Recipe target edited successfully"})}catch(v){console.error("Error updating recipe target:",v),ge.create({type:"negative",message:"Failed to edit recipe target"})}}async function c(d,C){try{if((await xe.put("/api/branch-update-status/"+d.id,{status:C})).status==200){const q=g.value.findIndex(B=>B.id==d.id);g.value[q]=C}ge.create({type:"positive",message:"Recipe status change successfully"})}catch(v){console.error("Error updating recipe status:",v),ge.create({type:"negative",message:"Failed to change recipe status"})}}const _=d=>d?d.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",u=[{name:"name",label:"Recipe name",align:"center",field:d=>d.name},{name:"category",label:"Category",align:"center",field:d=>d.recipe},{name:"target",label:"Target",align:"center",field:"target"},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],r=d=>{switch(d){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(d,C)=>(h(),S(j,null,[a("div",bn,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:b.value,"onUpdate:modelValue":C[0]||(C[0]=v=>b.value=v),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),a("div",wn,[e(gn)])]),m.value?(h(),S("div",xn,[e(Fe,{size:"50px",color:"primary"})])):(h(),S("div",$n,[l.value.length===0?(h(),S("div",kn,[e(re,{name:"warning",color:"warning",size:"4em"}),Cn])):(h(),N(le,{key:1,class:"table-container sticky-header",filter:b.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:u,rows:l.value,"row-key":"name","virtual-scroll":"",pagination:y.value,"onUpdate:pagination":C[1]||(C[1]=v=>y.value=v),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(v=>[e(H,{props:v},{default:t(()=>[a("span",null,f(_(v.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(v=>[e(H,{props:v},{default:t(()=>[a("span",null,f(_(v.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(v=>[e(H,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[V(f(v.row.target?v.row.target:"Set Target")+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Edit Target")]),_:1})]),e(De,{"onUpdate:modelValue":[q=>n(v.row,q),q=>v.row.target=q],modelValue:v.row.target,"auto-save":""},{default:t(q=>[e(E,{modelValue:q.value,"onUpdate:modelValue":B=>q.value=B,dense:"",suffix:"pcs",autofocus:"",counter:"",mask:"###",onKeyup:Se(q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(v=>[e(H,{props:v},{default:t(()=>[e(J,{outline:"",color:r(v.row.status)},{default:t(()=>[V(f(_(v.row.status))+" ",1),e(K,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[V("Change Status")]),_:1})]),_:2},1032,["color"]),e(De,{"onUpdate:modelValue":[q=>c(v.row,q),q=>v.row.status=q],modelValue:v.row.status,"auto-save":""},{default:t(q=>[a("span",null,f(v.row.name),1),e(Me,{modelValue:q.value,"onUpdate:modelValue":B=>q.value=B,dense:"",label:"status",autofocus:"",options:w,counter:"",mask:"###",onKeyup:Se(q.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(v=>[e(H,{props:v},{default:t(()=>[e(K,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1"},{default:t(()=>[Rn,e(Ve,{class:"q-mb-md",color:"yellow"}),(h(!0),S(j,null,ne(v.row.bread_groups,q=>(h(),S("div",{key:q},f(q),1))),128))]),_:2},1024),e(Je,{square:"",outline:"",color:"red-6",class:"text-white"},{default:t(()=>[V(f(v.row.bread_groups.length)+" breads ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(v=>[e(H,{props:v},{default:t(()=>[e(K,{delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"300px"}},{default:t(()=>[Pn,e(Ve,{class:"q-mb-md",color:"yellow"}),(h(!0),S(j,null,ne(v.row.ingredient_groups,q=>(h(),S("div",{class:"row justify-between",key:q.ingredient_name},[a("div",null,f(q.ingredient_name),1),a("div",null,f(q.quantity)+" "+f(q.unit),1)]))),128))]),_:2},1024),e(Je,{square:"",outline:"",color:"purple-6",class:"text-white"},{default:t(()=>[V(f(v.row.ingredient_groups.length)+" ingredients ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-action":t(v=>[e(H,{props:v},{default:t(()=>[a("div",Sn,[e(hn,{delete:v},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Vn=X(qn,[["__scopeId","data-v-1968f928"]]);const Dn={__name:"RecipePage",setup(i){return(x,$)=>(h(),S("div",null,[e(Vn)]))}};const Bn={class:"elegant-container q-gutter-md"},Tn={class:"text-h6 row justify-between"},Un={class:"q-gutter-sm"},Nn={class:"tab-container"},An={__name:"BranchIdPage",setup(i){const x=de(),$=P(""),k=dt(),b=async w=>(await xe.get(`/api/branches/${w}`)).data,m=async()=>{const w=x.params.branch_id,s=await b(w);s&&s.name?$.value=s.name:console.error("Branch data is missing 'name' property or invalid:",s)};$e(()=>{m()});const g=w=>w?w.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",p=P("products"),y=()=>{We.show(),k.push("/admin/branches").finally(()=>{We.hide()})};return(w,s)=>(h(),N(ct,{padding:""},{default:t(()=>[a("div",Bn,[a("div",Tn,[a("div",null,[e(D,{outline:"",flat:"",icon:"arrow_back",onClick:y}),e(Be)]),a("div",null,[e(re,{name:"fa-solid fa-store",color:"red-6"}),V(" "+f(g($.value)),1)])]),a("div",Un,[a("div",Nn,[e(ze,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=l=>p.value=l),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(pe,{name:"products",label:"Products"}),e(pe,{name:"rawMaterials",label:"Raw Materials"}),e(pe,{name:"recipe",label:"Recipe"}),e(pe,{name:"production",label:"Production"}),e(pe,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(I,{class:"q-mt-sm"},{default:t(()=>[e(je,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=l=>p.value=l),animated:""},{default:t(()=>[e(_e,{name:"products"},{default:t(()=>[e(It)]),_:1}),e(_e,{name:"rawMaterials"},{default:t(()=>[e(ia)]),_:1}),e(_e,{name:"recipe"},{default:t(()=>[e(Dn)]),_:1}),e(_e,{name:"production"},{default:t(()=>[e(ho)]),_:1}),e(_e,{name:"transaction"},{default:t(()=>[e(Wo)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var bs=X(An,[["__scopeId","data-v-eb7c826e"]]);export{bs as default};
