import{d as l,r as c,N as i}from"./index.fe067f2a.js";import{api as n}from"./axios.1553f882.js";const g=l("benefits",()=>{const p=c(null),o=c({data:[],total:0,per_page:7,current_page:1,last_page:1});return{benefit:p,benefits:o,fetchEmployeeBenefit:async(s,t,r)=>{try{const e=await n.get("/api/employee-benefit",{params:{page:s,per_page:t,search:r}});o.value=e.data}catch(e){console.log("error fetching benefits",e)}},createEmployeeBenefit:async s=>{var t,r;try{const e=await n.post("/api/employee-benefit",s);return i.create({type:"positive",message:"Employee benefits successfully created",timeout:1e3}),e.data}catch(e){console.log(e),console.log("responce",e.response);let a="An error occurred. Please try again.";((t=e.response)==null?void 0:t.status)===409?a=e.response.data.error||"ssdd":((r=e.response)==null?void 0:r.status)===422&&(a="Invalid data. Please check the inputs."),i.create({type:"negative",message:a,timeout:5e3})}},searchBenefit:async s=>{try{console.log("Searching for employee with keyword:",s);const t=await n.post(`/api/search-benefit?keyword=${s}`);console.log("Allowance response:",t.data),o.value=t.data}catch(t){console.error("Benefits error",t)}}}});export{g as u};
