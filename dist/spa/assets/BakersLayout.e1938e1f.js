import{n as f,H as A,z as k,g as N,r as T,o as g,a2 as w,a as e,w as a,M as u,J as s,c as z,$ as n,bc as D,Z as I,a0 as h,_ as y,ad as P,a1 as U,Q as H,I as R,a3 as $,a4 as j,L as E,O as F,R as O}from"./index.c0815fe7.js";import{b as J,Q as Z,a as G,c as K}from"./QDrawer.cdb6f24d.js";import{Q as x}from"./QTooltip.accbf9dc.js";import{Q as W}from"./QBadge.96207a3e.js";import{Q as b,a as _}from"./QItem.8ed247ee.js";import{Q as C}from"./QList.f58bc619.js";import{Q as X}from"./QMenu.e92add0c.js";import{Q as Y}from"./QSpinnerDots.a78a847f.js";import{Q as ee}from"./QScrollArea.a06e1276.js";import{Q as ae}from"./QPage.29418ba7.js";import{Q as te,a as oe}from"./QLayout.ec8261dc.js";import{C as se}from"./ClosePopup.4b193f5f.js";import{_ as re}from"./GB_LOGO.b766a815.js";import{P as Q}from"./LocalStorage.1522d344.js";import{u as le}from"./use-quasar.c921e601.js";import{api as ne}from"./axios.950c72e0.js";import{_ as ie}from"./plugin-vue_export-helper.21dcd24c.js";import"./QResizeObserver.523c4de3.js";import"./TouchPan.f2434d74.js";import"./touch.9135741d.js";import"./selection.e5e21d1b.js";import"./QScrollObserver.5e1a4af9.js";const c=d=>(F("data-v-5b9c52fe"),d=d(),O(),d),ue={class:"q-pa-md"},ce=c(()=>s("img",{src:re,style:{width:"50px",height:"40px"}},null,-1)),de={class:"q-gutter-sm row items-center no-wrap"},me=c(()=>s("img",{src:"https://cdn.quasar.dev/img/avatar4.jpg"},null,-1)),pe={class:"row no-wrap q-pa-md"},fe={class:"column"},_e=c(()=>s("div",{class:"text-h6 q-mb-md"},"Settings",-1)),ve={class:"column items-center"},ge=c(()=>s("img",{src:"https://cdn.quasar.dev/img/avatar4.jpg"},null,-1)),he={class:"text-subtitle1 q-mt-md q-mb-xs"},be=c(()=>s("span",{class:"q-ml-md"},"Signing out",-1)),Qe={__name:"BakersLayout",setup(d){const m=f(!1),v=f("0"),i=f({});le();const p=f(!1),M=A();k(async()=>{try{const o=await ne.get("/api/profile");i.value=o.data}catch(o){console.error("Error fetching user data:",o)}});const S=N(()=>{if(i.value&&i.value.data&&i.value.data.name){const l=i.value.data.name.split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase());if(l.length>1){const t=Math.floor(l.length/2);l[t]=l[t].charAt(0).toUpperCase()+"."}return l.join(" ")}else return""}),q=()=>{p.value=!0,setTimeout(()=>{Q.removeItem("token"),Q.removeItem("role"),Q.removeItem("activeMenuItem"),p.value=!1,M.push("/")},1e3)},L=[{name:"rawMaterials",icon:"fa-solid fa-layer-group",to:"/branch/baker",label:"Raw Materials",separator:!0},{name:"transaction",icon:"fa-solid fa-cake-candles",to:"/branch/baker/transaction",label:"Transaction",separator:!0},{name:"report",icon:"fact_check",to:"/branch/baker/report",label:"Report",separator:!0},{name:"accounts",icon:"person",to:"/branch/baker/account",label:"Accounts",separator:!0}];k(()=>{const o=localStorage.getItem("activeMenuItem");o&&(v.value=o)});const V=o=>{v.value=o,localStorage.setItem("activeMenuItem",o)};return(o,r)=>{const l=T("router-view");return g(),w("div",ue,[e(te,{view:"hHh Lpr lff"},{default:a(()=>[e(J,{elevated:"",class:"bg-white"},{default:a(()=>[e(Z,null,{default:a(()=>[e(u,{color:"red-6",flat:"",onClick:r[0]||(r[0]=t=>m.value=!m.value),round:"",dense:"",icon:"menu"}),e(G,{class:"py-md"},{default:a(()=>[ce]),_:1}),s("div",de,[o.$q.screen.gt.sm?(g(),z(u,{key:0,round:"",dense:"",flat:"",icon:"message"},{default:a(()=>[e(x,null,{default:a(()=>[n("Messages")]),_:1})]),_:1})):D("",!0),e(u,{round:"",dense:"",flat:"",color:"grey-10",icon:"notifications"},{default:a(()=>[e(W,{color:"red",class:"text-white",floating:""},{default:a(()=>[n(" 2 ")]),_:1}),e(x,null,{default:a(()=>[n("Notifications")]),_:1})]),_:1}),e(u,{round:"",flat:""},{default:a(()=>[e(I,{size:"26px"},{default:a(()=>[me]),_:1}),e(X,null,{default:a(()=>[s("div",pe,[s("div",fe,[_e,e(C,null,{default:a(()=>[e(h),e(b,{clickable:""},{default:a(()=>[e(_,null,{default:a(()=>[n("Account")]),_:1})]),_:1}),e(h),e(b,{clickable:""},{default:a(()=>[e(_,null,{default:a(()=>[n("Help & Feedback")]),_:1})]),_:1})]),_:1})]),e(h,{vertical:"",inset:"",class:"q-mx-lg"}),s("div",ve,[e(I,{size:"72px"},{default:a(()=>[ge]),_:1}),s("div",he,y(S.value),1),P(e(u,{color:"primary",label:"Logout",push:"",size:"sm",onClick:q},null,512),[[se]])])])]),_:1}),e(U,{modelValue:p.value,"onUpdate:modelValue":r[1]||(r[1]=t=>p.value=t)},{default:a(()=>[e(H,null,{default:a(()=>[e(R,{class:"row items-center q-gutter-md"},{default:a(()=>[be,e(Y,{size:"50px"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1}),e(K,{modelValue:m.value,"onUpdate:modelValue":r[2]||(r[2]=t=>m.value=t),"show-if-above":"",behavior:"mobile",width:200,breakpoint:500,bordered:""},{default:a(()=>[e(ee,{class:"fit"},{default:a(()=>[e(C,{bordered:"",padding:""},{default:a(()=>[(g(),w($,null,j(L,(t,B)=>e(b,{clickable:!0,key:B,onClick:ke=>V(t.name),to:t.to,active:v.value===t.name,"active-class":"my-menu-link"},{default:a(()=>[e(_,{avatar:""},{default:a(()=>[e(E,{name:t.icon},null,8,["name"])]),_:2},1024),e(_,null,{default:a(()=>[n(y(t.label),1)]),_:2},1024)]),_:2},1032,["onClick","to","active"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(oe,null,{default:a(()=>[e(ae,null,{default:a(()=>[e(l)]),_:1})]),_:1})]),_:1})])}}};var Ee=ie(Qe,[["__scopeId","data-v-5b9c52fe"]]);export{Ee as default};
