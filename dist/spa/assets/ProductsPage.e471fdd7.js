import{Q as C}from"./QBadge.2dc625c4.js";import{r as g,t as A,o as f,a3 as b,J as r,f as e,M as p,w as t,Q as I,I as w,ae as x,a1 as z,K as B,aJ as T,a2 as E,a4 as k,O as S,R as Q,a0 as V,c as F,z as G,u as H,L as U,e as L,$ as N,aK as j}from"./index.ca72f247.js";import{Q as W}from"./QPage.c5c8524f.js";import{Q as O}from"./QSpace.888473d1.js";import{Q as M}from"./QSelect.a1c4ed00.js";import{C as q}from"./ClosePopup.77864f63.js";import{u as D}from"./product.49e3eb93.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as X}from"./QSpinnerDots.f3b67178.js";import{Q as $,a as Y}from"./QTable.6ef48ae6.js";import{Q as R}from"./QTooltip.3e12865c.js";import{t as Z}from"./typography-format.6bffeec7.js";import{b as ee}from"./badge-color.f568cd69.js";import"./QChip.ead5e565.js";import"./QMenu.a8d5f7aa.js";import"./position-engine.a63ef796.js";import"./selection.66bddd9a.js";import"./use-virtual-scroll.645c1690.js";import"./rtl.276c3f1b.js";import"./axios.0019c736.js";import"./QVirtualScroll.eb023b79.js";import"./QList.7330d34c.js";import"./date.7612c2b8.js";const te=l=>(S("data-v-60b7d430"),l=l(),Q(),l),ae=te(()=>r("div",{class:"text-h5 q-mr-md"},"\u{1F956} Add Product",-1)),oe={class:"q-mt-lg q-animated q-animate-bounce"},le={class:"q-mt-md q-animated q-animate-bounce"},se={__name:"ProductCreate",setup(l){const v=D(),d=["Bread","Selecta","Softdrinks","Others"],u=g(!1),m=()=>{u.value=!0},o=A({name:"",category:null}),_=async()=>{try{await v.createProducts({...o}),u.value=!1,console.log("Products Data",o),c()}catch(i){console.log("Error saving product:",i)}},c=()=>{o.name="",o.category=""};return(i,s)=>(f(),b(k,null,[r("div",null,[e(p,{class:"q-pa-sm btn-add",outline:"",dense:"",elevated:"",icon:"add_circle",label:"Add Product",onClick:m,style:{"background-color":"#ef4444"},size:"md",color:"dark"})]),r("div",null,[e(E,{modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=a=>u.value=a),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:t(()=>[e(I,{class:"my-card q-pa-none",style:{width:"420px","border-radius":"16px","box-shadow":"0 12px 24px rgba(0, 0, 0, 0.2)"}},{default:t(()=>[e(w,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[ae,e(O),x(e(p,{icon:"close",flat:"",dense:"",round:""},null,512),[[q]])]),_:1}),e(z,{class:"separator-gradient"}),e(w,{class:"q-px-xl q-pt-none q-pb-lg"},{default:t(()=>[r("div",oe,[e(B,{class:"text-capitalize",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),outlined:"",dense:"",label:"Product Name",rules:[a=>a&&a.length>0||"Product name is reuired"]},null,8,["modelValue","rules"])]),r("div",le,[e(M,{modelValue:o.category,"onUpdate:modelValue":s[1]||(s[1]=a=>o.category=a),"input-debounce":"0",options:d,"stack-label":"",outlined:"",dense:"",label:"Category",rules:[a=>a&&a.length>0||"Category is required"],"hide-dropdown-icon":"",behavior:"menu"},null,8,["modelValue","rules"])])]),_:1}),e(T,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[x(e(p,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[q]]),e(p,{class:"glossy",color:"teal",label:"Create",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var re=P(se,[["__scopeId","data-v-60b7d430"]]);const ne=l=>(S("data-v-4759c3fa"),l=l(),Q(),l),de=ne(()=>r("div",{class:"text-h5 q-mr-md"},"\u{1F956} Edit Product",-1)),ce={class:"q-mt-lg q-animated q-animate-bounce"},ie={class:"q-mt-md q-animated q-animate-bounce"},ue={__name:"ProductEdit",props:["edit"],setup(l){const v=D(),d=l,u=["Bread","Selecta","Softdrinks","Others"],m=g(!1),o=A({name:"",category:null}),_=()=>{Object.assign(o,d.edit.row),m.value=!0},c=async()=>{try{await v.updateProducts(d.edit.row.id,o),m.value=!1}catch(i){console.log("Failed to update ingredients:",i)}};return(i,s)=>(f(),b(k,null,[e(p,{onClick:_,color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(R,{class:"bg-positive",delay:200},{default:t(()=>[V("Edit")]),_:1})]),_:1}),e(E,{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=a=>m.value=a),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:t(()=>[e(I,{class:"my-card q-pa-none",style:{width:"420px","border-radius":"16px","box-shadow":"0 12px 24px rgba(0, 0, 0, 0.2)"}},{default:t(()=>[e(w,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[de,e(O),x(e(p,{icon:"close",flat:"",dense:"",round:""},null,512),[[q]])]),_:1}),e(z,{class:"separator-gradient"}),e(w,{class:"q-px-xl q-pt-none q-pb-lg"},{default:t(()=>[r("div",ce,[e(B,{class:"text-capitalize",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),outlined:"",dense:"",label:"Product name",rules:[a=>a&&a.length>0]},null,8,["modelValue","rules"])]),r("div",ie,[e(M,{modelValue:o.category,"onUpdate:modelValue":s[1]||(s[1]=a=>o.category=a),"input-debounce":"0",options:u,"stack-label":"",outlined:"",dense:"",label:"Category",rules:[a=>a&&a.length>0],"hide-dropdown-icon":""},null,8,["modelValue","rules"])])]),_:1}),e(T,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[x(e(p,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[q]]),e(p,{class:"glossy",color:"teal",label:"Save",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var pe=P(ue,[["__scopeId","data-v-4759c3fa"]]);const J=l=>(S("data-v-0cb6ace8"),l=l(),Q(),l),me=J(()=>r("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),_e=J(()=>r("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),ge={__name:"ProductDelete",props:["delete"],setup(l){const v=D(),d=g(!1),u=()=>{d.value=!0},o=l.delete.row,_=async()=>{try{await v.deleteProducts(o.id)}catch(c){console.error(c.message)}d.value=!1};return(c,i)=>(f(),b(k,null,[e(p,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(R,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(E,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=s=>d.value=s)},{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(w,{class:"q-pt-none q-pb-sm"},{default:t(()=>[me,_e]),_:1}),e(z,{class:"q-mb-md"}),e(T,{align:"right",class:"q-pt-none"},{default:t(()=>[x(e(p,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[q]]),e(p,{dense:"",label:"Delete",color:"negative",onClick:_,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var fe=P(ge,[["__scopeId","data-v-0cb6ace8"]]);const ve=l=>(S("data-v-c00f6080"),l=l(),Q(),l),ye={key:0,class:"spinner-wrapper"},be={key:1},we={key:0,class:"data-error"},he=ve(()=>r("div",{class:"q-ml-sm text-h6"},"No data available",-1)),xe={class:"row justify-center q-gutter-x-md"},qe={__name:"ProductTable",setup(l){const{capitalizeFirstLetter:v}=Z(),{getProductBadgeCategoryColor:d}=ee(),u=g({rowsPerPage:0}),m=D(),o=g(""),_=F(()=>m.products);g(!0);const c=g(!0),i=g(!1),s=F(()=>o.value?_.value.filter(y=>y.name.toLowerCase().includes(o.value.toLowerCase())):_.value);G(async()=>{await a()});const a=async()=>{try{c.value=!0,await m.fetchProducts(),_.value.length||(i.value=!0)}catch{i.value=!0}finally{c.value=!1}};H(o,async y=>{c.value=!0,await new Promise(h=>setTimeout(h,1e3)),c.value=!1,i.value=s.value.length===0});const K=[{name:"name",label:"Product Name",align:"left",field:y=>y.name,format:y=>`${y}`},{name:"category",align:"left",label:"Category",field:"category"},{name:"action",align:"center",label:"Action",field:"action"}];return(y,h)=>(f(),b(k,null,[r("div",null,[e(B,{modelValue:o.value,"onUpdate:modelValue":h[0]||(h[0]=n=>o.value=n),class:"q-pb-lg q-pl-sm dynamic-width",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100"},{append:t(()=>[e(U,{name:"search"})]),_:1},8,["modelValue"])]),c.value?(f(),b("div",ye,[e(X,{size:"50px",color:"primary"})])):(f(),b("div",be,[s.value.length===0?(f(),b("div",we,[e(U,{name:"warning",color:"warning",size:"4em"}),he])):(f(),L(Y,{key:1,class:"table-container elegant-container sticky-header",filter:o.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"500px"},columns:K,rows:s.value,"row-key":"name",pagination:u.value,"onUpdate:pagination":h[1]||(h[1]=n=>u.value=n),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-name":t(n=>[e($,{key:"name",props:n},{default:t(()=>[V(N(j(v)(n.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(n=>[e($,{key:"name",props:n},{default:t(()=>[e(C,{color:j(d)(n.row.category)},{default:t(()=>[V(N(n.row.category),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":t(n=>[e($,{props:n},{default:t(()=>[r("div",xe,[e(pe,{edit:n},null,8,["edit"]),e(fe,{delete:n},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Pe=P(qe,[["__scopeId","data-v-c00f6080"]]);const Ce={class:"text-h6"},Ve={class:"q-gutter-x-sm"},ke={__name:"ProductsPage",setup(l){return g("bread"),(v,d)=>(f(),L(W,{class:"elegant-container",flat:""},{default:t(()=>[e(w,{class:"row justify-between"},{default:t(()=>[r("div",Ce,[r("div",Ve,[e(C,{label:"Bread",class:"text-white",color:"brown-13"}),e(C,{label:"Selecta",class:"text-white",color:"red-6"}),e(C,{label:"Sofdrinks",class:"text-white",color:"accent"})])]),r("div",null,[e(re)])]),_:1}),e(w,null,{default:t(()=>[r("div",null,[e(Pe)])]),_:1})]),_:1}))}};var Xe=P(ke,[["__scopeId","data-v-1510f4f2"]]);export{Xe as default};
