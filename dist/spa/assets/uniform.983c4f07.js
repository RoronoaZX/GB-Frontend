import{d as P,r as h,N as U}from"./index.910c5d89.js";import{api as r}from"./axios.b52a58d3.js";const $=P("uniform",()=>{const _=h(null),n=h({data:[],total:0,per_page:7,current_page:1,last_page:1});return{uniform:_,uniforms:n,fetchUniform:async(e,t,a)=>{try{const o=await r.get("/api/uniform",{params:{page:e,per_page:t,search:a}});n.value=o.data}catch(o){console.log("error fetching uniform",o)}},createUniforms:async e=>{try{const t=await r.post("/api/uniform",e);return U.create({type:"positive",message:"Uniform successfully created",timeout:1e3}),t.data}catch(t){console.log(t),U.create({type:"negative",message:errorMessage,timeout:1e3})}},searchUniform:async e=>{try{console.log("Searching with keyword:",e);const t=await r.post(`/api/search-uniform?keyword=${e}`);console.log("UNIFORm response:",t),n.value=t.data}catch(t){console.error("Error searching employee:",t)}},updateUnifrom:e=>{var a,o,s,i,c,p,l,u,m,f,d,g;console.log("Updating uniform with data:",e);const t={employee_id:e.employee.id,numberOfPayments:parseFloat(e.number_of_payments),totalAmount:parseFloat(e.total_amount),paymentPerPayroll:parseFloat(e.payments_per_payroll),remaining_payments:e.remaining_payments,tShirtPcs:((o=(a=e.t_shirt)==null?void 0:a[0])==null?void 0:o.pcs)||null,tShirtPrice:((i=(s=e.t_shirt)==null?void 0:s[0])==null?void 0:i.price)||null,tShirtsize:((p=(c=e.t_shirt)==null?void 0:c[0])==null?void 0:p.size)||null,pantsPcs:((u=(l=e.pants)==null?void 0:l[0])==null?void 0:u.pcs)||null,pantsPrice:((f=(m=e.pants)==null?void 0:m[0])==null?void 0:f.price)||null,pantsSize:((g=(d=e.pants)==null?void 0:d[0])==null?void 0:g.size)||null};console.log("Payload for update:",t);try{return r.put(`/api/update/uniform/${e.id}`,t).data}catch(y){console.error("Error updating uniform:",y)}},fetchUniformForDeduction:async e=>{console.log("fetchUniformForDeduction",e);try{const t=await r.get(`/api/fetch-uniform-for-deduction/${e}`);console.log("Uniform Response",t.data),n.value=t.data}catch(t){console.log(t)}}}});export{$ as u};
