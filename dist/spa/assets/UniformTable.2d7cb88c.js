import{c as X,r as g,t as H,u as E,o as p,a3 as V,f as e,M as O,w as t,Q as J,I as N,ae as ie,K as S,e as I,L as $,bc as _e,a0 as m,a4 as G,a5 as Y,$ as C,bd as A,J as u,b6 as K,bB as j,aJ as Z,a2 as ee,O as re,R as de,N as se,a1 as oe,z as ve}from"./index.2a3c1b2a.js";import{b as ge,Q as D,a as ye}from"./QTable.90e5280d.js";import{Q as be}from"./QTr.94543275.js";import{Q as W}from"./QTooltip.5d16188f.js";import{Q as ne}from"./QChip.350104a2.js";import{Q as ue}from"./QSpinnerIos.c2a87c68.js";import{Q as me}from"./QInnerLoading.f0e23c1e.js";import{Q as he}from"./QPage.79ae3b76.js";import{Q as ce}from"./QSpace.4782f318.js";import{Q,a as _}from"./QItem.462fc13d.js";import{Q as Pe}from"./QList.84886d68.js";import{a as v}from"./QItemLabel.1c73b770.js";import{C as pe}from"./ClosePopup.244a5153.js";import{u as Se}from"./employee.fb5bbbf6.js";import{u as te}from"./uniform.038e65aa.js";/* empty css                                                                 */import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./axios.990d0d13.js";import"./QVirtualScroll.19bc19ea.js";import"./use-virtual-scroll.45fdeebc.js";import"./QSelect.831d90f1.js";import"./QMenu.f35c5058.js";import"./position-engine.5f6d4cec.js";import"./selection.c35c3c0d.js";const fe=f=>(re("data-v-658e43d8"),f=f(),de(),f),Ve=fe(()=>u("div",{class:"text-h5 q-mr-md"},"\u{1F9E5} Add Uniform",-1)),we={key:0,class:"custom-list z-top"},xe={class:"col-5"},qe={class:"q-mb-lg",align:"center"},Ue={key:0,class:"row q-ml-sm q-mt-sm"},ke={class:"col-6"},ze={key:0,class:"q-gutter-md"},$e={class:"col-6"},Qe={class:"q-mb-lg",align:"center"},Ce={key:0,class:"row q-ml-sm q-mt-sm"},Le={class:"col-6 q-pl-xl"},Ne={key:0,class:"q-gutter-md q-pl-lg"},Fe={class:"row q-col-gutter-md"},Te={class:"col-4"},Ae={class:"col-4"},Ie={class:"col-4"},Oe=fe(()=>u("div",{class:"row q-gutter-sm"},null,-1)),Ee={__name:"AddUniform",emits:["created"],setup(f,{emit:F}){const L=F,w=Se(),q=X(()=>w.employees),U=te();X(()=>U.uniforms);const y=g(""),P=g(!1),l=g(!1),h=g(!1),b=g(0),x=g(0),k=g(!1),T=g(!1),M=()=>{P.value=!0},B=async()=>{y.value.trim()&&(T.value=!0,await w.searchEmployee(y.value),T.value=!1)},R=o=>{console.log("Selected Employee:",o),a.employee_id=o.id,a.employee_name=`${o.firstname} ${o.middlename?o.middlename.charAt(0)+".":""} ${o.lastname} `,a.employee_position=o.position,y.value="",console.log("Filled Designation Data:",a)},a=H({employee_id:"",employee_name:"",employee_position:"",tShirtsize:"",pantsSize:"",tShirtPcs:0,tShirtPrice:0,pantsPcs:0,pantsPrice:0,numberOfPayments:1}),s=()=>{a.employee_id="",a.employee_name="",a.employee_position="",l.value=!1,h.value=!1,b.value=0,x.value=0,n(),i()},i=()=>{a.tShirtPcs="",a.tShirtsize="",a.tShirtPrice=""},n=()=>{a.pantsSize="",a.pantsPcs="",a.pantsPrice=""};E(h,o=>{o||n()}),E(l,o=>{o||i()}),E([()=>a.tShirtPrice,()=>a.tShirtPcs,()=>a.pantsPrice,()=>a.pantsPcs],()=>{b.value=a.tShirtPrice*a.tShirtPcs+a.pantsPrice*a.pantsPcs},{immediate:!0}),E([b,()=>a.numberOfPayments],()=>{x.value=b.value/(a.numberOfPayments||1)},{immediate:!0});const c=async()=>{const o={employee_id:a.employee_id,employee_name:a.employee_name,employee_position:a.employee_position,tShirtsize:a.tShirtsize,pantsSize:a.pantsSize,tShirtPcs:a.tShirtPcs,tShirtPrice:a.tShirtPrice,pantsPcs:a.pantsPcs,pantsPrice:a.pantsPrice,totalAmount:b.value,paymentPerPayroll:x.value,numberOfPayments:a.numberOfPayments,remaining_payments:b.value};console.log("payload",o);try{k.value=!0,await U.createUniforms(o),L("created"),P.value=!1,s()}catch(r){console.log(r)}finally{k.value=!1}};return(o,r)=>(p(),V("div",null,[e(O,{padding:"sm md",label:"Add Uniform",icon:"add_circle",size:"md",class:"gradient-btn text-white",onClick:M}),e(ee,{modelValue:P.value,"onUpdate:modelValue":r[12]||(r[12]=d=>P.value=d),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(J,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(N,{class:"row items-center gradient-btn text-white rounded-borders-top q-pa-md"},{default:t(()=>[Ve,e(ce),ie(e(O,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[pe]])]),_:1}),e(N,null,{default:t(()=>[e(S,{modelValue:y.value,"onUpdate:modelValue":[r[0]||(r[0]=d=>y.value=d),B],label:"Search Employee",outlined:"",rounded:"",dense:"",debounce:"500",placeholder:"Enter name"},{append:t(()=>[T.value?(p(),I(_e,{key:1,color:"grey",size:"sm"})):(p(),I($,{key:0,name:"search"}))]),default:t(()=>[y.value?(p(),V("div",we,[e(J,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var d;return[(d=q.value)!=null&&d.length?(p(!0),V(G,{key:1},Y(q.value,z=>(p(),I(Q,{onClick:le=>R(z),key:z.id,clickable:""},{default:t(()=>[e(_,null,{default:t(()=>[m(C(`${z.firstname} ${z.middlename?z.middlename.charAt(0)+".":""} ${z.lastname}`),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(p(),I(Q,{key:0},{default:t(()=>[m(" No employee record ")]),_:1}))]}),_:1})]),_:1})])):A("",!0)]),_:1},8,["modelValue"])]),_:1}),e(N,{class:"q-gutter-y-sm"},{default:t(()=>[e(Q,null,{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"person",color:"primary"})]),_:1}),e(_,null,{default:t(()=>[e(v,{class:"text-subtitle2 text-grey-8"},{default:t(()=>[m("Name")]),_:1}),e(v,{class:"text-subtitle1 text-weight-medium"},{default:t(()=>[m(C(a.employee_name?a.employee_name:"-------"),1)]),_:1})]),_:1})]),_:1}),e(Q,null,{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"badge",color:"primary"})]),_:1}),e(_,null,{default:t(()=>[e(v,{class:"text-subtitle2 text-grey-8"},{default:t(()=>[m(" Position ")]),_:1}),e(v,{class:"text-subtitle1 text-weight-medium"},{default:t(()=>[m(C(a.employee_position?a.employee_position:"-------"),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(N,{class:"row q-gutter-x-md"},{default:t(()=>[u("div",xe,[u("div",qe,[e(K,{"keep-color":"",modelValue:l.value,"onUpdate:modelValue":r[1]||(r[1]=d=>l.value=d),label:"T-Shirt",color:"deep-orange"},null,8,["modelValue"])]),l.value?(p(),V("div",Ue,[u("div",ke,[e(j,{modelValue:a.tShirtsize,"onUpdate:modelValue":r[2]||(r[2]=d=>a.tShirtsize=d),options:[{label:"18",value:"18"},{label:"S",value:"S"},{label:"M",value:"M"},{label:"L",value:"L"}],color:"deep-orange",type:"radio",dense:""},null,8,["modelValue"])]),a.tShirtsize?(p(),V("div",ze,[e(S,{modelValue:a.tShirtPcs,"onUpdate:modelValue":r[3]||(r[3]=d=>a.tShirtPcs=d),dense:"",outlined:"",label:"pcs",style:{width:"100px"}},null,8,["modelValue"]),e(S,{modelValue:a.tShirtPrice,"onUpdate:modelValue":r[4]||(r[4]=d=>a.tShirtPrice=d),dense:"",outlined:"",label:"price",style:{width:"100px"}},null,8,["modelValue"])])):A("",!0)])):A("",!0)]),u("div",$e,[u("div",Qe,[e(K,{"keep-color":"",modelValue:h.value,"onUpdate:modelValue":r[5]||(r[5]=d=>h.value=d),label:"Pants",color:"brown-6"},null,8,["modelValue"])]),h.value?(p(),V("div",Ce,[u("div",Le,[e(j,{modelValue:a.pantsSize,"onUpdate:modelValue":r[6]||(r[6]=d=>a.pantsSize=d),options:[{label:"M",value:"M"},{label:"L",value:"L"},{label:"XL",value:"XL"},{label:"XXL",value:"XXL"}],color:"brown",type:"radio",dense:""},null,8,["modelValue"])]),a.pantsSize?(p(),V("div",Ne,[e(S,{modelValue:a.pantsPcs,"onUpdate:modelValue":r[7]||(r[7]=d=>a.pantsPcs=d),dense:"",outlined:"",label:"pcs",style:{width:"100px"}},null,8,["modelValue"]),e(S,{modelValue:a.pantsPrice,"onUpdate:modelValue":r[8]||(r[8]=d=>a.pantsPrice=d),dense:"",outlined:"",label:"price",style:{width:"100px"}},null,8,["modelValue"])])):A("",!0)])):A("",!0)])]),_:1}),e(N,{class:"q-ma-lg"},{default:t(()=>[u("div",Fe,[u("div",Te,[e(S,{modelValue:a.numberOfPayments,"onUpdate:modelValue":r[9]||(r[9]=d=>a.numberOfPayments=d),label:"Number of Payments",type:"number",outlined:"",dense:""},null,8,["modelValue"])]),u("div",Ae,[e(S,{modelValue:b.value,"onUpdate:modelValue":r[10]||(r[10]=d=>b.value=d),label:"Total Amount",outlined:"",dense:"",readonly:""},null,8,["modelValue"])]),u("div",Ie,[e(S,{modelValue:x.value,"onUpdate:modelValue":r[11]||(r[11]=d=>x.value=d),label:"Per Payroll",outlined:"",dense:"",readonly:""},null,8,["modelValue"])])]),Oe]),_:1}),e(Z,{align:"right"},{default:t(()=>[e(O,{size:"md",padding:"xs md","no-caps":"",label:"Save","icon-right":"send",class:"gradient-btn text-white",onClick:c,loading:k.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Xe=ae(Ee,[["__scopeId","data-v-658e43d8"]]);const Me=f=>(re("data-v-d7b79df6"),f=f(),de(),f),Be=Me(()=>u("div",{class:"text-h6"},"\u{1F9E5} Edit Uniform",-1)),Re={class:"col-5"},De={class:"q-mb-lg",align:"center"},Je={key:0,class:"row q-ml-sm q-mt-sm"},Ke={class:"col-6"},je={class:"q-gutter-md"},Ge={class:"col-6"},He={class:"q-mb-lg",align:"center"},We={key:0,class:"row q-ml-sm q-mt-sm"},Ye={class:"col-6 q-pl-xl"},Ze={class:"q-gutter-md q-pl-lg"},et={class:"row q-col-gutter-md"},tt={class:"col-4"},at={class:"col-4"},lt={class:"col-4"},st={__name:"EditUniform",props:["edit"],emits:["edited"],setup(f,{emit:F}){const L=F,w=f;console.log("edit",w.edit);const q=te(),U=g(!1),y=g(!1),P=H({...w.edit}),l=H({numberOfPayments:0,remaining_payments:w.edit.remaining_payments||0,tShirtsize:"",tShirtPcs:"",tShirtPrice:"",pantsSize:"",pantsPcs:"",pantsPrice:""}),h=g(!1),b=g(!1),x=X(()=>{const a=h.value&&l.tShirtPcs&&l.tShirtPrice?parseFloat(l.tShirtPcs)*parseFloat(l.tShirtPrice):0,s=b.value&&l.pantsPcs&&l.pantsPrice?parseFloat(l.pantsPcs)*parseFloat(l.pantsPrice):0;return a+s}),k=X(()=>{const a=parseFloat(l.numberOfPayments),s=x.value;return a>0?(s/a).toFixed(2):0}),T=()=>{var i,n,c,o;const a=(n=(i=w.edit)==null?void 0:i.t_shirt)==null?void 0:n[0],s=(o=(c=w.edit)==null?void 0:c.pants)==null?void 0:o[0];h.value=!!a,b.value=!!s,l.tShirtsize=(a==null?void 0:a.size)||"",l.tShirtPcs=(a==null?void 0:a.pcs)||"",l.tShirtPrice=(a==null?void 0:a.price)||"",l.pantsSize=(s==null?void 0:s.size)||"",l.pantsPcs=(s==null?void 0:s.pcs)||"",l.pantsPrice=(s==null?void 0:s.price)||"",l.numberOfPayments=w.edit.number_of_payments||0,U.value=!0},M=()=>{h.value=!1,b.value=!1,l.tShirtsize="",l.tShirtPcs="",l.tShirtPrice="",l.pantsSize="",l.pantsPcs="",l.pantsPrice="",l.numberOfPayments="",l.remaining_payments=0},B=a=>{const s=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",i=a.firstname?s(a.firstname):"No Firstname",n=a.middlename?s(a.middlename).charAt(0)+".":"",c=a.lastname?s(a.lastname):"No Lastname";return`${i} ${n} ${c}`.trim()};E(()=>[l.numberOfPayments,x.value],([a,s])=>{const i=parseFloat(a),n=parseFloat(s);l.paymentPerPayroll=!isNaN(i)&&!isNaN(n)&&i>0?(n/i).toFixed(2):0});const R=async()=>{const a=isNaN(parseFloat(l.remaining_payments))?0:parseFloat(l.remaining_payments),s={...P,t_shirt:h.value?[{size:l.tShirtsize,pcs:l.tShirtPcs,price:l.tShirtPrice}]:[],pants:b.value?[{size:l.pantsSize,pcs:l.pantsPcs,price:l.pantsPrice}]:[],number_of_payments:l.numberOfPayments,total_amount:parseFloat(x.value),payments_per_payroll:parseFloat(k.value),remaining_payments:a};console.log("Updated uniform data:",s);try{y.value=!0,await q.updateUnifrom(s),L("edited"),se.create({message:"Uniform changes saved successfully",color:"positive",position:"top",timeout:2e3}),U.value=!1,M()}catch(i){console.error("Error saving uniform changes:",i),se.create({message:"Failed to save uniform changes",color:"negative",position:"top",timeout:2e3})}finally{y.value=!1}};return(a,s)=>(p(),V(G,null,[e(O,{color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:"",onClick:T},{default:t(()=>[e(W,{class:"bg-positive",delay:200},{default:t(()=>[m("Edit")]),_:1})]),_:1}),e(ee,{modelValue:U.value,"onUpdate:modelValue":s[11]||(s[11]=i=>U.value=i),persistent:"",position:"right","backdrop-filter":"blur(6px) saturate(150%)"},{default:t(()=>[e(J,{style:{width:"600px","max-width":"90vw"}},{default:t(()=>[e(N,{class:"row items-center gradient-btn text-white rounded-borders-top q-pa-md"},{default:t(()=>[Be,e(ce),ie(e(O,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},null,512),[[pe]])]),_:1}),e(N,{class:"q-gutter-y-sm"},{default:t(()=>[e(Q,null,{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"person",color:"primary"})]),_:1}),e(_,null,{default:t(()=>[e(v,{class:"text-subtitle2 text-grey-8"},{default:t(()=>[m("Name")]),_:1}),e(v,{class:"text-subtitle1 text-weight-medium"},{default:t(()=>[m(C(f.edit.employee?B(f.edit.employee):"----"),1)]),_:1})]),_:1})]),_:1}),e(Q,null,{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"badge",color:"primary"})]),_:1}),e(_,null,{default:t(()=>[e(v,{class:"text-subtitle2 text-grey-8"},{default:t(()=>[m("Position")]),_:1}),e(v,{class:"text-subtitle1 text-weight-medium"},{default:t(()=>[m(C(f.edit.employee.position?f.edit.employee.position:"-----"),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(N,{class:"q-gutter-md row"},{default:t(()=>[u("div",Re,[u("div",De,[e(K,{"keep-color":"",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=i=>h.value=i),label:"T-Shirt",color:"deep-orange"},null,8,["modelValue"])]),h.value?(p(),V("div",Je,[u("div",Ke,[e(j,{modelValue:l.tShirtsize,"onUpdate:modelValue":s[1]||(s[1]=i=>l.tShirtsize=i),options:[{label:"18",value:"18"},{label:"S",value:"S"},{label:"M",value:"M"},{label:"L",value:"L"}],color:"deep-orange",type:"radio",dense:""},null,8,["modelValue"])]),u("div",je,[e(S,{modelValue:l.tShirtPcs,"onUpdate:modelValue":s[2]||(s[2]=i=>l.tShirtPcs=i),label:"pcs",outlined:"",dense:"",style:{width:"100px"}},null,8,["modelValue"]),e(S,{modelValue:l.tShirtPrice,"onUpdate:modelValue":s[3]||(s[3]=i=>l.tShirtPrice=i),label:"price",outlined:"",dense:"",style:{width:"100px"}},null,8,["modelValue"])])])):A("",!0)]),u("div",Ge,[u("div",He,[e(K,{"keep-color":"",modelValue:b.value,"onUpdate:modelValue":s[4]||(s[4]=i=>b.value=i),label:"Pants",color:"brown-6"},null,8,["modelValue"])]),b.value?(p(),V("div",We,[u("div",Ye,[e(j,{modelValue:l.pantsSize,"onUpdate:modelValue":s[5]||(s[5]=i=>l.pantsSize=i),options:[{label:"M",value:"M"},{label:"L",value:"L"},{label:"XL",value:"XL"},{label:"XXL",value:"XXL"}],color:"brown",type:"radio",dense:""},null,8,["modelValue"])]),u("div",Ze,[e(S,{modelValue:l.pantsPcs,"onUpdate:modelValue":s[6]||(s[6]=i=>l.pantsPcs=i),label:"pcs",outlined:"",dense:"",style:{width:"100px"}},null,8,["modelValue"]),e(S,{modelValue:l.pantsPrice,"onUpdate:modelValue":s[7]||(s[7]=i=>l.pantsPrice=i),label:"price",outlined:"",dense:"",style:{width:"100px"}},null,8,["modelValue"])])])):A("",!0)])]),_:1}),e(N,{class:"q-ma-lg"},{default:t(()=>[u("div",et,[u("div",tt,[e(S,{modelValue:l.numberOfPayments,"onUpdate:modelValue":s[8]||(s[8]=i=>l.numberOfPayments=i),label:"Number of Payments",type:"number",outlined:"",dense:""},null,8,["modelValue"])]),u("div",at,[e(S,{modelValue:x.value,"onUpdate:modelValue":s[9]||(s[9]=i=>x.value=i),label:"Total Amount",outlined:"",dense:"",readonly:""},null,8,["modelValue"])]),u("div",lt,[e(S,{modelValue:k.value,"onUpdate:modelValue":s[10]||(s[10]=i=>k.value=i),label:"Per Payroll",outlined:"",dense:"",readonly:""},null,8,["modelValue"])])])]),_:1}),e(Z,{align:"right"},{default:t(()=>[e(O,{size:"md",padding:"xs md","no-caps":"",label:"Save Edit","icon-right":"send",class:"gradient-btn text-white",onClick:R,loading:y.value},null,8,["loading"])]),_:1}),e(me,{showing:y.value},{default:t(()=>[e(ue,{size:"50px",color:"primary"})]),_:1},8,["showing"])]),_:1})]),_:1},8,["modelValue"])],64))}};var ot=ae(st,[["__scopeId","data-v-d7b79df6"]]);const nt={class:"text-subtitle1 text-primary text-weight-bold"},it={key:1,class:"q-pa-md q-mb-md rounded-borders bg-grey-2 shadow-2"},rt={class:"text-subtitle1 text-primary text-weight-bold"},dt={__name:"ViewUniformDetails",props:{modelValue:Boolean,items:Array,label:String},emits:["update:modelValue"],setup(f,{emit:F}){const L=f,w=F,q=X({get:()=>L.modelValue,set:y=>w("update:modelValue",y)});function U(){w("update:modelValue",!1)}return(y,P)=>(p(),I(ee,{modelValue:q.value,"onUpdate:modelValue":P[0]||(P[0]=l=>q.value=l),"backdrop-filter":"blur(6px) saturate(150%)"},{default:t(()=>[e(J,{style:{"max-width":"400px",width:"90vw"},class:"bg-transparent no-shadow"},{default:t(()=>[e(Z,{align:"right",class:"q-pa-sm"},{default:t(()=>[e(O,{flat:"",rounded:"",dense:"",icon:"close",onClick:U,class:"text-white"})]),_:1}),e(N,{class:"q-pa-md"},{default:t(()=>[f.items.length>0?(p(!0),V(G,{key:0},Y(f.items,(l,h)=>(p(),V("div",{key:h,class:"q-pa-md q-mb-md rounded-borders bg-grey-2 shadow-2"},[u("div",nt,C(f.label),1),e(oe,{spaced:"",color:"grey-4"}),e(Q,{dense:""},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"straighten",color:"blue-grey-7"})]),_:1}),e(_,null,{default:t(()=>[e(v,{caption:"",class:"text-grey-7"},{default:t(()=>[m("Size")]),_:1}),e(v,{class:"text-weight-medium"},{default:t(()=>[m(C(l.size||"N/A"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(Q,{dense:""},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"inventory_2",color:"blue-grey-7"})]),_:1}),e(_,null,{default:t(()=>[e(v,{caption:"",class:"text-grey-7"},{default:t(()=>[m("Quantity")]),_:1}),e(v,{class:"text-weight-medium"},{default:t(()=>[m(C(l.pcs||0)+" pcs",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(Q,{dense:""},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"attach_money",color:"blue-grey-7"})]),_:1}),e(_,null,{default:t(()=>[e(v,{caption:"",class:"text-grey-7"},{default:t(()=>[m("Amount")]),_:1}),e(v,{class:"text-weight-medium"},{default:t(()=>[m("\u20B1"+C(parseFloat(l.price).toFixed(2)||"0.00"),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128)):(p(),V("div",it,[u("div",rt,C(f.label),1),e(oe,{spaced:"",color:"grey-4"}),e(Q,{dense:""},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"straighten",color:"blue-grey-7"})]),_:1}),e(_,null,{default:t(()=>[e(v,{caption:"",class:"text-grey-7"},{default:t(()=>[m("Size")]),_:1}),e(v,{class:"text-weight-medium"},{default:t(()=>[m("N/A")]),_:1})]),_:1})]),_:1}),e(Q,{dense:""},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"inventory_2",color:"blue-grey-7"})]),_:1}),e(_,null,{default:t(()=>[e(v,{caption:"",class:"text-grey-7"},{default:t(()=>[m("Quantity")]),_:1}),e(v,{class:"text-weight-medium"},{default:t(()=>[m("0 pcs")]),_:1})]),_:1})]),_:1}),e(Q,{dense:""},{default:t(()=>[e(_,{avatar:""},{default:t(()=>[e($,{name:"attach_money",color:"blue-grey-7"})]),_:1}),e(_,null,{default:t(()=>[e(v,{caption:"",class:"text-grey-7"},{default:t(()=>[m("Amount")]),_:1}),e(v,{class:"text-weight-medium"},{default:t(()=>[m("\u20B10.00")]),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},ut={class:"row justify-between q-mb-md",align:"right"},mt={class:"row q-gutter-md"},ct={key:0,class:"text-green-8 text-bold q-px-sm q-py-xs rounded-borders",style:{"background-color":"#e0ffe0",border:"1px solid #a0f0a0"}},pt={key:1},ft={__name:"UniformTable",setup(f){const F=te(),L=g(""),w=X(()=>F.uniforms),q=g([]),U=g(!1),y=g(!1),P=g({rowsPerPage:0,rowsPerPage:0,rowsNumber:0}),l=g(!1),h=g([]),b=g(""),x=(n,c)=>{h.value=n,b.value=c,l.value=!0};ve(async()=>{await k()});const k=async(n=1,c=7,o="")=>{try{U.value=!0,q.value=await F.fetchUniform(n,c,o),console.log("uniform",q.value);const{data:r,current_page:d,per_page:z,total:le}=w.value;P.value.page=d,P.value.rowsPerPage=z,P.value.rowsNumber=le,q.value=r,console.log("uniformss",q.value)}catch(r){console.log("error fetching madepakeer",r)}finally{U.value=!1}};let T;const M=()=>{y.value=!0,clearTimeout(T),T=setTimeout(()=>{y.value=!1},500)},B=n=>{k(n.pagination.page,n.pagination.rowsPerPage,n.filter)};E(L,async n=>{y.value=!0,await k(P.value.page,P.value.rowsPerPage,n),y.value=!1});const R=n=>{const c=z=>z?z.charAt(0).toUpperCase()+z.slice(1).toLowerCase():"",o=n.firstname?c(n.firstname):"No Firstname",r=n.middlename?c(n.middlename).charAt(0)+".":"",d=n.lastname?c(n.lastname):"No Lastname";return`${o} ${r} ${d}`.trim()},a=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),s=n=>{if(!n)return" - - ";const c=new Date(n);return isNaN(c.getTime())?" - - ":c.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},i=[{name:"date",required:!0,label:"Date",align:"left",field:n=>s(n.created_at)},{name:"name",required:!0,label:"Name",align:"left",field:n=>R(n.employee)},{name:"number_of_payments",required:!0,label:"Number of Payments",align:"center",field:"number_of_payments"},{name:"total_amount",required:!0,label:"Total Amount",align:"center",field:n=>a(n.total_amount)},{name:"payments_per_payroll",required:!0,label:"Payments Per Payroll",align:"center",field:n=>a(n.payments_per_payroll)},{name:"remaining_payments",required:!0,label:"Remaining Payments",align:"center",field:n=>n.remaining_payments==="0.00"?"Paid":a(n.remaining_payments)},{name:"t_shirt",label:"T-Shirt",align:"center",field:"t_shirt"},{name:"pants",label:"Pants",align:"center",field:"pants"},{name:"actions",label:"Actions",align:"center",field:"actions"}];return(n,c)=>(p(),I(he,{class:"q-my-md"},{default:t(()=>[u("div",ut,[u("div",mt,[e(Xe,{onCreated:k})]),e(S,{modelValue:L.value,"onUpdate:modelValue":[c[0]||(c[0]=o=>L.value=o),M],outlined:"",dense:"",flat:"",label:"Search",style:{width:"300px"}},{append:t(()=>[u("div",null,[e($,{name:"search"})])]),_:1},8,["modelValue"])]),e(ye,{filter:L.value,rows:q.value,columns:i,"row-key":"name",pagination:P.value,"onUpdate:pagination":c[1]||(c[1]=o=>P.value=o),"rows-per-page-options":[5,7,10,0],onRequest:B,loading:U.value},{header:t(o=>[e(be,{props:o,class:"gradient-header text-white text-weight-bold"},{default:t(()=>[(p(!0),V(G,null,Y(o.cols,r=>(p(),I(ge,{key:r.name,props:o,class:"text-center text-subtitle2"},{default:t(()=>[m(C(r.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"body-cell-remaining_payments":t(o=>[e(D,{props:o},{default:t(()=>[o.row.remaining_payments==="0.00"?(p(),V("span",ct," Paid ")):(p(),V("span",pt,C(a(o.row.remaining_payments)),1))]),_:2},1032,["props"])]),"body-cell-t_shirt":t(o=>[e(D,{props:o},{default:t(()=>[e(ne,{square:"",outline:"",color:"red-6","text-color":"white",clickable:"",onClick:r=>x(o.row.t_shirt,"T-Shirt")},{default:t(()=>[m(" T-Shirt "),e(W,{class:"bg-indigo",offset:[10,10]},{default:t(()=>[m(" Click to view T-shirt details! ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-pants":t(o=>[e(D,{props:o},{default:t(()=>[e(ne,{square:"",outline:"",color:"brown-6","text-color":"white",clickable:"",onClick:r=>x(o.row.pants,"Pants")},{default:t(()=>[m(" Pants "),e(W,{class:"bg-indigo",offset:[10,10]},{default:t(()=>[m(" Click to view pants details! ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-actions":t(o=>[e(D,{props:o},{default:t(()=>[e(ot,{edit:o.row,onEdited:k},null,8,["edit"])]),_:2},1032,["props"])]),loading:t(()=>[e(me,{showing:""},{default:t(()=>[e(ue,{size:"50px",color:"grey-10"})]),_:1})]),_:1},8,["filter","rows","pagination","loading"]),e(dt,{modelValue:l.value,"onUpdate:modelValue":c[2]||(c[2]=o=>l.value=o),items:h.value,label:b.value},null,8,["modelValue","items","label"])]),_:1}))}};var Ot=ae(ft,[["__scopeId","data-v-0b339512"]]);export{Ot as default};
