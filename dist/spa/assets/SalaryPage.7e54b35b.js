import{c as Q,r as S,z as b,o as f,e as _,w as l,f as t,J as s,$ as d,aK as x,K as C,bd as T,M as p,N as y,I as E,Q as V}from"./index.9710aadd.js";import{Q as N}from"./QPage.a1e0c526.js";import{Q as k}from"./QPopupEdit.0aeb90ee.js";import{Q as q,a as I}from"./QTable.a6fe8204.js";import{Q as K}from"./QSpinnerIos.c6c513d8.js";import{Q as B}from"./QInnerLoading.6dc14cf0.js";import{u as P}from"./employment-type.b2dfbb1a.js";import{t as U}from"./typography-format.5d9513ee.js";import"./QMenu.2e29de12.js";import"./position-engine.f197e4cb.js";import"./selection.b267e8db.js";import"./QVirtualScroll.0235eacd.js";import"./QList.c42e821d.js";import"./use-virtual-scroll.70ab7500.js";import"./rtl.276c3f1b.js";import"./QSelect.d20bcdc6.js";import"./QChip.130c05ab.js";import"./axios.60526a54.js";import"./date.2a06fb55.js";const $={class:"q-pa-md",style:{"min-width":"300px","max-width":"400px"}},F=s("div",{class:"text-h6 text-primary text-center q-mb-sm"}," Edit Salary ",-1),L={class:"text-subtitle2 q-mb-md"},z={class:"row justify-end q-mt-md"},A={__name:"SalaryTable",setup(g){const{formatPrice:u}=U(),i=P(),c=Q(()=>i.employmentType),n=S(!1);b(async()=>{n.value=!0;try{await i.fetchEmploymentType(),console.log("Employment Type List:",c.value)}catch(e){console.log("Error fetching employment types:",e)}finally{n.value=!1}});const h=e=>{if(e==null||e==="")return"";const r=parseFloat(e);return isNaN(r)?"":Number.isInteger(r)?String(parseInt(r)):String(r)},w=async(e,r)=>{console.log("updateSalary",e,r),n.value=!0;try{await i.updateSalary(e,r),y.create({message:"Salary updated successfully",color:"positive",position:"top",timeout:2e3})}catch(o){console.log("Error updating amount:",o),y.create({message:"Failed to update amount",color:"negative",position:"top",timeout:2e3})}finally{n.value=!1}},v=[{name:"category",required:!0,label:"Category",align:"center",field:e=>e.category||"N/A",format:e=>`${e}`},{name:"salary",required:!0,label:"Salary",align:"center",field:e=>e.salary||"N/A",format:e=>`${e}`}];return(e,r)=>(f(),_(I,{rows:c.value||[],columns:v,"row-key":"id",loading:n.value},{"body-cell-salary":l(o=>[t(q,{props:o,class:"cursor-pointer"},{default:l(()=>[s("span",null,d(o.row.salary?x(u)(o.row.salary):" - - "),1),t(k,{modelValue:o.row.salary,"onUpdate:modelValue":[a=>o.row.salary=a,a=>w(o.row,a)]},{default:l(a=>[s("div",$,[F,s("div",L," Category: "+d(o.row.category),1),t(C,{modelValue:a.value,"onUpdate:modelValue":[m=>a.value=m,m=>a.value=m],type:"text",outlined:"",dense:"",autofocus:"",counter:"","model-value":h(a.value),onKeyup:T(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","model-value","onKeyup"]),s("div",z,[t(p,{flat:"",label:"Close",color:"primary",onClick:a.cancel},null,8,["onClick"]),t(p,{flat:"",label:"Save",color:"primary",onClick:a.set},null,8,["onClick"])])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),loading:l(()=>[t(B,{showing:""},{default:l(()=>[t(K,{size:"50px",color:"grey-10"})]),_:1})]),_:1},8,["rows","loading"]))}},ie={__name:"SalaryPage",setup(g){return(u,i)=>(f(),_(N,{class:"q-pa-md"},{default:l(()=>[t(V,{flat:""},{default:l(()=>[t(E,null,{default:l(()=>[t(A)]),_:1})]),_:1})]),_:1}))}};export{ie as default};
