import{d as f,r as s,P as d,N as u}from"./index.e27dca24.js";import{api as r}from"./axios.b0b2b682.js";const D=f("cakeMakerReport",()=>{const p=s(null),n=s([]),i=s({}),o=s([]),l=s([]);return{user:i,cakeMakerReport:p,cakeMakerReports:n,pendingReports:o,onDisplayProducts:l,setUser:t=>{i.value=t},clearData:()=>{p.value={},n.value=[]},createReports:async t=>{console.log("cake maker reports",t),d.show();try{const e=await r.post("/api/cake-report",t);u.create({type:"positive",message:"Report save successfully!"})}catch(e){console.log("error",e),u.create({type:"negative",message:"Error saving report"})}finally{d.hide()}},fetchCakeReport:async t=>{const e=await r.get(`/api/branch/${t}/cake-report`);console.log("response",e.data),n.value=e.data},fetchCakePendingReport:async t=>{try{const e=await r.get(`/api/branch/${t}/cakePendingReport`);console.log("response",e.data),o.value=e.data}catch(e){console.log("error",e)}},fetchOnDisplayProducts:async t=>{console.log("sdasdf",t);const e=await r.get(`/api/branch/${t}/getCakeOnDisplayProduct`);l.value=e.data},confirmReports:async t=>{console.log("id to be edit",t);const e=await r.post(`/api/branch/${t}/cakeConfirmedReport`);if(e.status===200){const a=o.value.findIndex(c=>c.id===t);a!==-1&&o.value.splice(a,1)}return e.data},declineReport:async t=>{try{const e=await r.post(`/api/decline-cake-maker-report/${t}`,{remark});if(e.status===200){const a=o.value.findIndex(c=>c.id===t);a!==-1&&o.value.splice(a,1)}return e.data}catch(e){console.error("Error declining report:",e)}}}});export{D as u};
