import{d,r as n,N as c}from"./index.996e506c.js";import{api as r}from"./axios.701c6644.js";const w=d("dtrs",()=>{const l=n(null),a=n([]),s=n([]),i=n({}),v=t=>{console.log("Setting user in DTR store:",t.data),i.value=t.data},p=async(t,e,g)=>{try{const o=await r.get("/api/dtr",{params:{page:t,per_page:e,search:g}});return o&&o.data?(a.value=o.data,o.data):(console.warn("No data returned from API."),a.value=[],[])}catch(o){return console.error("Error fetching DTR data:",o),a.value=[],[]}};return{dtr:l,dtrs:a,dtrCutOffData:s,user:i,setUser:v,fetchDTR:p,fetchDTRRange:async t=>{console.log("Fetching DTR Range with data:",t);const e=await r.post("/api/dtr-data",t);console.log("DTR Range response:",e),s.value=e.data},fetchEmployeeDTRRange:async t=>{console.log("Fetching DTR Range with data:",t);const e=await r.post("/api/dtr-data",t);console.log("DTR Range response:",e),s.value=e.data},fetchDTRPayrollPerCutOff:async t=>{console.log("fetchDTRPayrollPerCutOff",t);try{const e=await r.get(`/api/fetch-drt-payroll-per-cut-off/${t}`);s.value=e.data}catch(e){console.log(e)}},saveOvertime:async t=>{const e=await r.post("/api/saveOvertime",t);a.value=e.data,p(),c.create({type:"positive",message:"Over Time Save"})},searchDTR:async t=>{try{console.log("Searching for DTR with keyword:",t);const e=await r.post(`/api/search-drt?keyword=${t}`);console.log("DTR response:",e),a.value=e.data}catch(e){console.error("Error searching DTR:",e)}},approveOvertime:async t=>{console.log("Approving overtime with data:",t);try{const e=await r.post("/api/approveOvertime",t);return c.create({type:"positive",message:"Over Time Approved"}),e.data}catch(e){console.error("Error approving overtime:",e)}},declineOvertime:async t=>{const e=await r.post("/api/declineOvertime",t);return c.create({type:"negative",message:"Over Time Declined"}),e.data}}});export{w as u};
