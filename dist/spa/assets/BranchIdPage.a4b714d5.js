import{bd as pe,c as U,r as C,t as He,o as x,a2 as R,f as e,M as S,w as t,Q as T,I as k,ad as ae,J as a,K as J,L as ee,e as B,$ as P,a3 as M,a4 as me,_ as h,bc as Ge,aI as Se,a1 as Y,a0 as Je,N as ge,O as W,R as X,z as he,u as Qe,ba as Ne,aJ as it,be as O,d as dt,aH as ct,H as ut,P as et}from"./index.9d8a2862.js";import{Q as Ve}from"./QSpace.2ec39cac.js";import{Q as Fe,a as oe,b as Ie,c as se}from"./QTabPanels.4a67c227.js";import{Q as mt}from"./QPage.b4159adb.js";import{Q as Be,a as we,b as ie}from"./QList.c91e5dee.js";import{b as _e}from"./use-virtual-scroll.bcafb64a.js";import{C as le}from"./ClosePopup.ce00533c.js";import{u as We}from"./branch-product.b2535f84.js";import{u as tt}from"./product.d4ea890e.js";import{Q as Ee}from"./QSpinnerDots.c0e88b23.js";import{Q as j,a as ne}from"./QTable.3f2a8e26.js";import{Q as te}from"./QBadge.b168257f.js";import{Q as Z}from"./QTooltip.96f1dff6.js";import{Q as Ue}from"./QPopupEdit.9c99ff7a.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import{api as Pe}from"./axios.bf475e87.js";import{u as Xe}from"./branch-rawMaterials.1fa7e927.js";import{u as pt}from"./raw-material.43816e5a.js";import{u as xe}from"./use-dialog-plugin-component.339b431b.js";import{q as re}from"./date.52483038.js";import{u as Ce}from"./use-quasar.a8c06f75.js";import{p as Oe,v as at}from"./vfs_fontes.3eb8cb31.js";import{Q as De}from"./QScrollArea.06dba62b.js";import{u as qe,a as Le,b as Ye}from"./other-product.c767e6fd.js";import{Q as Ke}from"./QSelect.3f174eab.js";import{u as _t}from"./recipe.b7b5eb23.js";import{u as je}from"./branch-recipe.af51abbf.js";import"./QResizeObserver.9a5af8aa.js";import"./use-panel.501e5f2a.js";import"./touch.9135741d.js";import"./selection.1cf8d0b6.js";import"./QVirtualScroll.d7deea5a.js";import"./QMenu.31bacc67.js";import"./QScrollObserver.f02a6b6b.js";import"./TouchPan.e64bc5ba.js";import"./QChip.0faaa0c4.js";const ft=a("div",{class:"text-h6"},"Create Branch Product",-1),gt={class:"q-mb-lg"},vt={key:0,class:"custom-list z-top"},ht=a("div",null,"Product Name",-1),yt=a("div",null,"Category",-1),bt={class:"row justify-between"},wt=a("div",null,"Beginnings",-1),xt=a("div",null,"Total Quantity",-1),$t=a("div",null,"Price",-1),kt={__name:"ProductCreate",setup(o){const _=pe(),v=tt(),b=U(()=>v.products),m=We(),u=C(""),w=async()=>{v.searchProducts(u.value)},s=U(()=>i.price!==0&&i.beginnings!==0&&i.total_quantity!==0),d=C(!1),c=()=>{d.value=!0},n=()=>{$(),d.value=!1},r=y=>y?y.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",l=y=>{i.product_id=y.id,i.product_name=y.name,i.category=y.category,u.value=""},i=He({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:_.params.branch_id}),$=()=>{i.product_id="",i.product_name="",i.category="",i.price=0,i.beginnings=0,i.total_quantity=0},p=async()=>{try{const{product_name:y,...f}=i;await m.createBranchProducts(f),console.log("data to send",f),$(),d.value=!1}catch(y){console.log(y)}};return(y,f)=>(x(),R(M,null,[e(S,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:c}),e(Y,{modelValue:d.value,"onUpdate:modelValue":f[6]||(f[6]=D=>d.value=D),persistent:""},{default:t(()=>[e(T,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[ft,e(Ve),ae(e(S,{icon:"close",flat:"",dense:"",round:""},null,512),[[le]])]),_:1}),e(k,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",gt,[e(J,{modelValue:u.value,"onUpdate:modelValue":[f[0]||(f[0]=D=>u.value=D),w],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(ee,{name:"search"})])]),default:t(()=>[u.value?(x(),R("div",vt,[e(T,null,{default:t(()=>[e(Be,{separator:""},{default:t(()=>{var D;return[(D=b.value)!=null&&D.length?(x(!0),R(M,{key:1},me(b.value,V=>(x(),B(we,{onClick:I=>l(V),key:V.id,clickable:""},{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,null,{default:t(()=>[P(h(r(V.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),B(we,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",null,[ht,e(J,{modelValue:i.product_name,"onUpdate:modelValue":f[1]||(f[1]=D=>i.product_name=D),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[yt,e(J,{modelValue:i.category,"onUpdate:modelValue":f[2]||(f[2]=D=>i.category=D),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",bt,[a("div",null,[wt,e(J,{modelValue:i.beginnings,"onUpdate:modelValue":f[3]||(f[3]=D=>i.beginnings=D),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[xt,e(J,{modelValue:i.total_quantity,"onUpdate:modelValue":f[4]||(f[4]=D=>i.total_quantity=D),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[$t,e(J,{modelValue:i.price,"onUpdate:modelValue":f[5]||(f[5]=D=>i.price=D),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Se,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(S,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(S,{class:"glossy",color:"teal",label:"Create",onClick:p,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const lt=o=>(W("data-v-196482e9"),o=o(),X(),o),Ct=lt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Rt=lt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Pt={__name:"ProductDelete",props:["delete"],setup(o){const _=We(),v=o;console.log("delte",v.delete.row.id);const b=async()=>{try{await _.deleteBranchProducts(v.delete.row.id),ge.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),m.value=!1}catch(w){console.error(w.message)}},m=C(!1),u=()=>{console.log("ID",v.delete.row.id),m.value=!0};return(w,s)=>(x(),R(M,null,[e(S,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(Z,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(Y,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=d=>m.value=d)},{default:t(()=>[e(T,null,{default:t(()=>[e(k,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Ct,Rt]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Se,{align:"right",class:"q-pt-none"},{default:t(()=>[ae(e(S,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[le]]),e(S,{dense:"",label:"Delete",color:"negative",onClick:b,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var St=K(Pt,[["__scopeId","data-v-196482e9"]]);const Vt=o=>(W("data-v-c74b6072"),o=o(),X(),o),Dt={class:"row justify-between"},qt={class:"q-my-sm"},Nt={key:0,class:"spinner-wrapper"},At={key:1},Tt={key:0,class:"data-error"},Ut=Vt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Bt={key:1},Ft={__name:"ProductTable",setup(o){const v=pe().params.branch_id,b=We(),m=C(""),u=C(!0),w=C([]),s=C(!1),d=C({rowsPerPage:0}),c=U(()=>b.branchProducts);console.log("branchssdfrer",c.value);const n=U(()=>m.value?c.value.filter(V=>V.name.toLowerCase().includes(m.value.toLowerCase())):c.value),r=V=>V?V.split(" ").map(I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()).join(" "):"";he(async()=>{v&&await l(v)});const l=async V=>{try{u.value=!0;const I=await b.fetchBranchProducts(V);c.value=I,c.value.length||(s.value=!0),console.log("Branch product",c.value)}catch(I){console.log("Error fetching branch product:",I),s.value=!0}finally{u.value=!1}};Qe(m,async V=>{u.value=!0,await new Promise(I=>setTimeout(I,1e3)),u.value=!1,s.value=n.value.length===0});async function i(V,I){try{const g=await Pe.put("/api/update-branch-products/"+V.id,{price:parseInt(I)});if(g.status===200){const N=w.value.findIndex(q=>q.id==V.id);w.value[N]=parseInt(I),ge.create({type:"positive",message:g.data.message,timout:1e3,position:"top"})}}catch(g){console.error("Error updating price:",g)}}async function $(V,I){try{const g=await Pe.put("/api/update-branch-products-beginnings/"+V.id,{beginnings:parseInt(I)});if(g.status===200){const N=w.value.findIndex(q=>q.id==V.id);w.value[N]=parseInt(I),ge.create({type:"positive",message:g.data.message,timout:1e3,position:"top"})}}catch(g){console.error("Error updating price:",g)}}async function p(V,I){try{const g=await Pe.put("/api/update-branch-products-total-quantity/"+V.id,{total_quantity:parseInt(I)});if(g.status===200){const N=w.value.findIndex(q=>q.id==V.id);w.value[N]=parseInt(I),ge.create({type:"positive",message:g.data.message,timout:1e3,position:"top"})}}catch(g){console.error("Error updating price:",g)}}const y=V=>{switch(V){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},f=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(V),D=[{name:"name",label:"Product Name",align:"center",field:V=>V.product.name,format:V=>`${V}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:V=>f(V),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:V=>`${V} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:V=>`${V} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(V,I)=>(x(),R(M,null,[a("div",Dt,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":I[0]||(I[0]=g=>m.value=g),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),a("div",qt,[e(kt)])]),u.value?(x(),R("div",Nt,[e(Ee,{size:"50px",color:"primary"})])):(x(),R("div",At,[n.value.length===0?(x(),R("div",Tt,[e(ee,{name:"warning",color:"warning",size:"4em"}),Ut])):(x(),B(ne,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:D,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":I[1]||(I[1]=g=>d.value=g),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(g=>[e(j,{key:"name",props:g},{default:t(()=>{var N;return[P(h((N=g.row.product)!=null&&N.name?r(g.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(g=>[e(j,{key:"name",props:g},{default:t(()=>[g.row.category?(x(),B(te,{key:0,color:y(g.row.category)},{default:t(()=>[P(h(g.row.category),1)]),_:2},1032,["color"])):(x(),R("span",Bt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(g=>[e(j,{props:g,class:"cursor-pointer"},{default:t(()=>[a("span",null,[P(h(f(g.row.price))+" ",1),e(Z,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit Price")]),_:1})]),e(Ue,{"onUpdate:modelValue":[N=>i(g.row,N),N=>g.row.price=N],modelValue:g.row.price,"auto-save":""},{default:t(N=>[e(J,{modelValue:N.value,"onUpdate:modelValue":q=>N.value=q,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Ne(N.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(g=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[P(h(g.row.beginnings?g.row.beginnings:"Set Beginnings")+" ",1),e(Z,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit beginnings")]),_:1})]),e(Ue,{"onUpdate:modelValue":[N=>$(g.row,N),N=>g.row.beginnings=N],modelValue:g.row.beginnings,"auto-save":""},{default:t(N=>[e(J,{modelValue:N.value,"onUpdate:modelValue":q=>N.value=q,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ne(N.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(g=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[P(h(g.row.total_quantity?g.row.total_quantity:"Set Quantity")+" ",1),e(Z,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit quantity")]),_:1})]),e(Ue,{"onUpdate:modelValue":[N=>p(g.row,N),N=>g.row.total_quantity=N],modelValue:g.row.total_quantity,"auto-save":""},{default:t(N=>[e(J,{modelValue:N.value,"onUpdate:modelValue":q=>N.value=q,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ne(N.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(g=>[e(j,{class:"q-gutter-x-md",props:g},{default:t(()=>[e(St,{delete:g},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var It=K(Ft,[["__scopeId","data-v-c74b6072"]]);const Lt={class:"q-gutter-sm"},zt={__name:"ProductPage",setup(o){return(_,v)=>(x(),R("div",Lt,[a("div",null,[e(It)])]))}},Mt=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Ht={class:"q-mb-lg"},Ot={key:0,class:"custom-list z-top"},jt=a("div",null,"Raw Materials Code",-1),Qt=a("div",null,"Raw Materials Name",-1),Et=a("div",null,"Category",-1),Yt=a("div",null,"Quantity",-1),Kt={__name:"RawMaterialsCreate",setup(o){const _=pe(),v=pt(),b=U(()=>v.rawMaterials),m=Xe(),u=C(""),w=async()=>{v.searchRawMaterials(u.value)},s=U(()=>l.total_quantity!==""),d=C(!1),c=()=>{d.value=!0},n=()=>{i(),d.value=!1},r=p=>{l.ingredients_id=p.id,l.ingredient_name=p.name,l.ingredient_code=p.code,l.category=p.category,l.unit=p.unit,u.value=""},l=He({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:_.params.branch_id}),i=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},$=async()=>{try{const{product_name:p,...y}=l;await m.createBranchRawMaterials(y),console.log("data to send",y),i(),d.value=!1}catch(p){console.log(p)}};return(p,y)=>(x(),R(M,null,[e(S,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:c,style:{background:"#f43f5e"}}),e(Y,{modelValue:d.value,"onUpdate:modelValue":y[5]||(y[5]=f=>d.value=f),persistent:""},{default:t(()=>[e(T,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Mt,e(Ve),ae(e(S,{icon:"close",flat:"",dense:"",round:""},null,512),[[le]])]),_:1}),e(k,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Ht,[e(J,{modelValue:u.value,"onUpdate:modelValue":[y[0]||(y[0]=f=>u.value=f),w],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(ee,{name:"search"})])]),default:t(()=>[u.value?(x(),R("div",Ot,[e(T,null,{default:t(()=>[e(Be,{separator:""},{default:t(()=>{var f;return[(f=b.value)!=null&&f.length?(x(!0),R(M,{key:1},me(b.value,D=>(x(),B(we,{onClick:V=>r(D),key:D.id,clickable:""},{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,null,{default:t(()=>[P(h(D.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),B(we,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",null,[jt,e(J,{modelValue:l.ingredient_code,"onUpdate:modelValue":y[1]||(y[1]=f=>l.ingredient_code=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Qt,e(J,{modelValue:l.ingredient_name,"onUpdate:modelValue":y[2]||(y[2]=f=>l.ingredient_name=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Et,e(J,{modelValue:l.category,"onUpdate:modelValue":y[3]||(y[3]=f=>l.category=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Yt,e(J,{modelValue:l.total_quantity,"onUpdate:modelValue":y[4]||(y[4]=f=>l.total_quantity=f),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[f=>f&&f.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Se,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(S,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(S,{class:"glossy",color:"teal",label:"Create",onClick:$,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const nt=o=>(W("data-v-17ad5e9f"),o=o(),X(),o),Gt=nt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Jt=nt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Wt={__name:"RawMaterialsTableDelete",props:["delete"],setup(o){const _=Xe(),v=o,b=async()=>{console.log("clickkkd");try{await _.deleteBranchRawMaterials(v.delete.row.id),ge.create({type:"negative",icon:"warning",message:`Raw Materials ${v.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),m.value=!1}catch(w){console.error(w.message)}},m=C(!1),u=()=>{m.value=!0};return(w,s)=>(x(),R(M,null,[e(S,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(Z,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(Y,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=d=>m.value=d)},{default:t(()=>[e(T,null,{default:t(()=>[e(k,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Gt,Jt]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Se,{align:"right",class:"q-pt-none"},{default:t(()=>[ae(e(S,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[le]]),e(S,{dense:"",label:"Delete",color:"negative",onClick:b,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Xt=K(Wt,[["__scopeId","data-v-17ad5e9f"]]);const ot=o=>(W("data-v-74a3fea6"),o=o(),X(),o),Zt={class:"row justify-between"},ea={class:"q-my-sm"},ta={key:0,class:"spinner-wrapper"},aa={key:1},la={key:0,class:"data-error"},na=ot(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),oa=ot(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),sa={class:"row justify-center q-gutter-x-md"},ra={__name:"RawMaterialsTable",setup(o){const v=pe().params.branch_id,b=Xe(),m=C(""),u=C(!0),w=C([]),s=C(!1),d=C({rowsPerPage:0}),c=U(()=>b.branchRawMaterials),n=U(()=>m.value?c.value.filter(y=>y.name.toLowerCase().includes(m.value.toLowerCase())):c.value);he(async()=>{console.log("props.branchId in onMounted:",v),v&&await r(v)});const r=async y=>{try{u.value=!0;const f=await b.fetchBranchRawMaterials(y);c.value=f,c.value.length||(s.value=!0),console.log("Branch Raw Materials",c.value)}catch(f){console.log("Error fetching branch product:",f),s.value=!0}finally{u.value=!1}};async function l(y,f){try{const D=await Pe.put("/api/update-branch-rawMaterials/"+y.id,{total_quantity:parseInt(f)});if(D.status===200){const V=w.value.findIndex(I=>I.id==y.id);w.value[V]=parseInt(f),ge.create({type:"positive",message:D.data.message,timout:1e3,position:"top"})}}catch(D){console.error("Error updating price:",D)}}Qe(m,async y=>{u.value=!0,await new Promise(f=>setTimeout(f,1e3)),u.value=!1,s.value=n.value.length===0});const i=y=>{const f=y.total_quantity;if(y.ingredients.unit==="Grams"&&f<1e3)return"bg-red";let V;return f>=1e3?V=f/1e3:V=f,V<5?V<=2?"bg-red":(V<=3,"bg-warning"):"bg-positive"},$=y=>{const f=y.total_quantity,D=y.ingredients.unit;if(f>1e3){const V=(f/1e3).toFixed(2);return V.endsWith(".00")?`${Math.round(f/1e3)} kilos`:`${V} kilos`}else return f>1?`${f} ${D}`:`${f} ${D}`},p=[{name:"code",label:"Raw Materials Code",align:"center",field:y=>{var f,D;return(D=(f=y==null?void 0:y.ingredients)==null?void 0:f.code)!=null?D:"No Code"},format:y=>`${y}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:y=>{var f,D;return(D=(f=y==null?void 0:y.ingredients)==null?void 0:f.name)!=null?D:"No Code"},format:y=>`${y}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(y,f)=>(x(),R(M,null,[a("div",Zt,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=D=>m.value=D),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),a("div",ea,[e(Kt)])]),u.value?(x(),R("div",ta,[e(Ee,{size:"50px",color:"primary"})])):(x(),R("div",aa,[n.value.length===0?(x(),R("div",la,[e(ee,{name:"warning",color:"warning",size:"4em"}),na])):(x(),B(ne,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":f[1]||(f[1]=D=>d.value=D),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(D=>[e(j,{props:D},{default:t(()=>[e(te,{square:"",class:it(["text-white cursor-pointer",i(D.row)])},{default:t(()=>[P(h($(D.row))+" ",1),e(Z,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[oa]),_:1}),e(Ue,{"onUpdate:modelValue":[V=>l(D.row,V),V=>D.row.total_quantity=V],modelValue:D.row.total_quantity,"auto-save":""},{default:t(V=>[e(J,{modelValue:V.value,"onUpdate:modelValue":I=>V.value=I,dense:"",suffix:D.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Ne(V.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(D=>[e(j,{props:D},{default:t(()=>[a("div",sa,[e(Xt,{delete:D},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ia=K(ra,[["__scopeId","data-v-74a3fea6"]]);const da={class:"q-gutter-sm"},ca={class:"q-gutter-x-sm"},ua={__name:"RawMaterialsPage",setup(o){return(_,v)=>(x(),R("div",da,[a("div",ca,[e(te,{label:"Good",class:"text-white",color:"positive"}),e(te,{label:"Warning",class:"text-white",color:"warning"}),e(te,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(ia)])]))}};const ma={class:"text-h6 text-white"},pa={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe();console.log("breadReportsaaasss",o.breadProduction);const w=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",s=[{name:"bread_name",label:"Bread Name",align:"left",field:d=>(console.log("Row data:",d),d.bread.name||"N/A"),format:d=>w(d)},{name:"production",label:"Production",align:"center",field:d=>d.bread_production||d.filling_production||"0"}];return(d,c)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",ma,h(`${w((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Ve),a("div",null,[ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]}),_:1}),e(ne,{rows:o.breadProduction,columns:s},null,8,["rows"])]),_:1})]),_:1},8,["onHide"]))}};var _a=K(pa,[["__scopeId","data-v-849d6d20"]]);const fa=o=>(W("data-v-961b0a22"),o=o(),X(),o),ga={class:"text-h6 text-white"},va=fa(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ha={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe();console.log("ingredientProduction",o.ingredientProduction);const w=d=>{const c=Number(d.quantity)||0,n=d.unit||"";return c>1e3?`${parseFloat((c/1e3).toFixed(3))} kg`:c>1?`${parseFloat(c.toFixed(3))} ${n}`:`${parseFloat(c.toFixed(3))} ${n}`},s=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"";return(d,c)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",ga,h(`${s((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Ve),a("div",null,[ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]}),_:1}),e(k,null,{default:t(()=>[va]),_:1}),e(k,null,{default:t(()=>[e(Be,{dense:"",separator:"",class:"box"},{default:t(()=>[e(we,null,{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(ie,null,{default:t(()=>[e(_e,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(ie,{side:""},{default:t(()=>[e(_e,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),R(M,null,me(o.ingredientProduction,(n,r)=>(x(),B(we,{key:r},{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,{class:"text-caption"},{default:t(()=>[P(h(n.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(ie,null,{default:t(()=>[e(_e,{class:"text-caption"},{default:t(()=>[P(h(n.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(ie,{side:""},{default:t(()=>[e(_e,{class:"text-caption"},{default:t(()=>[P(h(w(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var ya=K(ha,[["__scopeId","data-v-961b0a22"]]);const ba=o=>(W("data-v-2361f8cb"),o=o(),X(),o),wa=ba(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),xa={class:"text-subtitle1 text-weight-regular"},$a={class:"q-ma-sm"},ka={class:"q-ma-sm",align:"center"},Ca=["src"],Ra={__name:"BakerReportPanel",props:["bakersReport"],setup(o){Oe.exports.vfs=at;const _=o,v=_.bakersReport;console.log("Bakers Report",_.bakersReport);const b=C(!0),m=C(!1),u=C(""),w=Ce(),s=(g,N)=>{w.dialog({component:_a,componentProps:{breadProduction:g,branchRecipe:N}})},d=(g,N)=>{w.dialog({component:ya,componentProps:{ingredientProduction:g,branchRecipe:N}})},c=g=>re.formatDate(g,"MMM. DD, YYYY"),n=g=>{const N=Number(g)||0;return parseFloat(N.toFixed(3)).toString()},r=g=>{const N=Number(g)||0;return parseFloat(N.toFixed(3)).toString()},l=g=>g?g.split(" ").map(N=>N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()).join(" "):"",i=g=>{const N=E=>E?E.charAt(0).toUpperCase()+E.slice(1).toLowerCase():"",q=g.firstname?N(g.firstname):"No Firstname",F=g.middlename?N(g.middlename).charAt(0)+".":"",A=g.lastname?N(g.lastname):"No Lastname";return`${q} ${F} ${A}`.trim()},$=g=>{const N=new Date(g),q={hour:"2-digit",minute:"2-digit",hour12:!0};return N.toLocaleTimeString(void 0,q)},p=g=>{switch(g){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},y=g=>g?g.split(" ").map(N=>N.charAt(0).toUpperCase()+N.slice(1).toLowerCase()).join(" "):"",f=g=>g?g.recipe_category==="Filling"?g.filling_bakers_reports||[]:g.recipe_category==="Dough"?g.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),D=[{name:"recipe_name",align:"center",label:"Recipe Name",field:g=>g.branch_recipe&&g.branch_recipe.recipe?{name:g.branch_recipe.recipe.name,category:g.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:g=>`${y(g.name)} (${g.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:g=>$(g)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:g=>`${r(g)}`},{name:"actual_target",align:"center",label:"Actual Target",field:"actual_target",format:g=>`${g}`},{name:"over",align:"center",label:"Over",field:"over",format:g=>`${g}`},{name:"short",align:"center",label:"Short",field:"short",format:g=>`${g}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],V=g=>{var Q,de,ye,Re,ue,ve,$e,z,H,be,G,ke,Te,Me;console.log("bakerReport",g);const N=`${(ye=(de=(Q=g==null?void 0:g.branch_recipe)==null?void 0:Q.recipe)==null?void 0:de.name)!=null?ye:"Unkown Recipe"} (${(Re=g==null?void 0:g.recipe_category)!=null?Re:"Unkown Category"})`,q=(ve=(ue=g==null?void 0:g.branch_recipe)==null?void 0:ue.target)!=null?ve:0,F=($e=g==null?void 0:g.actual_target)!=null?$e:0,A=(z=g==null?void 0:g.kilo)!=null?z:0,E=(H=g==null?void 0:g.over)!=null?H:0,fe=(be=g==null?void 0:g.short)!=null?be:0,L={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:N,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${n(q)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${F} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${A} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${E} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${fe} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${g.branch.name||"No name available"}
                Baker: ${i(((G=g==null?void 0:g.user)==null?void 0:G.employee)||"Unknown Baker Name")}
                Recipe: ${((ke=g.recipe)==null?void 0:ke.name)||"Unknown Recipe"} (${g.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${c(((Te=_.bakersReport[0])==null?void 0:Te.created_at)||((Me=_.bakersReport[1])==null?void 0:Me.created_at)||"No name available")}
                Time: ${$(g.created_at)}
                Status: ${l(g.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...f(g).map(ce=>{var ze;return[{text:((ze=ce==null?void 0:ce.bread)==null?void 0:ze.name)||"Unknown Bread",style:"body"},{text:g.recipe_category==="Filling"?`${(ce==null?void 0:ce.filling_production)||"0"} pcs`:`${ce==null?void 0:ce.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(g.ingredient_bakers_reports||[]).map(ce=>{var ze,Ze;return[{text:((ze=ce==null?void 0:ce.ingredients)==null?void 0:ze.code)||"Unknown Ingredient",style:"body"},{text:`${(ce==null?void 0:ce.quantity)||"Unknown Quantity"} ${((Ze=ce==null?void 0:ce.ingredients)==null?void 0:Ze.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},L]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},I=g=>{const N=V(g);Oe.exports.createPdf(N).getDataUrl(q=>{u.value=q,m.value=!0})};return(g,N)=>(x(),R("div",null,[e(T,{class:"my-card q-pa-md"},{default:t(()=>{var q,F,A,E,fe,L;return[wa,a("div",xa,[a("div",null," Name: "+h(i(((F=(q=O(v)[0])==null?void 0:q.user)==null?void 0:F.employee)||((E=(A=O(v)[1])==null?void 0:A.user)==null?void 0:E.employee)||"No name available")),1),a("div",null," Date: "+h(`${c(((fe=_.bakersReport[0])==null?void 0:fe.created_at)||((L=_.bakersReport[1])==null?void 0:L.created_at)||"No name available")}`),1)]),e(k,null,{default:t(()=>[e(ne,{class:"table-container sticky-header2",columns:D,rows:O(v),"row-key":"name","header-class":"custom-header"},{"body-cell-status":t(Q=>[e(j,{props:Q},{default:t(()=>[e(te,{align:"middle",color:p(Q.row.status)},{default:t(()=>[P(h(l(Q.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(Q=>[e(j,{props:Q},{default:t(()=>[e(S,{class:"gradient-icon",flat:"",rounded:"",onClick:de=>s(Q.row.combined_bakers_reports,Q.row.branch_recipe)},{default:t(()=>[e(ee,{name:"visibility",class:"gradient-icon"}),e(Z,{class:"gradient-tooltip"},{default:t(()=>[P("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(Q=>[e(j,{props:Q},{default:t(()=>[e(S,{class:"gradient-icon2",flat:"",rounded:"",onClick:de=>d(Q.row.ingredient_bakers_reports,Q.row.branch_recipe)},{default:t(()=>[e(ee,{name:"visibility",class:"gradient-icon2"}),e(Z,{class:"gradient-tooltip"},{default:t(()=>[P("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(Q=>[e(j,{props:Q},{default:t(()=>[e(S,{round:"",dense:"",size:"md",flat:"",onClick:de=>I(Q.row)},{default:t(()=>[e(ee,{name:"print",class:"gradient-icon3"}),e(Z,{class:"gradient-tooltip"},{default:t(()=>[P("Print")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows"])]),_:1})]}),_:1}),e(Y,{modelValue:m.value,"onUpdate:modelValue":N[0]||(N[0]=q=>m.value=q),"backdrop-filter":g.backdropFilter,maximized:b.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",$a,[a("div",ka,[ae((x(),B(S,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(Z,null,{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,Ca)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Pa=K(Ra,[["__scopeId","data-v-2361f8cb"]]);const Sa={class:"row justify-between text-white"},Va=a("div",{class:"text-h6"},"Bread Report",-1),Da={class:"row justify-end q-mt-md"},qa={class:"text-h6"},Na={__name:"BreadReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o,w=C("");console.log("Reports data structure:",u.reports);const s=l=>l?l.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",d=[{name:"name",label:"Bread Name",field:l=>(console.log("Row data:",l),l.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:l=>`${l}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:l=>`${l}`},{name:"total",label:"Bread Total (PCS)",field:"total",field:l=>(l.remaining||0)+(l.new_production||0)},{name:"sales",label:"Total Sales",field:"sales"}],c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),n=U(()=>{if(!w.value||!w.value.trim())return u.reports||[];const l=w.value.trim().toLowerCase();return(u.reports||[]).filter(i=>i.bread.name.toLowerCase().includes(l)||i.price.toString().includes(l)||i.sales.toString().includes(l))}),r=U(()=>{const l=n.value.reduce((i,$)=>{const p=parseFloat($.sales)||0;return console.log(`Adding salesAmount: ${p} to total: ${i}`),i+p},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Overall Total Sales:",r.value),(l,i)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Sa,[Va,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(J,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=$=>w.value=$),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:w.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:d,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":i[1]||(i[1]=$=>l.pagination=$),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,h(`${s($.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,h(`${c($.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,h(`${c($.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Da,[a("div",qa," Overall Total Sales: "+h(c(r.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Aa={class:"row justify-between text-white"},Ta=a("div",{class:"text-h6"},"Selecta Report",-1),Ua={class:"row justify-end q-mt-md"},Ba={class:"text-h6"},Fa={__name:"SelectaReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o;console.log("Reports data structure:",u.reports);const w=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Selecta Name",field:r=>(console.log("Row data:",r),r.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=U(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),n=U(()=>{const r=c.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",c.value),(r,l)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Aa,[Ta,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${w(i.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ua,[a("div",Ba," Overall Total Sales: "+h(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ia={class:"row justify-between text-white"},La=a("div",{class:"text-h6"},"Softdrinks Report",-1),za={class:"row justify-end q-mt-md"},Ma={class:"text-h6"},Ha={__name:"SoftdrinksReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o;console.log("Reports data structure:",u.reports);const w=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Softdrinks Name",field:r=>(console.log("Row data:",r),r.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=U(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),n=U(()=>{const r=c.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",c.value),(r,l)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Ia,[La,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${w(i.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",za,[a("div",Ma," Overall Total Sales: "+h(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Oa={class:"row justify-between text-white"},ja=a("div",{class:"text-h6"},"Cake Report",-1),Qa={class:"row justify-end q-mt-md"},Ea={class:"text-h6"},Ya={__name:"CakeReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o;console.log("Report cake:",u.reports);const w=U(()=>(console.log("Filtered cake rows:",u.reports||[]),u.reports||[])),s=r=>{const l=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",i=r.firstname?l(r.firstname):"No Firstname",$=r.middlename?l(r.middlename).charAt(0)+".":"",p=r.lastname?l(r.lastname):"No Lastname";return`${i} ${$} ${p}`},d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r).replace("\u20B1","\u20B1 "),c=U(()=>{const r=w.value.reduce((l,i)=>{const $=parseFloat(i.cake_report.price)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r}),n=[{name:"name",label:"Cake Name",field:r=>(console.log("Row data:",r),r.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:r=>s(r.cake_report.user.employee)},{name:"price",label:"Price",field:r=>d(r.cake_report.price)},{name:"layers",label:"Layers",field:r=>r.cake_report.layers},{name:"sales_status",label:"Sale Status",field:r=>r.cake_report.sales_status}];return(r,l)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",Oa,[ja,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:w.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",Qa,[a("div",Ea," Overall Total Sales: "+h(d(c.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ka={class:"row justify-between text-white"},Ga=a("div",{class:"text-h6"},"Other Products Report",-1),Ja={class:"row justify-end q-mt-md"},Wa={class:"text-h6"},Xa={__name:"OtherProductsReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o,w=U(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),s=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=[{name:"name",label:"Product Name",field:r=>(console.log("Row data:",r),r.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Product Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],n=U(()=>{const r=w.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return(r,l)=>(x(),R("div",null,[e(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",Ka,[Ga,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:w.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${s(i.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ja,[a("div",Wa," Overall Total Sales: "+h(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const Za=o=>(W("data-v-69f74a0d"),o=o(),X(),o),el=Za(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),tl={class:"item-start q-gutter-md",align:"center"},al={__name:"ProductsReport",props:["sales_Reports"],setup(o){const _=o,v=_.sales_Reports;console.log("sales report2",_);const b=Ce(),m=c=>{b.dialog({component:Na,componentProps:{reports:c}})},u=c=>{b.dialog({component:Fa,componentProps:{reports:c}})},w=c=>{b.dialog({component:Ha,componentProps:{reports:c}})},s=c=>{b.dialog({component:Ya,componentProps:{reports:c}})},d=c=>{b.dialog({component:Xa,componentProps:{reports:c}})};return(c,n)=>(x(),R("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[el]),_:1}),e(k,null,{default:t(()=>[a("div",tl,[e(S,{onClick:n[0]||(n[0]=r=>m(_.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(S,{onClick:n[1]||(n[1]=r=>u(O(v)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(S,{onClick:n[2]||(n[2]=r=>w(O(v)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(S,{onClick:n[3]||(n[3]=r=>s(O(v)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(S,{onClick:n[4]||(n[4]=r=>d(O(v)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var ll=K(al,[["__scopeId","data-v-69f74a0d"]]);const nl={class:"row justify-between text-white"},ol=a("div",{class:"text-h6"},"Denomination Report",-1),sl={class:"row text-weight-regular text-subtitle1"},rl={class:"col-6"},il={class:"col-6"},dl={class:"row justify-end q-mt-md"},cl={class:"text-h6"},ul={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o;console.log("Denomination Props",u.reports);const w=u.reports[0];console.log("Reports data structure:",u.reports);const s=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c),d=U(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Filtered Rows:",d.value),(c,n)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",nl,[ol,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[a("div",sl,[a("div",rl,[a("div",null,"1000 Bills: "+h(O(w).oneThousandBills),1),a("div",null,"500 Bills: "+h(O(w).fiveHundredBills),1),a("div",null,"200 Bills: "+h(O(w).twoHundredBills),1),a("div",null,"100 Bills: "+h(O(w).oneHundredBills),1),a("div",null,"50 Bills: "+h(O(w).fiftyBills),1),a("div",null,"20 Bills: "+h(O(w).twentyBills),1)]),a("div",il,[a("div",null,"20 coins: "+h(O(w).twentyCoins),1),a("div",null,"10 coins: "+h(O(w).tenCoins),1),a("div",null,"5 coins: "+h(O(w).fiveCoins),1),a("div",null,"1 coins: "+h(O(w).oneCoins),1),a("div",null,"25 cents: "+h(O(w).twentyFiveCents),1)])])]),_:1}),e(k,null,{default:t(()=>[a("div",dl,[a("div",cl," Overall Total Denomination: "+h(s(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const ml=o=>(W("data-v-43ad17ba"),o=o(),X(),o),pl=ml(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),_l={class:"q-gutter-x-md",align:"center"},fl={__name:"DenominationReport",props:["sales_Reports"],setup(o){const _=o;_.sales_Reports,console.log("Denomination report",_);const v=Ce(),b=(m,u)=>{v.dialog({component:ul,componentProps:{reports:m,total:u}})};return(m,u)=>(x(),R("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[pl]),_:1}),e(k,null,{default:t(()=>[a("div",_l,[e(S,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:u[0]||(u[0]=w=>b(_.sales_Reports[0].denomination_reports,_.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var gl=K(fl,[["__scopeId","data-v-43ad17ba"]]);const vl={class:"row justify-between text-white"},hl=a("div",{class:"text-h6"},"Expenses Report",-1),yl={class:"row justify-end q-mt-md"},bl={class:"text-h6"},wl={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o;u.reports,console.log("Expenses total",u.total);const w=n=>n?n.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Expenses Name",field:n=>(console.log("Row data:",n),n.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",u.reports);const d=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),c=U(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Expenses:",c.value),(n,r)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v),onOk:n.handleButtonClick,onCancel:O(m)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",vl,[hl,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":r[0]||(r[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,h(`${w(l.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,h(`${d(l.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",yl,[a("div",bl," Overall Total Expenses: "+h(d(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const xl=o=>(W("data-v-4747b3c7"),o=o(),X(),o),$l=xl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),kl={class:"q-gutter-x-md",align:"center"},Cl={__name:"ExpensesReport",props:["sales_Reports"],setup(o){const _=o;console.log("Expenses Data",_.sales_Reports[0].expenses_reports);const v=Ce(),b=(m,u)=>{v.dialog({component:wl,componentProps:{reports:m,total:u}})};return(m,u)=>(x(),R("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[$l]),_:1}),e(k,null,{default:t(()=>[a("div",kl,[e(S,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:u[0]||(u[0]=w=>b(_.sales_Reports[0].expenses_reports,_.sales_Reports[0].expenses_total))})])]),_:1})]),_:1})]))}};var Rl=K(Cl,[["__scopeId","data-v-4747b3c7"]]);const Pl={class:"row justify-between text-white"},Sl=a("div",{class:"text-h6"},"Credits Report",-1),Vl={class:"row justify-end q-mt-md"},Dl={class:"text-h6"},ql={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe(),u=o,w=u.reports;console.log("creditReports data",w),w.forEach((i,$)=>{console.log(`Report ${$}:`,i),console.log(`Credit Products for Report ${$}:`,i.credit_products.total_amount)});const s=U(()=>w.flatMap(i=>i.credit_products.map($=>{const p=parseInt($.pieces,10)||0,y=parseFloat($.price)||0,f=p*y;return{...$,total_amount:f}})));console.log("All Credit Products:",s.value[0]);const d=i=>i?i.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",c=i=>{const $=D=>D?D.charAt(0).toUpperCase()+D.slice(1).toLowerCase():"",p=i.firstname?$(i.firstname):"No Firstname",y=i.middlename?$(i.middlename).charAt(0)+".":"",f=i.lastname?$(i.lastname):"No Lastname";return`${p} ${y} ${f}`.trim()},n=[{name:"name",label:"Employee Name",field:i=>c(i.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:i=>i.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",u.reports);const r=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),l=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return(i,$)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v),onOk:i.handleButtonClick,onCancel:O(m)},{default:t(()=>[e(T,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Pl,[Sl,ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])]),_:1}),e(k,null,{default:t(()=>[e(ne,{filter:i.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":$[0]||($[0]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,h(`${d(p.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,h(`${r(p.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,h(`${l(p.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Vl,[a("div",Dl," Overall Credits Total: "+h(r(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Nl=o=>(W("data-v-037b1d7d"),o=o(),X(),o),Al=Nl(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Tl={class:"q-gutter-x-md",align:"center"},Ul={__name:"CreditsReport",props:["sales_Reports"],setup(o){const _=o,v=Ce(),b=(m,u)=>{v.dialog({component:ql,componentProps:{reports:m,total:u}})};return(m,u)=>(x(),R("div",null,[e(T,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[Al]),_:1}),e(k,null,{default:t(()=>[a("div",Tl,[e(S,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:u[0]||(u[0]=w=>b(_.sales_Reports[0].credit_reports,_.sales_Reports[0].credit_total))})])]),_:1}),e(k)]),_:1})]))}};var Bl=K(Ul,[["__scopeId","data-v-037b1d7d"]]);const Fl=o=>(W("data-v-193f57bf"),o=o(),X(),o),Il={class:"q-mt-lg row items-start q-gutter-md justify-center"},Ll={class:"row justify-between"},zl=Fl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Ml={align:"right"},Hl={class:"text-subtitle1 text-weight-regular"},Ol={class:"row q-gutter-sm q-pa-md"},jl={class:"q-ma-sm"},Ql={class:"q-ma-sm",align:"center"},El=["src"],Yl={__name:"SalesReportPanel",props:["salesReport"],setup(o){Oe.exports.vfs=at;const _=o,v=_.salesReport;console.log("reportsData",_.salesReport);const b=C(!0),m=C(!1),u=C(""),w=l=>re.formatDate(l,"MMMM DD, YYYY"),s=l=>{const i=new Date(l),$={hour:"2-digit",minute:"2-digit",hour12:!0};return i.toLocaleTimeString(void 0,$)},d=l=>{const i=f=>f?f.charAt(0).toUpperCase()+f.slice(1).toLowerCase():"",$=l.firstname?i(l.firstname):"No Firstname",p=l.middlename?i(l.middlename).charAt(0)+".":"",y=l.lastname?i(l.lastname):"No Lastname";return`${$} ${p} ${y}`.trim()},c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const i=U(()=>l.credit_reports.flatMap(L=>L.credit_products));console.log("All Credit Products:",i.value);const $=[{title:"Bread Production",data:(l.bread_reports||[]).map(L=>({...L,total:(L.new_production||0)+(L.beginnings||0),sales:(L.price||0)*(L.bread_sold||0)})),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(l.selecta_reports||[]).map(L=>({...L,sales:(L.price||0)*L.sold})),columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:l.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(l.softdrinks_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(l.other_products_reports||[]).map(L=>({...L,sales:(L.price||0)*(L.sold||0)})),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:l.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],p=l.expenses_reports||[],y=i.value||[],f=l.denomination_reports[0]||[],D=l.denomination_total;l.products_total_sales,l.charges_amount,l.over_total;const V={bills:[{name:"One Thousand",pcs:f.oneThousandBills||0},{name:"Five Hundred",pcs:f.fiveHundredBills||0},{name:"Two Hundred",pcs:f.twoHundredBills||0},{name:"One Hundred",pcs:f.oneHundredBills||0},{name:"Fifty",pcs:f.fiftyBills||0},{name:"Twenty",pcs:f.twentyBills||0}],coins:[{name:"Twenty",pcs:f.twentyCoins||0},{name:"Ten",pcs:f.tenCoins||0},{name:"Five",pcs:f.fiveCoins||0},{name:"One",pcs:f.oneCoins||0},{name:"Twenty Five Cents",pcs:f.twentyFiveCents||0}]},I=(L,Q,de)=>{const ye=(ue,ve)=>ve.split(".").reduce(($e,z)=>$e?$e[z]:0,ue),Re=de.reduce((ue,ve)=>(ue[ve]=L.reduce(($e,z)=>$e+parseFloat(ye(z,ve))||0,0),ue),{});return[...L.map(ue=>Q.map(ve=>{if(ve==="cake_report.user.employee"){const $e=ye(ue,"cake_report.user.employee");return{text:$e?d($e):"No Employee",style:"body",alignment:"center"}}return{text:ve.includes(".")?ye(ue,ve)||"-":ue[ve]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:Q.length-de.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(Q.length-de.length-1).fill({}),...de.map(ue=>({text:`\u20B1 ${Re[ue].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let g=0;const N=y.length>0?y.map(L=>{const Q=(L.price||0)*(L.pieces||0);return g+=Q,[{text:d(L.credit_user_id),style:"body",alignment:"center"},{text:L.product.name,style:"body",alignment:"center"},{text:L.pieces,style:"body",alignment:"center"},{text:c(L.price),style:"body",alignment:"center"},{text:c(Q),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];N.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:c(g),style:"bodyBold",alignment:"center",colSpan:2},{}]);let q=0;const F=p.length>0?p.map(L=>{const Q=parseFloat(L.amount.replace(/[^0-9.-]+/g,""));return isNaN(Q)||(q+=Q),[{text:L.name,style:"body",alignment:"center"},{text:L.description,style:"body",alignment:"center"},{text:`${c(Q)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];F.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${c(q)}`,style:"bodyBold",alignment:"center"}]);const A=V.bills.map((L,Q)=>{var de,ye;return[{text:L.name,style:"body",alignment:"center"},{text:L.pcs,style:"body",alignment:"center"},{text:((de=V.coins[Q])==null?void 0:de.name)||"",style:"body",alignment:"center"},{text:((ye=V.coins[Q])==null?void 0:ye.pcs)||"0",style:"body",alignment:"center"}]});A.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${c(D)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const E=$.map(({title:L,data:Q,columns:de,totals:ye})=>({stack:[{text:L,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(de.length).fill("*"),body:[de.map(Re=>({text:Re.split(".").pop().replace(/_/g," ").replace(/\b\w/g,ue=>ue.toUpperCase()),style:"tableHeader",alignment:"center"})),...I(Q,de,ye)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),fe={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:c(D),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:c(l.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:c(q),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:c(g),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:c(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${c(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${d(l.user.employee)}
          Date: ${w(l.created_at)}
Time: ${s(l.created_at)}
`,margin:[0,0,0,10]},{}]},...E,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...F]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...N]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...A]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},fe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},r=l=>{const i=n(l);Oe.exports.createPdf(i).getDataUrl($=>{u.value=$,m.value=!0})};return(l,i)=>(x(),R(M,null,[e(T,{class:"my-card q-pa-md"},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Il,[(x(!0),R(M,null,me(O(v),($,p)=>(x(),R("div",{key:p},[e(T,{flat:"",dense:"",bordered:""},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Ll,[zl,a("div",Ml,[e(S,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:y=>r($)},null,8,["onClick"]),a("div",null,[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P(" Print Report ")]),_:1})])])]),a("div",Hl,[a("div",null,"Name: "+h(d($.user.employee)),1),a("div",null,"Date: "+h(w($.created_at)),1),a("div",null,"Time: "+h(s($.created_at)),1)])]),_:2},1024),a("div",Ol,[e(ll,{sales_Reports:[$]},null,8,["sales_Reports"]),e(gl,{sales_Reports:[$]},null,8,["sales_Reports"]),e(Rl,{sales_Reports:[$]},null,8,["sales_Reports"]),e(Bl,{sales_Reports:[$]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(Y,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=$=>m.value=$),maximized:b.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",jl,[a("div",Ql,[ae((x(),B(S,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(Z,null,{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,El)])])]),_:1},8,["modelValue","maximized"])],64))}};var Kl=K(Yl,[["__scopeId","data-v-193f57bf"]]);const Gl={class:"text-h6"},Jl={class:"row q-gutter-x-md"},Wl={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(o,{emit:_}){const{dialogRef:v,onDialogHide:b,onDialogOK:m,onDialogCancel:u}=xe(),w=o;console.log("production report",w.reports);const s=w.reports.baker_reports,d=w.reports.sales_reports,c=_,n=C("bakerReport"),r=C(!0),l=C(!1),i=p=>p?p.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"",$=()=>{c("selectReport",w.reports),l.value=!0};return(p,y)=>(x(),B(Y,{ref_key:"dialogRef",ref:v,modelValue:l.value,"onUpdate:modelValue":y[2]||(y[2]=f=>l.value=f),onHide:O(b),onOk:$,onCancel:O(u),maximized:r.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(T,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",Gl,h(`${i(o.reports.branch_name)} ( ${o.reportLabel} Reports)`),1),e(Ve),a("div",Jl,[a("div",null,[ae((x(),B(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Z,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[P("Close")]),_:1})]),_:1})),[[le]])])])]),_:1}),e(k,null,{default:t(()=>[a("div",null,[e(Fe,{modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=f=>n.value=f),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(oe,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(oe,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Ie,{modelValue:n.value,"onUpdate:modelValue":y[1]||(y[1]=f=>n.value=f),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(se,{name:"bakerReport"},{default:t(()=>[e(Pa,{bakersReport:O(s)},null,8,["bakersReport"])]),_:1}),e(se,{name:"salesReport"},{default:t(()=>[e(Kl,{salesReport:O(d)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var Xl=K(Wl,[["__scopeId","data-v-643ff984"]]);const Zl=dt("productions",()=>{const o=C([]),_=C([]);return{productions:o,production:_,fetchAllProduction:async()=>{const m=await Pe.get("/api/branch-production-report");o.value=m.data.reports},fetchBranchProductions:async m=>{try{const u=await Pe.get(`/api/branches/${m}/production-report`);o.value=u.data}catch(u){console.log(u)}}}});const en=o=>(W("data-v-12387bc6"),o=o(),X(),o),tn={key:0,class:"spinner-wrapper"},an={key:1},ln={key:0,class:"data-error"},nn=en(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),on={class:"row justify-center q-gutter-x-md"},sn={__name:"ProductionTable",setup(o){const _=pe();C("bakerReport");const v=_.params.branch_id;C(!1),C(!0),C(""),C("");const b=C({rowsPerPage:0}),m=Zl(),u=C(""),w=U(()=>m.productions);C(!0);const s=C(!0),d=C(!1),c=U(()=>u.value?w.value.filter(p=>p.name.toLowerCase().includes(u.value.toLowerCase())):w.value);he(async()=>{v&&await n(v)});const n=async p=>{try{s.value=!0;const y=await m.fetchBranchProductions(p);console.log("Fetched data:",y),console.log("Production rows:",w.value),w.value.length||(d.value=!0)}catch{d.value=!0}finally{s.value=!1}};Qe(u,async p=>{s.value=!0,await new Promise(y=>setTimeout(y,1e3)),s.value=!1,d.value=c.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:p=>re.formatDate(p,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],i=Ce(),$=(p,y)=>{i.dialog({component:Xl,componentProps:{reports:p,reportLabel:y}})};return(p,y)=>(x(),R(M,null,[a("div",null,[e(J,{modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=f=>u.value=f),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),s.value?(x(),R("div",tn,[e(Ee,{size:"50px",color:"primary"})])):(x(),R("div",an,[c.value.length===0?(x(),R("div",ln,[e(ee,{name:"warning",color:"warning",size:"4em"}),nn])):(x(),B(ne,{key:1,class:"table-container sticky-header",filter:u.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:c.value,"row-key":"reportDate","virtual-scroll":"",pagination:b.value,"onUpdate:pagination":y[1]||(y[1]=f=>b.value=f),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(f=>[e(j,{props:f},{default:t(()=>[a("div",on,[e(S,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:D=>$(f.row.AM,"AM")},{default:t(()=>[P("AM")]),_:2},1032,["onClick"]),e(S,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:D=>$(f.row.PM,"PM")},{default:t(()=>[P("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var rn=K(sn,[["__scopeId","data-v-12387bc6"]]);const dn={__name:"ProductionPage",setup(o){return(_,v)=>(x(),R("div",null,[e(rn)]))}},cn={class:"row justify-between"},un=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),mn=a("div",{class:"text-h6"},"Decline Report",-1),pn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=qe(),v=C(""),b=C(!1),m=C(!1),u=C({rowsPerPage:0}),w=Ce(),s=o,d=()=>{m.value=!0},c=()=>{b.value=!0},n=async()=>{if(!v.value){w.notify({type:"negative",message:"Remark is required"});return}try{const p=await _.declineReport(s.report.id,v.value);console.log("Report declined:",p),w.notify({type:"negative",message:"Report declined successfully"}),b.value=!1,m.value=!1,v.value=""}catch(p){console.error("Error declining report:",p),w.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const p=await _.confirmReport(s.report.id);console.log("Report confirmed:",p),w.notify({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch(p){console.error(p)}},l=U(()=>s.report.selecta_added_stocks||[]),i=p=>{const y=I=>I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():"",f=p.firstname?y(p.firstname):"No Firstname",D=p.middlename?y(p.middlename).charAt(0)+".":"",V=p.lastname?y(p.lastname):"No Lastname";return`${f} ${D} ${V}`},$=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,y)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:d})]),e(Y,{modelValue:m.value,"onUpdate:modelValue":y[2]||(y[2]=f=>m.value=f)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",cn,[un,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=f=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(i(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"yellow",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:l.value,columns:$,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":y[1]||(y[1]=f=>u.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(S,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(S,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:b.value,"onUpdate:modelValue":y[4]||(y[4]=f=>b.value=f)},{default:t(()=>[e(T,null,{default:t(()=>[e(k,null,{default:t(()=>[mn]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:v.value,"onUpdate:modelValue":y[3]||(y[3]=f=>v.value=f),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[f=>!!f||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Se,{align:"right"},{default:t(()=>[ae(e(S,{flat:"",label:"Cancel",color:"primary"},null,512),[[le]]),e(S,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const _n=o=>(W("data-v-08e549d4"),o=o(),X(),o),fn={class:"q-gutter-md q-ma-md"},gn={class:"row justify-between"},vn={class:"text-subtitle1"},hn={class:"text-subtitle1"},yn={class:"text-subtitle1"},bn={key:1,class:"data-error"},wn=_n(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),xn={__name:"TransactionPendingCard",setup(o){const _=pe(),v=qe(),b=U(()=>v.pendingSelectaReports),m=_.params.branch_id,u=C("pending"),w=async()=>{try{const n=await v.fetchPendingSelectaStocks(m,u.value);console.log(b.value)}catch(n){console.error("Error fetching pending stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",fn,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",gn,[a("div",vn,h(s(l.created_at)),1),a("div",hn,h(d(l.created_at)),1),a("div",yn,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),a("div",null,[e(pn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",bn,[e(ee,{name:"warning",color:"warning",size:"4em"}),wn]))])]),_:1})]))}};var $n=K(xn,[["__scopeId","data-v-08e549d4"]]);const kn={class:"row justify-between"},Cn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Rn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0};Ce();const b=o,m=U(()=>(console.log("Filtered rows:",b.report||[]),b.report.selecta_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},w=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Y,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",kn,[Cn,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"green",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:m.value,columns:w,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Pn=o=>(W("data-v-c1019cbc"),o=o(),X(),o),Sn={class:"q-gutter-md q-ma-md"},Vn={class:"row justify-between"},Dn={class:"text-subtitle1"},qn={class:"text-subtitle1"},Nn={class:"text-subtitle1"},An={key:1,class:"data-error"},Tn=Pn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Un={__name:"TransactionConfirmedCard",setup(o){const _=pe(),v=qe(),b=U(()=>v.confirmedSelectaReports),m=_.params.branch_id,u=C("confirmed"),w=async()=>{try{const n=await v.fetchConfirmedSelectaStocks(m,u.value);console.log(b.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Sn,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Vn,[a("div",Dn,h(s(l.created_at)),1),a("div",qn,h(d(l.created_at)),1),a("div",Nn,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"green",outlined:""},{default:t(()=>[P(h(l.status),1)]),_:2},1024)]),a("div",null,[e(Rn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",An,[e(ee,{name:"warning",color:"warning",size:"4em"}),Tn]))])]),_:1})]))}};var Bn=K(Un,[["__scopeId","data-v-c1019cbc"]]);const Fn={class:"row justify-between"},In=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Ln={class:"q-mt-md"},zn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0},b=o,m=U(()=>(console.log("Filtered rows:",b.report||[]),b.report.selecta_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},w=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Y,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Fn,[In,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"red",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})]),a("div",Ln,"Remark: "+h(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:m.value,columns:w,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Mn=o=>(W("data-v-6b801095"),o=o(),X(),o),Hn={class:"q-gutter-md q-ma-md"},On={class:"row justify-between"},jn={class:"text-subtitle1"},Qn={class:"text-subtitle1"},En={class:"text-subtitle1"},Yn={key:1,class:"data-error"},Kn=Mn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Gn={__name:"TransactionDeclinedCard",setup(o){const _=pe(),v=qe(),b=U(()=>v.declinedSelectaReports),m=_.params.branch_id,u=C("declined"),w=async()=>{try{const n=await v.fetchDeclinedSelectaStocks(m,u.value);console.log("selectedProductsDeclined",b.value)}catch(n){console.error("Error fetching decline stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Hn,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",On,[a("div",jn,h(s(l.created_at)),1),a("div",Qn,h(d(l.created_at)),1),a("div",En,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"red",outlined:""},{default:t(()=>[P(h(l.status),1)]),_:2},1024)]),a("div",null,[e(zn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",Yn,[e(ee,{name:"warning",color:"warning",size:"4em"}),Kn]))])]),_:1})]))}};var Jn=K(Gn,[["__scopeId","data-v-6b801095"]]);const Wn={class:"q-gutter-y-sm"},Xn={__name:"SelectaTransactionPage",setup(o){const _=C("pendingReports"),v=U(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(b,m)=>(x(),R(M,null,[a("div",Wn,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":v.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(oe,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(oe,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(oe,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(se,{name:"pendingReports"},{default:t(()=>[e($n)]),_:1}),e(se,{name:"confirmReports"},{default:t(()=>[e(Bn)]),_:1}),e(se,{name:"declineReports"},{default:t(()=>[e(Jn)]),_:1})]),_:1},8,["modelValue"])],64))}};var Zn=K(Xn,[["__scopeId","data-v-6cbd59c6"]]);const eo={class:"row justify-between"},to=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),ao=a("div",{class:"text-h6"},"Decline Report",-1),lo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=Le(),v=C(""),b=C(!1),m=C(!1),u=C({rowPerPage:0}),w=Ce(),s=o,d=()=>{m.value=!0},c=()=>{b.value=!0},n=async()=>{if(!v.value){w.notify({type:"negative",message:"Remark is required"});return}try{const p=await _.declineReport(s.report.id,v.value);console.log("Report declined:",p),w.notify({type:"negative",message:"Report declined successfully"}),b.value=!1,m.value=!1,v.value=""}catch(p){console.error("Error declining report:",p),w.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const p=await _.confirmReport(s.report.id);console.log("Report confirmed:",p),w.notify({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch(p){console.error(p)}},l=U(()=>s.report.softdrinks_added_stocks||[]),i=p=>{const y=I=>I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():"",f=p.firstname?y(p.firstname):"No Firstname",D=p.middlename?y(p.middlename).charAt(0)+".":"",V=p.lastname?y(p.lastname):"No Lastname";return`${f} ${D} ${V}`},$=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,y)=>(x(),R("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:d}),e(Y,{modelValue:m.value,"onUpdate:modelValue":y[2]||(y[2]=f=>m.value=f)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",eo,[to,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=f=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(i(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"yellow",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:l.value,columns:$,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":y[1]||(y[1]=f=>u.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(S,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(S,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:b.value,"onUpdate:modelValue":y[4]||(y[4]=f=>b.value=f)},{default:t(()=>[e(T,null,{default:t(()=>[e(k,null,{default:t(()=>[ao]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:v.value,"onUpdate:modelValue":y[3]||(y[3]=f=>v.value=f),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[f=>!!f||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Se,{align:"right"},{default:t(()=>[ae(e(S,{flat:"",label:"Cancel",color:"primary"},null,512),[[le]]),e(S,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const no=o=>(W("data-v-7ba0107e"),o=o(),X(),o),oo={class:"q-gutter-md q-ma-md"},so={class:"row justify-between"},ro={class:"text-subtitle1"},io={class:"text-subtitle1"},co={class:"text-subtitle1"},uo={key:1,class:"data-error"},mo=no(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),po={__name:"TransactionPendingCard",setup(o){const _=pe(),v=Le(),b=U(()=>v.pendingSoftdrinksReports),m=_.params.branch_id,u=C("pending"),w=async()=>{try{const n=await v.fetchPendingSoftdrinksStocks(m,u.value);console.log(b.value)}catch(n){console.error("Error fetching pending stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",oo,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",so,[a("div",ro,h(s(l.created_at)),1),a("div",io,h(d(l.created_at)),1),a("div",co,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),a("div",null,[e(lo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",uo,[e(ee,{name:"warning",color:"warning",size:"4em"}),mo]))])]),_:1})]))}};var _o=K(po,[["__scopeId","data-v-7ba0107e"]]);const fo={class:"row justify-between"},go=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),vo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Le(),C(!1);const _=C(!1),v=()=>{_.value=!0},b=o,m=U(()=>(console.log("Filtered rows:",b.report||[]),b.report.softdrinks_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},w=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Y,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",fo,[go,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"green",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:m.value,columns:w,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ho=o=>(W("data-v-2b1290c8"),o=o(),X(),o),yo={class:"q-gutter-md q-ma-md"},bo={class:"row justify-between"},wo={class:"text-subtitle1"},xo={class:"text-subtitle1"},$o={class:"text-subtitle1"},ko={key:1,class:"data-error"},Co=ho(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ro={__name:"TransactionConfirmedCard",setup(o){const _=pe(),v=Le(),b=U(()=>v.confirmedSoftdrinksReports),m=_.params.branch_id,u=C("confirmed"),w=async()=>{try{const n=await v.fetchConfirmedSoftdrinksStocks(m,u.value);console.log(b.value)}catch(n){console.error("Error fetching confirmed stocks",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",yo,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",bo,[a("div",wo,h(s(l.created_at)),1),a("div",xo,h(d(l.created_at)),1),a("div",$o,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"green",outlined:""},{default:t(()=>[P(h(l.status),1)]),_:2},1024)]),a("div",null,[e(vo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",ko,[e(ee,{name:"warning",color:"warning",size:"4em"}),Co]))])]),_:1})]))}};var Po=K(Ro,[["__scopeId","data-v-2b1290c8"]]);const So={class:"row justify-between"},Vo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Do={class:"q-mt-md"},qo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Le();const _=C(!1),v=()=>{_.value=!0},b=o,m=U(()=>(console.log("Filtered rows:",b.report||[]),b.report.softdrinks_added_stocks)),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},w=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Y,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",So,[Vo,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"red",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})]),a("div",Do,"Remark: "+h(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:m.value,columns:w,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const No=o=>(W("data-v-51a1abe5"),o=o(),X(),o),Ao={class:"q-gutter-md q-ma-md"},To={class:"row justify-between"},Uo={class:"text-subtitle1"},Bo={class:"text-subtitle1"},Fo={class:"text-subtitle1"},Io={key:1,class:"data-error"},Lo=No(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zo={__name:"TransactionDeclinedCard",setup(o){const _=pe(),v=Le(),b=U(()=>v.declinedSoftdrinksReports),m=_.params.branch_id,u=C("declined"),w=async()=>{try{const n=await v.fetchDeclinedSoftdrinksStocks(m,u.value);console.log("softdrinksProductsDeclined",b.value)}catch(n){console.error("Error fetching decline stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),B(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Ao,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",To,[a("div",Uo,h(s(l.created_at)),1),a("div",Bo,h(d(l.created_at)),1),a("div",Fo,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"red",outlined:""},{default:t(()=>[P(h(l.status),1)]),_:2},1024)]),a("div",null,[e(qo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",Io,[e(ee,{name:"warning",color:"warning",size:"4em"}),Lo]))])]),_:1}))}};var Mo=K(zo,[["__scopeId","data-v-51a1abe5"]]);const Ho={class:"q-gutter-y-sm"},Oo={__name:"SoftdrinksTransactionPage",setup(o){const _=C("pendingReports"),v=U(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(b,m)=>(x(),R(M,null,[a("div",Ho,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":v.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(oe,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(oe,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(oe,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(se,{name:"pendingReports"},{default:t(()=>[e(_o)]),_:1}),e(se,{name:"confirmReports"},{default:t(()=>[e(Po)]),_:1}),e(se,{name:"declineReports"},{default:t(()=>[e(Mo)]),_:1})]),_:1},8,["modelValue"])],64))}};var jo=K(Oo,[["__scopeId","data-v-368f5ccc"]]);const Qo={class:"row justify-between"},Eo=a("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),Yo=a("div",{class:"text-h6"},"Decline Report",-1),Ko={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=Ye(),v=C(""),b=C(!1),m=C(!1),u=C({rowsPerPage:0}),w=()=>{m.value=!0},s=()=>{b.value=!0},d=o,c=async()=>{if(!v.value){ge.create({type:"negative",message:"Remark is required"});return}try{const $=await _.declineReport(d.report.id,v.value);console.log("Report declined:",$),ge.create({type:"negative",message:"Report declined successfully"}),b.value=!1,m.value=!1,v.value=""}catch($){console.error("Error declining report:",$),ge.create({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const $=await _.confirmReport(d.report.id);console.log("Report confirmed:",$),ge.create({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch($){console.error($)}},r=U(()=>d.report.other_added_stock||[]),l=[{name:"product_name",label:"Product Name",field:$=>$.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:$=>$.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:$=>$.added_stocks?`${$.added_stocks} pcs`:"N/A"}],i=$=>{const p=V=>V?V.charAt(0).toUpperCase()+V.slice(1).toLowerCase():"",y=$.firstname?p($.firstname):"No Firstname",f=$.middlename?p($.middlename).charAt(0)+".":"",D=$.lastname?p($.lastname):"No Lastname";return`${y} ${f} ${D}`};return($,p)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:w})]),e(Y,{modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=y=>m.value=y)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Qo,[Eo,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=y=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(i(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"yellow",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:r.value,columns:l,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":p[1]||(p[1]=y=>u.value=y),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(S,{color:"negative",label:"Decline",class:"action-btn",onClick:s}),e(S,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Y,{modelValue:b.value,"onUpdate:modelValue":p[4]||(p[4]=y=>b.value=y)},{default:t(()=>[e(T,null,{default:t(()=>[e(k,null,{default:t(()=>[Yo]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:v.value,"onUpdate:modelValue":p[3]||(p[3]=y=>v.value=y),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[y=>!!y||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Se,{align:"right"},{default:t(()=>[ae(e(S,{flat:"",label:"Cancel",color:"primary"},null,512),[[le]]),e(S,{flat:"",label:"Confirm",color:"negative",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Go=o=>(W("data-v-355e3e60"),o=o(),X(),o),Jo={class:"q-gutter-md q-ma-md"},Wo={key:0},Xo={class:"row justify-between"},Zo={class:"text-subtitle1"},es={class:"text-subtitle1"},ts={class:"text-subtitle1"},as={key:1,class:"data-error"},ls=Go(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ns={__name:"TransactionPendingCard",setup(o){const _=pe(),v=Ye(),b=U(()=>v.pendingOtherReports),m=_.params.branch_id,u=C("pending"),w=async()=>{try{const n=await v.fetchPendingOtherStocks(m,u.value);console.log(b.value)}catch(n){console.error("Error fetching pending stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Jo,[b.value.length?(x(),R("div",Wo,[(x(!0),R(M,null,me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Xo,[a("div",Zo,h(s(l.created_at)),1),a("div",es,h(d(l.created_at)),1),a("div",ts,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"yellow",outlined:""},{default:t(()=>[P(" Pending ")]),_:1})]),a("div",null,[e(Ko,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(x(),R("div",as,[e(ee,{name:"warning",color:"warning",size:"4em"}),ls]))])]),_:1})]))}};var os=K(ns,[["__scopeId","data-v-355e3e60"]]);const ss={class:"row justify-between"},rs=a("div",{class:"text-h6"},"Other Added Stocks Report",-1),is={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0};Ce();const b=o,m=U(()=>(console.log("Filtered rows:",b.report||[]),b.report.other_added_stock||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},w=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Y,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",ss,[rs,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"green",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:m.value,columns:w,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ds=o=>(W("data-v-5b0a7351"),o=o(),X(),o),cs={class:"q-gutter-md q-ma-md"},us={class:"row justify-between"},ms={class:"text-subtitle1"},ps={class:"text-subtitle1"},_s={class:"text-subtitle1"},fs={key:1,class:"data-error"},gs=ds(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),vs={__name:"TransactionConfirmedCard",setup(o){const _=pe(),v=Ye(),b=U(()=>v.confirmedOtherReports),m=_.params.branch_id,u=C("confirmed"),w=async()=>{try{const n=await v.fetchConfirmedOtherStocks(m,u.value);console.log(b.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",cs,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",us,[a("div",ms,h(s(l.created_at)),1),a("div",ps,h(d(l.created_at)),1),a("div",_s,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"green",outlined:""},{default:t(()=>[P(h(l.status),1)]),_:2},1024)]),a("div",null,[e(is,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",fs,[e(ee,{name:"warning",color:"warning",size:"4em"}),gs]))])]),_:1})]))}};var hs=K(vs,[["__scopeId","data-v-5b0a7351"]]);const ys={class:"row justify-between"},bs=a("div",{class:"text-h6"},"Others Added Stocks Report",-1),ws={class:"q-mt-md"},xs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0},b=o,m=U(()=>(console.log("Filtered rows:",b.report||[]),b.report.other_added_stock||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},w=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(x(),R(M,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Y,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(T,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",ys,[bs,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[P(" Status: "),e(te,{color:"red",outlined:""},{default:t(()=>[P(h(o.report.status),1)]),_:1})]),a("div",ws,"Remark: "+h(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(ne,{rows:m.value,columns:w,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const $s=o=>(W("data-v-67ff56ab"),o=o(),X(),o),ks={class:"q-gutter-md q-ma-md"},Cs={class:"row justify-between"},Rs={class:"text-subtitle1"},Ps={class:"text-subtitle1"},Ss={class:"text-subtitle1"},Vs={key:1,class:"data-error"},Ds=$s(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),qs={__name:"TransactionDeclinedCard",setup(o){const _=pe(),v=Ye(),b=U(()=>v.declinedOtherReports),m=_.params.branch_id,u=C("declined"),w=async()=>{try{const n=await v.fetchDeclinedOtherStocks(m,u.value);console.log("selectedOtherProductDeclined",b.value)}catch(n){console.error("Error fetching decline stocks:",n)}};he(async()=>{m&&await w()});const s=n=>re.formatDate(n,"MMMM D, YYYY"),d=n=>re.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(x(),R("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ks,[b.value.length?(x(!0),R(M,{key:0},me(b.value,(l,i)=>(x(),B(T,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Cs,[a("div",Rs,h(s(l.created_at)),1),a("div",Ps,h(d(l.created_at)),1),a("div",Ss,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(te,{color:"red",outlined:""},{default:t(()=>[P(h(l.status),1)]),_:2},1024)]),a("div",null,[e(xs,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(x(),R("div",Vs,[e(ee,{name:"warning",color:"warning",size:"4em"}),Ds]))])]),_:1})]))}};var Ns=K(qs,[["__scopeId","data-v-67ff56ab"]]);const As={class:"q-gutter-y-sm"},Ts={__name:"OtherTransactionPage",setup(o){const _=C("pendingReports"),v=U(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(b,m)=>(x(),R(M,null,[a("div",As,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":v.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(oe,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(oe,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(oe,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(se,{name:"pendingReports"},{default:t(()=>[e(os)]),_:1}),e(se,{name:"confirmReports"},{default:t(()=>[e(hs)]),_:1}),e(se,{name:"declineReports"},{default:t(()=>[e(Ns)]),_:1})]),_:1},8,["modelValue"])],64))}};var Us=K(Ts,[["__scopeId","data-v-b76c19b4"]]);const st=o=>(W("data-v-0a732ed6"),o=o(),X(),o),Bs={class:"q-gutter-y-sm"},Fs=st(()=>a("h1",null,"Bread",-1)),Is=st(()=>a("h1",null,"Cake",-1)),Ls={__name:"TransactionPage",setup(o){const _=C("bread");return(v,b)=>(x(),R(M,null,[a("div",Bs,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":b[0]||(b[0]=m=>_.value=m),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(oe,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(oe,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(oe,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(oe,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(oe,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":b[1]||(b[1]=m=>_.value=m),animated:""},{default:t(()=>[e(se,{name:"bread"},{default:t(()=>[e(T,null,{default:t(()=>[Fs]),_:1})]),_:1}),e(se,{name:"selecta"},{default:t(()=>[e(Zn)]),_:1}),e(se,{name:"softdrinks"},{default:t(()=>[e(jo)]),_:1}),e(se,{name:"cake"},{default:t(()=>[e(T,null,{default:t(()=>[Is]),_:1})]),_:1}),e(se,{name:"other"},{default:t(()=>[e(Us)]),_:1})]),_:1},8,["modelValue"])],64))}};var zs=K(Ls,[["__scopeId","data-v-0a732ed6"]]);const Ae=o=>(W("data-v-f0d86c36"),o=o(),X(),o),Ms=Ae(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),Hs={class:"q-mb-lg"},Os={key:0,class:"custom-list z-top"},js={class:"q-mb-sm"},Qs=Ae(()=>a("div",null,"Recipe Name",-1)),Es={class:"q-mb-lg"},Ys=Ae(()=>a("div",null,"Category",-1)),Ks=Ae(()=>a("div",null,"Breads",-1)),Gs={class:"q-mt-md q-gutter-y-sm"},Js=Ae(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),Ws={class:"q-mt-xl q-gutter-y-sm"},Xs={class:"row justify-between"},Zs=Ae(()=>a("div",{align:"center"},"Ingredients",-1)),er=Ae(()=>a("div",{align:"center"},"Quantity",-1)),tr=["onKeyup"],ar={align:"right"},lr={__name:"RecipeCreate",setup(o){const _=pe(),v=_.params.branch_id,b=_t(),m=U(()=>b.recipes),u=je(),w=tt(),s=je(),d=U(()=>u.branchRecipes),c=C(!1),n=()=>{c.value=!0},r=()=>{clearForm(),c.value=!1},l=z=>z?z.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase()).join(" "):"",i=C(""),$=async()=>{b.searchRecipe(i.value)},p=U(()=>f.target!==0),y=z=>{f.recipe_id=z.id,f.recipe_name=z.name,f.category=z.category,i.value=""},f=He({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:_.params.branch_id}),D=C(!1),V=C(null),I=C([]),g=C(I.value),N=C([]),q=C([]),F=He({name:"",quantity:""}),A=C(q.value);(async()=>{await w.fetchProductsByCategory("Bread"),D.value=!1,I.value=w.breads.map(z=>({label:z.name,value:z.id}))})(),(async()=>{const z="Ingredients";await s.fetchBranchRawMaterials(z,v),D.value=!1,q.value=s.ingredients.map(H=>({label:H.raw_material_name,value:H.raw_material_id,unit:H.ingredient_unit}))})();const L=()=>{F.name="",F.quantity=""},Q=(z,H)=>{z.length>2&&(I.value.includes(z)||H(z,"add-unique"))},de=(z,H)=>{H(()=>{if(z==="")g.value=I.value;else{const be=z.toLowerCase();g.value=I.value.filter(G=>G.label.toLowerCase().indexOf(be)>-1)}})},ye=(z,H)=>{H(()=>{if(z==="")A.value=q.value;else{const be=z.toLowerCase();A.value=q.value.filter(G=>G.label.toLowerCase().indexOf(be)>-1)}})},Re=()=>{const z=N.value;function H(ke,Te){return ke.find(Me=>Me.ingredients_id==Te)}const be=F.name.value;H(z,be)?ge.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(N.value=[...z,{ingredients_id:F.name.value,label:F.name.label,quantity:F.quantity,unit:F.name.unit}],L())},ue=z=>{N.value.splice(z,1)};Qe(()=>F.name,z=>{z&&z.unit?F.unit=z.unit:F.unit=""});const ve=()=>{f.recipe_id="",f.target="",V.value=null,N.value=[],F.name="",F.quantity=""},$e=async()=>{const z={recipe_id:f.recipe_id,target:f.target,status:"active",branch_id:f.branches_id,breads:V.value.map(H=>({bread_id:H.value})),ingredients:N.value.map(H=>({ingredient_id:H.ingredients_id,quantity:H.quantity}))};console.log("branchRecipe",z),await u.saveBranchRecipe(z),d.value=await u.fetchBranchRecipes(v),ve(),c.value=!1};return(z,H)=>(x(),R(M,null,[e(S,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:n}),e(Y,{modelValue:c.value,"onUpdate:modelValue":H[7]||(H[7]=be=>c.value=be)},{default:t(()=>[e(T,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Ms,e(Ve),ae(e(S,{icon:"close",flat:"",dense:"",round:""},null,512),[[le]])]),_:1}),e(k,null,{default:t(()=>{var be;return[a("div",Hs,[e(J,{modelValue:i.value,"onUpdate:modelValue":[H[0]||(H[0]=G=>i.value=G),$],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(ee,{name:"search"})])]),default:t(()=>[i.value?(x(),R("div",Os,[e(T,null,{default:t(()=>[e(Be,{separator:""},{default:t(()=>{var G;return[(G=m.value)!=null&&G.length?(x(!0),R(M,{key:1},me(m.value,ke=>(x(),B(we,{onClick:Te=>y(ke),key:ke.id,clickable:""},{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,null,{default:t(()=>[P(h(l(ke.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),B(we,{key:0},{default:t(()=>[P(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",js,[Qs,e(J,{modelValue:f.recipe_name,"onUpdate:modelValue":H[1]||(H[1]=G=>f.recipe_name=G),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",Es,[Ys,e(J,{modelValue:f.category,"onUpdate:modelValue":H[2]||(H[2]=G=>f.category=G),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(J,{modelValue:f.target,"onUpdate:modelValue":H[3]||(H[3]=G=>f.target=G),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),a("div",null,[Ks,e(Ke,{modelValue:V.value,"onUpdate:modelValue":H[4]||(H[4]=G=>V.value=G),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:g.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:Q,onFilter:de,rules:[G=>G&&G.length>0||"Bread is required"]},{"no-option":t(()=>[e(we,null,{default:t(()=>[e(ie,{class:"text-grey"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",Gs,[Js,a("div",null,[e(Be,{dense:"",separator:"",class:"box"},{default:t(()=>[(x(!0),R(M,null,me(N.value,(G,ke)=>(x(),B(we,{key:ke},{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,null,{default:t(()=>[P(h(G.label),1)]),_:2},1024)]),_:2},1024),e(ie,null,{default:t(()=>[P(h(G.quantity)+" "+h(G.unit),1)]),_:2},1024),e(ie,{side:""},{default:t(()=>[e(S,{onClick:Te=>ue(ke),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",Ws,[a("div",Xs,[a("div",null,[Zs,e(Ke,{modelValue:F.name,"onUpdate:modelValue":H[5]||(H[5]=G=>F.name=G),debounce:"3000",outlined:"","chips-color":"primary",options:A.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:ye,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(we,null,{default:t(()=>[e(ie,{class:"text-grey"},{default:t(()=>[P(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[er,e(J,{modelValue:F.quantity,"onUpdate:modelValue":H[6]||(H[6]=G=>F.quantity=G),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((be=F==null?void 0:F.name)==null?void 0:be.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Ne(ct(Re,["prevent"]),["enter"])},[a("div",ar,[e(S,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Re})])],40,tr)])]}),_:1}),e(Se,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(S,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(S,{class:"glossy",color:"teal",label:"Create",onClick:$e,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var nr=K(lr,[["__scopeId","data-v-f0d86c36"]]);const rt=o=>(W("data-v-33664d62"),o=o(),X(),o),or=rt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),sr=rt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),rr={__name:"RecipeDelete",props:["delete"],setup(o){const _=je(),v=o,b=C(!1),m=()=>{b.value=!0},u=async()=>{await _.deleteRecipe(v.delete.row.id),b.value=!1};return(w,s)=>(x(),R(M,null,[e(S,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(Z,{class:"bg-negative",delay:200},{default:t(()=>[P("Delete")]),_:1})]),_:1}),e(Y,{modelValue:b.value,"onUpdate:modelValue":s[0]||(s[0]=d=>b.value=d),persistent:""},{default:t(()=>[e(T,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(k,{class:"q-pt-none q-pb-sm"},{default:t(()=>[or,sr]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Se,{align:"right",class:"q-pt-none"},{default:t(()=>[ae(e(S,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[le]]),e(S,{dense:"",label:"Delete",color:"negative",onClick:u,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ir=K(rr,[["__scopeId","data-v-33664d62"]]);const dr=o=>(W("data-v-7a561dd0"),o=o(),X(),o),cr={class:"text-h6 text-white"},ur=dr(()=>a("div",{class:"text-h6",align:"center"},"Bread List",-1)),mr={class:"row",align:"center"},pr={__name:"RecipeBreadGroups",props:["breadGroups"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe();console.log("breadGroups",o.breadGroups);const w=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"";return(s,d)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(T,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",cr,h(w(o.breadGroups.name)),1),e(Ve),a("div",null,[ae(e(S,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[le]])])]),_:1}),e(k,null,{default:t(()=>[ur]),_:1}),e(k,null,{default:t(()=>[(x(!0),R(M,null,me(o.breadGroups.bread_groups,(c,n)=>(x(),R("div",{key:n},[a("div",mr,h(c),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var _r=K(pr,[["__scopeId","data-v-7a561dd0"]]);const fr=o=>(W("data-v-435e3b8f"),o=o(),X(),o),gr={class:"text-h6 text-white"},vr=fr(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),hr={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:b,onDialogCancel:m}=xe();console.log("ingredientGroups",o.ingredientGroups);const w=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",s=d=>{const c=Number(d.quantity)||0,n=d.unit||"";return c>1e3?`${parseFloat((c/1e3).toFixed(3))} kg`:c>1?`${parseFloat(c.toFixed(3))} ${n}`:`${parseFloat(c.toFixed(3))} ${n}`};return(d,c)=>(x(),B(Y,{ref_key:"dialogRef",ref:_,onHide:O(v),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(T,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",gr,h(w(o.ingredientGroups.name)),1),e(Ve),a("div",null,[ae(e(S,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[le]])])]),_:1}),e(k,null,{default:t(()=>[vr]),_:1}),e(k,null,{default:t(()=>[e(Be,{dense:"",separator:"",class:"box"},{default:t(()=>[e(we,null,{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,{class:"text-overline"},{default:t(()=>[P("Raw Materials Name")]),_:1})]),_:1}),e(ie,null,{default:t(()=>[e(_e,{class:"text-overline"},{default:t(()=>[P("Code")]),_:1})]),_:1}),e(ie,{side:""},{default:t(()=>[e(_e,{class:"text-overline"},{default:t(()=>[P("Quantity")]),_:1})]),_:1})]),_:1}),(x(!0),R(M,null,me(o.ingredientGroups.ingredient_groups,(n,r)=>(x(),B(we,{key:r},{default:t(()=>[e(ie,null,{default:t(()=>[e(_e,{class:"text-caption"},{default:t(()=>[P(h(n.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(ie,null,{default:t(()=>[e(_e,{class:"text-caption"},{default:t(()=>[P(h(n.code),1)]),_:2},1024)]),_:2},1024),e(ie,{side:""},{default:t(()=>[e(_e,{class:"text-caption"},{default:t(()=>[P(h(s(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var yr=K(hr,[["__scopeId","data-v-435e3b8f"]]);const br=o=>(W("data-v-89832402"),o=o(),X(),o),wr={class:"row justify-between"},xr={class:"q-my-sm"},$r={key:0,class:"spinner-wrapper"},kr={key:1},Cr={key:0,class:"data-error"},Rr=br(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Pr={class:"row justify-center q-gutter-x-md"},Sr={__name:"RecipeTable",setup(o){const v=pe().params.branch_id,b=je(),m=C(""),u=C(!0),w=C([]),s=C(!1),d=C({rowsPerPage:0}),c=["inactive","active"],n=U(()=>b.branchRecipes);console.log("branch recipe",n.value);const r=U(()=>m.value?n.value.filter(q=>q.name.toLowerCase().includes(m.value.toLowerCase())):n.value);he(async()=>{v&&await l(v)});const l=async q=>{try{u.value=!0;const F=await b.fetchBranchRecipes(q);n.value=F,console.log("branchRecipeRows",n.value),n.value.length||(s.value=!0),console.log("Branch recipe",n.value)}catch(F){console.log("Error fetching recipe",F)}finally{u.value=!1}},i=q=>{const F=Number(q)||0;return parseFloat(F.toFixed(3)).toString()},$=q=>!q&&q!==0?"Set Target":typeof q=="number"||!isNaN(q)?(q=parseFloat(q),q%1===0?q:parseFloat(q.toFixed(1))):q;async function p(q,F){try{const A=await Pe.put("/api/update-target/"+q.id,{target:parseFloat(F)});if(console.log("response",A),A.status==200){const E=w.value.findIndex(fe=>fe.id==q.id);w.value[E]=F}ge.create({type:"positive",message:"Recipe target edited successfully"})}catch(A){console.error("Error updating recipe target:",A),ge.create({type:"negative",message:"Failed to edit recipe target"})}}async function y(q,F){try{if((await Pe.put("/api/branch-update-status/"+q.id,{status:F})).status==200){const E=w.value.findIndex(fe=>fe.id==q.id);w.value[E]=F}ge.create({type:"positive",message:"Recipe status change successfully"})}catch(A){console.error("Error updating recipe status:",A),ge.create({type:"negative",message:"Failed to change recipe status"})}}const f=q=>q?q.split(" ").map(F=>F.charAt(0).toUpperCase()+F.slice(1).toLowerCase()).join(" "):"",D=[{name:"name",label:"Recipe name",align:"center",field:q=>q.name},{name:"category",label:"Category",align:"center",field:q=>q.recipe},{name:"target",label:"Target",align:"center",field:q=>$(q.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],V=Ce(),I=q=>{console.log("Bread Groups:",q),V.dialog({component:_r,componentProps:{breadGroups:q}})},g=q=>{console.log("Ingredients Groups:",q),V.dialog({component:yr,componentProps:{ingredientGroups:q}})},N=q=>{switch(q){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(q,F)=>(x(),R(M,null,[a("div",wr,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":F[0]||(F[0]=A=>m.value=A),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),a("div",xr,[e(nr)])]),u.value?(x(),R("div",$r,[e(Ee,{size:"50px",color:"primary"})])):(x(),R("div",kr,[r.value.length===0?(x(),R("div",Cr,[e(ee,{name:"warning",color:"warning",size:"4em"}),Rr])):(x(),B(ne,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:D,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":F[1]||(F[1]=A=>d.value=A),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(A=>[e(j,{props:A},{default:t(()=>[a("span",null,h(f(A.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(A=>[e(j,{props:A},{default:t(()=>[a("span",null,h(f(A.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(A=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[P(h(i(A.row.target))+" ",1),e(Z,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Edit Target")]),_:1})]),e(Ue,{"onUpdate:modelValue":[E=>p(A.row,E),E=>A.row.target=E],modelValue:A.row.target,"auto-save":""},{default:t(E=>[e(J,{modelValue:E.value,"onUpdate:modelValue":fe=>E.value=fe,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:Ne(E.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(A=>[e(j,{props:A},{default:t(()=>[e(te,{outline:"",color:N(A.row.status)},{default:t(()=>[P(h(f(A.row.status))+" ",1),e(Z,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[P("Change Status")]),_:1})]),_:2},1032,["color"]),e(Ue,{"onUpdate:modelValue":[E=>y(A.row,E),E=>A.row.status=E],modelValue:A.row.status,"auto-save":""},{default:t(E=>[a("span",null,h(A.row.name),1),e(Ke,{modelValue:E.value,"onUpdate:modelValue":fe=>E.value=fe,dense:"",label:"status",autofocus:"",options:c,counter:"",mask:"###",onKeyup:Ne(E.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(A=>[e(j,{props:A},{default:t(()=>[e(S,{"no-caps":"",onClick:E=>I(A.row),label:`${A.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(A=>[e(j,{props:A},{default:t(()=>[e(S,{"no-caps":"",onClick:E=>g(A.row),label:`${A.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(A=>[e(j,{props:A},{default:t(()=>[a("div",Pr,[e(ir,{delete:A},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Vr=K(Sr,[["__scopeId","data-v-89832402"]]);const Dr={__name:"RecipePage",setup(o){return(_,v)=>(x(),R("div",null,[e(Vr)]))}};const qr={class:"elegant-container q-gutter-md"},Nr={class:"text-h6 row justify-between"},Ar={class:"q-gutter-sm"},Tr={class:"tab-container"},Ur={__name:"BranchIdPage",setup(o){const _=pe(),v=C(""),b=ut(),m=async c=>(await Pe.get(`/api/branches/${c}`)).data,u=async()=>{const c=_.params.branch_id,n=await m(c);n&&n.name?v.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};he(()=>{u()});const w=c=>c?c.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",s=C("products"),d=()=>{et.show(),b.push("/admin/branches").finally(()=>{et.hide()})};return(c,n)=>(x(),B(mt,{padding:""},{default:t(()=>[a("div",qr,[a("div",Nr,[a("div",null,[e(S,{outline:"",flat:"",icon:"arrow_back",onClick:d}),e(Ve)]),a("div",null,[e(ee,{name:"fa-solid fa-store",color:"red-6"}),P(" "+h(w(v.value)),1)])]),a("div",Ar,[a("div",Tr,[e(Fe,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=r=>s.value=r),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(oe,{name:"products",label:"Products"}),e(oe,{name:"rawMaterials",label:"Raw Materials"}),e(oe,{name:"recipe",label:"Recipe"}),e(oe,{name:"production",label:"Production"}),e(oe,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(T,{class:"q-mt-sm"},{default:t(()=>[e(Ie,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=r=>s.value=r),animated:""},{default:t(()=>[e(se,{name:"products"},{default:t(()=>[e(zt)]),_:1}),e(se,{name:"rawMaterials"},{default:t(()=>[e(ua)]),_:1}),e(se,{name:"recipe"},{default:t(()=>[e(Dr)]),_:1}),e(se,{name:"production"},{default:t(()=>[e(dn)]),_:1}),e(se,{name:"transaction"},{default:t(()=>[e(zs)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var hi=K(Ur,[["__scopeId","data-v-eb7c826e"]]);export{hi as default};
