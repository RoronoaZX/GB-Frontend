import{d as m,r as i,t as f,N as p}from"./index.86a43405.js";import{api as s}from"./axios.c0d0638f.js";const b=m("stock-delivery",()=>{const v=i(null),n=f({data:[],pagination:{total:0,per_page:5,current_page:1,last_page:1,from:0,to:0}}),g=i([]),d=i({data:[],pagination:{total:0,per_page:3,current_page:1,last_page:1,from:0,to:0}}),y=i({data:[],pagination:{total:0,per_page:3,current_page:1,last_page:1,from:0,to:0}});return{deliveryStock:v,deliveryStocks:n,loading:!1,error:null,pendingStocks:g,confirmStocks:d,declinedStocks:y,createDeliveryStock:async o=>{console.log("stock",o);try{const e=await s.post("/api/raw-materials-delivery",o);return console.log("response",e.data),p.create({type:"positive",message:"Stocks Delivery Created Successfully",timeout:3e3}),e.data}catch(e){throw console.log("error",e),p.create({type:"negative",message:"Failed to Create Stocks Delivery",timeout:3e3}),e}},fetchDeliveryStocks:async(o=1,e=5,r="")=>{try{const t=await s.get("/api/raw-materials-delivery",{params:{page:o,per_page:e,search:r}});n.data=t.data,n.pagination=t.data.pagination,console.log("response",t.data),console.log("  deliveryStocks.data",n.data)}catch(t){console.log("error",t)}},fetchDeliveryStocksBranch:async(o,e=1,r=5,t="")=>{console.log("branchId in store: ",o);try{const a=await s.get(`/api/raw-materials-delivery-branch/${o}`,{params:{page:e,per_page:r,search:t}});n.data=a.data,n.pagination=a.data.pagination,console.log("responsesss",a.data),console.log("  deliveryStocks.data",n.data)}catch(a){console.log(a)}},fetchPendingDeliveryReports:async(o,e,r)=>{console.log("warehouseIdsss",o),console.log("categoryss",e),console.log("to_designationss",r);try{const t=await s.get(`/api/raw-materials-delivery-pending/${o}`,{params:{status:e,to_designation:r}});console.log("pendingsss",t.data),g.value=t.data}catch(t){console.log("error",t)}},declineDeliveryStocks:async o=>{console.log("data in store",o);try{const e=await s.post("/api/raw-materials-delivery-declined",o);return console.log("responsessss",e),e}catch(e){console.log("error",e),p.create({type:"negative",message:"Failed to Decline the Stocks Delivery",timeout:3e3})}},confirmDeliveryStocks:async o=>{console.log("data in storesss",o);try{const e=await s.post("/api/raw-materials-delivery-confirmed",o);return console.log("response",e),e}catch(e){console.log("error",e),p.create({type:"negative",message:"Failed to Confirm the Stocks Delivery",timeout:3e3})}},fetchDeclinedDeliveryReports:async(o,e,r,t=1,a=3,l="")=>{console.log("warehouseId",o),console.log("category",e),console.log("to_designation",r),console.log("page",t),console.log("per_page",a),console.log("search",l);try{const c=await s.get(`/api/raw-materials-delivery-declined/${o}`,{params:{status:e,to_designation:r,page:t,per_page:a,search:l}});console.log("declinedssss",c.data),y.value=c.data}catch(c){console.log(c)}},fetchConfirmedDeliveryReports:async(o,e,r,t=1,a=3,l="")=>{console.log("fetchConfirmedDeliveryReportswarehouseId",o),console.log("fetchConfirmedDeliveryReportsstatus",e),console.log("fetchConfirmedDeliveryReportsto_designation",r),console.log("fetchConfirmedDeliveryReportspage",t),console.log("fetchConfirmedDeliveryReportsper_page",a),console.log("fetchConfirmedDeliveryReportssearch",l);try{const c=await s.get(`/api/raw-materials-delivery-confirmed/${o}`,{params:{status:e,to_designation:r,page:t,per_page:a,search:l}});console.log("confirm",c.data),d.value=c.data}catch(c){console.log("error",c)}},updateDeliveryStocks:async o=>{console.log("data in store",o);try{const e=await s.put("/api/editDeliveryStocks",o);return console.log("response",e),e}catch(e){console.log("error",e)}},updateDeliveryDate:async(o,e)=>{try{return console.log("Updating delivery date:",o,e),(await s.put(`/api/update-delivery-date/${o}`,{created_at:e})).data}catch(r){console.log("Error updating delivery date:",r)}}}});export{b as u};
