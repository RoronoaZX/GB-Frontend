import{d as D,r as i,N as o}from"./index.4dee972f.js";import{api as s}from"./axios.b9b62565.js";const H=D("dtrs",()=>{const d=i(null),r=i([]),n=i([]),p=i([]),u=i({}),T=e=>{console.log("Setting user in DTR store:",e.data),u.value=e.data},l=async(e,t,a)=>{try{const c=await s.get("/api/dtr",{params:{page:e,per_page:t,search:a}});return c&&c.data?(r.value=c.data,c.data):(console.warn("No data returned from API."),r.value=[],[])}catch(c){return console.error("Error fetching DTR data:",c),r.value=[],[]}};return{dtr:d,dtrs:r,dtrCutOffData:n,branchWithWarehouses:p,user:u,setUser:T,fetchDTR:l,fetchDTRRange:async e=>{console.log("Fetching DTR Range with data:",e);const t=await s.post("/api/dtr-data",e);console.log("DTR Range response:",t),n.value=t.data},fetchEmployeeDTRRange:async e=>{console.log("Fetching DTR Range with data:",e);const t=await s.post("/api/dtr-data",e);console.log("DTR Range response:",t),n.value=t.data},fetchDTRPayrollPerCutOff:async e=>{console.log("fetchDTRPayrollPerCutOff",e);try{const t=await s.get(`/api/fetch-drt-payroll-per-cut-off/${e}`);n.value=t.data}catch(t){console.log(t)}},saveEmployeeDtr:async e=>{console.log("Saving employee DTR with data:",e);try{const t=await s.post("/api/saveEmployeeDtr",e);return o.create({type:"positive",message:"DTR Save"}),t.data}catch(t){console.log("Error saving employee DTR:",t),o.create({type:"negative",message:"Failed to save DTR"})}},saveOvertime:async e=>{const t=await s.post("/api/saveOvertime",e);r.value=t.data,l(),o.create({type:"positive",message:"Over Time Save"})},searchDTR:async e=>{try{console.log("Searching for DTR with keyword:",e);const t=await s.post(`/api/search-drt?keyword=${e}`);console.log("DTR response:",t),r.value=t.data}catch(t){console.error("Error searching DTR:",t)}},approveOvertime:async e=>{console.log("Approving overtime with data:",e);try{const t=await s.post("/api/approveOvertime",e);return o.create({type:"positive",message:"Over Time Approved"}),t.data}catch(t){console.error("Error approving overtime:",t)}},declineOvertime:async e=>{const t=await s.post("/api/declineOvertime",e);return o.create({type:"negative",message:"Over Time Declined"}),t.data},updateDtrScheduleIn:async e=>{console.log("updateDtrScheduleIn in store:",e);const t=e.id;try{const a=await s.put(`/api/update-dtr-schedule-in/${t}`,e);o.create({message:"Scheduled in updated successfully",color:"positive",position:"top",timeout:2e3})}catch(a){console.log("error",a),o.create({message:"Failed to update schedule in",color:"negative",position:"top",timeout:2e3})}},updateDtrSheduleOut:async e=>{console.log("updateDtrSheduleOut in store",e);const t=e.id;try{const a=await s.put(`/api/update-dtr-schedule-out/${t}`,e);o.create({message:"Scheduled out updated successfully",color:"positive",position:"top",timeout:2e3})}catch(a){console.log(a),o.create({message:"Schedules out updated successfully",color:"positive",position:"top",timeout:2e3})}},getBranchWithWarehouses:async()=>{try{const e=await s.get("/api/getBranchWithWarehouses");console.log("getBranchWithWarehouses response",e),p.value=e.data}catch(e){console.log("getBranchWithWarehouses error",e)}},updateDTRWhereIN:async e=>{console.log("updateDTRWhereIN in store:",e);try{const t=await s.put("/api/updateDTRWhereIN",e);o.create({message:"DTR Where IN updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Where IN",color:"negative",position:"top",timeout:2e3})}},updateDTRWhereOUT:async e=>{console.log("updateDTRWhereOUT in store:",e);try{const t=await s.put("/api/updateDTRWhereOUT",e);o.create({message:"DTR Where OUT updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Where OUT",color:"negative",position:"top",timeout:2e3})}},updateDTRShiftStatus:async e=>{console.log("updateDTRShiftStatus in store:",e);try{const t=await s.put("/api/updateDTRShiftStatus",e);o.create({message:"DTR Shift Status updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Shift Status",color:"negative",position:"top",timeout:2e3})}},updateDTRDateIN:async e=>{console.log("updateDTRDateIN in store:",e);try{const t=await s.put("/api/updateDTRDateIN",e);o.create({message:"DTR Date IN updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Date IN",color:"negative",position:"top",timeout:2e3})}},updateDTRDateOUT:async e=>{console.log("updateDTRDateOUT in store:",e);try{const t=await s.put("/api/updateDTROUT",e);o.create({message:"DTR Date OUT updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Date OUT",color:"negative",position:"top",timeout:2e3})}},updateDTRTimeIN:async e=>{console.log("updateDTRTimeIN in store",e);try{const t=await s.put("/api/updateDTRTimeIN",e);o.create({message:"DTR Time IN updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Time IN",color:"negative",position:"top",timeout:2e3})}},updateDTRTimeOUT:async e=>{console.log("updateDTRTimeOUT in store",e);try{const t=await s.put("/api/updateDTRTimeOUT",e);o.create({message:"DTR Time OUT updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Time OUT",color:"negative",position:"top",timeout:2e3})}},updateDTRLunchBreakStart:async e=>{console.log("updateDTRLunchBreakStart in store:",e);try{const t=await s.put("/api/updateDTRLunchBreakStart",e);o.create({message:"DTR Lunch Break Start updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Lunch Break Start",color:"negative",position:"top",timeout:2e3})}},updateDTRLunchBreakEnd:async e=>{console.log("updateDTRLunchBreakEnd in store:",e);try{const t=await s.put("/api/updateDTRLunchBreakEnd",e);o.create({message:"DTR Lunch Break End updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Lunch Break End",color:"negative",position:"top",timeout:2e3})}},updateDTRBreakStart:async e=>{console.log("updateDTRBreakStart in store:",e);try{const t=await s.put("/api/updateDTRBreakStart",e);o.create({message:"DTR Break Start updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Break Start",color:"negative",position:"top",timeout:2e3})}},updatedDTRBreakEnd:async e=>{console.log("updateDTRBreakEnd in store:",e);try{const t=await s.put("/api/updateDTRBreakEnd",e);o.create({message:"DTR Break End updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Break End",color:"negative",position:"top",timeout:2e3})}},updatedDTROvertimeStart:async e=>{console.log("updateDTROvertimeStart in store:",e);try{const t=await s.put("/api/updatedDTROvertimeStart",e);o.create({message:"DTR Overtime Start updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Overtime Start",color:"negative",position:"top",timeout:2e3})}},updatedDTROvertimeEnd:async e=>{console.log("updateDTROvertimeEnd in store:",e);try{const t=await s.put("/api/updatedDTROvertimeEnd",e);o.create({message:"DTR Overtime End updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Overtime End",color:"negative",position:"top",timeout:2e3})}},updateDTROvertimeReasons:async e=>{console.log("updateDTROvertimeReason in store:",e);try{const t=await s.put("/api/updateDTROvertimeReasons",e);o.create({message:"DTR Overtime Reason updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Overtime Reason",color:"negative",position:"top",timeout:2e3})}},updateDTROvertimeDeclinedReasons:async e=>{console.log("updateDTROvertimeDeclinedReason in store:",e);try{const t=await s.put("/api/updatedDTROvertimeDeclineReasons",e);o.create({message:"DTR Overtime Declined Reason updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t)}},updateDTROTStatus:async e=>{console.log("updateDTRStatus in store:",e);try{const t=await s.put("/api/updateDTROTStatus",e);o.create({message:"DTR Status updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t)}},updateDTROTApprovedBy:async e=>{console.log("updateDTRApprovedBy in store:",e);try{const t=await s.put("/api/updateDTROTApprovedBy",e);o.create({message:"DTR Approved By updated successfully",color:"positive",position:"top",timeout:2e3})}catch(t){console.log("error",t),o.create({message:"Failed to update DTR Approved By",color:"negative",position:"top",timeout:2e3})}}}});export{H as u};
