import{Q as C}from"./QBadge.d0f572e0.js";import{r as y,t as N,o as b,a3 as w,J as r,f as e,M as p,w as t,Q as I,I as h,ae as x,a1 as B,K as z,aJ as T,a2 as U,a4 as S,O as k,R as Q,a0 as V,c as E,z as K,u as G,L as j,e as A,$ as F}from"./index.49895cb4.js";import{Q as H}from"./QPage.7e05433d.js";import{Q as L}from"./QSpace.6e9d3b52.js";import{Q as O}from"./QSelect.200a9344.js";import{C as q}from"./ClosePopup.cc1ee558.js";import{u as D}from"./product.74749e02.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as W}from"./QSpinnerDots.bfaa4d98.js";import{Q as $,a as X}from"./QTable.eec804bb.js";import{Q as M}from"./QTooltip.c1a914fe.js";import"./QItemLabel.ef60120e.js";import"./QChip.4089ddc0.js";import"./QItem.f1776adc.js";import"./QMenu.2efbc51f.js";import"./position-engine.2f5e6e87.js";import"./selection.3a3afd3f.js";import"./use-virtual-scroll.b5856119.js";import"./rtl.276c3f1b.js";import"./axios.926ccdcd.js";import"./QVirtualScroll.1f86f64f.js";import"./QList.ae2e8337.js";const Y=l=>(k("data-v-032003e3"),l=l(),Q(),l),Z=Y(()=>r("div",{class:"text-h5 q-mr-md"},"\u{1F956} Add Product",-1)),ee={class:"q-mt-lg q-animated q-animate-bounce"},te={class:"q-mt-md q-animated q-animate-bounce"},ae={__name:"ProductCreate",setup(l){const g=D(),c=["Bread","Selecta","Softdrinks","Others"],n=y(!1),u=()=>{n.value=!0},o=N({name:"",category:null}),v=async()=>{try{await g.createProducts({...o}),n.value=!1,console.log("Products Data",o),m()}catch(_){console.log("Error saving product:",_)}},m=()=>{o.name="",o.category=""};return(_,s)=>(b(),w(S,null,[r("div",null,[e(p,{class:"q-pa-sm btn-add",outline:"",dense:"",elevated:"",icon:"add_circle",label:"Add Product",onClick:u,style:{"background-color":"#ef4444"},size:"md",color:"dark"})]),r("div",null,[e(U,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=a=>n.value=a),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:t(()=>[e(I,{class:"my-card q-pa-none",style:{width:"420px","border-radius":"16px","box-shadow":"0 12px 24px rgba(0, 0, 0, 0.2)"}},{default:t(()=>[e(h,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[Z,e(L),x(e(p,{icon:"close",flat:"",dense:"",round:""},null,512),[[q]])]),_:1}),e(B,{class:"separator-gradient"}),e(h,{class:"q-px-xl q-pt-none q-pb-lg"},{default:t(()=>[r("div",ee,[e(z,{class:"text-capitalize",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),outlined:"",dense:"",label:"Product Name",rules:[a=>a&&a.length>0||"Product name is reuired"]},null,8,["modelValue","rules"])]),r("div",te,[e(O,{modelValue:o.category,"onUpdate:modelValue":s[1]||(s[1]=a=>o.category=a),"input-debounce":"0",options:c,"stack-label":"",outlined:"",dense:"",label:"Category",rules:[a=>a&&a.length>0||"Category is required"],"hide-dropdown-icon":"",behavior:"menu"},null,8,["modelValue","rules"])])]),_:1}),e(T,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[x(e(p,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[q]]),e(p,{class:"glossy",color:"teal",label:"Create",onClick:v})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var oe=P(ae,[["__scopeId","data-v-032003e3"]]);const le=l=>(k("data-v-6d1446c5"),l=l(),Q(),l),se=le(()=>r("div",{class:"text-h5 q-mr-md"},"\u{1F956} Edit Product",-1)),re={class:"q-mt-lg q-animated q-animate-bounce"},ne={class:"q-mt-md q-animated q-animate-bounce"},de={__name:"ProductEdit",props:["edit"],setup(l){const g=D(),c=l,n=["Bread","Selecta","Softdrinks","Others"],u=y(!1),o=N({name:"",category:null}),v=()=>{Object.assign(o,c.edit.row),u.value=!0},m=async()=>{try{await g.updateProducts(c.edit.row.id,o),u.value=!1}catch(_){console.log("Failed to update ingredients:",_)}};return(_,s)=>(b(),w(S,null,[e(p,{onClick:v,color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(M,{class:"bg-positive",delay:200},{default:t(()=>[V("Edit")]),_:1})]),_:1}),e(U,{modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=a=>u.value=a),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:t(()=>[e(I,{class:"my-card q-pa-none",style:{width:"420px","border-radius":"16px","box-shadow":"0 12px 24px rgba(0, 0, 0, 0.2)"}},{default:t(()=>[e(h,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[se,e(L),x(e(p,{icon:"close",flat:"",dense:"",round:""},null,512),[[q]])]),_:1}),e(B,{class:"separator-gradient"}),e(h,{class:"q-px-xl q-pt-none q-pb-lg"},{default:t(()=>[r("div",re,[e(z,{class:"text-capitalize",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),outlined:"",dense:"",label:"Product name",rules:[a=>a&&a.length>0]},null,8,["modelValue","rules"])]),r("div",ne,[e(O,{modelValue:o.category,"onUpdate:modelValue":s[1]||(s[1]=a=>o.category=a),"input-debounce":"0",options:n,"stack-label":"",outlined:"",dense:"",label:"Category",rules:[a=>a&&a.length>0],"hide-dropdown-icon":""},null,8,["modelValue","rules"])])]),_:1}),e(T,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[x(e(p,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[q]]),e(p,{class:"glossy",color:"teal",label:"Save",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ce=P(de,[["__scopeId","data-v-6d1446c5"]]);const R=l=>(k("data-v-0cb6ace8"),l=l(),Q(),l),ie=R(()=>r("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ue=R(()=>r("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),pe={__name:"ProductDelete",props:["delete"],setup(l){const g=D(),c=y(!1),n=()=>{c.value=!0},o=l.delete.row,v=async()=>{try{await g.deleteProducts(o.id)}catch(m){console.error(m.message)}c.value=!1};return(m,_)=>(b(),w(S,null,[e(p,{onClick:n,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(M,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(U,{modelValue:c.value,"onUpdate:modelValue":_[0]||(_[0]=s=>c.value=s)},{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(h,{class:"q-pt-none q-pb-sm"},{default:t(()=>[ie,ue]),_:1}),e(B,{class:"q-mb-md"}),e(T,{align:"right",class:"q-pt-none"},{default:t(()=>[x(e(p,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[q]]),e(p,{dense:"",label:"Delete",color:"negative",onClick:v,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var me=P(pe,[["__scopeId","data-v-0cb6ace8"]]);const _e=l=>(k("data-v-0bb5e8af"),l=l(),Q(),l),ge={key:0,class:"spinner-wrapper"},ve={key:1},fe={key:0,class:"data-error"},ye=_e(()=>r("div",{class:"q-ml-sm text-h6"},"No data available",-1)),be={class:"row justify-center q-gutter-x-md"},we={__name:"ProductTable",setup(l){const g=y({rowsPerPage:0}),c=D(),n=y(""),u=E(()=>c.products);y(!0);const o=y(!0),v=y(!1),m=E(()=>n.value?u.value.filter(i=>i.name.toLowerCase().includes(n.value.toLowerCase())):u.value);K(async()=>{await s()});const _=i=>i?i.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",s=async()=>{try{o.value=!0,await c.fetchProducts(),u.value.length||(v.value=!0)}catch{v.value=!0}finally{o.value=!1}};G(n,async i=>{o.value=!0,await new Promise(f=>setTimeout(f,1e3)),o.value=!1,v.value=m.value.length===0});const a=[{name:"name",label:"Product Name",align:"left",field:i=>i.name,format:i=>`${i}`},{name:"category",align:"left",label:"Category",field:"category"},{name:"action",align:"center",label:"Action",field:"action"}],J=i=>{switch(i){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}};return(i,f)=>(b(),w(S,null,[r("div",null,[e(z,{modelValue:n.value,"onUpdate:modelValue":f[0]||(f[0]=d=>n.value=d),class:"q-pb-lg q-pl-sm dynamic-width",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100"},{append:t(()=>[e(j,{name:"search"})]),_:1},8,["modelValue"])]),o.value?(b(),w("div",ge,[e(W,{size:"50px",color:"primary"})])):(b(),w("div",ve,[m.value.length===0?(b(),w("div",fe,[e(j,{name:"warning",color:"warning",size:"4em"}),ye])):(b(),A(X,{key:1,class:"table-container elegant-container sticky-header",filter:n.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"500px"},columns:a,rows:m.value,"row-key":"name",pagination:g.value,"onUpdate:pagination":f[1]||(f[1]=d=>g.value=d),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-name":t(d=>[e($,{key:"name",props:d},{default:t(()=>[V(F(_(d.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(d=>[e($,{key:"name",props:d},{default:t(()=>[e(C,{color:J(d.row.category)},{default:t(()=>[V(F(d.row.category),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":t(d=>[e($,{props:d},{default:t(()=>[r("div",be,[e(ce,{edit:d},null,8,["edit"]),e(me,{delete:d},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var he=P(we,[["__scopeId","data-v-0bb5e8af"]]);const xe={class:"text-h6"},qe={class:"q-gutter-x-sm"},Pe={__name:"ProductsPage",setup(l){return y("bread"),(g,c)=>(b(),A(H,{class:"elegant-container",flat:""},{default:t(()=>[e(h,{class:"row justify-between"},{default:t(()=>[r("div",xe,[r("div",qe,[e(C,{label:"Bread",class:"text-white",color:"brown-13"}),e(C,{label:"Selecta",class:"text-white",color:"red-6"}),e(C,{label:"Sofdrinks",class:"text-white",color:"accent"})])]),r("div",null,[e(oe)])]),_:1}),e(h,null,{default:t(()=>[r("div",null,[e(he)])]),_:1})]),_:1}))}};var Ke=P(Pe,[["__scopeId","data-v-78dca065"]]);export{Ke as default};
