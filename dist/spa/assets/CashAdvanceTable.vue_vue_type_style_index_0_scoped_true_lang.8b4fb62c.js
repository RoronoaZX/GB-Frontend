import{d,r as o,N as r}from"./index.fe067f2a.js";import{api as c}from"./axios.1553f882.js";const y=d("cash-advance",()=>{const p=o(null),t=o({data:[],total:0,per_page:7,current_page:1,last_page:1});return o(1),o(7),o(""),{cashAdvance:p,cashAdvances:t,createCashAdvance:async a=>{try{const e=await c.post("/api/cash-advance",a);return console.log("response cash advance",e.data),r.create({type:"positive",message:"Cash Advance saved"}),e.data}catch(e){throw console.log("CA error",e),r.create({type:"negative",message:"Error saving Cash Advance"}),e}},fetchCashAdvance:async(a,e,s)=>{try{const n=await c.get("/api/cash-advance",{params:{page:a,per_page:e,search:s}});console.log("ca fetch data",n.data),t.value=n.data}catch(n){console.log("===================================="),console.log(n),console.log("====================================")}},searchCashAdvance:async a=>{try{console.log("Searching for employee with keyword:",a);const e=await c.post(`/api/search-cash-advance?keyword=${a}`);console.log("CA response:",e),t.value=e.data}catch(e){console.error("Error searching CA:",e)}},updateAmount:async(a,e)=>{console.log("updateAmount cash advance",a,e);try{return await c.put("/api/update-employee-cash-advance/"+a.id,{amount:e})}catch(s){console.log(s)}},updateReason:async(a,e)=>{console.log("update reasons cash advance",a,e);try{return await c.put("/api/update-employee-cash-advance-reason/"+a.id,{reason:e})}catch(s){console.log(s)}}}});export{y as u};
