import{d as l,r as c,N as i}from"./index.e59c1f7d.js";import{api as a}from"./axios.e6019dc6.js";const h=l("benefits",()=>{const p=c(null),o=c({data:[],total:0,per_page:7,current_page:1,last_page:1});return{benefit:p,benefits:o,fetchEmployeeBenefit:async(s,e,r)=>{try{const t=await a.get("/api/employee-benefit",{params:{page:s,per_page:e,search:r}});o.value=t.data}catch(t){console.log("error fetching benefits",t)}},createEmployeeBenefit:async s=>{var e,r;try{const t=await a.post("/api/employee-benefit",s);return i.create({type:"positive",message:"Employee benefits successfully created",timeout:1e3}),t.data}catch(t){console.log(t),console.log("responce",t.response);let n="An error occurred. Please try again.";((e=t.response)==null?void 0:e.status)===409?n=t.response.data.error||"ssdd":((r=t.response)==null?void 0:r.status)===422&&(n="Invalid data. Please check the inputs."),i.create({type:"negative",message:n,timeout:5e3})}},searchBenefit:async s=>{try{console.log("Searching for employee with keyword:",s);const e=await a.post(`/api/search-benefit?keyword=${s}`);console.log("Allowance response:",e.data),o.value=e.data}catch(e){console.error("Benefits error",e)}},fetchEmployeeBenefitsDeductions:async s=>{const e=await a.get(`/api/employee-benefits-for-deduction/${s}`);o.value=e.data}}});export{h as u};
