import{e as B,n as w,g as b,h as q,L as C,ad as Z,aN as ue,k as j,i as de,f as L,bl as G,bi as ce,j as A,a7 as X,a9 as ee,m as me,x as pe,ae as ve,t as T,z as O,o as x,c as D,w as u,a as s,I as k,J as i,bm as _e,Z as te,a2 as U,bc as Y,K as $,Q as I,O as ae,R as se,$ as E,a3 as N,a4 as F,_ as P,M as R,a1 as fe,H as he,a0 as z,aI as ge,ba as be,N as ye}from"./index.c0815fe7.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as qe}from"./QSlideTransition.bd56b0c9.js";import{u as xe,d as we,a as Se,b as $e,c as Ce}from"./use-panel.7a1eb7d5.js";import{C as Ue}from"./ClosePopup.4b193f5f.js";import{Q as W,a as ke}from"./QItem.8ed247ee.js";import{Q as Ve}from"./QList.f58bc619.js";import"./branch.38d8695c.js";import{u as Pe}from"./employee.fae363d3.js";import{a as le}from"./QSelect.05275e45.js";import{u as re}from"./user.9ea77c2b.js";import{Q as De}from"./QPopupEdit.05604328.js";import{Q as Ie}from"./QPage.29418ba7.js";import{q as Qe}from"./date.4dbde211.js";import{u as Ae}from"./use-quasar.c921e601.js";import"./QPopupProxy.1cdf6ae2.js";import"./QTable.dfe2f370.js";import"./touch.9135741d.js";import"./selection.e5e21d1b.js";import"./warehouse.27456a7f.js";import"./axios.950c72e0.js";import"./QItemLabel.0cd88901.js";import"./QMenu.e92add0c.js";import"./use-virtual-scroll.3725db76.js";import"./rtl.276c3f1b.js";import"./QVirtualScroll.3d0a0f44.js";var ne=B({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:v}){const{proxy:{$q:n}}=j(),f=w(null),m=b(()=>e.stepper.modelValue===e.step.name),_=b(()=>{const d=e.step.disable;return d===!0||d===""}),p=b(()=>{const d=e.step.error;return d===!0||d===""}),l=b(()=>{const d=e.step.done;return _.value===!1&&(d===!0||d==="")}),y=b(()=>{const d=e.step.headerNav,g=d===!0||d===""||d===void 0;return _.value===!1&&e.stepper.headerNav&&g}),S=b(()=>e.step.prefix&&(m.value===!1||e.stepper.activeIcon==="none")&&(p.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),r=b(()=>{const d=e.step.icon||e.stepper.inactiveIcon;if(m.value===!0){const g=e.step.activeIcon||e.stepper.activeIcon;return g==="none"?d:g||n.iconSet.stepper.active}if(p.value===!0){const g=e.step.errorIcon||e.stepper.errorIcon;return g==="none"?d:g||n.iconSet.stepper.error}if(_.value===!1&&l.value===!0){const g=e.step.doneIcon||e.stepper.doneIcon;return g==="none"?d:g||n.iconSet.stepper.done}return d}),o=b(()=>{const d=p.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(m.value===!0){const g=e.step.activeColor||e.stepper.activeColor||e.step.color;return g!==void 0?g:d}return d!==void 0?d:_.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),a=b(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(o.value!==void 0?` text-${o.value}`:"")+(p.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(S.value===!0?"prefix":"icon"):"")+(m.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(y.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(_.value===!0?" q-stepper__tab--disabled":"")),t=b(()=>e.stepper.headerNav!==!0?!1:y.value);function c(){f.value!==null&&f.value.focus(),m.value===!1&&e.goToPanel(e.step.name)}function h(d){d.keyCode===13&&m.value===!1&&e.goToPanel(e.step.name)}return()=>{const d={class:a.value};y.value===!0&&(d.onClick=c,d.onKeyup=h,Object.assign(d,_.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:v.tabindex||0}));const g=[q("div",{class:"q-focus-helper",tabindex:-1,ref:f}),q("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[q("span",{class:"row flex-center"},[S.value===!0?e.step.prefix:q(C,{name:r.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const Q=[q("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&Q.push(q("div",{class:"q-stepper__caption"},e.step.caption)),g.push(q("div",{class:"q-stepper__label q-stepper__line relative-position"},Q))}return Z(q("div",d,g),[[ue,t.value]])}}});function oe(e){return q("div",{class:"q-stepper__step-content"},[q("div",{class:"q-stepper__step-inner"},A(e.default))])}const J={setup(e,{slots:v}){return()=>oe(v)}};var M=B({name:"QStep",props:{...xe,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:v,emit:n}){const{proxy:{$q:f}}=j(),m=de(G,L);if(m===L)return console.error("QStep needs to be a child of QStepper"),L;const{getCache:_}=we(),p=w(null),l=b(()=>m.value.modelValue===e.name),y=b(()=>f.platform.is.ios!==!0&&f.platform.is.chrome===!0||l.value!==!0||m.value.vertical!==!0?{}:{onScroll(o){const{target:a}=o;a.scrollTop>0&&(a.scrollTop=0),e.onScroll!==void 0&&n("scroll",o)}}),S=b(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function r(){const o=m.value.vertical;return o===!0&&m.value.keepAlive===!0?q(ce,m.value.keepAliveProps.value,l.value===!0?[q(m.value.needsUniqueKeepAliveWrapper.value===!0?_(S.value,()=>({...J,name:S.value})):J,{key:S.value},v.default)]:void 0):o!==!0||l.value===!0?oe(v):void 0}return()=>q("div",{ref:p,class:"q-stepper__step",role:"tabpanel",...y.value},m.value.vertical===!0?[q(ne,{stepper:m.value,step:e,goToPanel:m.value.goToPanel}),m.value.animated===!0?q(qe,r):r()]:[r()])}}),Ne=B({name:"QStepperNavigation",setup(e,{slots:v}){return()=>q("div",{class:"q-stepper__nav"},A(v.default))}});const Be=/(-\w)/g;function Re(e){const v={};for(const n in e){const f=n.replace(Be,m=>m[1].toUpperCase());v[f]=e[n]}return v}var ze=B({name:"QStepper",props:{...X,...Se,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:$e,setup(e,{slots:v}){const n=j(),f=ee(e,n.proxy.$q),{updatePanelsList:m,isValidPanelName:_,updatePanelIndex:p,getPanelContent:l,getPanels:y,panelDirectives:S,goToPanel:r,keepAliveProps:o,needsUniqueKeepAliveWrapper:a}=Ce();me(G,b(()=>({goToPanel:r,keepAliveProps:o,needsUniqueKeepAliveWrapper:a,...e})));const t=b(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(f.value===!0?" q-stepper--dark q-dark":"")),c=b(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function h(){const d=A(v.message,[]);if(e.vertical===!0){_(e.modelValue)&&p();const g=q("div",{class:"q-stepper__content"},A(v.default));return d===void 0?[g]:d.concat(g)}return[q("div",{class:c.value},y().map(g=>{const Q=Re(g.props);return q(ne,{key:Q.name,stepper:e,step:Q,goToPanel:r})})),d,ve("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>S.value)]}return()=>(m(v),q("div",{class:t.value},pe(v.navigation,h())))}});const Te=e=>(ae("data-v-94f93548"),e=e(),se(),e),Ee={class:"text-h6",align:"center"},Fe={for:"fileInput"},je=["src"],Ke={key:0,class:"overlay"},Le=Te(()=>i("div",null,"Profile",-1)),Me={class:"q-gutter-y-sm"},Oe="Profile Picture",Ye={__name:"UserStep1",props:["userData"],emits:["updateData"],setup(e){w("");const v=w(!0),n=w(!0),f=w(150),m=w(!1),_=w("https://cdn.quasar.dev/img/boy-avatar.png"),{userData:p}=e,l=T({email:"",password:"",confirmPass:""});O(()=>{Object.assign(l,p)});const y=()=>{_.value="https://cdn.quasar.dev/img/boy-avatar.png"},S=()=>{console.log("Edit image clicked")},r=o=>{const a=o.target.files[0];if(a){const t=new FileReader;t.onload=()=>{_.value=t.result},t.readAsDataURL(a)}};return(o,a)=>(x(),D(I,{flat:"",class:"q-pa-sm",style:{width:"500px","max-width":"80vw"}},{default:u(()=>[s(k,null,{default:u(()=>[i("div",Ee,[i("div",{class:"profile-picture",style:_e({width:f.value+"px",height:f.value+"px"})},[i("label",Fe,[s(te,{size:"150px",color:"grey-2"},{default:u(()=>[i("img",{src:_.value,alt:Oe,onError:y},null,40,je)]),_:1}),i("input",{type:"file",outlined:"",id:"fileInput",accept:"image/*",style:{display:"none"},onChange:r},null,32)]),m.value?(x(),U("div",Ke,[s(C,{name:"edit",onClick:S,class:"edit-icon"})])):Y("",!0)],4),Le])]),_:1}),s(k,null,{default:u(()=>[i("div",Me,[i("div",null,[s($,{"onUpdate:modelValue":[a[0]||(a[0]=t=>o.$emit("updateData",l)),a[1]||(a[1]=t=>l.email=t)],modelValue:l.email,outlined:"",dense:"",placeholder:"email","lazy-rules":"",rules:[t=>t&&t.length>0||"Email required"],type:"email",suffix:"@gmail.com"},{prepend:u(()=>[s(C,{name:"mail"})]),_:1},8,["modelValue","rules"])]),i("div",null,[s($,{modelValue:l.password,"onUpdate:modelValue":[a[3]||(a[3]=t=>l.password=t),a[4]||(a[4]=t=>o.$emit("updateData",l))],outlined:"",dense:"",placeholder:"Password",type:v.value?"password":"text","lazy-rules":"",rules:[t=>t&&t.length>0||"Password is required"]},{prepend:u(()=>[s(C,{name:"lock"})]),append:u(()=>[s(C,{name:v.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[2]||(a[2]=t=>v.value=!v.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),i("div",null,[s($,{modelValue:l.confirmPass,"onUpdate:modelValue":[a[6]||(a[6]=t=>l.confirmPass=t),a[7]||(a[7]=t=>o.$emit("updateData",l))],outlined:"",dense:"",type:n.value?"password":"text",placeholder:"Confirm password","lazy-rules":"",rules:[()=>l.password===l.confirmPass||"Passwords doesn't match"]},{prepend:u(()=>[s(C,{name:"lock"})]),append:u(()=>[s(C,{name:n.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[5]||(a[5]=t=>n.value=!n.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])])])]),_:1})]),_:1}))}};var He=K(Ye,[["__scopeId","data-v-94f93548"]]);const We={class:"q-my-md"},Je={key:0,class:"custom-list z-top"},Ze={class:"q-gutter-y-sm"},Ge={class:"q-gutter-y-sm q-mx-auto"},Xe={class:"row q-gutter-x-sm item-start"},et={class:"row q-gutter-x-md"},tt=i("div",null,"Designation",-1),at={class:"row q-gutter-x-md"},st={__name:"UserStep2",props:{userData:{type:Object,default:()=>({})}},emits:["updateData"],setup(e,{emit:v}){const n=v,{userData:f}=e,m=Pe(),_=w(""),p=b(()=>m.employees),l=async()=>{_.value.trim()&&await m.searchEmployeesWithDesignation(_.value)},y=o=>{if(!o)return"Not Applicable";const[a,t]=o.split(":"),c=new Date;return c.setHours(a,t),c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0})},S=o=>{var a,t,c,h;r.employee_id=o.id||"Not Available",r.user_first_name=o.firstname||"",r.user_middle_name=o.middlename||"",r.user_last_name=o.lastname||"",r.user_address=o.address||"No Address",r.user_birthdate=o.birthdate||"Not Provided",r.user_sex=o.sex||"Unknown",r.user_phone_number=o.phone||"No Phone",r.user_position=o.position||"Not Assigned",r.user_branch_name=((t=(a=o.branch_employee)==null?void 0:a.branch)==null?void 0:t.name)||"Not Applicable",r.user_time_shift=(c=o.branch_employee)!=null&&c.time_shift?y((h=o.branch_employee)==null?void 0:h.time_shift):"Not Applicable",_.value="",n("updateData",r)},r=T({employee_id:"",user_first_name:"",user_middle_name:"",user_last_name:"",user_address:"",user_birthdate:"",user_sex:"",user_phone_number:"",user_position:"",user_branch_name:"",user_time_shift:""});return console.log("userPersonalInfoForm:",r),O(()=>{Object.assign(r,f)}),(o,a)=>(x(),D(I,{flat:"",style:{width:"500px","max-width":"80vw"}},{default:u(()=>[i("div",We,[s($,{dense:"",rounded:"",outlined:"",placeholder:"Search employee",modelValue:_.value,"onUpdate:modelValue":[a[0]||(a[0]=t=>_.value=t),l],debounce:"500"},{append:u(()=>[s(C,{name:"search"})]),default:u(()=>[_.value?(x(),U("div",Je,[s(I,null,{default:u(()=>[s(Ve,{separator:""},{default:u(()=>{var t;return[(t=p.value)!=null&&t.length?(x(!0),U(N,{key:1},F(p.value,c=>(x(),D(W,{onClick:h=>S(c),key:c.id,clickable:""},{default:u(()=>[s(ke,null,{default:u(()=>[E(P(`${c.firstname} ${c.middlename?c.middlename.charAt(0)+".":""} ${c.lastname}`),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(x(),D(W,{key:0},{default:u(()=>[E(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):Y("",!0)]),_:1},8,["modelValue"])]),s(k,null,{default:u(()=>[i("div",Ze,[i("div",Ge,[s($,{class:"text-capitalize",modelValue:r.user_first_name,"onUpdate:modelValue":[a[1]||(a[1]=t=>r.user_first_name=t),a[2]||(a[2]=t=>o.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"First Name",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"]),s($,{class:"text-capitalize",modelValue:r.user_middle_name,"onUpdate:modelValue":[a[3]||(a[3]=t=>r.user_middle_name=t),a[4]||(a[4]=t=>o.$emit("updateData",r))],outlined:"",readonly:"",dense:"",label:"Middle Name",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"]),s($,{class:"text-capitalize",modelValue:r.user_last_name,"onUpdate:modelValue":[a[5]||(a[5]=t=>r.user_last_name=t),a[6]||(a[6]=t=>o.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Last Name",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"]),s($,{class:"text-capitalize",modelValue:r.user_address,"onUpdate:modelValue":[a[7]||(a[7]=t=>r.user_address=t),a[8]||(a[8]=t=>o.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Address",rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"])]),i("div",Xe,[i("div",null,[s($,{modelValue:r.user_birthdate,"onUpdate:modelValue":[a[9]||(a[9]=t=>r.user_birthdate=t),a[10]||(a[10]=t=>o.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Birthdate",type:"date",style:{width:"230px"},rules:[t=>t&&t.length>0||"Required"]},null,8,["modelValue","rules"])]),i("div",null,[s($,{modelValue:r.user_sex,"onUpdate:modelValue":[a[11]||(a[11]=t=>r.user_sex=t),a[12]||(a[12]=t=>o.$emit("updateData",r))],dense:"",outlined:"",readonly:"",label:"Sex",options:o.genderOptions,rules:[t=>t&&t.length>0||"Required"],style:{width:"120px"},behavior:"menu","hide-dropdown-icon":""},null,8,["modelValue","options","rules"])])]),i("div",et,[i("div",null,[s($,{modelValue:r.user_phone_number,"onUpdate:modelValue":[a[13]||(a[13]=t=>r.user_phone_number=t),a[14]||(a[14]=t=>o.$emit("updateData",r))],outlined:"",dense:"",readonly:"",label:"Phone Number",mask:"+(63) ### - ### - ####",placeholder:"(+63) ### - ### - ####",rules:[t=>t&&t.length>0||"Required"],style:{width:"300px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])]),i("div",null,[s($,{modelValue:r.user_position,"onUpdate:modelValue":[a[15]||(a[15]=t=>r.user_position=t),a[16]||(a[16]=t=>o.$emit("updateData",r))],outlined:"",dense:"",readonly:"","hide-dropdown-icon":"",label:"Position",options:o.positionOptions,rules:[t=>t&&t.length>0||"Required"],style:{width:"150px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options","rules"])])]),tt,i("div",at,[i("div",null,[s($,{modelValue:r.user_branch_name,"onUpdate:modelValue":[a[17]||(a[17]=t=>r.user_branch_name=t),a[18]||(a[18]=t=>o.$emit("updateData",r))],outlined:"",flat:"",readonly:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:o.filterBranchOptions,label:"Branch",onFilter:o.filteredBranches,style:{width:"250px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":"",behavior:"menu"},null,8,["modelValue","options","onFilter"])]),i("div",null,[s($,{outlined:"",modelValue:r.user_time_shift,"onUpdate:modelValue":[a[19]||(a[19]=t=>r.user_time_shift=t),a[20]||(a[20]=t=>o.$emit("updateData",r))],flat:"",dense:"",readonly:"",mask:"##:## AA",label:"Time Schedule",rules:o.valididateTime,hint:"Format: 01:00 AM/PM",style:{width:"200px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"])])])])]),_:1})]),_:1}))}},lt=i("div",{class:"text-h6"},"User Profile",-1),rt={class:"col-6"},nt={class:"col-6"},ot={class:"q-pa-sm"},it={__name:"UserStepFinish",props:["userData"],emits:["save"],setup(e,{emit:v}){const{userData:n}=e;console.log("user data",n);function f(_){return _.split(/[\s,]+/).map(p=>p.split(/([.-]+)/).map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join("")).join(" ")}const m=b(()=>[{label:"Username:",value:`${n.email}@gmail.com`},{label:"Full Name:",value:`${n.user_first_name.charAt(0).toUpperCase()}${n.user_first_name.slice(1)} ${n.user_middle_name.charAt(0).toUpperCase()}${n.user_middle_name.slice(1)} ${n.user_last_name.charAt(0).toUpperCase()}${n.user_last_name.slice(1)}`},{label:"Address:",value:f(n.user_address)},{label:"Birthdate:",value:n.user_birthdate.charAt(0).toUpperCase()+n.user_birthdate.slice(1)},{label:"Sex:",value:n.user_sex.charAt(0).toUpperCase()+n.user_sex.slice(1)},{label:"Position:",value:`${n.user_position.charAt(0).toUpperCase()+n.user_position.slice(1)}`},{label:"Phone Number:",value:n.user_phone_number.charAt(0).toUpperCase()+n.user_phone_number.slice(1)},{label:"Position:",value:n.user_position.charAt(0).toUpperCase()+n.user_position.slice(1)},{label:"Designation:",value:n.user_position||""},{label:"Branch:",value:n.user_branch_name||""},{label:"Time Shift:",value:n.user_time_shift||""}]);return(_,p)=>(x(),D(I,{flat:""},{default:u(()=>[s(k,null,{default:u(()=>[lt]),_:1}),s(k,null,{default:u(()=>[(x(!0),U(N,null,F(m.value,(l,y)=>(x(),U("div",{key:y,class:"row"},[i("div",rt,[s(le,{square:"",color:"grey-1"},{default:u(()=>[E(P(l.label),1)]),_:2},1024)]),i("div",nt,[i("div",ot,P(l.value),1)])]))),128))]),_:1})]),_:1}))}};const ut={class:"q-ma-xm",align:"right"},dt={__name:"UsersCreate",setup(e){const v=b(()=>n.users),n=re(),f=w(1),m=w(!0);w(!1);const _=w(!1),p=T({email:"",password:"",confirmPass:""}),l=T({employee_id:"",user_first_name:"",user_middle_name:"",user_last_name:"",user_address:"",user_birthdate:"",user_sex:"",user_phone_number:"",user_position:"",user_branch_name:"",user_time_shift:""}),y=h=>{Object.assign(p,h),m.value=!(p.password&&p.confirmPass&&p.password===p.confirmPass)},S=h=>{console.log("setsuer data",h),Object.assign(l,h),m.value=!(l.employee_id&&l.user_first_name&&l.user_last_name&&l.user_address&&l.user_birthdate&&l.user_sex&&l.user_phone_number&&l.user_position&&l.user_branch_name)},r=b(()=>({...p,...l})),o=()=>{_.value=!0},a=()=>{f.value===3?c():f.value++},t=()=>{p.email="",p.password="",p.confirmPass="",l.employee_id="",l.user_first_name="",l.user_middle_name="",l.user_last_name="",l.user_address="",l.user_birthdate="",l.user_sex="",l.user_phone_number="",l.user_position="",l.user_branch_name="",l.user_time_shift="",f.value=1,m.value=!0},c=async()=>{try{const h={employee_id:l.employee_id,email:`${p.email}@gmail.com`,password:p.password,role:l.user_position};console.log("userdata to send:",h),await n.registerUser(h),_.value=!1,t(),v.value=await n.fetchUsers()}catch{}};return(h,d)=>(x(),U(N,null,[i("div",null,[s(R,{class:"text-dark q-pa-sm",outline:"",icon:"add_circle",label:"Add User",onClick:o})]),s(fe,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=g=>_.value=g),persistent:"","full-height":""},{default:u(()=>[s(I,null,{default:u(()=>[i("div",ut,[Z(s(R,{class:"q-ma-sm",icon:"close",flat:"",dense:"",round:""},null,512),[[Ue]])]),i("div",null,[s(ze,{class:"",modelValue:f.value,"onUpdate:modelValue":d[1]||(d[1]=g=>f.value=g),ref:"stepper",animated:"","done-color":"green","active-color":"blue","inactive-color":"grey",flat:"",align:"center"},{navigation:u(()=>[s(Ne,{class:"q-ma-none"},{default:u(()=>[i("div",null,[f.value>1?(x(),D(R,{key:0,flat:"",color:"primary",onClick:d[0]||(d[0]=g=>h.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):Y("",!0),s(R,{disable:m.value,onClick:a,color:"primary",label:f.value===3?"Save":"Continue"},null,8,["disable","label"])])]),_:1})]),default:u(()=>[s(M,{name:1,title:"Sign Up",icon:"settings",done:f.value>1},{default:u(()=>[s(He,{onUpdateData:y,userData:p},null,8,["userData"])]),_:1},8,["done"]),s(M,{name:2,title:"Personal Info",icon:"settings",done:f.value>2},{default:u(()=>[s(st,{onUpdateData:S,userData:l},null,8,["userData"])]),_:1},8,["done"]),s(M,{name:3,title:"Checked Personal Info",icon:"settings",done:f.value>3},{default:u(()=>[s(it,{userData:r.value,onSave:c},null,8,["userData"])]),_:1},8,["done"])]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])],64))}};var ct=K(dt,[["__scopeId","data-v-6c977e5e"]]);const mt=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],pt=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var V=B({name:"QSkeleton",props:{...X,tag:{type:String,default:"div"},type:{type:String,validator:e=>mt.includes(e),default:"rect"},animation:{type:String,validator:e=>pt.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:v}){const n=j(),f=ee(e,n.proxy.$q),m=b(()=>{const p=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:p[0],height:p[1]}}),_=b(()=>`q-skeleton q-skeleton--${f.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>q(e.tag,{class:_.value,style:m.value},A(v.default))}});const ie=e=>(ae("data-v-5ff495c2"),e=e(),se(),e),vt={class:"q-pa-md elegant-container"},_t={key:0,class:"skeleton-wrapper row q-col-gutter-md"},ft={key:1,class:"data-error"},ht=ie(()=>i("div",null,"No data available",-1)),gt={key:2,class:"q-pa-md row q-col-gutter-md"},bt=ie(()=>i("img",{src:"https://cdn.quasar.dev/img/mountains.jpg"},null,-1)),yt={class:"q-mt-lg"},qt={class:"text-h6 text-weight-medium elegant-name text-capitalize"},xt={class:"q-mb-sm elegant-detail"},wt={class:"email-display"},St={class:"email-text"},$t={class:"q-mb-sm elegant-detail"},Ct={class:"q-mb-sm elegant-detail"},Ut={class:"q-mb-sm elegant-detail text-capitalize"},kt={__name:"UsersCard",setup(e){const v=re();he(),w(null),Ae();const n=b(()=>v.users);console.log("userdatasssss  ",n.value),O(async()=>{await f()});const f=async()=>{try{p.value=!0,n.value=await v.fetchUsers(),n.value.length||(l.value=!0),console.log("Users",n.value)}catch(a){console.log("error fetching recipe: ",a),l.value=!0}finally{p.value=!1}},m=a=>Qe.formatDate(a,"MMMM D, YYYY"),_=a=>{if(!a)return"";const{firstname:t,middlename:c,lastname:h}=a,d=t.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" "),g=c?`${c.charAt(0).toUpperCase()}.`:"",Q=h.charAt(0).toUpperCase();return`${d} ${g} ${Q}${h.slice(1)}`},p=w(!0),l=w(!1),y=w(""),S=async()=>{p.value=!0,l.value=!1,await v.searchUser(y.value),p.value=!1},r=async(a,t)=>{try{const c=a.id;n.value.email=t,await v.updateEmail(c,t),ye.create({type:"positive",message:"yeah"})}catch(c){console.log("===================================="),console.log("ERRRR",c),console.log("====================================")}},o=a=>{switch(a){case"Super Admin":return"blue-10";case"Admin":return"purple-10";case"Supervisor":return"teal-7";case"Scaler":return"green-8";case"Lamesador":return"orange-5";case"Hornero":return"red-6";case"Baker":return"brown";case"Cashier":return"green-5";case"Sales Clerk":return"blue-5";case"Utility":return"grey-7";case"Not Yet Assigned":return"grey-4";default:return"grey-4"}};return(a,t)=>(x(),D(Ie,null,{default:u(()=>[i("div",vt,[i("div",null,[s($,{class:"q-pb-lg",modelValue:y.value,"onUpdate:modelValue":[t[0]||(t[0]=c=>y.value=c),S],outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"100%","max-width":"600px"}},{append:u(()=>[s(C,{name:"search"})]),_:1},8,["modelValue"])]),p.value?(x(),U("div",_t,[(x(),U(N,null,F(8,c=>i("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:c},[s(I,{class:"user-card skeleton-card"},{default:u(()=>[s(V,{height:"200px",class:"q-mb-md"}),s(k,{class:"text-center"},{default:u(()=>[s(V,{type:"circle",size:"80px",class:"q-mb-md"}),s(V,{type:"text",width:"60%",class:"q-mt-lg"}),s(V,{type:"text",width:"40%",class:"q-mt-sm"})]),_:1}),s(z),s(k,null,{default:u(()=>[s(V,{type:"text",width:"80%",class:"q-mb-sm"}),s(V,{type:"text",width:"60%",class:"q-mb-sm"}),s(V,{type:"text",width:"70%",class:"q-mb-sm"}),s(V,{type:"text",width:"50%",class:"q-mb-sm"}),s(V,{type:"text",width:"90%",class:"q-mt-md"})]),_:1}),s(z),s(ge,{class:"q-pa-md text-center"},{default:u(()=>[s(V,{type:"rect",width:"40%",height:"36px"})]),_:1})]),_:1})])),64))])):l.value?(x(),U("div",ft,[s(C,{name:"error",size:"50px",color:"negative"}),ht])):(x(),U("div",gt,[(x(!0),U(N,null,F(n.value,c=>(x(),U("div",{key:c.id,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[s(I,{class:"user-card"},{default:u(()=>[bt,s(k,{class:"text-center"},{default:u(()=>[i("div",null,[s(te,{icon:"person",size:"80px",color:"primary","text-color":"white",class:"q-mb-md absolute",style:{top:"0",left:"12px",transform:"translateY(-50%)"}})]),i("div",yt,[i("div",qt,P(_(c)),1),s(le,{color:o(c.role),"text-color":"white",class:"q-mt-sm elegant-chip"},{default:u(()=>[E(P(c.role),1)]),_:2},1032,["color"])])]),_:2},1024),s(z),s(k,null,{default:u(()=>[i("div",xt,[s(C,{name:"mail",class:"q-mr-sm"}),s(De,{"onUpdate:modelValue":[h=>r(c,h),h=>c.email=h],modelValue:c.email,title:"Edit Email",persistent:"","auto-save":"",buttons:"","label-set":"Save","label-cancel":"Close",fit:"","transition-show":"scale","transition-hide":"scale"},{default:u(h=>[s($,{modelValue:h.value,"onUpdate:modelValue":d=>h.value=d,dense:"",type:"email",rules:[a.emailRule],placeholder:"Email",class:"popup-input",filled:"",borderless:"",onKeyup:be(h.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"]),i("div",wt,[i("span",St,P(c.email),1),s(C,{name:"edit",size:"sm",class:"edit-icon text-primary"})])]),i("div",$t,[s(C,{name:"calendar_today",class:"q-mr-sm"}),i("span",null,P(m(c.birthdate)),1)]),i("div",Ct,[s(C,{name:"smartphone",class:"q-mr-sm"}),i("span",null,P(c.phone),1)]),i("div",Ut,[s(C,{name:"location_on",class:"q-mr-sm"}),i("span",null,P(c.address),1)])]),_:2},1024),s(z)]),_:2},1024)]))),128))]))])]),_:1}))}};var Vt=K(kt,[["__scopeId","data-v-5ff495c2"]]);const Pt={align:"right"},Dt={__name:"UsersPage",setup(e){return(v,n)=>(x(),D(I,{class:"elegant-container",flat:""},{default:u(()=>[s(k,null,{default:u(()=>[i("div",Pt,[s(ct)])]),_:1}),s(k,null,{default:u(()=>[s(Vt)]),_:1})]),_:1}))}};var la=K(Dt,[["__scopeId","data-v-6734ec34"]]);export{la as default};
