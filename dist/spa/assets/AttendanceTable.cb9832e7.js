import{r as A,c as W,t as oe,o as i,a3 as h,J as s,f as l,M as x,w as a,Q as E,I,ae as z,K as w,L as Q,e as q,a0 as y,a4 as U,a5 as se,$ as V,bd as X,aJ as F,a2 as j,O as K,R as J,bf as b,a1 as ne,z as ie,u as ue,aK as ee,bb as te}from"./index.606eb2c2.js";import{Q as L}from"./QChip.700ee300.js";import{a as de,Q as $}from"./QTable.b57017d4.js";import{Q as O}from"./QBadge.bfd5c860.js";import{Q as H}from"./QTooltip.13abf015.js";import{Q as le}from"./QPopupEdit.0fb4f37f.js";import{Q as ce}from"./QSpinnerIos.431b6118.js";import{Q as me}from"./QInnerLoading.51a93595.js";import{u as Y}from"./dtr.0660260e.js";import{Q as re}from"./QSpace.af633c7a.js";import{Q as ae,a as _e}from"./QItem.4df32fff.js";import{Q as fe}from"./QList.e4277f23.js";import{C as P}from"./ClosePopup.64a433ca.js";import{u as be}from"./employee.3518a0c5.js";/* empty css                                                                    */import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./QVirtualScroll.479818ed.js";import"./use-virtual-scroll.91d7ec51.js";import"./QSelect.3f201329.js";import"./QItemLabel.c6ed568c.js";import"./QMenu.99a62d1d.js";import"./position-engine.33f8d391.js";import"./selection.55311138.js";import"./axios.9a63ce1a.js";const pe=f=>(K("data-v-663a67ba"),f=f(),J(),f),ve=pe(()=>s("div",{class:"text-h5 q-mr-md"},"\u{1F554} Add Over Time",-1)),he={class:"q-gutter-md"},ge={class:"q-mb-lg"},ke={key:0,class:"custom-list z-top"},ye={class:"q-gutter-md q-my-lg"},we={class:"q-mt-xl q-gutter-y-md"},Ve={class:"row justify-between"},Te={class:"row justify-between"},$e={__name:"OvertimeButton",setup(f){const n=Y(),g=be(),p=A(""),_=W(()=>g.employees),d=async()=>{p.value.trim()&&await g.searchEmployee(p.value)},S=A(!1),T=()=>{S.value=!0},u=k=>/^(0[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(k)||"Invalid time format",c=k=>{m.employee_id=k.id,m.employee_name=`${k.firstname} ${k.middlename?k.middlename.charAt(0)+".":""} ${k.lastname}`,m.position=k.position,p.value=""},m=oe({employee_id:"",employee_name:"",position:"",regularDateIN:"",dateIn:"",dateOut:"",timeIn:"",timeOut:""}),B=k=>{const t=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",o=k.firstname?t(k.firstname):"No Firstname",e=k.middlename?t(k.middlename).charAt(0)+".":"",r=k.lastname?t(k.lastname):"No Lastname";return`${o} ${e} ${r}`},N=async()=>{const k=`${m.dateIn} ${m.timeIn}`,t=`${m.dateOut} ${m.timeOut}`,o={...m,overtime_in:k,overtime_out:t};await n.saveOvertime(o),console.log("overtime dATA",o)};return(k,t)=>(i(),h(U,null,[s("div",null,[l(x,{padding:"sm md",label:"Add Over Time",icon:"add_circle",size:"md",class:"gradient-btn text-white",onClick:T})]),s("div",null,[l(j,{modelValue:S.value,"onUpdate:modelValue":t[8]||(t[8]=o=>S.value=o),"full-height":"",persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:a(()=>[l(E,{style:{width:"500px","max-width":"100vw"}},{default:a(()=>[l(I,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:a(()=>[ve,l(re),z(l(x,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[P]])]),_:1}),l(I,null,{default:a(()=>[s("div",he,[s("div",ge,[l(w,{modelValue:p.value,"onUpdate:modelValue":[t[0]||(t[0]=o=>p.value=o),d],label:"Search Employee",outlined:"",dense:"",debounce:"500",placeholder:"Enter name"},{append:a(()=>[l(Q,{name:"search"})]),default:a(()=>[p.value?(i(),h("div",ke,[l(E,null,{default:a(()=>[l(fe,{separator:""},{default:a(()=>{var o;return[(o=_.value)!=null&&o.length?(i(!0),h(U,{key:1},se(_.value,e=>(i(),q(ae,{onClick:r=>c(e),key:e.id,clickable:""},{default:a(()=>[l(_e,null,{default:a(()=>[y(V(B(e)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(i(),q(ae,{key:0},{default:a(()=>[y(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):X("",!0)]),_:1},8,["modelValue"])]),s("div",null,[s("div",ye,[l(w,{modelValue:m.employee_name,"onUpdate:modelValue":t[1]||(t[1]=o=>m.employee_name=o),outlined:"",dense:"",readonly:"",label:"Name"},null,8,["modelValue"]),l(w,{modelValue:m.position,"onUpdate:modelValue":t[2]||(t[2]=o=>m.position=o),outlined:"",dense:"",readonly:"",label:"Position"},null,8,["modelValue"])])])])]),_:1}),l(I,null,{default:a(()=>[l(w,{modelValue:m.regularDateIN,"onUpdate:modelValue":t[3]||(t[3]=o=>m.regularDateIN=o),outlined:"",dense:"",label:"Regular Date IN",type:"date"},null,8,["modelValue"])]),_:1}),l(I,null,{default:a(()=>[s("div",we,[s("div",Ve,[s("div",null,[l(w,{modelValue:m.dateIn,"onUpdate:modelValue":t[4]||(t[4]=o=>m.dateIn=o),outlined:"",dense:"",label:"Date IN",type:"date",style:{width:"170px"}},null,8,["modelValue"])]),s("div",null,[l(w,{modelValue:m.timeIn,"onUpdate:modelValue":t[5]||(t[5]=o=>m.timeIn=o),label:"Time IN",dense:"",mask:"##:## AA",outlined:"",rules:u,hint:"Format: hh:mm AM/PM"},null,8,["modelValue"])])]),s("div",Te,[s("div",null,[l(w,{modelValue:m.dateOut,"onUpdate:modelValue":t[6]||(t[6]=o=>m.dateOut=o),outlined:"",dense:"",label:"Date OUT",type:"date",style:{width:"170px"}},null,8,["modelValue"])]),s("div",null,[l(w,{modelValue:m.timeOut,"onUpdate:modelValue":t[7]||(t[7]=o=>m.timeOut=o),label:"Time OUT",dense:"",mask:"##:## AA",outlined:"",rules:u,hint:"Format: hh:mm AM/PM"},null,8,["modelValue"])])])])]),_:1}),l(I,null,{default:a(()=>[l(F,{class:"q-mt-md"},{default:a(()=>[l(x,{size:"md",padding:"xs md",label:"save","icon-right":"send",class:"gradient-btn text-white",onClick:N})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var qe=R($e,[["__scopeId","data-v-663a67ba"]]);const C=f=>(K("data-v-f6a9ed94"),f=f(),J(),f),xe=C(()=>s("div",{class:"text-h5 q-mr-md"},"\u{1F554} Edit Time",-1)),Se={class:"row justify-between"},Ie={class:"q-mt-lg q-gutter-md"},De={class:"row justify-between"},Ae=C(()=>s("div",null,"Time IN",-1)),Oe=C(()=>s("div",null,"Time OUT",-1)),Ce={class:"row justify-between"},Be=C(()=>s("div",null,"Lunch Break Start",-1)),Ne=C(()=>s("div",null,"Lunch Break End",-1)),Ue={class:"row justify-between"},Me=C(()=>s("div",null,"Break Start",-1)),He=C(()=>s("div",null,"Break End",-1)),Qe={class:"row justify-between"},Ee=C(()=>s("div",null,"Over Time Start",-1)),ze=C(()=>s("div",null,"Over Time End",-1)),Pe={__name:"EditDTR",props:["edit"],setup(f){const g=f.edit.row,p=A(),_=T=>{const u=N=>N?N.charAt(0).toUpperCase()+N.slice(1).toLowerCase():"",c=T.firstname?u(T.firstname):"No Firstname",m=T.middlename?u(T.middlename).charAt(0)+".":"",B=T.lastname?u(T.lastname):"No Lastname";return`${c} ${m} ${B}`.trim()},d=oe({time_in:"",time_out:"",lunch_break_start:"",lunch_break_end:"",break_start:"",break_end:"",over_start:"",over_end:""}),S=()=>{Object.assign(d,g),p.value=!0};return(T,u)=>(i(),h(U,null,[l(x,{color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:"",onClick:S},{default:a(()=>[l(H,{class:"bg-positive",delay:200},{default:a(()=>[y("Edit")]),_:1})]),_:1}),l(j,{modelValue:p.value,"onUpdate:modelValue":u[8]||(u[8]=c=>p.value=c)},{default:a(()=>[l(E,{style:{width:"550px","max-width":"80vw"}},{default:a(()=>[l(I,{class:"row items-center q-px-md q-py-sm gradient-btn text-white"},{default:a(()=>[xe,l(re),z(l(x,{icon:"close",flat:"",dense:"",round:""},null,512),[[P]])]),_:1}),l(I,null,{default:a(()=>[s("div",Se,[s("div",null,"Name: "+V(_(b(g).employee)),1),s("div",null," Position: "+V(b(g).employee.position),1)]),s("div",Ie,[s("div",De,[s("div",null,[Ae,l(w,{outlined:"",dense:"",modelValue:d.time_in,"onUpdate:modelValue":u[0]||(u[0]=c=>d.time_in=c)},null,8,["modelValue"])]),s("div",null,[Oe,l(w,{outlined:"",dense:"",modelValue:d.time_out,"onUpdate:modelValue":u[1]||(u[1]=c=>d.time_out=c)},null,8,["modelValue"])])]),s("div",Ce,[s("div",null,[Be,l(w,{outlined:"",dense:"",modelValue:d.lunch_break_start,"onUpdate:modelValue":u[2]||(u[2]=c=>d.lunch_break_start=c)},null,8,["modelValue"])]),s("div",null,[Ne,l(w,{outlined:"",dense:"",modelValue:d.lunch_break_end,"onUpdate:modelValue":u[3]||(u[3]=c=>d.lunch_break_end=c)},null,8,["modelValue"])])]),s("div",Ue,[s("div",null,[Me,l(w,{outlined:"",dense:"",modelValue:d.break_start,"onUpdate:modelValue":u[4]||(u[4]=c=>d.break_start=c)},null,8,["modelValue"])]),s("div",null,[He,l(w,{outlined:"",dense:"",modelValue:d.break_end,"onUpdate:modelValue":u[5]||(u[5]=c=>d.break_end=c)},null,8,["modelValue"])])]),s("div",Qe,[s("div",null,[Ee,l(w,{outlined:"",dense:"",modelValue:d.over_start,"onUpdate:modelValue":u[6]||(u[6]=c=>d.over_start=c)},null,8,["modelValue"])]),s("div",null,[ze,l(w,{outlined:"",dense:"",modelValue:d.over_end,"onUpdate:modelValue":u[7]||(u[7]=c=>d.over_end=c)},null,8,["modelValue"])])])])]),_:1}),l(F,{class:"row q-ma-md",align:"right"},{default:a(()=>[z(l(x,{class:"btn-cancel glossy",color:"negative",label:"Cancel"},null,512),[[P]]),l(x,{class:"btn-create glossy",color:"positive",label:"Save"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Re=R(Pe,[["__scopeId","data-v-f6a9ed94"]]);const Le=f=>(K("data-v-798ca487"),f=f(),J(),f),We=Le(()=>s("div",{class:"text-h5 q-mb-md"},"Decline Overtime",-1)),Fe={class:"q-pa-md"},je={__name:"DeclineOTButton",props:["decline"],setup(f){const n=f,g=Y();console.log("decline",n.decline);const p=W(()=>g.user);console.log("userDatafromDeclineButton",p.value);const _=A(!1),d=A(""),S=async()=>{_.value=!0},T=async()=>{try{await g.declineOvertime({id:n.decline.id,declined_by:p.value.employee.id,reason:d.value}),_.value=!1}catch(u){console.error("Error declining overtime:",u)}};return(u,c)=>(i(),h(U,null,[l(x,{dense:"",outline:"",color:"red",icon:"close",size:"sm",onClick:S}),l(j,{modelValue:_.value,"onUpdate:modelValue":c[1]||(c[1]=m=>_.value=m),"backdrop-filter":"blur(4px) saturate(150%) brightness(60%)"},{default:a(()=>[l(E,{style:{"max-width":"400px",width:"100%"}},{default:a(()=>[l(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:a(()=>[We,s("div",Fe,[l(w,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=m=>d.value=m),filled:"",type:"textarea",placeholder:"Reason"},null,8,["modelValue"])])]),_:1}),l(ne,{class:"q-mb-md"}),l(I,null,{default:a(()=>[l(F,{align:"right",class:"q-pt-none"},{default:a(()=>[z(l(x,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[P]]),l(x,{dense:"",label:"Decline",color:"negative",disable:!d.value,onClick:T,class:"q-btn-rounded q-px-lg"},null,8,["disable"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ke=R(je,[["__scopeId","data-v-798ca487"]]);const Z=f=>(K("data-v-cceeabd0"),f=f(),J(),f),Je={class:"row q-px-xm"},Ye=Z(()=>s("div",null,"Approve",-1)),Ge=Z(()=>s("div",{class:"text-h5 q-mb-md"},"Approve Overtime",-1)),Xe=Z(()=>s("p",{class:"text-body2 q-mb-none"}," Are you sure you want to approve overtime? This action cannot be undone. ",-1)),Ze={__name:"ApproveOTButton",props:["approve"],setup(f){const n=f;console.log("approve",n.approve);const g=Y(),p=W(()=>g.user);console.log("userDatafromApprovebutton",p.value);const _=A(!1),d=()=>{_.value=!0},S=async()=>{console.log("Approving overtime for ID:",n.approve.id),await g.approveOvertime({id:n.approve.id,approved_by:p.value.employee.id}),_.value=!1};return(T,u)=>(i(),h(U,null,[l(x,{unelevated:"",dense:"",color:"dark",size:"sm","no-caps":"",onClick:d},{default:a(()=>[s("div",Je,[l(Q,{left:"",size:"1.5em",name:"check"}),Ye])]),_:1}),l(j,{modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=c=>_.value=c),"backdrop-filter":"blur(4px) saturate(150%) brightness(60%)"},{default:a(()=>[l(E,null,{default:a(()=>[l(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:a(()=>[Ge,Xe]),_:1}),l(ne,{class:"q-mb-md"}),l(I,null,{default:a(()=>[l(F,{align:"right",class:"q-pt-none"},{default:a(()=>[z(l(x,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[P]]),l(x,{dense:"",label:"Approve",color:"dark",onClick:S,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var et=R(Ze,[["__scopeId","data-v-cceeabd0"]]);function tt(){const f=t=>t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"",n=t=>{const o=t!=null&&t.firstname?f(t.firstname):"- ",e=t!=null&&t.middlename?f(t.middlename).charAt(0)+".":"-",r=t!=null&&t.lastname?f(t.lastname):" -";return`${o} ${e} ${r}`.trim()},g=t=>{if(!t)return" - - -";const o=new Date(t);return isNaN(o.getTime())?" - - -":o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},p=t=>{if(!t)return" - - -";const o=new Date(t);if(isNaN(o.getTime()))return" - - -";let e=o.getHours();const r=o.getMinutes().toString().padStart(2,"0"),v=e>=12?"PM":"AM";return e=e%12,e=e||12,`${e}:${r} ${v}`},_=(t,o)=>{if(!t||!o)return{hours:0,minutes:0};const e=new Date(t),r=new Date(o);if(isNaN(e.getTime())||isNaN(r.getTime()))return{hours:0,minutes:0};const v=r-e,D=Math.floor(v/(1e3*60)),M=Math.floor(D/60),G=D%60;return{hours:M,minutes:G}};return{capitalize:f,formatFullname:n,formatDate:g,formatTime:p,calculateTotalWorkingHours:_,calculateTotalOvertimeHours:(t,o)=>{if(!t||!o)return{hours:0,minutes:0};const e=new Date(t),r=new Date(o);if(isNaN(e.getTime())||isNaN(r.getTime()))return{hours:0,minutes:0};const v=r-e,D=Math.floor(v/(1e3*60)),M=Math.floor(D/60),G=D%60;return{hours:M,minutes:G}},getLunchBreakColor:(t,o)=>{const{hours:e,minutes:r}=_(t,o);return e>1||r>0?"green-7":"blue-grey-9"},getLunchBreakIcon:(t,o)=>{const{hours:e,minutes:r}=_(t,o);return e>1||r>0?"check_circle":"access_time"},getBreakColor:(t,o)=>{const{hours:e,minutes:r}=_(t,o);return e>0||r>15?"pink-13":"green-7"},getBreakHoursIcon:(t,o)=>{const{hours:e,minutes:r}=_(t,o);return e>0||r>15?"access_time":"check_circle"},getWorkHoursColor:(t,o)=>{const{hours:e,minutes:r}=_(t,o);return e>9||e===9&&r>0?"blue-grey-9":e>=8?"green-7":"pink-13"},getWorkHoursIcon:(t,o)=>{const{hours:e,minutes:r}=_(t,o);return e>=9||e===9&&r>0?"alarm_on":e>=8?"check_circle":"access_time"},getBadgePositionColor:t=>{switch(t){case"Super Admin":return"blue-10";case"Admin":return"purple-10";case"Supervisor":return"teal-7";case"Scaler":return"green-8";case"Lamesador":return"orange-5";case"Hornero":return"red-6";case"Baker":return"brown";case"Cake Maker":return"brown-4";case"Cashier":return"green-5";case"Sales Clerk":return"blue-5";case"Utility":return"grey-7";case"Not Yet Assigned":return"grey-4";default:return"grey-4"}},truncateText:(t,o)=>t?t.length>o?t.slice(0,o)+"...":t:""}}const lt={class:"row justify-between q-my-md",align:"right"},at={key:1},ot={key:1},nt={key:1},rt={key:1},st={key:1},it={key:1},ut={key:1},dt={key:1},ct={key:1},mt={key:2},_t={key:3,class:"q-gutter-x-sm"},ft={key:0},bt={key:1},pt={key:0},vt={key:1},ht={class:"row justify-center q-gutter-x-md"},gt={__name:"AttendanceTable",setup(f){const n=tt(),g=A({page:1,rowsPerPage:0,rowsNumber:0}),p=A(""),_=A(!1),d=Y(),S=W(()=>d.dtrs),T=A([]);ie(async()=>{await B()});const u=t=>/^(0[1-9]|1[0-2]):([0-5][0-9]) (AM|PM)$/.test(t)||"Time format must be HH:MM AM/PM (e.g., 01:00 AM)",c=async(t,o)=>{console.log("updateEmployeeScheduleIn composables",t,o),_.value=!0;try{const e={id:t.id,schedule_in:o};console.log("employeeScheduleIn",e),await d.updateDtrScheduleIn(e)}catch(e){console.log("error",e)}finally{_.value=!1}},m=async(t,o)=>{console.log("updateEmployeeScheduleOut composables",t,o),_.value=!0;try{const e={id:t.id,schedule_out:o};console.log("employeeScheduleOut",e),await d.updateDtrSheduleOut(e)}catch(e){console.log(e)}finally{_.value=!1}},B=async(t=0,o=5,e="")=>{try{_.value=!0,await d.fetchDTR(t,o,e);const{data:r,current_page:v,per_page:D,total:M}=S.value;T.value=r,console.log("dtrRows.value",T.value),g.value={page:v,rowsPerPage:D,rowsNumber:M}}catch(r){console.error("Error fetching DTR data:",r)}finally{_.value=!1}},N=[{name:"name",required:!0,label:"Name",align:"left",field:t=>n.formatFullname(t.employee),style:"position: sticky; left: 0; background: white; z-index: 1;",headerStyle:"position: sticky; left: 0; background: white; z-index: 2;"},{name:"position",required:!0,label:"Position",align:"center",field:t=>{var o;return((o=t.employee)==null?void 0:o.position)||"N/A"}},{name:"where_in",required:!0,label:"Where IN",align:"center",field:t=>t.device_in_reference_name||"N/A"},{name:"where_out",required:!0,label:"Where OUT",align:"center",field:t=>t.device_out_reference_name||"N/A"},{name:"shift_status",required:!0,label:"Shift Status",align:"center",field:t=>t.shift_status||"Regular Day",format:t=>{const o=t||"Regular Day";let e="grey-4";return o==="Half Day"?e="orange":o==="Regular Day"&&(e="green"),`<q-chip color="${e}" text-color="white" dense>${o}</q-chip>`},sortable:!0},{name:"date_in",required:!0,label:"Date In",align:"center",field:"time_in",format:n.formatDate},{name:"date_out",required:!0,label:"Date Out",align:"center",field:"time_out",format:n.formatDate},{name:"time_in",required:!0,label:"Time In",align:"center",field:"time_in"},{name:"time_out",required:!0,label:"Time Out",align:"center",field:"time_out",format:n.formatTime},{name:"lunch_break_start",required:!0,label:"Lunch Break Start",align:"center",field:"lunch_break_start",format:n.formatTime},{name:"lunch_break_end",required:!0,label:"Lunch Break End",align:"center",field:"lunch_break_end",format:n.formatTime},{name:"break_start",required:!0,label:"Break Start",align:"center",field:"break_start",format:n.formatTime},{name:"break_end",required:!0,label:"Break End",align:"center",field:"break_end",format:n.formatTime},{name:"break",required:!0,label:"Total Break",align:"center",field:t=>{const{hours:o,minutes:e}=n.calculateTotalWorkingHours(t.break_start,t.break_end);return`${o}h ${e}m`}},{name:"lunch_break",required:!0,label:"Total Lunch Break",align:"center",field:t=>{const{hours:o,minutes:e}=n.calculateTotalWorkingHours(t.lunch_break_start,t.lunch_break_end);return`${o}h ${e}m`}},{name:"total_working_hours",required:!0,label:"Work Hours",align:"center",field:t=>{const{hours:o,minutes:e}=n.calculateTotalWorkingHours(t.time_in,t.time_out);return`${o}h ${e}m`}},{name:"overtime_start",required:!0,label:"Overtime Start",align:"center",field:"overtime_start",format:n.formatTime},{name:"overtime_end",required:!0,label:"Overtime End",align:"center",field:"overtime_end",format:n.formatTime},{name:"total_overtime",required:!0,label:"OT Total Hours",align:"center",field:t=>{const{hours:o,minutes:e}=n.calculateTotalOvertimeHours(t.overtime_start,t.overtime_end);return`${o}h ${e}m`}},{name:"overtime_reason",required:!0,label:"Overtime Reason",align:"justify",field:"overtime_reason",format:t=>t||" - - - "},{name:"declined_reason",label:"Declined Reason",field:"declined_reason",format:t=>t||" - - - ",sortable:!1},{name:"ot_status",label:"OT Status",align:"center",field:t=>t.ot_status,sortable:!1},{name:"approved_by",label:"Approved By",align:"center",field:t=>n.formatFullname(t.approvedBy),sortable:!1},{name:"schedule_in",label:"Schedule In",align:"center",field:t=>t.schedule_in},{name:"schedule_out",label:"Schedule Out",align:"center",field:t=>t.schedule_out}],k=t=>{B(t.pagination.page,t.pagination.rowsPerPage,t.filter)};return ue(p,async t=>{g.value.page=1,await B(g.value.page,g.value.rowsPerPage,t)}),(t,o)=>(i(),h(U,null,[s("div",lt,[s("div",null,[l(qe)]),l(w,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=e=>p.value=e),outlined:"",dense:"",flat:"",label:"Search",debounce:"300",style:{width:"300px"}},null,8,["modelValue"])]),s("div",null,[l(de,{rows:T.value,columns:N,"row-key":"time_in",pagination:g.value,"onUpdate:pagination":o[1]||(o[1]=e=>g.value=e),"rows-per-page-options":[3,5,10,0],loading:_.value,filter:p.value,onRequest:k},{"body-cell-position":a(e=>[l($,{props:e},{default:a(()=>{var r,v;return[l(L,{outline:"",square:"","text-color":b(n).getBadgePositionColor((r=e.row.employee)==null?void 0:r.position),color:b(n).getBadgePositionColor((v=e.row.employee)==null?void 0:v.position),class:"q-ma-xs",size:"sm"},{default:a(()=>{var D;return[y(V(((D=e.row.employee)==null?void 0:D.position)||"N/A"),1)]}),_:2},1032,["text-color","color"])]}),_:2},1032,["props"])]),"body-cell-shift_status":a(e=>[l($,{props:e},{default:a(()=>[l(L,{label:e.row.shift_status||"Regular Day",color:e.row.shift_status==="half day"?"orange":"green","text-color":"white",dense:"",square:"",class:"text-capitalize"},null,8,["label","color"])]),_:2},1032,["props"])]),"body-cell-time_in":a(e=>[l($,{props:e},{default:a(()=>[e.row.time_in?(i(),q(O,{key:0,outline:"",color:"positive"},{default:a(()=>[y(V(b(n).formatTime(e.row.time_in)),1)]),_:2},1024)):(i(),h("span",at," - - - "))]),_:2},1032,["props"])]),"body-cell-time_out":a(e=>[l($,{props:e},{default:a(()=>[e.row.time_out?(i(),q(O,{key:0,outline:"",color:"purple-12"},{default:a(()=>[y(V(b(n).formatTime(e.row.time_out)),1)]),_:2},1024)):(i(),h("span",ot," - - - "))]),_:2},1032,["props"])]),"body-cell-lunch_break_start":a(e=>[l($,{props:e},{default:a(()=>[e.row.lunch_break_start?(i(),q(O,{key:0,outline:"",color:"amber-7"},{default:a(()=>[y(V(b(n).formatTime(e.row.lunch_break_start)),1)]),_:2},1024)):(i(),h("span",nt," - - - "))]),_:2},1032,["props"])]),"body-cell-lunch_break_end":a(e=>[l($,{props:e},{default:a(()=>[e.row.lunch_break_end?(i(),q(O,{key:0,outline:"",color:"amber-4"},{default:a(()=>[y(V(b(n).formatTime(e.row.lunch_break_end)),1)]),_:2},1024)):(i(),h("span",rt," - - - "))]),_:2},1032,["props"])]),"body-cell-break_start":a(e=>[l($,{props:e},{default:a(()=>[e.row.break_start?(i(),q(O,{key:0,outline:"",color:"blue-7"},{default:a(()=>[y(V(b(n).formatTime(e.row.break_start)),1)]),_:2},1024)):(i(),h("span",st," - - - "))]),_:2},1032,["props"])]),"body-cell-break_end":a(e=>[l($,{props:e},{default:a(()=>[e.row.break_end?(i(),q(O,{key:0,outline:"",color:"blue-4"},{default:a(()=>[y(V(b(n).formatTime(e.row.break_end)),1)]),_:2},1024)):(i(),h("span",it," - - - "))]),_:2},1032,["props"])]),"body-cell-break":a(e=>[l($,{props:e},{default:a(()=>[e.row.break_start&&e.row.break_end?(i(),q(O,{key:0,outline:"",color:b(n).getBreakColor(e.row.break_start,e.row.break_end),class:"q-ma-xs",size:"md"},{default:a(()=>[l(Q,{name:b(n).getBreakHoursIcon(e.row.break_start,e.row.break_end),size:"xs",class:"q-mr-xs"},null,8,["name"]),y(" "+V(`${b(n).calculateTotalWorkingHours(e.row.break_start,e.row.break_end).hours} Hrs : ${b(n).calculateTotalWorkingHours(e.row.break_start,e.row.break_end).minutes} Min`),1)]),_:2},1032,["color"])):(i(),h("span",ut," - - - "))]),_:2},1032,["props"])]),"body-cell-lunch_break":a(e=>[l($,{props:e},{default:a(()=>[e.row.lunch_break_start&&e.row.lunch_break_end?(i(),q(O,{key:0,outline:"",color:b(n).getLunchBreakColor(e.row.lunch_break_start,e.row.lunch_break_end),class:"q-ma-xs",size:"md"},{default:a(()=>[l(Q,{name:b(n).getLunchBreakIcon(e.row.lunch_break_start,e.row.lunch_break_end),size:"xs",class:"q-mr-xs"},null,8,["name"]),y(" "+V(`${b(n).calculateTotalWorkingHours(e.row.lunch_break_start,e.row.lunch_break_end).hours} Hrs : ${b(n).calculateTotalWorkingHours(e.row.lunch_break_start,e.row.lunch_break_end).minutes} Min`),1)]),_:2},1032,["color"])):(i(),h("span",dt," - - - "))]),_:2},1032,["props"])]),"body-cell-total_working_hours":a(e=>[l($,{props:e},{default:a(()=>[e.row.time_in&&e.row.time_out?(i(),q(O,{key:0,outline:"",color:b(n).getWorkHoursColor(e.row.time_in,e.row.time_out),class:"q-ma-xs",size:"md"},{default:a(()=>[l(Q,{name:b(n).getWorkHoursIcon(e.row.time_in,e.row.time_out),size:"xs",class:"q-mr-xs"},null,8,["name"]),y(" "+V(`${b(n).calculateTotalWorkingHours(e.row.time_in,e.row.time_out).hours} Hrs : ${b(n).calculateTotalWorkingHours(e.row.time_in,e.row.time_out).minutes} Min`),1)]),_:2},1032,["color"])):(i(),h("span",ct," - - - "))]),_:2},1032,["props"])]),"body-cell-ot_status":a(e=>[l($,{props:e,class:"row"},{default:a(()=>[e.row.ot_status==="approved"?(i(),q(L,{key:0,size:"sm",color:"green-1","text-color":"green-8",rounded:"",icon:"check_circle",label:b(n).capitalize(e.row.ot_status)},null,8,["label"])):e.row.ot_status==="declined"?(i(),q(L,{key:1,size:"sm",color:"red-2","text-color":"red-14",rounded:"",icon:"cancel",label:b(n).capitalize(e.row.ot_status)},null,8,["label"])):e.row.ot_status?(i(),h("div",_t,[l(Ke,{decline:e.row},null,8,["decline"]),l(et,{approve:e.row},null,8,["approve"])])):(i(),h("span",mt," - - - "))]),_:2},1032,["props"])]),"body-cell-overtime_reason":a(e=>[l($,{props:e},{default:a(()=>[e.row.overtime_reason?(i(),h("span",ft,[y(V(b(n).truncateText(e.row.overtime_reason,15))+" ",1),e.row.overtime_reason.length>15?(i(),q(H,{key:0,class:"bg-blue-grey-10 text-white text-subtitle1",offset:[10,10]},{default:a(()=>[y(V(e.row.overtime_reason),1)]),_:2},1024)):X("",!0)])):(i(),h("span",bt," - - - "))]),_:2},1032,["props"])]),"body-cell-declined_reason":a(e=>[l($,{props:e},{default:a(()=>[e.row.declined_reason?(i(),h("span",pt,[y(V(b(n).truncateText(e.row.declined_reason,15))+" ",1),e.row.declined_reason.length>15?(i(),q(H,{key:0,class:"bg-blue-grey-10 text-white text-subtitle1",offset:[10,10]},{default:a(()=>[y(V(e.row.declined_reason),1)]),_:2},1024)):X("",!0)])):(i(),h("span",vt," - - - "))]),_:2},1032,["props"])]),"body-cell-schedule_in":a(e=>[l($,{props:e},{default:a(()=>[s("div",{class:ee({"editable-cell":e.row.schedule_in})},[y(V(e.row.schedule_in||"N/A")+" ",1),l(H,{class:"bg-blue-grey-8",offset:[10,10]},{default:a(()=>[y(" Edit Schedule In ")]),_:1})],2),l(le,{"onUpdate:modelValue":[r=>c(e.row,r),r=>e.row.schedule_in=r],modelValue:e.row.schedule_in,buttons:"",title:"Edit Employee Schedule In"},{default:a(r=>[l(w,{modelValue:r.value,"onUpdate:modelValue":[v=>r.value=v,v=>r.value=v],"model-value":r.value,dense:"",autofocus:"",mask:"##:## AA",rules:[u],hint:"Format: 01:00 AM/PM",onKeyup:te(r.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","model-value","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-schedule_out":a(e=>[l($,{props:e},{default:a(()=>[s("div",{class:ee({"editable-cell":e.row.schedule_out})},[y(V(e.row.schedule_out||"N/A")+" ",1),l(H,{class:"bg-blue-grey-8",offset:[10,10]},{default:a(()=>[y(" Edit Schedule Out ")]),_:1})],2),l(le,{"onUpdate:modelValue":[r=>m(e.row,r),r=>e.row.schedule_out=r],modelValue:e.row.schedule_out,buttons:"",title:"Edit Employee Schedule Out"},{default:a(r=>[l(w,{modelValue:r.value,"onUpdate:modelValue":[v=>r.value=v,v=>r.value=v],"model-value":r.value,dense:"",autofocus:"",mask:"##:## AA",rules:[u],hint:"Format: 01:00 AM/PM",onKeyup:te(r.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","model-value","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-action":a(e=>[l($,{props:e},{default:a(()=>[s("div",ht,[l(Re,{edit:e},null,8,["edit"])])]),_:2},1032,["props"])]),loading:a(()=>[l(me,{showing:""},{default:a(()=>[l(ce,{size:"50px",color:"grey-10"})]),_:1})]),_:1},8,["rows","pagination","loading","filter"])])],64))}};var Lt=R(gt,[["__scopeId","data-v-5b0bbaec"]]);export{Lt as default};
