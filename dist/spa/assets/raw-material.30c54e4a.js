import{d as u,r as i,N as r,P as c}from"./index.d78b66d1.js";import{api as s}from"./axios.418580d8.js";const v=u("rawMaterials",()=>{const n=i(null),t=i([]),l=i([]);return{rawMaterial:n,rawMaterials:t,ingredients:l,searchRawMaterials:async e=>{const a=await s.get("/api/search-rawMaterials",{params:{keyword:e}});t.value=a.data,console.log("Search rawe materials",a.data)},createRawMaterials:async e=>{console.log("Data",e);try{const a=await s.post("/api/raw-materials",e);return console.log("RawMaterials",a.data.rawMaterials),a.data.message==="Raw Materials saved successfully"?(t.value.unshift(a.data.rawMaterials),r.create({type:"positive",message:"Raw Materials successfully created",timeout:1e3})):a.data.message==="The RawMaterials name or code already exists."&&r.create({type:"warning",message:"The RawMaterials name or code already exists."}),a}catch(a){console.log("error",a),r.create({type:"negative",message:"An error occurred while saving the raw materials."})}},fetchRawMaterials:async()=>{const e=await s.get("/api/raw-materials");t.value=e.data},updateRawMaterials:async(e,a)=>{c.show();const w=await s.put(`/api/raw-materials/${e}`,a),o=t.value.findIndex(d=>d.id===e);o!==-1&&(t.value[o]=w.data),r.create({type:"positive",message:"Raw Materials updated successfully",timeout:1e3}),c.hide()},deleteRawMaterials:async e=>{await s.delete(`/api/raw-materials/${e}`),t.value=t.value.filter(a=>a.id!==e),r.create({type:"positive",icon:"warning",message:"Raw Materials successfully deleted",timeout:1e3})},fetchIngredients:async e=>{const a=await s.get("/api/ingredients",e);l.value=a.data}}});export{v as u};
