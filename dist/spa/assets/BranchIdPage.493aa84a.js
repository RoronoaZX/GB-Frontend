import{bd as ge,c as B,r as C,t as He,o as b,a2 as P,f as e,M as S,w as t,Q as U,I as k,ad as W,J as a,K as J,L as te,e as T,$ as R,a3 as z,a4 as fe,_ as h,bc as Ge,aI as Ve,a1 as Q,a0 as Je,N as ye,O as Z,R as ee,z as we,u as Qe,ba as Ne,aJ as ct,be as O,d as ut,aH as mt,H as pt,P as at}from"./index.88c59fb9.js";import{Q as Pe}from"./QSpace.235856fb.js";import{Q as Fe,a as re,b as Ie,c as ie}from"./QTabPanels.7e9cea05.js";import{Q as _t}from"./QPage.62c718c9.js";import{Q as Ae,a as he,b as ne}from"./QList.4397706f.js";import{b as me}from"./use-virtual-scroll.872bc8dd.js";import{C as X}from"./ClosePopup.a360f3d6.js";import{u as We}from"./branch-product.8b485f80.js";import{u as lt}from"./product.05b26a06.js";import{Q as Ee}from"./QSpinnerDots.bd90063b.js";import{Q as j,a as se}from"./QTable.4ef49c2b.js";import{Q as le}from"./QBadge.2a1e4c49.js";import{Q as ae}from"./QTooltip.ad57b0ac.js";import{Q as Be}from"./QPopupEdit.a037c4c5.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";import{api as Se}from"./axios.770ad044.js";import{u as Xe}from"./branch-rawMaterials.82c551c9.js";import{u as ft}from"./raw-material.de1530e3.js";import{u as xe}from"./use-dialog-plugin-component.62d4d2e8.js";import{Q as gt}from"./QMenu.332aa41d.js";import{q as de}from"./date.3fb9dcdb.js";import{u as Re}from"./use-quasar.3e556158.js";import{p as Oe,v as nt}from"./vfs_fontes.3eb8cb31.js";import{Q as De}from"./QScrollArea.79ea8c9c.js";import{u as qe,a as Le,b as Ye}from"./other-product.f051a228.js";import{Q as Ke}from"./QSelect.f27a8f5e.js";import{u as vt}from"./recipe.ee17587b.js";import{u as je}from"./branch-recipe.e45b9d45.js";import"./QResizeObserver.88575a80.js";import"./use-panel.f4ca3f8c.js";import"./touch.9135741d.js";import"./selection.20c4750a.js";import"./QVirtualScroll.435c2fba.js";import"./QScrollObserver.c64bea12.js";import"./TouchPan.aea09bfd.js";import"./QChip.414c164f.js";const ht=a("div",{class:"text-h6"},"Create Branch Product",-1),yt={class:"q-mb-lg"},bt={key:0,class:"custom-list z-top"},wt=a("div",null,"Product Name",-1),xt=a("div",null,"Category",-1),$t={class:"row justify-between"},kt=a("div",null,"Beginnings",-1),Ct=a("div",null,"Total Quantity",-1),Rt=a("div",null,"Price",-1),Pt={__name:"ProductCreate",setup(o){const _=ge(),v=lt(),w=B(()=>v.products),m=We(),u=C(""),x=async()=>{v.searchProducts(u.value)},s=B(()=>i.price!==0&&i.beginnings!==0&&i.total_quantity!==0),d=C(!1),c=()=>{d.value=!0},n=()=>{$(),d.value=!1},r=y=>y?y.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",l=y=>{i.product_id=y.id,i.product_name=y.name,i.category=y.category,u.value=""},i=He({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:_.params.branch_id}),$=()=>{i.product_id="",i.product_name="",i.category="",i.price=0,i.beginnings=0,i.total_quantity=0},p=async()=>{try{const{product_name:y,...f}=i;await m.createBranchProducts(f),console.log("data to send",f),$(),d.value=!1}catch(y){console.log(y)}};return(y,f)=>(b(),P(z,null,[e(S,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:c}),e(Q,{modelValue:d.value,"onUpdate:modelValue":f[6]||(f[6]=D=>d.value=D),persistent:""},{default:t(()=>[e(U,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[ht,e(Pe),W(e(S,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(k,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",yt,[e(J,{modelValue:u.value,"onUpdate:modelValue":[f[0]||(f[0]=D=>u.value=D),x],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(b(),P("div",bt,[e(U,null,{default:t(()=>[e(Ae,{separator:""},{default:t(()=>{var D;return[(D=w.value)!=null&&D.length?(b(!0),P(z,{key:1},fe(w.value,V=>(b(),T(he,{onClick:I=>l(V),key:V.id,clickable:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(me,null,{default:t(()=>[R(h(r(V.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(b(),T(he,{key:0},{default:t(()=>[R(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",null,[wt,e(J,{modelValue:i.product_name,"onUpdate:modelValue":f[1]||(f[1]=D=>i.product_name=D),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[xt,e(J,{modelValue:i.category,"onUpdate:modelValue":f[2]||(f[2]=D=>i.category=D),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",$t,[a("div",null,[kt,e(J,{modelValue:i.beginnings,"onUpdate:modelValue":f[3]||(f[3]=D=>i.beginnings=D),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[Ct,e(J,{modelValue:i.total_quantity,"onUpdate:modelValue":f[4]||(f[4]=D=>i.total_quantity=D),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[Rt,e(J,{modelValue:i.price,"onUpdate:modelValue":f[5]||(f[5]=D=>i.price=D),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Ve,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(S,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(S,{class:"glossy",color:"teal",label:"Create",onClick:p,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ot=o=>(Z("data-v-196482e9"),o=o(),ee(),o),St=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Vt=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Dt={__name:"ProductDelete",props:["delete"],setup(o){const _=We(),v=o;console.log("delte",v.delete.row.id);const w=async()=>{try{await _.deleteBranchProducts(v.delete.row.id),ye.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),m.value=!1}catch(x){console.error(x.message)}},m=C(!1),u=()=>{console.log("ID",v.delete.row.id),m.value=!0};return(x,s)=>(b(),P(z,null,[e(S,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ae,{class:"bg-negative",delay:200},{default:t(()=>[R("Delete")]),_:1})]),_:1}),e(Q,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=d=>m.value=d)},{default:t(()=>[e(U,null,{default:t(()=>[e(k,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[St,Vt]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Ve,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(S,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(S,{dense:"",label:"Delete",color:"negative",onClick:w,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var qt=E(Dt,[["__scopeId","data-v-196482e9"]]);const Nt=o=>(Z("data-v-c74b6072"),o=o(),ee(),o),At={class:"row justify-between"},Tt={class:"q-my-sm"},Ut={key:0,class:"spinner-wrapper"},Bt={key:1},Ft={key:0,class:"data-error"},It=Nt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Lt={key:1},Mt={__name:"ProductTable",setup(o){const v=ge().params.branch_id,w=We(),m=C(""),u=C(!0),x=C([]),s=C(!1),d=C({rowsPerPage:0}),c=B(()=>w.branchProducts);console.log("branchssdfrer",c.value);const n=B(()=>m.value?c.value.filter(V=>V.name.toLowerCase().includes(m.value.toLowerCase())):c.value),r=V=>V?V.split(" ").map(I=>I.charAt(0).toUpperCase()+I.slice(1).toLowerCase()).join(" "):"";we(async()=>{v&&await l(v)});const l=async V=>{try{u.value=!0;const I=await w.fetchBranchProducts(V);c.value=I,c.value.length||(s.value=!0),console.log("Branch product",c.value)}catch(I){console.log("Error fetching branch product:",I),s.value=!0}finally{u.value=!1}};Qe(m,async V=>{u.value=!0,await new Promise(I=>setTimeout(I,1e3)),u.value=!1,s.value=n.value.length===0});async function i(V,I){try{const A=await Se.put("/api/update-branch-products/"+V.id,{price:parseInt(I)});if(A.status===200){const L=x.value.findIndex(g=>g.id==V.id);x.value[L]=parseInt(I),ye.create({type:"positive",message:A.data.message,timout:1e3,position:"top"})}}catch(A){console.error("Error updating price:",A)}}async function $(V,I){try{const A=await Se.put("/api/update-branch-products-beginnings/"+V.id,{beginnings:parseInt(I)});if(A.status===200){const L=x.value.findIndex(g=>g.id==V.id);x.value[L]=parseInt(I),ye.create({type:"positive",message:A.data.message,timout:1e3,position:"top"})}}catch(A){console.error("Error updating price:",A)}}async function p(V,I){try{const A=await Se.put("/api/update-branch-products-total-quantity/"+V.id,{total_quantity:parseInt(I)});if(A.status===200){const L=x.value.findIndex(g=>g.id==V.id);x.value[L]=parseInt(I),ye.create({type:"positive",message:A.data.message,timout:1e3,position:"top"})}}catch(A){console.error("Error updating price:",A)}}const y=V=>{switch(V){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},f=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(V),D=[{name:"name",label:"Product Name",align:"center",field:V=>V.product.name,format:V=>`${V}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:V=>f(V),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:V=>`${V} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:V=>`${V} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(V,I)=>(b(),P(z,null,[a("div",At,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":I[0]||(I[0]=A=>m.value=A),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Tt,[e(Pt)])]),u.value?(b(),P("div",Ut,[e(Ee,{size:"50px",color:"primary"})])):(b(),P("div",Bt,[n.value.length===0?(b(),P("div",Ft,[e(te,{name:"warning",color:"warning",size:"4em"}),It])):(b(),T(se,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:D,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":I[1]||(I[1]=A=>d.value=A),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(A=>[e(j,{key:"name",props:A},{default:t(()=>{var L;return[R(h((L=A.row.product)!=null&&L.name?r(A.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(A=>[e(j,{key:"name",props:A},{default:t(()=>[A.row.category?(b(),T(le,{key:0,color:y(A.row.category)},{default:t(()=>[R(h(A.row.category),1)]),_:2},1032,["color"])):(b(),P("span",Lt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(A=>[e(j,{props:A,class:"cursor-pointer"},{default:t(()=>[a("span",null,[R(h(f(A.row.price))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit Price")]),_:1})]),e(Be,{"onUpdate:modelValue":[L=>i(A.row,L),L=>A.row.price=L],modelValue:A.row.price,"auto-save":""},{default:t(L=>[e(J,{modelValue:L.value,"onUpdate:modelValue":g=>L.value=g,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:Ne(L.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(A=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[R(h(A.row.beginnings?A.row.beginnings:"Set Beginnings")+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit beginnings")]),_:1})]),e(Be,{"onUpdate:modelValue":[L=>$(A.row,L),L=>A.row.beginnings=L],modelValue:A.row.beginnings,"auto-save":""},{default:t(L=>[e(J,{modelValue:L.value,"onUpdate:modelValue":g=>L.value=g,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ne(L.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(A=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[R(h(A.row.total_quantity?A.row.total_quantity:"Set Quantity")+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit quantity")]),_:1})]),e(Be,{"onUpdate:modelValue":[L=>p(A.row,L),L=>A.row.total_quantity=L],modelValue:A.row.total_quantity,"auto-save":""},{default:t(L=>[e(J,{modelValue:L.value,"onUpdate:modelValue":g=>L.value=g,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:Ne(L.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(A=>[e(j,{class:"q-gutter-x-md",props:A},{default:t(()=>[e(qt,{delete:A},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var zt=E(Mt,[["__scopeId","data-v-c74b6072"]]);const Ht={class:"q-gutter-sm"},Ot={__name:"ProductPage",setup(o){return(_,v)=>(b(),P("div",Ht,[a("div",null,[e(zt)])]))}},jt=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Qt={class:"q-mb-lg"},Et={key:0,class:"custom-list z-top"},Yt=a("div",null,"Raw Materials Code",-1),Kt=a("div",null,"Raw Materials Name",-1),Gt=a("div",null,"Category",-1),Jt=a("div",null,"Quantity",-1),Wt={__name:"RawMaterialsCreate",setup(o){const _=ge(),v=ft(),w=B(()=>v.rawMaterials),m=Xe(),u=C(""),x=async()=>{v.searchRawMaterials(u.value)},s=B(()=>l.total_quantity!==""),d=C(!1),c=()=>{d.value=!0},n=()=>{i(),d.value=!1},r=p=>{l.ingredients_id=p.id,l.ingredient_name=p.name,l.ingredient_code=p.code,l.category=p.category,l.unit=p.unit,u.value=""},l=He({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:_.params.branch_id}),i=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},$=async()=>{try{const{product_name:p,...y}=l;await m.createBranchRawMaterials(y),console.log("data to send",y),i(),d.value=!1}catch(p){console.log(p)}};return(p,y)=>(b(),P(z,null,[e(S,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:c,style:{background:"#f43f5e"}}),e(Q,{modelValue:d.value,"onUpdate:modelValue":y[5]||(y[5]=f=>d.value=f),persistent:""},{default:t(()=>[e(U,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[jt,e(Pe),W(e(S,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(k,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Qt,[e(J,{modelValue:u.value,"onUpdate:modelValue":[y[0]||(y[0]=f=>u.value=f),x],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(te,{name:"search"})])]),default:t(()=>[u.value?(b(),P("div",Et,[e(U,null,{default:t(()=>[e(Ae,{separator:""},{default:t(()=>{var f;return[(f=w.value)!=null&&f.length?(b(!0),P(z,{key:1},fe(w.value,D=>(b(),T(he,{onClick:V=>r(D),key:D.id,clickable:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(me,null,{default:t(()=>[R(h(D.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(b(),T(he,{key:0},{default:t(()=>[R(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Yt,e(J,{modelValue:l.ingredient_code,"onUpdate:modelValue":y[1]||(y[1]=f=>l.ingredient_code=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Kt,e(J,{modelValue:l.ingredient_name,"onUpdate:modelValue":y[2]||(y[2]=f=>l.ingredient_name=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Gt,e(J,{modelValue:l.category,"onUpdate:modelValue":y[3]||(y[3]=f=>l.category=f),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Jt,e(J,{modelValue:l.total_quantity,"onUpdate:modelValue":y[4]||(y[4]=f=>l.total_quantity=f),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[f=>f&&f.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Ve,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(S,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(S,{class:"glossy",color:"teal",label:"Create",onClick:$,disable:!s.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const st=o=>(Z("data-v-17ad5e9f"),o=o(),ee(),o),Xt=st(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Zt=st(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),ea={__name:"RawMaterialsTableDelete",props:["delete"],setup(o){const _=Xe(),v=o,w=async()=>{console.log("clickkkd");try{await _.deleteBranchRawMaterials(v.delete.row.id),ye.create({type:"negative",icon:"warning",message:`Raw Materials ${v.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),m.value=!1}catch(x){console.error(x.message)}},m=C(!1),u=()=>{m.value=!0};return(x,s)=>(b(),P(z,null,[e(S,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ae,{class:"bg-negative",delay:200},{default:t(()=>[R("Delete")]),_:1})]),_:1}),e(Q,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=d=>m.value=d)},{default:t(()=>[e(U,null,{default:t(()=>[e(k,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Xt,Zt]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Ve,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(S,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(S,{dense:"",label:"Delete",color:"negative",onClick:w,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ta=E(ea,[["__scopeId","data-v-17ad5e9f"]]);const rt=o=>(Z("data-v-74a3fea6"),o=o(),ee(),o),aa={class:"row justify-between"},la={class:"q-my-sm"},na={key:0,class:"spinner-wrapper"},oa={key:1},sa={key:0,class:"data-error"},ra=rt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ia=rt(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),da={class:"row justify-center q-gutter-x-md"},ca={__name:"RawMaterialsTable",setup(o){const v=ge().params.branch_id,w=Xe(),m=C(""),u=C(!0),x=C([]),s=C(!1),d=C({rowsPerPage:0}),c=B(()=>w.branchRawMaterials),n=B(()=>m.value?c.value.filter(y=>y.name.toLowerCase().includes(m.value.toLowerCase())):c.value);we(async()=>{console.log("props.branchId in onMounted:",v),v&&await r(v)});const r=async y=>{try{u.value=!0;const f=await w.fetchBranchRawMaterials(y);c.value=f,c.value.length||(s.value=!0),console.log("Branch Raw Materials",c.value)}catch(f){console.log("Error fetching branch product:",f),s.value=!0}finally{u.value=!1}};async function l(y,f){try{const D=await Se.put("/api/update-branch-rawMaterials/"+y.id,{total_quantity:parseInt(f)});if(D.status===200){const V=x.value.findIndex(I=>I.id==y.id);x.value[V]=parseInt(f),ye.create({type:"positive",message:D.data.message,timout:1e3,position:"top"})}}catch(D){console.error("Error updating price:",D)}}Qe(m,async y=>{u.value=!0,await new Promise(f=>setTimeout(f,1e3)),u.value=!1,s.value=n.value.length===0});const i=y=>{const f=y.total_quantity;if(y.ingredients.unit==="Grams"&&f<1e3)return"bg-red";let V;return f>=1e3?V=f/1e3:V=f,V<5?V<=2?"bg-red":(V<=3,"bg-warning"):"bg-positive"},$=y=>{const f=y.total_quantity,D=y.ingredients.unit;if(f>1e3){const V=(f/1e3).toFixed(2);return V.endsWith(".00")?`${Math.round(f/1e3)} kilos`:`${V} kilos`}else return f>1?`${f} ${D}`:`${f} ${D}`},p=[{name:"code",label:"Raw Materials Code",align:"center",field:y=>{var f,D;return(D=(f=y==null?void 0:y.ingredients)==null?void 0:f.code)!=null?D:"No Code"},format:y=>`${y}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:y=>{var f,D;return(D=(f=y==null?void 0:y.ingredients)==null?void 0:f.name)!=null?D:"No Code"},format:y=>`${y}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(y,f)=>(b(),P(z,null,[a("div",aa,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=D=>m.value=D),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),a("div",la,[e(Wt)])]),u.value?(b(),P("div",na,[e(Ee,{size:"50px",color:"primary"})])):(b(),P("div",oa,[n.value.length===0?(b(),P("div",sa,[e(te,{name:"warning",color:"warning",size:"4em"}),ra])):(b(),T(se,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":f[1]||(f[1]=D=>d.value=D),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(D=>[e(j,{props:D},{default:t(()=>[e(le,{square:"",class:ct(["text-white cursor-pointer",i(D.row)])},{default:t(()=>[R(h($(D.row))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[ia]),_:1}),e(Be,{"onUpdate:modelValue":[V=>l(D.row,V),V=>D.row.total_quantity=V],modelValue:D.row.total_quantity,"auto-save":""},{default:t(V=>[e(J,{modelValue:V.value,"onUpdate:modelValue":I=>V.value=I,dense:"",suffix:D.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:Ne(V.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(D=>[e(j,{props:D},{default:t(()=>[a("div",da,[e(ta,{delete:D},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ua=E(ca,[["__scopeId","data-v-74a3fea6"]]);const ma={class:"q-gutter-sm"},pa={class:"q-gutter-x-sm"},_a={__name:"RawMaterialsPage",setup(o){return(_,v)=>(b(),P("div",ma,[a("div",pa,[e(le,{label:"Good",class:"text-white",color:"positive"}),e(le,{label:"Warning",class:"text-white",color:"warning"}),e(le,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(ua)])]))}};const fa={class:"text-h6 text-white"},ga={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe();console.log("breadReportsaaasss",o.breadProduction);const x=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",s=[{name:"bread_name",label:"Bread Name",align:"left",field:d=>(console.log("Row data:",d),d.bread.name||"N/A"),format:d=>x(d)},{name:"production",label:"Production",align:"center",field:d=>d.bread_production||d.filling_production||"0"}];return(d,c)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",fa,h(`${x((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Pe),a("div",null,[W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]}),_:1}),e(se,{rows:o.breadProduction,columns:s},null,8,["rows"])]),_:1})]),_:1},8,["onHide"]))}};var va=E(ga,[["__scopeId","data-v-849d6d20"]]);const ha=o=>(Z("data-v-961b0a22"),o=o(),ee(),o),ya={class:"text-h6 text-white"},ba=ha(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),wa={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe();console.log("ingredientProduction",o.ingredientProduction);const x=d=>{const c=Number(d.quantity)||0,n=d.unit||"";return c>1e3?`${parseFloat((c/1e3).toFixed(3))} kg`:c>1?`${parseFloat(c.toFixed(3))} ${n}`:`${parseFloat(c.toFixed(3))} ${n}`},s=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"";return(d,c)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var n,r,l,i;return[a("div",ya,h(`${s((r=(n=o.branchRecipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${(i=(l=o.branchRecipe)==null?void 0:l.recipe)==null?void 0:i.category}`),1),e(Pe),a("div",null,[W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]}),_:1}),e(k,null,{default:t(()=>[ba]),_:1}),e(k,null,{default:t(()=>[e(Ae,{dense:"",separator:"",class:"box"},{default:t(()=>[e(he,null,{default:t(()=>[e(ne,null,{default:t(()=>[e(me,{class:"text-overline"},{default:t(()=>[R("Raw Materials Name")]),_:1})]),_:1}),e(ne,null,{default:t(()=>[e(me,{class:"text-overline"},{default:t(()=>[R("Code")]),_:1})]),_:1}),e(ne,{side:""},{default:t(()=>[e(me,{class:"text-overline"},{default:t(()=>[R("Quantity")]),_:1})]),_:1})]),_:1}),(b(!0),P(z,null,fe(o.ingredientProduction,(n,r)=>(b(),T(he,{key:r},{default:t(()=>[e(ne,null,{default:t(()=>[e(me,{class:"text-caption"},{default:t(()=>[R(h(n.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(ne,null,{default:t(()=>[e(me,{class:"text-caption"},{default:t(()=>[R(h(n.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(ne,{side:""},{default:t(()=>[e(me,{class:"text-caption"},{default:t(()=>[R(h(x(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var xa=E(wa,[["__scopeId","data-v-961b0a22"]]);const $a={class:"text-h6 text-dark"},ka={__name:"EditBakersReport",props:["bakerReports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe();console.log("BakerReports edit data",o.bakerReports);const x=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"";return(s,d)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>{var c,n,r,l,i,$;return[a("div",$a,h(`${x((r=(n=(c=o.bakerReports)==null?void 0:c.branch_recipe)==null?void 0:n.recipe)==null?void 0:r.name)} - ${($=(i=(l=o.bakerReports)==null?void 0:l.branch_recipe)==null?void 0:i.recipe)==null?void 0:$.category}`),1),e(Pe),a("div",null,[W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]}),_:1}),e(k,null,{default:t(()=>[R(h(o.bakerReports),1)]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ca=E(ka,[["__scopeId","data-v-3b3fa9ca"]]);const Ra=o=>(Z("data-v-afbfb534"),o=o(),ee(),o),Pa=Ra(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),Sa={class:"text-subtitle1 text-weight-regular"},Va={class:"q-ma-sm"},Da={class:"q-ma-sm",align:"center"},qa=["src"],Na={__name:"BakerReportPanel",props:["bakersReport"],setup(o){Oe.exports.vfs=nt;const _=o,v=_.bakersReport;console.log("Bakers Report",_.bakersReport);const w=C(!0),m=C(!1);C(!1);const u=C({rowsPerPage:0}),x=C(""),s=Re(),d=(g,q)=>{s.dialog({component:va,componentProps:{breadProduction:g,branchRecipe:q}})},c=(g,q)=>{s.dialog({component:xa,componentProps:{ingredientProduction:g,branchRecipe:q}})},n=g=>{s.dialog({component:Ca,componentProps:{bakerReports:g}})},r=g=>de.formatDate(g,"MMM. DD, YYYY"),l=g=>{const q=Number(g)||0;return parseFloat(q.toFixed(3)).toString()},i=g=>{const q=Number(g)||0;return parseFloat(q.toFixed(3)).toString()},$=g=>g?g.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",p=g=>{const q=F=>F?F.charAt(0).toUpperCase()+F.slice(1).toLowerCase():"",N=g.firstname?q(g.firstname):"No Firstname",K=g.middlename?q(g.middlename).charAt(0)+".":"",pe=g.lastname?q(g.lastname):"No Lastname";return`${N} ${K} ${pe}`.trim()},y=g=>{const q=new Date(g),N={hour:"2-digit",minute:"2-digit",hour12:!0};return q.toLocaleTimeString(void 0,N)},f=g=>{switch(g){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},D=g=>g?g.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",V=g=>g?g.recipe_category==="Filling"?g.filling_bakers_reports||[]:g.recipe_category==="Dough"?g.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),I=[{name:"recipe_name",align:"center",label:"Recipe Name",field:g=>g.branch_recipe&&g.branch_recipe.recipe?{name:g.branch_recipe.recipe.name,category:g.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:g=>`${D(g.name)} (${g.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:g=>y(g)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:g=>`${i(g)}`},{name:"actual_target",align:"center",label:"Actual Target",field:g=>g.target*g.kilo,format:g=>`${Math.ceil(g)}`},{name:"over",align:"center",label:"Over",field:"over",format:g=>`${g}`},{name:"short",align:"center",label:"Short",field:"short",format:g=>`${g}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],A=g=>{var Y,ve,_e,be,ke,M,H,$e,G,Ce,Ue,ze,Ze,et;console.log("bakerReport",g);const q=`${(_e=(ve=(Y=g==null?void 0:g.branch_recipe)==null?void 0:Y.recipe)==null?void 0:ve.name)!=null?_e:"Unkown Recipe"} (${(be=g==null?void 0:g.recipe_category)!=null?be:"Unkown Category"})`,N=(M=(ke=g==null?void 0:g.branch_recipe)==null?void 0:ke.target)!=null?M:0,K=(H=g==null?void 0:g.actual_target)!=null?H:0,pe=($e=g==null?void 0:g.kilo)!=null?$e:0,F=(G=g==null?void 0:g.over)!=null?G:0,oe=(Ce=g==null?void 0:g.short)!=null?Ce:0,ue={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:q,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${l(N)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${K} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${pe} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${F} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${oe} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${g.branch.name||"No name available"}
                Baker: ${p(((Ue=g==null?void 0:g.user)==null?void 0:Ue.employee)||"Unknown Baker Name")}
                Recipe: ${((ze=g.recipe)==null?void 0:ze.name)||"Unknown Recipe"} (${g.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${r(((Ze=_.bakersReport[0])==null?void 0:Ze.created_at)||((et=_.bakersReport[1])==null?void 0:et.created_at)||"No name available")}
                Time: ${y(g.created_at)}
                Status: ${$(g.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...V(g).map(ce=>{var Me;return[{text:((Me=ce==null?void 0:ce.bread)==null?void 0:Me.name)||"Unknown Bread",style:"body"},{text:g.recipe_category==="Filling"?`${(ce==null?void 0:ce.filling_production)||"0"} pcs`:`${ce==null?void 0:ce.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(g.ingredient_bakers_reports||[]).map(ce=>{var Me,tt;return[{text:((Me=ce==null?void 0:ce.ingredients)==null?void 0:Me.code)||"Unknown Ingredient",style:"body"},{text:`${(ce==null?void 0:ce.quantity)||"Unknown Quantity"} ${((tt=ce==null?void 0:ce.ingredients)==null?void 0:tt.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},ue]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},L=g=>{const q=A(g);Oe.exports.createPdf(q).getDataUrl(N=>{x.value=N,m.value=!0})};return(g,q)=>(b(),P("div",null,[e(U,{class:"my-card q-pa-md"},{default:t(()=>{var N,K,pe,F,oe,ue;return[Pa,a("div",Sa,[a("div",null," Name: "+h(p(((K=(N=O(v)[0])==null?void 0:N.user)==null?void 0:K.employee)||((F=(pe=O(v)[1])==null?void 0:pe.user)==null?void 0:F.employee)||"No name available")),1),a("div",null," Date: "+h(`${r(((oe=_.bakersReport[0])==null?void 0:oe.created_at)||((ue=_.bakersReport[1])==null?void 0:ue.created_at)||"No name available")}`),1)]),e(k,null,{default:t(()=>[e(se,{class:"table-container sticky-header2",columns:I,rows:O(v),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:u.value,"rows-per-page-options":[0]},{"body-cell-status":t(Y=>[e(j,{props:Y},{default:t(()=>[e(le,{align:"middle",color:f(Y.row.status)},{default:t(()=>[R(h($(Y.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(Y=>[e(j,{props:Y},{default:t(()=>[e(S,{class:"gradient-icon",flat:"",rounded:"",onClick:ve=>d(Y.row.combined_bakers_reports,Y.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon"}),e(ae,{class:"gradient-tooltip"},{default:t(()=>[R("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(Y=>[e(j,{props:Y},{default:t(()=>[e(S,{class:"gradient-icon2",flat:"",rounded:"",onClick:ve=>c(Y.row.ingredient_bakers_reports,Y.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon2"}),e(ae,{class:"gradient-tooltip"},{default:t(()=>[R("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(Y=>[e(j,{props:Y},{default:t(()=>[e(S,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:ve=>g.toggleMenu(Y.row)},null,8,["onClick"]),e(gt,{modelValue:Y.row.menu,"onUpdate:modelValue":ve=>Y.row.menu=ve,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(Ae,{style:{"min-width":"100px"}},{default:t(()=>[W((b(),T(he,{clickable:"",onClick:ve=>L(Y.row)},{default:t(()=>[e(ne,{avatar:""},{default:t(()=>[e(te,{name:"print"})]),_:1}),e(ne,null,{default:t(()=>[e(me,null,{default:t(()=>[R("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[X]]),W((b(),T(he,{clickable:"",onClick:ve=>n(Y.row)},{default:t(()=>[e(ne,{avatar:""},{default:t(()=>[e(te,{name:"edit"})]),_:1}),e(ne,null,{default:t(()=>[e(me,null,{default:t(()=>[R("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[X]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(Q,{modelValue:m.value,"onUpdate:modelValue":q[0]||(q[0]=N=>m.value=N),"backdrop-filter":g.backdropFilter,maximized:w.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Va,[a("div",Da,[W((b(),T(S,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ae,null,{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])]),a("div",null,[a("iframe",{src:x.value,width:"100%",height:"700px"},null,8,qa)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Aa=E(Na,[["__scopeId","data-v-afbfb534"]]);const Ta={class:"row justify-between text-white"},Ua=a("div",{class:"text-h6"},"Bread Report",-1),Ba={class:"row justify-end q-mt-md"},Fa={class:"text-h6"},Ia={__name:"BreadReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o,x=C("");console.log("Reports data structure:",u.reports);const s=l=>l?l.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",d=[{name:"name",label:"Bread Name",field:l=>(console.log("Row data:",l),l.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:l=>`${l}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:l=>`${l}`},{name:"total",label:"Bread Total (PCS)",field:"total",field:l=>(l.remaining||0)+(l.new_production||0)},{name:"sales",label:"Total Sales",field:"sales"}],c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),n=B(()=>{if(!x.value||!x.value.trim())return u.reports||[];const l=x.value.trim().toLowerCase();return(u.reports||[]).filter(i=>i.bread.name.toLowerCase().includes(l)||i.price.toString().includes(l)||i.sales.toString().includes(l))}),r=B(()=>{const l=n.value.reduce((i,$)=>{const p=parseFloat($.sales)||0;return console.log(`Adding salesAmount: ${p} to total: ${i}`),i+p},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Overall Total Sales:",r.value),(l,i)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Ta,[Ua,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(J,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:x.value,"onUpdate:modelValue":i[0]||(i[0]=$=>x.value=$),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:x.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:d,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":i[1]||(i[1]=$=>l.pagination=$),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,h(`${s($.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,h(`${c($.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t($=>[e(j,{props:$},{default:t(()=>[a("span",null,h(`${c($.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ba,[a("div",Fa," Overall Total Sales: "+h(c(r.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},La={class:"row justify-between text-white"},Ma=a("div",{class:"text-h6"},"Selecta Report",-1),za={class:"row justify-end q-mt-md"},Ha={class:"text-h6"},Oa={__name:"SelectaReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o;console.log("Reports data structure:",u.reports);const x=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Selecta Name",field:r=>(console.log("Row data:",r),r.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=B(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),n=B(()=>{const r=c.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",c.value),(r,l)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",La,[Ma,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${x(i.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",za,[a("div",Ha," Overall Total Sales: "+h(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},ja={class:"row justify-between text-white"},Qa=a("div",{class:"text-h6"},"Softdrinks Report",-1),Ea={class:"row justify-end q-mt-md"},Ya={class:"text-h6"},Ka={__name:"SoftdrinksReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o;console.log("Reports data structure:",u.reports);const x=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Softdrinks Name",field:r=>(console.log("Row data:",r),r.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=B(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),n=B(()=>{const r=c.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return console.log("Filtered Rows:",c.value),(r,l)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",ja,[Qa,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${x(i.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ea,[a("div",Ya," Overall Total Sales: "+h(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ga={class:"row justify-between text-white"},Ja=a("div",{class:"text-h6"},"Cake Report",-1),Wa={class:"row justify-end q-mt-md"},Xa={class:"text-h6"},Za={__name:"CakeReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o;console.log("Report cake:",u.reports);const x=B(()=>(console.log("Filtered cake rows:",u.reports||[]),u.reports||[])),s=r=>{const l=y=>y?y.charAt(0).toUpperCase()+y.slice(1).toLowerCase():"",i=r.firstname?l(r.firstname):"No Firstname",$=r.middlename?l(r.middlename).charAt(0)+".":"",p=r.lastname?l(r.lastname):"No Lastname";return`${i} ${$} ${p}`},d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r).replace("\u20B1","\u20B1 "),c=B(()=>{const r=x.value.reduce((l,i)=>{const $=parseFloat(i.cake_report.price)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r}),n=[{name:"name",label:"Cake Name",field:r=>(console.log("Row data:",r),r.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:r=>s(r.cake_report.user.employee)},{name:"price",label:"Price",field:r=>d(r.cake_report.price)},{name:"layers",label:"Layers",field:r=>r.cake_report.layers},{name:"sales_status",label:"Sale Status",field:r=>r.cake_report.sales_status}];return(r,l)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",Ga,[Ja,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:x.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",Wa,[a("div",Xa," Overall Total Sales: "+h(d(c.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},el={class:"row justify-between text-white"},tl=a("div",{class:"text-h6"},"Other Products Report",-1),al={class:"row justify-end q-mt-md"},ll={class:"text-h6"},nl={__name:"OtherProductsReport",props:["reports"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o,x=B(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),s=r=>r?r.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",d=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r),c=[{name:"name",label:"Product Name",field:r=>(console.log("Row data:",r),r.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:r=>`${r}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:r=>`${r}`},{name:"out",label:"Product Out (PCS)",field:"out",format:r=>`${r}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:r=>`${r}`},{name:"sales",label:"Total Sales",field:"sales"}],n=B(()=>{const r=x.value.reduce((l,i)=>{const $=parseFloat(i.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${l}`),l+$},0);return console.log("Overall Total Sales computed as:",r),r});return(r,l)=>(b(),P("div",null,[e(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",el,[tl,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:r.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:x.value,"row-key":"name","virtual-scroll":"",pagination:r.pagination,"onUpdate:pagination":l[0]||(l[0]=i=>r.pagination=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${s(i.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(i=>[e(j,{props:i},{default:t(()=>[a("span",null,h(`${d(i.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",al,[a("div",ll," Overall Total Sales: "+h(d(n.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const ol=o=>(Z("data-v-69f74a0d"),o=o(),ee(),o),sl=ol(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),rl={class:"item-start q-gutter-md",align:"center"},il={__name:"ProductsReport",props:["sales_Reports"],setup(o){const _=o,v=_.sales_Reports;console.log("sales report2",_);const w=Re(),m=c=>{w.dialog({component:Ia,componentProps:{reports:c}})},u=c=>{w.dialog({component:Oa,componentProps:{reports:c}})},x=c=>{w.dialog({component:Ka,componentProps:{reports:c}})},s=c=>{w.dialog({component:Za,componentProps:{reports:c}})},d=c=>{w.dialog({component:nl,componentProps:{reports:c}})};return(c,n)=>(b(),P("div",null,[e(U,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[sl]),_:1}),e(k,null,{default:t(()=>[a("div",rl,[e(S,{onClick:n[0]||(n[0]=r=>m(_.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(S,{onClick:n[1]||(n[1]=r=>u(O(v)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(S,{onClick:n[2]||(n[2]=r=>x(O(v)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(S,{onClick:n[3]||(n[3]=r=>s(O(v)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(S,{onClick:n[4]||(n[4]=r=>d(O(v)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var dl=E(il,[["__scopeId","data-v-69f74a0d"]]);const cl={class:"row justify-between text-white"},ul=a("div",{class:"text-h6"},"Denomination Report",-1),ml={class:"row text-weight-regular text-subtitle1"},pl={class:"col-6"},_l={class:"col-6"},fl={class:"row justify-end q-mt-md"},gl={class:"text-h6"},vl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o;console.log("Denomination Props",u.reports);const x=u.reports[0];console.log("Reports data structure:",u.reports);const s=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c),d=B(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Filtered Rows:",d.value),(c,n)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",cl,[ul,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[a("div",ml,[a("div",pl,[a("div",null,"1000 Bills: "+h(O(x).oneThousandBills),1),a("div",null,"500 Bills: "+h(O(x).fiveHundredBills),1),a("div",null,"200 Bills: "+h(O(x).twoHundredBills),1),a("div",null,"100 Bills: "+h(O(x).oneHundredBills),1),a("div",null,"50 Bills: "+h(O(x).fiftyBills),1),a("div",null,"20 Bills: "+h(O(x).twentyBills),1)]),a("div",_l,[a("div",null,"20 coins: "+h(O(x).twentyCoins),1),a("div",null,"10 coins: "+h(O(x).tenCoins),1),a("div",null,"5 coins: "+h(O(x).fiveCoins),1),a("div",null,"1 coins: "+h(O(x).oneCoins),1),a("div",null,"25 cents: "+h(O(x).twentyFiveCents),1)])])]),_:1}),e(k,null,{default:t(()=>[a("div",fl,[a("div",gl," Overall Total Denomination: "+h(s(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const hl=o=>(Z("data-v-43ad17ba"),o=o(),ee(),o),yl=hl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),bl={class:"q-gutter-x-md",align:"center"},wl={__name:"DenominationReport",props:["sales_Reports"],setup(o){const _=o;_.sales_Reports,console.log("Denomination report",_);const v=Re(),w=(m,u)=>{v.dialog({component:vl,componentProps:{reports:m,total:u}})};return(m,u)=>(b(),P("div",null,[e(U,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[yl]),_:1}),e(k,null,{default:t(()=>[a("div",bl,[e(S,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:u[0]||(u[0]=x=>w(_.sales_Reports[0].denomination_reports,_.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var xl=E(wl,[["__scopeId","data-v-43ad17ba"]]);const $l={class:"row justify-between text-white"},kl=a("div",{class:"text-h6"},"Expenses Report",-1),Cl={class:"row justify-end q-mt-md"},Rl={class:"text-h6"},Pl={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o;u.reports,console.log("Expenses total",u.total);const x=n=>n?n.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Expenses Name",field:n=>(console.log("Row data:",n),n.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",u.reports);const d=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),c=B(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Expenses:",c.value),(n,r)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v),onOk:n.handleButtonClick,onCancel:O(m)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",$l,[kl,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":r[0]||(r[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,h(`${x(l.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(l=>[e(j,{props:l},{default:t(()=>[a("span",null,h(`${d(l.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Cl,[a("div",Rl," Overall Total Expenses: "+h(d(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Sl=o=>(Z("data-v-4747b3c7"),o=o(),ee(),o),Vl=Sl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Dl={class:"q-gutter-x-md",align:"center"},ql={__name:"ExpensesReport",props:["sales_Reports"],setup(o){const _=o;console.log("Expenses Data",_.sales_Reports[0].expenses_reports);const v=Re(),w=(m,u)=>{v.dialog({component:Pl,componentProps:{reports:m,total:u}})};return(m,u)=>(b(),P("div",null,[e(U,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[Vl]),_:1}),e(k,null,{default:t(()=>[a("div",Dl,[e(S,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:u[0]||(u[0]=x=>w(_.sales_Reports[0].expenses_reports,_.sales_Reports[0].expenses_total))})])]),_:1})]),_:1})]))}};var Nl=E(ql,[["__scopeId","data-v-4747b3c7"]]);const Al={class:"row justify-between text-white"},Tl=a("div",{class:"text-h6"},"Credits Report",-1),Ul={class:"row justify-end q-mt-md"},Bl={class:"text-h6"},Fl={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe(),u=o,x=u.reports;console.log("creditReports data",x),x.forEach((i,$)=>{console.log(`Report ${$}:`,i),console.log(`Credit Products for Report ${$}:`,i.credit_products.total_amount)});const s=B(()=>x.flatMap(i=>i.credit_products.map($=>{const p=parseInt($.pieces,10)||0,y=parseFloat($.price)||0,f=p*y;return{...$,total_amount:f}})));console.log("All Credit Products:",s.value[0]);const d=i=>i?i.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",c=i=>{const $=D=>D?D.charAt(0).toUpperCase()+D.slice(1).toLowerCase():"",p=i.firstname?$(i.firstname):"No Firstname",y=i.middlename?$(i.middlename).charAt(0)+".":"",f=i.lastname?$(i.lastname):"No Lastname";return`${p} ${y} ${f}`.trim()},n=[{name:"name",label:"Employee Name",field:i=>c(i.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:i=>i.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",u.reports);const r=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),l=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return(i,$)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v),onOk:i.handleButtonClick,onCancel:O(m)},{default:t(()=>[e(U,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(k,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Al,[Tl,W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])]),_:1}),e(k,null,{default:t(()=>[e(se,{filter:i.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:n,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:i.pagination,"onUpdate:pagination":$[0]||($[0]=p=>i.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,h(`${d(p.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,h(`${r(p.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(p=>[e(j,{props:p},{default:t(()=>[a("span",null,h(`${l(p.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(k,null,{default:t(()=>[a("div",Ul,[a("div",Bl," Overall Credits Total: "+h(r(o.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Il=o=>(Z("data-v-037b1d7d"),o=o(),ee(),o),Ll=Il(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),Ml={class:"q-gutter-x-md",align:"center"},zl={__name:"CreditsReport",props:["sales_Reports"],setup(o){const _=o,v=Re(),w=(m,u)=>{v.dialog({component:Fl,componentProps:{reports:m,total:u}})};return(m,u)=>(b(),P("div",null,[e(U,{class:"user-card"},{default:t(()=>[e(k,null,{default:t(()=>[Ll]),_:1}),e(k,null,{default:t(()=>[a("div",Ml,[e(S,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:u[0]||(u[0]=x=>w(_.sales_Reports[0].credit_reports,_.sales_Reports[0].credit_total))})])]),_:1}),e(k)]),_:1})]))}};var Hl=E(zl,[["__scopeId","data-v-037b1d7d"]]);const Ol=o=>(Z("data-v-193f57bf"),o=o(),ee(),o),jl={class:"q-mt-lg row items-start q-gutter-md justify-center"},Ql={class:"row justify-between"},El=Ol(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Yl={align:"right"},Kl={class:"text-subtitle1 text-weight-regular"},Gl={class:"row q-gutter-sm q-pa-md"},Jl={class:"q-ma-sm"},Wl={class:"q-ma-sm",align:"center"},Xl=["src"],Zl={__name:"SalesReportPanel",props:["salesReport"],setup(o){Oe.exports.vfs=nt;const _=o,v=_.salesReport;console.log("reportsData",_.salesReport);const w=C(!0),m=C(!1),u=C(""),x=l=>de.formatDate(l,"MMMM DD, YYYY"),s=l=>{const i=new Date(l),$={hour:"2-digit",minute:"2-digit",hour12:!0};return i.toLocaleTimeString(void 0,$)},d=l=>{const i=f=>f?f.charAt(0).toUpperCase()+f.slice(1).toLowerCase():"",$=l.firstname?i(l.firstname):"No Firstname",p=l.middlename?i(l.middlename).charAt(0)+".":"",y=l.lastname?i(l.lastname):"No Lastname";return`${$} ${p} ${y}`.trim()},c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const i=B(()=>l.credit_reports.flatMap(F=>F.credit_products));console.log("All Credit Products:",i.value);const $=[{title:"Bread Production",data:(l.bread_reports||[]).map(F=>({...F,total:(F.new_production||0)+(F.beginnings||0),sales:(F.price||0)*(F.bread_sold||0)})),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(l.selecta_reports||[]).map(F=>({...F,sales:(F.price||0)*F.sold})),columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:l.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(l.softdrinks_reports||[]).map(F=>({...F,sales:(F.price||0)*(F.sold||0)})),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(l.other_products_reports||[]).map(F=>({...F,sales:(F.price||0)*(F.sold||0)})),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:l.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],p=l.expenses_reports||[],y=i.value||[],f=l.denomination_reports[0]||[],D=l.denomination_total;l.products_total_sales,l.charges_amount,l.over_total;const V={bills:[{name:"One Thousand",pcs:f.oneThousandBills||0},{name:"Five Hundred",pcs:f.fiveHundredBills||0},{name:"Two Hundred",pcs:f.twoHundredBills||0},{name:"One Hundred",pcs:f.oneHundredBills||0},{name:"Fifty",pcs:f.fiftyBills||0},{name:"Twenty",pcs:f.twentyBills||0}],coins:[{name:"Twenty",pcs:f.twentyCoins||0},{name:"Ten",pcs:f.tenCoins||0},{name:"Five",pcs:f.fiveCoins||0},{name:"One",pcs:f.oneCoins||0},{name:"Twenty Five Cents",pcs:f.twentyFiveCents||0}]},I=(F,oe,ue)=>{const Y=(_e,be)=>be.split(".").reduce((ke,M)=>ke?ke[M]:0,_e),ve=ue.reduce((_e,be)=>(_e[be]=F.reduce((ke,M)=>ke+parseFloat(Y(M,be))||0,0),_e),{});return[...F.map(_e=>oe.map(be=>{if(be==="cake_report.user.employee"){const ke=Y(_e,"cake_report.user.employee");return{text:ke?d(ke):"No Employee",style:"body",alignment:"center"}}return{text:be.includes(".")?Y(_e,be)||"-":_e[be]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:oe.length-ue.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(oe.length-ue.length-1).fill({}),...ue.map(_e=>({text:`\u20B1 ${ve[_e].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let A=0;const L=y.length>0?y.map(F=>{const oe=(F.price||0)*(F.pieces||0);return A+=oe,[{text:d(F.credit_user_id),style:"body",alignment:"center"},{text:F.product.name,style:"body",alignment:"center"},{text:F.pieces,style:"body",alignment:"center"},{text:c(F.price),style:"body",alignment:"center"},{text:c(oe),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];L.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:c(A),style:"bodyBold",alignment:"center",colSpan:2},{}]);let g=0;const q=p.length>0?p.map(F=>{const oe=parseFloat(F.amount.replace(/[^0-9.-]+/g,""));return isNaN(oe)||(g+=oe),[{text:F.name,style:"body",alignment:"center"},{text:F.description,style:"body",alignment:"center"},{text:`${c(oe)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];q.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${c(g)}`,style:"bodyBold",alignment:"center"}]);const N=V.bills.map((F,oe)=>{var ue,Y;return[{text:F.name,style:"body",alignment:"center"},{text:F.pcs,style:"body",alignment:"center"},{text:((ue=V.coins[oe])==null?void 0:ue.name)||"",style:"body",alignment:"center"},{text:((Y=V.coins[oe])==null?void 0:Y.pcs)||"0",style:"body",alignment:"center"}]});N.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${c(D)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const K=$.map(({title:F,data:oe,columns:ue,totals:Y})=>({stack:[{text:F,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(ue.length).fill("*"),body:[ue.map(ve=>({text:ve.split(".").pop().replace(/_/g," ").replace(/\b\w/g,_e=>_e.toUpperCase()),style:"tableHeader",alignment:"center"})),...I(oe,ue,Y)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),pe={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:c(D),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:c(l.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:c(g),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:c(A),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:c(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${c(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${d(l.user.employee)}
          Date: ${x(l.created_at)}
Time: ${s(l.created_at)}
`,margin:[0,0,0,10]},{}]},...K,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...q]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...L]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...N]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},pe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},r=l=>{const i=n(l);Oe.exports.createPdf(i).getDataUrl($=>{u.value=$,m.value=!0})};return(l,i)=>(b(),P(z,null,[e(U,{class:"my-card q-pa-md"},{default:t(()=>[e(k,null,{default:t(()=>[a("div",jl,[(b(!0),P(z,null,fe(O(v),($,p)=>(b(),P("div",{key:p},[e(U,{flat:"",dense:"",bordered:""},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Ql,[El,a("div",Yl,[e(S,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:y=>r($)},null,8,["onClick"]),a("div",null,[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R(" Print Report ")]),_:1})])])]),a("div",Kl,[a("div",null,"Name: "+h(d($.user.employee)),1),a("div",null,"Date: "+h(x($.created_at)),1),a("div",null,"Time: "+h(s($.created_at)),1)])]),_:2},1024),a("div",Gl,[e(dl,{sales_Reports:[$]},null,8,["sales_Reports"]),e(xl,{sales_Reports:[$]},null,8,["sales_Reports"]),e(Nl,{sales_Reports:[$]},null,8,["sales_Reports"]),e(Hl,{sales_Reports:[$]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(Q,{modelValue:m.value,"onUpdate:modelValue":i[0]||(i[0]=$=>m.value=$),maximized:w.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Jl,[a("div",Wl,[W((b(),T(S,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ae,null,{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,Xl)])])]),_:1},8,["modelValue","maximized"])],64))}};var en=E(Zl,[["__scopeId","data-v-193f57bf"]]);const tn={class:"text-h6"},an={class:"row q-gutter-x-md"},ln={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(o,{emit:_}){const{dialogRef:v,onDialogHide:w,onDialogOK:m,onDialogCancel:u}=xe(),x=o;console.log("production report",x.reports);const s=x.reports.baker_reports,d=x.reports.sales_reports,c=_,n=C("bakerReport"),r=C(!0),l=C(!1),i=p=>p?p.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1).toLowerCase()).join(" "):"",$=()=>{c("selectReport",x.reports),l.value=!0};return(p,y)=>(b(),T(Q,{ref_key:"dialogRef",ref:v,modelValue:l.value,"onUpdate:modelValue":y[2]||(y[2]=f=>l.value=f),onHide:O(w),onOk:$,onCancel:O(u),maximized:r.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(U,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",tn,h(`${i(o.reports.branch_name)} ( ${o.reportLabel} Reports)`),1),e(Pe),a("div",an,[a("div",null,[W((b(),T(S,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ae,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[R("Close")]),_:1})]),_:1})),[[X]])])])]),_:1}),e(k,null,{default:t(()=>[a("div",null,[e(Fe,{modelValue:n.value,"onUpdate:modelValue":y[0]||(y[0]=f=>n.value=f),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(re,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(re,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Ie,{modelValue:n.value,"onUpdate:modelValue":y[1]||(y[1]=f=>n.value=f),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(ie,{name:"bakerReport"},{default:t(()=>[e(Aa,{bakersReport:O(s)},null,8,["bakersReport"])]),_:1}),e(ie,{name:"salesReport"},{default:t(()=>[e(en,{salesReport:O(d)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var nn=E(ln,[["__scopeId","data-v-643ff984"]]);const on=ut("productions",()=>{const o=C([]),_=C([]);return{productions:o,production:_,fetchAllProduction:async()=>{const m=await Se.get("/api/branch-production-report");o.value=m.data.reports},fetchBranchProductions:async m=>{try{const u=await Se.get(`/api/branches/${m}/production-report`);o.value=u.data}catch(u){console.log(u)}}}});const sn=o=>(Z("data-v-12387bc6"),o=o(),ee(),o),rn={key:0,class:"spinner-wrapper"},dn={key:1},cn={key:0,class:"data-error"},un=sn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),mn={class:"row justify-center q-gutter-x-md"},pn={__name:"ProductionTable",setup(o){const _=ge();C("bakerReport");const v=_.params.branch_id;C(!1),C(!0),C(""),C("");const w=C({rowsPerPage:0}),m=on(),u=C(""),x=B(()=>m.productions);C(!0);const s=C(!0),d=C(!1),c=B(()=>u.value?x.value.filter(p=>p.name.toLowerCase().includes(u.value.toLowerCase())):x.value);we(async()=>{v&&await n(v)});const n=async p=>{try{s.value=!0;const y=await m.fetchBranchProductions(p);console.log("Fetched data:",y),console.log("Production rows:",x.value),x.value.length||(d.value=!0)}catch{d.value=!0}finally{s.value=!1}};Qe(u,async p=>{s.value=!0,await new Promise(y=>setTimeout(y,1e3)),s.value=!1,d.value=c.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:p=>de.formatDate(p,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],i=Re(),$=(p,y)=>{i.dialog({component:nn,componentProps:{reports:p,reportLabel:y}})};return(p,y)=>(b(),P(z,null,[a("div",null,[e(J,{modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=f=>u.value=f),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),s.value?(b(),P("div",rn,[e(Ee,{size:"50px",color:"primary"})])):(b(),P("div",dn,[c.value.length===0?(b(),P("div",cn,[e(te,{name:"warning",color:"warning",size:"4em"}),un])):(b(),T(se,{key:1,class:"table-container sticky-header",filter:u.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:c.value,"row-key":"reportDate","virtual-scroll":"",pagination:w.value,"onUpdate:pagination":y[1]||(y[1]=f=>w.value=f),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(f=>[e(j,{props:f},{default:t(()=>[a("div",mn,[e(S,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:D=>$(f.row.AM,"AM")},{default:t(()=>[R("AM")]),_:2},1032,["onClick"]),e(S,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:D=>$(f.row.PM,"PM")},{default:t(()=>[R("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var _n=E(pn,[["__scopeId","data-v-12387bc6"]]);const fn={__name:"ProductionPage",setup(o){return(_,v)=>(b(),P("div",null,[e(_n)]))}},gn={class:"row justify-between"},vn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),hn=a("div",{class:"text-h6"},"Decline Report",-1),yn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=qe(),v=C(""),w=C(!1),m=C(!1),u=C({rowsPerPage:0}),x=Re(),s=o,d=()=>{m.value=!0},c=()=>{w.value=!0},n=async()=>{if(!v.value){x.notify({type:"negative",message:"Remark is required"});return}try{const p=await _.declineReport(s.report.id,v.value);console.log("Report declined:",p),x.notify({type:"negative",message:"Report declined successfully"}),w.value=!1,m.value=!1,v.value=""}catch(p){console.error("Error declining report:",p),x.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const p=await _.confirmReport(s.report.id);console.log("Report confirmed:",p),x.notify({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch(p){console.error(p)}},l=B(()=>s.report.selecta_added_stocks||[]),i=p=>{const y=I=>I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():"",f=p.firstname?y(p.firstname):"No Firstname",D=p.middlename?y(p.middlename).charAt(0)+".":"",V=p.lastname?y(p.lastname):"No Lastname";return`${f} ${D} ${V}`},$=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,y)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:d})]),e(Q,{modelValue:m.value,"onUpdate:modelValue":y[2]||(y[2]=f=>m.value=f)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",gn,[vn,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=f=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(i(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"yellow",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:l.value,columns:$,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":y[1]||(y[1]=f=>u.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(S,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(S,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:w.value,"onUpdate:modelValue":y[4]||(y[4]=f=>w.value=f)},{default:t(()=>[e(U,null,{default:t(()=>[e(k,null,{default:t(()=>[hn]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:v.value,"onUpdate:modelValue":y[3]||(y[3]=f=>v.value=f),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[f=>!!f||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ve,{align:"right"},{default:t(()=>[W(e(S,{flat:"",label:"Cancel",color:"primary"},null,512),[[X]]),e(S,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const bn=o=>(Z("data-v-08e549d4"),o=o(),ee(),o),wn={class:"q-gutter-md q-ma-md"},xn={class:"row justify-between"},$n={class:"text-subtitle1"},kn={class:"text-subtitle1"},Cn={class:"text-subtitle1"},Rn={key:1,class:"data-error"},Pn=bn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Sn={__name:"TransactionPendingCard",setup(o){const _=ge(),v=qe(),w=B(()=>v.pendingSelectaReports),m=_.params.branch_id,u=C("pending"),x=async()=>{try{const n=await v.fetchPendingSelectaStocks(m,u.value);console.log(w.value)}catch(n){console.error("Error fetching pending stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",wn,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",xn,[a("div",$n,h(s(l.created_at)),1),a("div",kn,h(d(l.created_at)),1),a("div",Cn,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"yellow",outlined:""},{default:t(()=>[R(" Pending ")]),_:1})]),a("div",null,[e(yn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",Rn,[e(te,{name:"warning",color:"warning",size:"4em"}),Pn]))])]),_:1})]))}};var Vn=E(Sn,[["__scopeId","data-v-08e549d4"]]);const Dn={class:"row justify-between"},qn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Nn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0};Re();const w=o,m=B(()=>(console.log("Filtered rows:",w.report||[]),w.report.selecta_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},x=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Q,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Dn,[qn,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"green",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:x,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const An=o=>(Z("data-v-c1019cbc"),o=o(),ee(),o),Tn={class:"q-gutter-md q-ma-md"},Un={class:"row justify-between"},Bn={class:"text-subtitle1"},Fn={class:"text-subtitle1"},In={class:"text-subtitle1"},Ln={key:1,class:"data-error"},Mn=An(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zn={__name:"TransactionConfirmedCard",setup(o){const _=ge(),v=qe(),w=B(()=>v.confirmedSelectaReports),m=_.params.branch_id,u=C("confirmed"),x=async()=>{try{const n=await v.fetchConfirmedSelectaStocks(m,u.value);console.log(w.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Tn,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Un,[a("div",Bn,h(s(l.created_at)),1),a("div",Fn,h(d(l.created_at)),1),a("div",In,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"green",outlined:""},{default:t(()=>[R(h(l.status),1)]),_:2},1024)]),a("div",null,[e(Nn,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",Ln,[e(te,{name:"warning",color:"warning",size:"4em"}),Mn]))])]),_:1})]))}};var Hn=E(zn,[["__scopeId","data-v-c1019cbc"]]);const On={class:"row justify-between"},jn=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Qn={class:"q-mt-md"},En={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0},w=o,m=B(()=>(console.log("Filtered rows:",w.report||[]),w.report.selecta_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},x=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Q,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",On,[jn,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"red",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})]),a("div",Qn,"Remark: "+h(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:x,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Yn=o=>(Z("data-v-6b801095"),o=o(),ee(),o),Kn={class:"q-gutter-md q-ma-md"},Gn={class:"row justify-between"},Jn={class:"text-subtitle1"},Wn={class:"text-subtitle1"},Xn={class:"text-subtitle1"},Zn={key:1,class:"data-error"},eo=Yn(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),to={__name:"TransactionDeclinedCard",setup(o){const _=ge(),v=qe(),w=B(()=>v.declinedSelectaReports),m=_.params.branch_id,u=C("declined"),x=async()=>{try{const n=await v.fetchDeclinedSelectaStocks(m,u.value);console.log("selectedProductsDeclined",w.value)}catch(n){console.error("Error fetching decline stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Kn,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Gn,[a("div",Jn,h(s(l.created_at)),1),a("div",Wn,h(d(l.created_at)),1),a("div",Xn,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"red",outlined:""},{default:t(()=>[R(h(l.status),1)]),_:2},1024)]),a("div",null,[e(En,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",Zn,[e(te,{name:"warning",color:"warning",size:"4em"}),eo]))])]),_:1})]))}};var ao=E(to,[["__scopeId","data-v-6b801095"]]);const lo={class:"q-gutter-y-sm"},no={__name:"SelectaTransactionPage",setup(o){const _=C("pendingReports"),v=B(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(w,m)=>(b(),P(z,null,[a("div",lo,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":v.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(re,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(re,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(re,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(ie,{name:"pendingReports"},{default:t(()=>[e(Vn)]),_:1}),e(ie,{name:"confirmReports"},{default:t(()=>[e(Hn)]),_:1}),e(ie,{name:"declineReports"},{default:t(()=>[e(ao)]),_:1})]),_:1},8,["modelValue"])],64))}};var oo=E(no,[["__scopeId","data-v-6cbd59c6"]]);const so={class:"row justify-between"},ro=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),io=a("div",{class:"text-h6"},"Decline Report",-1),co={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=Le(),v=C(""),w=C(!1),m=C(!1),u=C({rowPerPage:0}),x=Re(),s=o,d=()=>{m.value=!0},c=()=>{w.value=!0},n=async()=>{if(!v.value){x.notify({type:"negative",message:"Remark is required"});return}try{const p=await _.declineReport(s.report.id,v.value);console.log("Report declined:",p),x.notify({type:"negative",message:"Report declined successfully"}),w.value=!1,m.value=!1,v.value=""}catch(p){console.error("Error declining report:",p),x.notify({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const p=await _.confirmReport(s.report.id);console.log("Report confirmed:",p),x.notify({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch(p){console.error(p)}},l=B(()=>s.report.softdrinks_added_stocks||[]),i=p=>{const y=I=>I?I.charAt(0).toUpperCase()+I.slice(1).toLowerCase():"",f=p.firstname?y(p.firstname):"No Firstname",D=p.middlename?y(p.middlename).charAt(0)+".":"",V=p.lastname?y(p.lastname):"No Lastname";return`${f} ${D} ${V}`},$=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,y)=>(b(),P("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:d}),e(Q,{modelValue:m.value,"onUpdate:modelValue":y[2]||(y[2]=f=>m.value=f)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",so,[ro,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:y[0]||(y[0]=f=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(i(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"yellow",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:l.value,columns:$,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":y[1]||(y[1]=f=>u.value=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(S,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(S,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:w.value,"onUpdate:modelValue":y[4]||(y[4]=f=>w.value=f)},{default:t(()=>[e(U,null,{default:t(()=>[e(k,null,{default:t(()=>[io]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:v.value,"onUpdate:modelValue":y[3]||(y[3]=f=>v.value=f),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[f=>!!f||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ve,{align:"right"},{default:t(()=>[W(e(S,{flat:"",label:"Cancel",color:"primary"},null,512),[[X]]),e(S,{flat:"",label:"Confirm",color:"negative",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const uo=o=>(Z("data-v-7ba0107e"),o=o(),ee(),o),mo={class:"q-gutter-md q-ma-md"},po={class:"row justify-between"},_o={class:"text-subtitle1"},fo={class:"text-subtitle1"},go={class:"text-subtitle1"},vo={key:1,class:"data-error"},ho=uo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),yo={__name:"TransactionPendingCard",setup(o){const _=ge(),v=Le(),w=B(()=>v.pendingSoftdrinksReports),m=_.params.branch_id,u=C("pending"),x=async()=>{try{const n=await v.fetchPendingSoftdrinksStocks(m,u.value);console.log(w.value)}catch(n){console.error("Error fetching pending stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",mo,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",po,[a("div",_o,h(s(l.created_at)),1),a("div",fo,h(d(l.created_at)),1),a("div",go,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"yellow",outlined:""},{default:t(()=>[R(" Pending ")]),_:1})]),a("div",null,[e(co,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",vo,[e(te,{name:"warning",color:"warning",size:"4em"}),ho]))])]),_:1})]))}};var bo=E(yo,[["__scopeId","data-v-7ba0107e"]]);const wo={class:"row justify-between"},xo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),$o={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Le(),C(!1);const _=C(!1),v=()=>{_.value=!0},w=o,m=B(()=>(console.log("Filtered rows:",w.report||[]),w.report.softdrinks_added_stocks||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},x=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Q,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",wo,[xo,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"green",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:x,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ko=o=>(Z("data-v-2b1290c8"),o=o(),ee(),o),Co={class:"q-gutter-md q-ma-md"},Ro={class:"row justify-between"},Po={class:"text-subtitle1"},So={class:"text-subtitle1"},Vo={class:"text-subtitle1"},Do={key:1,class:"data-error"},qo=ko(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),No={__name:"TransactionConfirmedCard",setup(o){const _=ge(),v=Le(),w=B(()=>v.confirmedSoftdrinksReports),m=_.params.branch_id,u=C("confirmed"),x=async()=>{try{const n=await v.fetchConfirmedSoftdrinksStocks(m,u.value);console.log(w.value)}catch(n){console.error("Error fetching confirmed stocks",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Co,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Ro,[a("div",Po,h(s(l.created_at)),1),a("div",So,h(d(l.created_at)),1),a("div",Vo,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"green",outlined:""},{default:t(()=>[R(h(l.status),1)]),_:2},1024)]),a("div",null,[e($o,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",Do,[e(te,{name:"warning",color:"warning",size:"4em"}),qo]))])]),_:1})]))}};var Ao=E(No,[["__scopeId","data-v-2b1290c8"]]);const To={class:"row justify-between"},Uo=a("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Bo={class:"q-mt-md"},Fo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){Le();const _=C(!1),v=()=>{_.value=!0},w=o,m=B(()=>(console.log("Filtered rows:",w.report||[]),w.report.softdrinks_added_stocks)),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},x=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Q,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",To,[Uo,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"red",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})]),a("div",Bo,"Remark: "+h(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:x,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Io=o=>(Z("data-v-51a1abe5"),o=o(),ee(),o),Lo={class:"q-gutter-md q-ma-md"},Mo={class:"row justify-between"},zo={class:"text-subtitle1"},Ho={class:"text-subtitle1"},Oo={class:"text-subtitle1"},jo={key:1,class:"data-error"},Qo=Io(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Eo={__name:"TransactionDeclinedCard",setup(o){const _=ge(),v=Le(),w=B(()=>v.declinedSoftdrinksReports),m=_.params.branch_id,u=C("declined"),x=async()=>{try{const n=await v.fetchDeclinedSoftdrinksStocks(m,u.value);console.log("softdrinksProductsDeclined",w.value)}catch(n){console.error("Error fetching decline stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),T(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Lo,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Mo,[a("div",zo,h(s(l.created_at)),1),a("div",Ho,h(d(l.created_at)),1),a("div",Oo,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"red",outlined:""},{default:t(()=>[R(h(l.status),1)]),_:2},1024)]),a("div",null,[e(Fo,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",jo,[e(te,{name:"warning",color:"warning",size:"4em"}),Qo]))])]),_:1}))}};var Yo=E(Eo,[["__scopeId","data-v-51a1abe5"]]);const Ko={class:"q-gutter-y-sm"},Go={__name:"SoftdrinksTransactionPage",setup(o){const _=C("pendingReports"),v=B(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(w,m)=>(b(),P(z,null,[a("div",Ko,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":v.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(re,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(re,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(re,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(ie,{name:"pendingReports"},{default:t(()=>[e(bo)]),_:1}),e(ie,{name:"confirmReports"},{default:t(()=>[e(Ao)]),_:1}),e(ie,{name:"declineReports"},{default:t(()=>[e(Yo)]),_:1})]),_:1},8,["modelValue"])],64))}};var Jo=E(Go,[["__scopeId","data-v-368f5ccc"]]);const Wo={class:"row justify-between"},Xo=a("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),Zo=a("div",{class:"text-h6"},"Decline Report",-1),es={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){const _=Ye(),v=C(""),w=C(!1),m=C(!1),u=C({rowsPerPage:0}),x=()=>{m.value=!0},s=()=>{w.value=!0},d=o,c=async()=>{if(!v.value){ye.create({type:"negative",message:"Remark is required"});return}try{const $=await _.declineReport(d.report.id,v.value);console.log("Report declined:",$),ye.create({type:"negative",message:"Report declined successfully"}),w.value=!1,m.value=!1,v.value=""}catch($){console.error("Error declining report:",$),ye.create({type:"negative",message:"Failed to decline report"})}},n=async()=>{try{const $=await _.confirmReport(d.report.id);console.log("Report confirmed:",$),ye.create({type:"positive",message:"Report confirmed successfully"}),m.value=!1}catch($){console.error($)}},r=B(()=>d.report.other_added_stock||[]),l=[{name:"product_name",label:"Product Name",field:$=>$.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:$=>$.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:$=>$.added_stocks?`${$.added_stocks} pcs`:"N/A"}],i=$=>{const p=V=>V?V.charAt(0).toUpperCase()+V.slice(1).toLowerCase():"",y=$.firstname?p($.firstname):"No Firstname",f=$.middlename?p($.middlename).charAt(0)+".":"",D=$.lastname?p($.lastname):"No Lastname";return`${y} ${f} ${D}`};return($,p)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(Q,{modelValue:m.value,"onUpdate:modelValue":p[2]||(p[2]=y=>m.value=y)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Wo,[Xo,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=y=>m.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(i(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"yellow",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:r.value,columns:l,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":p[1]||(p[1]=y=>u.value=y),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(k,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(S,{color:"negative",label:"Decline",class:"action-btn",onClick:s}),e(S,{color:"positive",label:"Confirm",class:"action-btn",onClick:n})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(Q,{modelValue:w.value,"onUpdate:modelValue":p[4]||(p[4]=y=>w.value=y)},{default:t(()=>[e(U,null,{default:t(()=>[e(k,null,{default:t(()=>[Zo]),_:1}),e(k,null,{default:t(()=>[e(J,{modelValue:v.value,"onUpdate:modelValue":p[3]||(p[3]=y=>v.value=y),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[y=>!!y||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ve,{align:"right"},{default:t(()=>[W(e(S,{flat:"",label:"Cancel",color:"primary"},null,512),[[X]]),e(S,{flat:"",label:"Confirm",color:"negative",onClick:c})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ts=o=>(Z("data-v-355e3e60"),o=o(),ee(),o),as={class:"q-gutter-md q-ma-md"},ls={key:0},ns={class:"row justify-between"},os={class:"text-subtitle1"},ss={class:"text-subtitle1"},rs={class:"text-subtitle1"},is={key:1,class:"data-error"},ds=ts(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),cs={__name:"TransactionPendingCard",setup(o){const _=ge(),v=Ye(),w=B(()=>v.pendingOtherReports),m=_.params.branch_id,u=C("pending"),x=async()=>{try{const n=await v.fetchPendingOtherStocks(m,u.value);console.log(w.value)}catch(n){console.error("Error fetching pending stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",as,[w.value.length?(b(),P("div",ls,[(b(!0),P(z,null,fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",ns,[a("div",os,h(s(l.created_at)),1),a("div",ss,h(d(l.created_at)),1),a("div",rs,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"yellow",outlined:""},{default:t(()=>[R(" Pending ")]),_:1})]),a("div",null,[e(es,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(b(),P("div",is,[e(te,{name:"warning",color:"warning",size:"4em"}),ds]))])]),_:1})]))}};var us=E(cs,[["__scopeId","data-v-355e3e60"]]);const ms={class:"row justify-between"},ps=a("div",{class:"text-h6"},"Other Added Stocks Report",-1),_s={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0};Re();const w=o,m=B(()=>(console.log("Filtered rows:",w.report||[]),w.report.other_added_stock||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},x=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Q,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",ms,[ps,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"green",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})])]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:x,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const fs=o=>(Z("data-v-5b0a7351"),o=o(),ee(),o),gs={class:"q-gutter-md q-ma-md"},vs={class:"row justify-between"},hs={class:"text-subtitle1"},ys={class:"text-subtitle1"},bs={class:"text-subtitle1"},ws={key:1,class:"data-error"},xs=fs(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),$s={__name:"TransactionConfirmedCard",setup(o){const _=ge(),v=Ye(),w=B(()=>v.confirmedOtherReports),m=_.params.branch_id,u=C("confirmed"),x=async()=>{try{const n=await v.fetchConfirmedOtherStocks(m,u.value);console.log(w.value)}catch(n){console.error("Error fetching confirmed stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",gs,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",vs,[a("div",hs,h(s(l.created_at)),1),a("div",ys,h(d(l.created_at)),1),a("div",bs,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"green",outlined:""},{default:t(()=>[R(h(l.status),1)]),_:2},1024)]),a("div",null,[e(_s,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",ws,[e(te,{name:"warning",color:"warning",size:"4em"}),xs]))])]),_:1})]))}};var ks=E($s,[["__scopeId","data-v-5b0a7351"]]);const Cs={class:"row justify-between"},Rs=a("div",{class:"text-h6"},"Others Added Stocks Report",-1),Ps={class:"q-mt-md"},Ss={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(o){qe(),C(!1);const _=C(!1),v=()=>{_.value=!0},w=o,m=B(()=>(console.log("Filtered rows:",w.report||[]),w.report.other_added_stock||[])),u=s=>{const d=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",c=s.firstname?d(s.firstname):"No Firstname",n=s.middlename?d(s.middlename).charAt(0)+".":"",r=s.lastname?d(s.lastname):"No Lastname";return`${c} ${n} ${r}`},x=[{name:"product_name",label:"Product Name",field:s=>(console.log("Row data:",s),s.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:s=>(console.log("Row data:",s),s.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:s=>s.added_stocks?`${s.added_stocks} pcs`:"N/A"}];return(s,d)=>(b(),P(z,null,[a("div",null,[e(S,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(Q,{modelValue:_.value,"onUpdate:modelValue":d[2]||(d[2]=c=>_.value=c)},{default:t(()=>[e(U,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(k,null,{default:t(()=>[a("div",Cs,[Rs,e(S,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:d[0]||(d[0]=c=>_.value=!1)})])]),_:1}),e(k,null,{default:t(()=>[a("div",null,"Cashier: "+h(u(o.report.employee)),1),a("div",null," Branch: "+h(o.report.branch.name),1),a("div",null,[R(" Status: "),e(le,{color:"red",outlined:""},{default:t(()=>[R(h(o.report.status),1)]),_:1})]),a("div",Ps,"Remark: "+h(o.report.remark),1)]),_:1}),e(k,null,{default:t(()=>[e(se,{rows:m.value,columns:x,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":d[1]||(d[1]=c=>s.pagination=c),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Vs=o=>(Z("data-v-67ff56ab"),o=o(),ee(),o),Ds={class:"q-gutter-md q-ma-md"},qs={class:"row justify-between"},Ns={class:"text-subtitle1"},As={class:"text-subtitle1"},Ts={class:"text-subtitle1"},Us={key:1,class:"data-error"},Bs=Vs(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Fs={__name:"TransactionDeclinedCard",setup(o){const _=ge(),v=Ye(),w=B(()=>v.declinedOtherReports),m=_.params.branch_id,u=C("declined"),x=async()=>{try{const n=await v.fetchDeclinedOtherStocks(m,u.value);console.log("selectedOtherProductDeclined",w.value)}catch(n){console.error("Error fetching decline stocks:",n)}};we(async()=>{m&&await x()});const s=n=>de.formatDate(n,"MMMM D, YYYY"),d=n=>de.formatDate(n,"hh:mm A"),c=n=>{const r=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",l=n.firstname?r(n.firstname):"No Firstname",i=n.middlename?r(n.middlename).charAt(0)+".":"",$=n.lastname?r(n.lastname):"No Lastname";return`${l} ${i} ${$}`};return(n,r)=>(b(),P("div",null,[e(De,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Ds,[w.value.length?(b(!0),P(z,{key:0},fe(w.value,(l,i)=>(b(),T(U,{key:i},{default:t(()=>[e(k,null,{default:t(()=>[a("div",qs,[a("div",Ns,h(s(l.created_at)),1),a("div",As,h(d(l.created_at)),1),a("div",Ts,h(l.branch.name)+" - "+h(c(l.employee)),1),a("div",null,[e(le,{color:"red",outlined:""},{default:t(()=>[R(h(l.status),1)]),_:2},1024)]),a("div",null,[e(Ss,{report:l},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(b(),P("div",Us,[e(te,{name:"warning",color:"warning",size:"4em"}),Bs]))])]),_:1})]))}};var Is=E(Fs,[["__scopeId","data-v-67ff56ab"]]);const Ls={class:"q-gutter-y-sm"},Ms={__name:"OtherTransactionPage",setup(o){const _=C("pendingReports"),v=B(()=>{switch(_.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(w,m)=>(b(),P(z,null,[a("div",Ls,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":m[0]||(m[0]=u=>_.value=u),"indicator-color":v.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(re,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(re,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(re,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=u=>_.value=u),animated:""},{default:t(()=>[e(ie,{name:"pendingReports"},{default:t(()=>[e(us)]),_:1}),e(ie,{name:"confirmReports"},{default:t(()=>[e(ks)]),_:1}),e(ie,{name:"declineReports"},{default:t(()=>[e(Is)]),_:1})]),_:1},8,["modelValue"])],64))}};var zs=E(Ms,[["__scopeId","data-v-b76c19b4"]]);const it=o=>(Z("data-v-0a732ed6"),o=o(),ee(),o),Hs={class:"q-gutter-y-sm"},Os=it(()=>a("h1",null,"Bread",-1)),js=it(()=>a("h1",null,"Cake",-1)),Qs={__name:"TransactionPage",setup(o){const _=C("bread");return(v,w)=>(b(),P(z,null,[a("div",Hs,[e(Fe,{modelValue:_.value,"onUpdate:modelValue":w[0]||(w[0]=m=>_.value=m),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(re,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(re,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(re,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(re,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(re,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Ie,{modelValue:_.value,"onUpdate:modelValue":w[1]||(w[1]=m=>_.value=m),animated:""},{default:t(()=>[e(ie,{name:"bread"},{default:t(()=>[e(U,null,{default:t(()=>[Os]),_:1})]),_:1}),e(ie,{name:"selecta"},{default:t(()=>[e(oo)]),_:1}),e(ie,{name:"softdrinks"},{default:t(()=>[e(Jo)]),_:1}),e(ie,{name:"cake"},{default:t(()=>[e(U,null,{default:t(()=>[js]),_:1})]),_:1}),e(ie,{name:"other"},{default:t(()=>[e(zs)]),_:1})]),_:1},8,["modelValue"])],64))}};var Es=E(Qs,[["__scopeId","data-v-0a732ed6"]]);const Te=o=>(Z("data-v-f0d86c36"),o=o(),ee(),o),Ys=Te(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),Ks={class:"q-mb-lg"},Gs={key:0,class:"custom-list z-top"},Js={class:"q-mb-sm"},Ws=Te(()=>a("div",null,"Recipe Name",-1)),Xs={class:"q-mb-lg"},Zs=Te(()=>a("div",null,"Category",-1)),er=Te(()=>a("div",null,"Breads",-1)),tr={class:"q-mt-md q-gutter-y-sm"},ar=Te(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),lr={class:"q-mt-xl q-gutter-y-sm"},nr={class:"row justify-between"},or=Te(()=>a("div",{align:"center"},"Ingredients",-1)),sr=Te(()=>a("div",{align:"center"},"Quantity",-1)),rr=["onKeyup"],ir={align:"right"},dr={__name:"RecipeCreate",setup(o){const _=ge(),v=_.params.branch_id,w=vt(),m=B(()=>w.recipes),u=je(),x=lt(),s=je(),d=B(()=>u.branchRecipes),c=C(!1),n=()=>{c.value=!0},r=()=>{clearForm(),c.value=!1},l=M=>M?M.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase()).join(" "):"",i=C(""),$=async()=>{w.searchRecipe(i.value)},p=B(()=>f.target!==0),y=M=>{f.recipe_id=M.id,f.recipe_name=M.name,f.category=M.category,i.value=""},f=He({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:_.params.branch_id}),D=C(!1),V=C(null),I=C([]),A=C(I.value),L=C([]),g=C([]),q=He({name:"",quantity:""}),N=C(g.value);(async()=>{await x.fetchProductsByCategory("Bread"),D.value=!1,I.value=x.breads.map(M=>({label:M.name,value:M.id}))})(),(async()=>{const M="Ingredients";await s.fetchBranchRawMaterials(M,v),D.value=!1,g.value=s.ingredients.map(H=>({label:H.raw_material_name,value:H.raw_material_id,unit:H.ingredient_unit}))})();const F=()=>{q.name="",q.quantity=""},oe=(M,H)=>{M.length>2&&(I.value.includes(M)||H(M,"add-unique"))},ue=(M,H)=>{H(()=>{if(M==="")A.value=I.value;else{const $e=M.toLowerCase();A.value=I.value.filter(G=>G.label.toLowerCase().indexOf($e)>-1)}})},Y=(M,H)=>{H(()=>{if(M==="")N.value=g.value;else{const $e=M.toLowerCase();N.value=g.value.filter(G=>G.label.toLowerCase().indexOf($e)>-1)}})},ve=()=>{const M=L.value;function H(Ce,Ue){return Ce.find(ze=>ze.ingredients_id==Ue)}const $e=q.name.value;H(M,$e)?ye.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(L.value=[...M,{ingredients_id:q.name.value,label:q.name.label,quantity:q.quantity,unit:q.name.unit}],F())},_e=M=>{L.value.splice(M,1)};Qe(()=>q.name,M=>{M&&M.unit?q.unit=M.unit:q.unit=""});const be=()=>{f.recipe_id="",f.target="",V.value=null,L.value=[],q.name="",q.quantity=""},ke=async()=>{const M={recipe_id:f.recipe_id,target:f.target,status:"active",branch_id:f.branches_id,breads:V.value.map(H=>({bread_id:H.value})),ingredients:L.value.map(H=>({ingredient_id:H.ingredients_id,quantity:H.quantity}))};console.log("branchRecipe",M),await u.saveBranchRecipe(M),d.value=await u.fetchBranchRecipes(v),be(),c.value=!1};return(M,H)=>(b(),P(z,null,[e(S,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:n}),e(Q,{modelValue:c.value,"onUpdate:modelValue":H[7]||(H[7]=$e=>c.value=$e)},{default:t(()=>[e(U,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(k,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Ys,e(Pe),W(e(S,{icon:"close",flat:"",dense:"",round:""},null,512),[[X]])]),_:1}),e(k,null,{default:t(()=>{var $e;return[a("div",Ks,[e(J,{modelValue:i.value,"onUpdate:modelValue":[H[0]||(H[0]=G=>i.value=G),$],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(te,{name:"search"})])]),default:t(()=>[i.value?(b(),P("div",Gs,[e(U,null,{default:t(()=>[e(Ae,{separator:""},{default:t(()=>{var G;return[(G=m.value)!=null&&G.length?(b(!0),P(z,{key:1},fe(m.value,Ce=>(b(),T(he,{onClick:Ue=>y(Ce),key:Ce.id,clickable:""},{default:t(()=>[e(ne,null,{default:t(()=>[e(me,null,{default:t(()=>[R(h(l(Ce.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(b(),T(he,{key:0},{default:t(()=>[R(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Ge("",!0)]),_:1},8,["modelValue"])]),a("div",Js,[Ws,e(J,{modelValue:f.recipe_name,"onUpdate:modelValue":H[1]||(H[1]=G=>f.recipe_name=G),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",Xs,[Zs,e(J,{modelValue:f.category,"onUpdate:modelValue":H[2]||(H[2]=G=>f.category=G),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(J,{modelValue:f.target,"onUpdate:modelValue":H[3]||(H[3]=G=>f.target=G),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),a("div",null,[er,e(Ke,{modelValue:V.value,"onUpdate:modelValue":H[4]||(H[4]=G=>V.value=G),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:A.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:oe,onFilter:ue,rules:[G=>G&&G.length>0||"Bread is required"]},{"no-option":t(()=>[e(he,null,{default:t(()=>[e(ne,{class:"text-grey"},{default:t(()=>[R(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",tr,[ar,a("div",null,[e(Ae,{dense:"",separator:"",class:"box"},{default:t(()=>[(b(!0),P(z,null,fe(L.value,(G,Ce)=>(b(),T(he,{key:Ce},{default:t(()=>[e(ne,null,{default:t(()=>[e(me,null,{default:t(()=>[R(h(G.label),1)]),_:2},1024)]),_:2},1024),e(ne,null,{default:t(()=>[R(h(G.quantity)+" "+h(G.unit),1)]),_:2},1024),e(ne,{side:""},{default:t(()=>[e(S,{onClick:Ue=>_e(Ce),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",lr,[a("div",nr,[a("div",null,[or,e(Ke,{modelValue:q.name,"onUpdate:modelValue":H[5]||(H[5]=G=>q.name=G),debounce:"3000",outlined:"","chips-color":"primary",options:N.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:Y,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(he,null,{default:t(()=>[e(ne,{class:"text-grey"},{default:t(()=>[R(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[sr,e(J,{modelValue:q.quantity,"onUpdate:modelValue":H[6]||(H[6]=G=>q.quantity=G),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:(($e=q==null?void 0:q.name)==null?void 0:$e.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:Ne(mt(ve,["prevent"]),["enter"])},[a("div",ir,[e(S,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:ve})])],40,rr)])]}),_:1}),e(Ve,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(S,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(S,{class:"glossy",color:"teal",label:"Create",onClick:ke,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var cr=E(dr,[["__scopeId","data-v-f0d86c36"]]);const dt=o=>(Z("data-v-33664d62"),o=o(),ee(),o),ur=dt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),mr=dt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),pr={__name:"RecipeDelete",props:["delete"],setup(o){const _=je(),v=o,w=C(!1),m=()=>{w.value=!0},u=async()=>{await _.deleteRecipe(v.delete.row.id),w.value=!1};return(x,s)=>(b(),P(z,null,[e(S,{onClick:m,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(ae,{class:"bg-negative",delay:200},{default:t(()=>[R("Delete")]),_:1})]),_:1}),e(Q,{modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=d=>w.value=d),persistent:""},{default:t(()=>[e(U,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(k,{class:"q-pt-none q-pb-sm"},{default:t(()=>[ur,mr]),_:1}),e(Je,{class:"q-mb-md"}),e(k,null,{default:t(()=>[e(Ve,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(S,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[X]]),e(S,{dense:"",label:"Delete",color:"negative",onClick:u,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var _r=E(pr,[["__scopeId","data-v-33664d62"]]);const fr=o=>(Z("data-v-7a561dd0"),o=o(),ee(),o),gr={class:"text-h6 text-white"},vr=fr(()=>a("div",{class:"text-h6",align:"center"},"Bread List",-1)),hr={class:"row",align:"center"},yr={__name:"RecipeBreadGroups",props:["breadGroups"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe();console.log("breadGroups",o.breadGroups);const x=s=>s?s.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"";return(s,d)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(U,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",gr,h(x(o.breadGroups.name)),1),e(Pe),a("div",null,[W(e(S,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])])]),_:1}),e(k,null,{default:t(()=>[vr]),_:1}),e(k,null,{default:t(()=>[(b(!0),P(z,null,fe(o.breadGroups.bread_groups,(c,n)=>(b(),P("div",{key:n},[a("div",hr,h(c),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var br=E(yr,[["__scopeId","data-v-7a561dd0"]]);const wr=o=>(Z("data-v-435e3b8f"),o=o(),ee(),o),xr={class:"text-h6 text-white"},$r=wr(()=>a("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),kr={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(o){const{dialogRef:_,onDialogHide:v,onDialogOK:w,onDialogCancel:m}=xe();console.log("ingredientGroups",o.ingredientGroups);const x=d=>d?d.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",s=d=>{const c=Number(d.quantity)||0,n=d.unit||"";return c>1e3?`${parseFloat((c/1e3).toFixed(3))} kg`:c>1?`${parseFloat(c.toFixed(3))} ${n}`:`${parseFloat(c.toFixed(3))} ${n}`};return(d,c)=>(b(),T(Q,{ref_key:"dialogRef",ref:_,onHide:O(v),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(U,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(k,{class:"row bg-backgroud text-h6"},{default:t(()=>[a("div",xr,h(x(o.ingredientGroups.name)),1),e(Pe),a("div",null,[W(e(S,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[X]])])]),_:1}),e(k,null,{default:t(()=>[$r]),_:1}),e(k,null,{default:t(()=>[e(Ae,{dense:"",separator:"",class:"box"},{default:t(()=>[e(he,null,{default:t(()=>[e(ne,null,{default:t(()=>[e(me,{class:"text-overline"},{default:t(()=>[R("Raw Materials Name")]),_:1})]),_:1}),e(ne,null,{default:t(()=>[e(me,{class:"text-overline"},{default:t(()=>[R("Code")]),_:1})]),_:1}),e(ne,{side:""},{default:t(()=>[e(me,{class:"text-overline"},{default:t(()=>[R("Quantity")]),_:1})]),_:1})]),_:1}),(b(!0),P(z,null,fe(o.ingredientGroups.ingredient_groups,(n,r)=>(b(),T(he,{key:r},{default:t(()=>[e(ne,null,{default:t(()=>[e(me,{class:"text-caption"},{default:t(()=>[R(h(n.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(ne,null,{default:t(()=>[e(me,{class:"text-caption"},{default:t(()=>[R(h(n.code),1)]),_:2},1024)]),_:2},1024),e(ne,{side:""},{default:t(()=>[e(me,{class:"text-caption"},{default:t(()=>[R(h(s(n)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Cr=E(kr,[["__scopeId","data-v-435e3b8f"]]);const Rr=o=>(Z("data-v-89832402"),o=o(),ee(),o),Pr={class:"row justify-between"},Sr={class:"q-my-sm"},Vr={key:0,class:"spinner-wrapper"},Dr={key:1},qr={key:0,class:"data-error"},Nr=Rr(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ar={class:"row justify-center q-gutter-x-md"},Tr={__name:"RecipeTable",setup(o){const v=ge().params.branch_id,w=je(),m=C(""),u=C(!0),x=C([]),s=C(!1),d=C({rowsPerPage:0}),c=["inactive","active"],n=B(()=>w.branchRecipes);console.log("branch recipe",n.value);const r=B(()=>m.value?n.value.filter(g=>g.name.toLowerCase().includes(m.value.toLowerCase())):n.value);we(async()=>{v&&await l(v)});const l=async g=>{try{u.value=!0;const q=await w.fetchBranchRecipes(g);n.value=q,console.log("branchRecipeRows",n.value),n.value.length||(s.value=!0),console.log("Branch recipe",n.value)}catch(q){console.log("Error fetching recipe",q)}finally{u.value=!1}},i=g=>{const q=Number(g)||0;return parseFloat(q.toFixed(3)).toString()},$=g=>!g&&g!==0?"Set Target":typeof g=="number"||!isNaN(g)?(g=parseFloat(g),g%1===0?g:parseFloat(g.toFixed(1))):g;async function p(g,q){try{const N=await Se.put("/api/update-target/"+g.id,{target:parseFloat(q)});if(console.log("response",N),N.status==200){const K=x.value.findIndex(pe=>pe.id==g.id);x.value[K]=q}ye.create({type:"positive",message:"Recipe target edited successfully"})}catch(N){console.error("Error updating recipe target:",N),ye.create({type:"negative",message:"Failed to edit recipe target"})}}async function y(g,q){try{if((await Se.put("/api/branch-update-status/"+g.id,{status:q})).status==200){const K=x.value.findIndex(pe=>pe.id==g.id);x.value[K]=q}ye.create({type:"positive",message:"Recipe status change successfully"})}catch(N){console.error("Error updating recipe status:",N),ye.create({type:"negative",message:"Failed to change recipe status"})}}const f=g=>g?g.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1).toLowerCase()).join(" "):"",D=[{name:"name",label:"Recipe name",align:"center",field:g=>g.name},{name:"category",label:"Category",align:"center",field:g=>g.recipe},{name:"target",label:"Target",align:"center",field:g=>$(g.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],V=Re(),I=g=>{console.log("Bread Groups:",g),V.dialog({component:br,componentProps:{breadGroups:g}})},A=g=>{console.log("Ingredients Groups:",g),V.dialog({component:Cr,componentProps:{ingredientGroups:g}})},L=g=>{switch(g){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(g,q)=>(b(),P(z,null,[a("div",Pr,[a("div",null,[e(J,{class:"q-pb-lg q-pl-md",modelValue:m.value,"onUpdate:modelValue":q[0]||(q[0]=N=>m.value=N),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Sr,[e(cr)])]),u.value?(b(),P("div",Vr,[e(Ee,{size:"50px",color:"primary"})])):(b(),P("div",Dr,[r.value.length===0?(b(),P("div",qr,[e(te,{name:"warning",color:"warning",size:"4em"}),Nr])):(b(),T(se,{key:1,class:"table-container sticky-header",filter:m.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:D,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":q[1]||(q[1]=N=>d.value=N),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(N=>[e(j,{props:N},{default:t(()=>[a("span",null,h(f(N.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(N=>[e(j,{props:N},{default:t(()=>[a("span",null,h(f(N.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(N=>[e(j,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[R(h(i(N.row.target))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Edit Target")]),_:1})]),e(Be,{"onUpdate:modelValue":[K=>p(N.row,K),K=>N.row.target=K],modelValue:N.row.target,"auto-save":""},{default:t(K=>[e(J,{modelValue:K.value,"onUpdate:modelValue":pe=>K.value=pe,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:Ne(K.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(N=>[e(j,{props:N},{default:t(()=>[e(le,{outline:"",color:L(N.row.status)},{default:t(()=>[R(h(f(N.row.status))+" ",1),e(ae,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[R("Change Status")]),_:1})]),_:2},1032,["color"]),e(Be,{"onUpdate:modelValue":[K=>y(N.row,K),K=>N.row.status=K],modelValue:N.row.status,"auto-save":""},{default:t(K=>[a("span",null,h(N.row.name),1),e(Ke,{modelValue:K.value,"onUpdate:modelValue":pe=>K.value=pe,dense:"",label:"status",autofocus:"",options:c,counter:"",mask:"###",onKeyup:Ne(K.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(N=>[e(j,{props:N},{default:t(()=>[e(S,{"no-caps":"",onClick:K=>I(N.row),label:`${N.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(N=>[e(j,{props:N},{default:t(()=>[e(S,{"no-caps":"",onClick:K=>A(N.row),label:`${N.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(N=>[e(j,{props:N},{default:t(()=>[a("div",Ar,[e(_r,{delete:N},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Ur=E(Tr,[["__scopeId","data-v-89832402"]]);const Br={__name:"RecipePage",setup(o){return(_,v)=>(b(),P("div",null,[e(Ur)]))}};const Fr={class:"elegant-container q-gutter-md"},Ir={class:"text-h6 row justify-between"},Lr={class:"q-gutter-sm"},Mr={class:"tab-container"},zr={__name:"BranchIdPage",setup(o){const _=ge(),v=C(""),w=pt(),m=async c=>(await Se.get(`/api/branches/${c}`)).data,u=async()=>{const c=_.params.branch_id,n=await m(c);n&&n.name?v.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};we(()=>{u()});const x=c=>c?c.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",s=C("products"),d=()=>{at.show(),w.push("/admin/branches").finally(()=>{at.hide()})};return(c,n)=>(b(),T(_t,{padding:""},{default:t(()=>[a("div",Fr,[a("div",Ir,[a("div",null,[e(S,{outline:"",flat:"",icon:"arrow_back",onClick:d}),e(Pe)]),a("div",null,[e(te,{name:"fa-solid fa-store",color:"red-6"}),R(" "+h(x(v.value)),1)])]),a("div",Lr,[a("div",Mr,[e(Fe,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=r=>s.value=r),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(re,{name:"products",label:"Products"}),e(re,{name:"rawMaterials",label:"Raw Materials"}),e(re,{name:"recipe",label:"Recipe"}),e(re,{name:"production",label:"Production"}),e(re,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(U,{class:"q-mt-sm"},{default:t(()=>[e(Ie,{modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=r=>s.value=r),animated:""},{default:t(()=>[e(ie,{name:"products"},{default:t(()=>[e(Ot)]),_:1}),e(ie,{name:"rawMaterials"},{default:t(()=>[e(_a)]),_:1}),e(ie,{name:"recipe"},{default:t(()=>[e(Br)]),_:1}),e(ie,{name:"production"},{default:t(()=>[e(fn)]),_:1}),e(ie,{name:"transaction"},{default:t(()=>[e(Es)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var ki=E(zr,[["__scopeId","data-v-eb7c826e"]]);export{ki as default};
