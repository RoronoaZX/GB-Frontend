import{bd as we,c as F,r as q,t as ze,o as $,a2 as I,f as e,M as A,w as t,Q as z,I as U,ad as le,J as o,K as D,L as ee,e as T,$ as N,a3 as K,a4 as ge,_ as x,bc as Oe,aI as Te,a1 as G,a0 as tt,N as pe,O as te,R as ae,z as Re,u as $e,ba as re,aJ as ft,be as X,d as vt,P as Ue,aH as yt,H as bt}from"./index.cf5b631e.js";import{Q as Ce}from"./QSpace.f9c035a4.js";import{Q as Qe,a as ye,b as Ee,c as be}from"./QTabPanels.7317802a.js";import{Q as ht}from"./QPage.88469114.js";import{Q as Pe,a as ie,b as Y}from"./QList.b02fc07c.js";import{b as oe}from"./use-virtual-scroll.a5b3adad.js";import{C as ne}from"./ClosePopup.7c4d4e75.js";import{u as He}from"./branch-product.86ed80b5.js";import{u as Ye}from"./product.810bc6ac.js";import{Q as at}from"./QSpinnerDots.3206eb2d.js";import{Q,a as ke}from"./QTable.2d9bda93.js";import{Q as _e}from"./QBadge.aa9028f0.js";import{Q as ce}from"./QTooltip.35f304a4.js";import{Q as de}from"./QPopupEdit.e05a5f36.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import{api as J}from"./axios.c8339da7.js";import{u as nt}from"./branch-rawMaterials.eba0660b.js";import{u as wt}from"./raw-material.5d9bed64.js";import{u as Se}from"./use-dialog-plugin-component.e75516fb.js";import{Q as kt}from"./QMenu.039abd03.js";import{q as he}from"./date.d9f56e4c.js";import{u as De}from"./use-quasar.bbb886ae.js";import{p as Ze,v as it}from"./vfs_fontes.3eb8cb31.js";import{Q as Le}from"./QScrollArea.73bee26c.js";import{u as Me,a as Ge,b as ot}from"./other-product.cf143a7f.js";import{Q as lt}from"./QSelect.396bd51e.js";import{u as xt}from"./recipe.5ddfcb0b.js";import{u as et}from"./branch-recipe.075ffc53.js";import"./QResizeObserver.1b0da938.js";import"./use-panel.739bacd2.js";import"./touch.9135741d.js";import"./selection.5f9bd923.js";import"./QVirtualScroll.fe485750.js";import"./QScrollObserver.69354a5f.js";import"./TouchPan.ce8f20ae.js";import"./QChip.336c967d.js";const $t=o("div",{class:"text-h6"},"Create Branch Product",-1),Vt={class:"q-mb-lg"},Rt={key:0,class:"custom-list z-top"},Ct=o("div",null,"Product Name",-1),St=o("div",null,"Category",-1),Pt={class:"row justify-between"},Ut=o("div",null,"Beginnings",-1),Nt=o("div",null,"Total Quantity",-1),qt=o("div",null,"Price",-1),Dt={__name:"ProductCreate",setup(d){const b=we(),R=Ye(),V=F(()=>R.products),w=He(),h=q(""),P=async()=>{R.searchProducts(h.value)},c=F(()=>S.price!==0&&S.beginnings!==0&&S.total_quantity!==0),v=q(!1),f=()=>{v.value=!0},r=()=>{y(),v.value=!1},k=m=>m?m.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",g=m=>{S.product_id=m.id,S.product_name=m.name,S.category=m.category,h.value=""},S=ze({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:b.params.branch_id}),y=()=>{S.product_id="",S.product_name="",S.category="",S.price=0,S.beginnings=0,S.total_quantity=0},p=async()=>{try{const{product_name:m,..._}=S;await w.createBranchProducts(_),console.log("data to send",_),y(),v.value=!1}catch(m){console.log(m)}};return(m,_)=>($(),I(K,null,[e(A,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:f}),e(G,{modelValue:v.value,"onUpdate:modelValue":_[6]||(_[6]=a=>v.value=a),persistent:""},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(U,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[$t,e(Ce),le(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",Vt,[e(D,{modelValue:h.value,"onUpdate:modelValue":[_[0]||(_[0]=a=>h.value=a),P],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[h.value?($(),I("div",Rt,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var a;return[(a=V.value)!=null&&a.length?($(!0),I(K,{key:1},ge(V.value,i=>($(),T(ie,{onClick:n=>g(i),key:i.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(k(i.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Ct,e(D,{modelValue:S.product_name,"onUpdate:modelValue":_[1]||(_[1]=a=>S.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[St,e(D,{modelValue:S.category,"onUpdate:modelValue":_[2]||(_[2]=a=>S.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Pt,[o("div",null,[Ut,e(D,{modelValue:S.beginnings,"onUpdate:modelValue":_[3]||(_[3]=a=>S.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Nt,e(D,{modelValue:S.total_quantity,"onUpdate:modelValue":_[4]||(_[4]=a=>S.total_quantity=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),o("div",null,[qt,e(D,{modelValue:S.price,"onUpdate:modelValue":_[5]||(_[5]=a=>S.price=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Te,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(A,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(A,{class:"glossy",color:"teal",label:"Create",onClick:p,disable:!c.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ut=d=>(te("data-v-196482e9"),d=d(),ae(),d),It=ut(()=>o("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),At=ut(()=>o("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Bt={__name:"ProductDelete",props:["delete"],setup(d){const b=He(),R=d;console.log("delte",R.delete.row.id);const V=async()=>{try{await b.deleteBranchProducts(R.delete.row.id),pe.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),w.value=!1}catch(P){console.error(P.message)}},w=q(!1),h=()=>{console.log("ID",R.delete.row.id),w.value=!0};return(P,c)=>($(),I(K,null,[e(A,{onClick:h,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ce,{class:"bg-negative",delay:200},{default:t(()=>[N("Delete")]),_:1})]),_:1}),e(G,{modelValue:w.value,"onUpdate:modelValue":c[0]||(c[0]=v=>w.value=v)},{default:t(()=>[e(z,null,{default:t(()=>[e(U,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[It,At]),_:1}),e(tt,{class:"q-mb-md"}),e(U,null,{default:t(()=>[e(Te,{align:"right",class:"q-pt-none"},{default:t(()=>[le(e(A,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ne]]),e(A,{dense:"",label:"Delete",color:"negative",onClick:V,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ft=W(Bt,[["__scopeId","data-v-196482e9"]]);const Tt=d=>(te("data-v-c74b6072"),d=d(),ae(),d),zt={class:"row justify-between"},Lt={class:"q-my-sm"},Ot={key:0,class:"spinner-wrapper"},Mt={key:1},Ht={key:0,class:"data-error"},jt=Tt(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Kt={key:1},Qt={__name:"ProductTable",setup(d){const R=we().params.branch_id,V=He(),w=q(""),h=q(!0),P=q([]),c=q(!1),v=q({rowsPerPage:0}),f=F(()=>V.branchProducts);console.log("branchssdfrer",f.value);const r=F(()=>w.value?f.value.filter(i=>i.name.toLowerCase().includes(w.value.toLowerCase())):f.value),k=i=>i?i.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"";Re(async()=>{R&&await g(R)});const g=async i=>{try{h.value=!0;const n=await V.fetchBranchProducts(i);f.value=n,f.value.length||(c.value=!0),console.log("Branch product",f.value)}catch(n){console.log("Error fetching branch product:",n),c.value=!0}finally{h.value=!1}};$e(w,async i=>{h.value=!0,await new Promise(n=>setTimeout(n,1e3)),h.value=!1,c.value=r.value.length===0});async function S(i,n){try{const l=await J.put("/api/update-branch-products/"+i.id,{price:parseInt(n)});if(l.status===200){const u=P.value.findIndex(s=>s.id==i.id);P.value[u]=parseInt(n),pe.create({type:"positive",message:l.data.message,timout:1e3,position:"top"})}}catch(l){console.error("Error updating price:",l)}}async function y(i,n){try{const l=await J.put("/api/update-branch-products-beginnings/"+i.id,{beginnings:parseInt(n)});if(l.status===200){const u=P.value.findIndex(s=>s.id==i.id);P.value[u]=parseInt(n),pe.create({type:"positive",message:l.data.message,timout:1e3,position:"top"})}}catch(l){console.error("Error updating price:",l)}}async function p(i,n){try{const l=await J.put("/api/update-branch-products-total-quantity/"+i.id,{total_quantity:parseInt(n)});if(l.status===200){const u=P.value.findIndex(s=>s.id==i.id);P.value[u]=parseInt(n),pe.create({type:"positive",message:l.data.message,timout:1e3,position:"top"})}}catch(l){console.error("Error updating price:",l)}}const m=i=>{switch(i){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},_=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),a=[{name:"name",label:"Product Name",align:"center",field:i=>i.product.name,format:i=>`${i}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:i=>_(i),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:i=>`${i} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:i=>`${i} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(i,n)=>($(),I(K,null,[o("div",zt,[o("div",null,[e(D,{class:"q-pb-lg q-pl-md",modelValue:w.value,"onUpdate:modelValue":n[0]||(n[0]=l=>w.value=l),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",Lt,[e(Dt)])]),h.value?($(),I("div",Ot,[e(at,{size:"50px",color:"primary"})])):($(),I("div",Mt,[r.value.length===0?($(),I("div",Ht,[e(ee,{name:"warning",color:"warning",size:"4em"}),jt])):($(),T(ke,{key:1,class:"table-container sticky-header",filter:w.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:a,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":n[1]||(n[1]=l=>v.value=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(l=>[e(Q,{key:"name",props:l},{default:t(()=>{var u;return[N(x((u=l.row.product)!=null&&u.name?k(l.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(l=>[e(Q,{key:"name",props:l},{default:t(()=>[l.row.category?($(),T(_e,{key:0,color:m(l.row.category)},{default:t(()=>[N(x(l.row.category),1)]),_:2},1032,["color"])):($(),I("span",Kt,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(l=>[e(Q,{props:l,class:"cursor-pointer"},{default:t(()=>[o("span",null,[N(x(_(l.row.price))+" ",1),e(ce,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N("Edit Price")]),_:1})]),e(de,{"onUpdate:modelValue":[u=>S(l.row,u),u=>l.row.price=u],modelValue:l.row.price,"auto-save":""},{default:t(u=>[e(D,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(l=>[e(Q,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[o("span",null,[N(x(l.row.beginnings?l.row.beginnings:"Set Beginnings")+" ",1),e(ce,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N("Edit beginnings")]),_:1})]),e(de,{"onUpdate:modelValue":[u=>y(l.row,u),u=>l.row.beginnings=u],modelValue:l.row.beginnings,"auto-save":""},{default:t(u=>[e(D,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:re(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(l=>[e(Q,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[o("span",null,[N(x(l.row.total_quantity?l.row.total_quantity:"Set Quantity")+" ",1),e(ce,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N("Edit quantity")]),_:1})]),e(de,{"onUpdate:modelValue":[u=>p(l.row,u),u=>l.row.total_quantity=u],modelValue:l.row.total_quantity,"auto-save":""},{default:t(u=>[e(D,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:re(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(l=>[e(Q,{class:"q-gutter-x-md",props:l},{default:t(()=>[e(Ft,{delete:l},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Et=W(Qt,[["__scopeId","data-v-c74b6072"]]);const Yt={class:"q-gutter-sm"},Gt={__name:"ProductPage",setup(d){return(b,R)=>($(),I("div",Yt,[o("div",null,[e(Et)])]))}},Wt=o("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Jt={class:"q-mb-lg"},Xt={key:0,class:"custom-list z-top"},Zt=o("div",null,"Raw Materials Code",-1),ea=o("div",null,"Raw Materials Name",-1),ta=o("div",null,"Category",-1),aa=o("div",null,"Quantity",-1),oa={__name:"RawMaterialsCreate",setup(d){const b=we(),R=wt(),V=F(()=>R.rawMaterials),w=nt(),h=q(""),P=async()=>{R.searchRawMaterials(h.value)},c=F(()=>g.total_quantity!==""),v=q(!1),f=()=>{v.value=!0},r=()=>{S(),v.value=!1},k=p=>{g.ingredients_id=p.id,g.ingredient_name=p.name,g.ingredient_code=p.code,g.category=p.category,g.unit=p.unit,h.value=""},g=ze({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:b.params.branch_id}),S=()=>{g.ingredients_id="",g.ingredient_name="",g.ingredient_code="",g.total_quantity="",g.ingredients_id="",g.category="",g.unit=""},y=async()=>{try{const{product_name:p,...m}=g;await w.createBranchRawMaterials(m),console.log("data to send",m),S(),v.value=!1}catch(p){console.log(p)}};return(p,m)=>($(),I(K,null,[e(A,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:f,style:{background:"#f43f5e"}}),e(G,{modelValue:v.value,"onUpdate:modelValue":m[5]||(m[5]=_=>v.value=_),persistent:""},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(U,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Wt,e(Ce),le(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",Jt,[e(D,{modelValue:h.value,"onUpdate:modelValue":[m[0]||(m[0]=_=>h.value=_),P],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[h.value?($(),I("div",Xt,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var _;return[(_=V.value)!=null&&_.length?($(!0),I(K,{key:1},ge(V.value,a=>($(),T(ie,{onClick:i=>k(a),key:a.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(a.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Zt,e(D,{modelValue:g.ingredient_code,"onUpdate:modelValue":m[1]||(m[1]=_=>g.ingredient_code=_),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[ea,e(D,{modelValue:g.ingredient_name,"onUpdate:modelValue":m[2]||(m[2]=_=>g.ingredient_name=_),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[ta,e(D,{modelValue:g.category,"onUpdate:modelValue":m[3]||(m[3]=_=>g.category=_),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[aa,e(D,{modelValue:g.total_quantity,"onUpdate:modelValue":m[4]||(m[4]=_=>g.total_quantity=_),type:"number",outlined:"",suffix:g.unit||"",dense:"",rules:[_=>_&&_.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Te,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(A,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:r}),e(A,{class:"glossy",color:"teal",label:"Create",onClick:y,disable:!c.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ct=d=>(te("data-v-17ad5e9f"),d=d(),ae(),d),la=ct(()=>o("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),na=ct(()=>o("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),sa={__name:"RawMaterialsTableDelete",props:["delete"],setup(d){const b=nt(),R=d,V=async()=>{console.log("clickkkd");try{await b.deleteBranchRawMaterials(R.delete.row.id),pe.create({type:"negative",icon:"warning",message:`Raw Materials ${R.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),w.value=!1}catch(P){console.error(P.message)}},w=q(!1),h=()=>{w.value=!0};return(P,c)=>($(),I(K,null,[e(A,{onClick:h,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(ce,{class:"bg-negative",delay:200},{default:t(()=>[N("Delete")]),_:1})]),_:1}),e(G,{modelValue:w.value,"onUpdate:modelValue":c[0]||(c[0]=v=>w.value=v)},{default:t(()=>[e(z,null,{default:t(()=>[e(U,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[la,na]),_:1}),e(tt,{class:"q-mb-md"}),e(U,null,{default:t(()=>[e(Te,{align:"right",class:"q-pt-none"},{default:t(()=>[le(e(A,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ne]]),e(A,{dense:"",label:"Delete",color:"negative",onClick:V,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ra=W(sa,[["__scopeId","data-v-17ad5e9f"]]);const mt=d=>(te("data-v-74a3fea6"),d=d(),ae(),d),da={class:"row justify-between"},ia={class:"q-my-sm"},ua={key:0,class:"spinner-wrapper"},ca={key:1},ma={key:0,class:"data-error"},pa=mt(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),_a=mt(()=>o("div",{class:"text-white"},"Edit Available Stocks",-1)),ga={class:"row justify-center q-gutter-x-md"},fa={__name:"RawMaterialsTable",setup(d){const R=we().params.branch_id,V=nt(),w=q(""),h=q(!0),P=q([]),c=q(!1),v=q({rowsPerPage:0}),f=F(()=>V.branchRawMaterials),r=F(()=>w.value?f.value.filter(m=>m.name.toLowerCase().includes(w.value.toLowerCase())):f.value);Re(async()=>{console.log("props.branchId in onMounted:",R),R&&await k(R)});const k=async m=>{try{h.value=!0;const _=await V.fetchBranchRawMaterials(m);f.value=_,f.value.length||(c.value=!0),console.log("Branch Raw Materials",f.value)}catch(_){console.log("Error fetching branch product:",_),c.value=!0}finally{h.value=!1}};async function g(m,_){try{const a=await J.put("/api/update-branch-rawMaterials/"+m.id,{total_quantity:parseInt(_)});if(a.status===200){const i=P.value.findIndex(n=>n.id==m.id);P.value[i]=parseInt(_),pe.create({type:"positive",message:a.data.message,timout:1e3,position:"top"})}}catch(a){console.error("Error updating price:",a)}}$e(w,async m=>{h.value=!0,await new Promise(_=>setTimeout(_,1e3)),h.value=!1,c.value=r.value.length===0});const S=m=>{const _=m.total_quantity;if(m.ingredients.unit==="Grams"&&_<1e3)return"bg-red";let i;return _>=1e3?i=_/1e3:i=_,i<5?i<=2?"bg-red":(i<=3,"bg-warning"):"bg-positive"},y=m=>{const _=m.total_quantity,a=m.ingredients.unit;if(_>1e3){const i=(_/1e3).toFixed(2);return i.endsWith(".00")?`${Math.round(_/1e3)} kilos`:`${i} kilos`}else return _>1?`${_} ${a}`:`${_} ${a}`},p=[{name:"code",label:"Raw Materials Code",align:"center",field:m=>{var _,a;return(a=(_=m==null?void 0:m.ingredients)==null?void 0:_.code)!=null?a:"No Code"},format:m=>`${m}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:m=>{var _,a;return(a=(_=m==null?void 0:m.ingredients)==null?void 0:_.name)!=null?a:"No Code"},format:m=>`${m}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(m,_)=>($(),I(K,null,[o("div",da,[o("div",null,[e(D,{class:"q-pb-lg q-pl-md",modelValue:w.value,"onUpdate:modelValue":_[0]||(_[0]=a=>w.value=a),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",ia,[e(oa)])]),h.value?($(),I("div",ua,[e(at,{size:"50px",color:"primary"})])):($(),I("div",ca,[r.value.length===0?($(),I("div",ma,[e(ee,{name:"warning",color:"warning",size:"4em"}),pa])):($(),T(ke,{key:1,class:"table-container sticky-header",filter:w.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:r.value,"row-key":"name","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":_[1]||(_[1]=a=>v.value=a),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(a=>[e(Q,{props:a},{default:t(()=>[e(_e,{square:"",class:ft(["text-white cursor-pointer",S(a.row)])},{default:t(()=>[N(x(y(a.row))+" ",1),e(ce,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[_a]),_:1}),e(de,{"onUpdate:modelValue":[i=>g(a.row,i),i=>a.row.total_quantity=i],modelValue:a.row.total_quantity,"auto-save":""},{default:t(i=>[e(D,{modelValue:i.value,"onUpdate:modelValue":n=>i.value=n,dense:"",suffix:a.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:re(i.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(a=>[e(Q,{props:a},{default:t(()=>[o("div",ga,[e(ra,{delete:a},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var va=W(fa,[["__scopeId","data-v-74a3fea6"]]);const ya={class:"q-gutter-sm"},ba={class:"q-gutter-x-sm"},ha={__name:"RawMaterialsPage",setup(d){return(b,R)=>($(),I("div",ya,[o("div",ba,[e(_e,{label:"Good",class:"text-white",color:"positive"}),e(_e,{label:"Warning",class:"text-white",color:"warning"}),e(_e,{label:"Danger",class:"text-white",color:"red"})]),o("div",null,[e(va)])]))}};const wa=d=>(te("data-v-2e420de9"),d=d(),ae(),d),ka={class:"text-h6 text-white"},xa=wa(()=>o("div",{class:"text-h6",align:"center"},"Bread List",-1)),$a={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se();console.log("breadReportsaaasss",d.breadProduction);const P=c=>c?c.split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join(" "):"";return(c,v)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,{class:"row bg-backgroud text-h6"},{default:t(()=>{var f,r,k,g;return[o("div",ka,x(`${P((r=(f=d.branchRecipe)==null?void 0:f.recipe)==null?void 0:r.name)} - ${(g=(k=d.branchRecipe)==null?void 0:k.recipe)==null?void 0:g.category}`),1),e(Ce),o("div",null,[le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]}),_:1}),e(U,null,{default:t(()=>[xa]),_:1}),e(U,null,{default:t(()=>[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ie,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Bread Name")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-overline text-center"},{default:t(()=>[N("Pieces")]),_:1})]),_:1})]),_:1}),($(!0),I(K,null,ge(d.breadProduction,(f,r)=>($(),T(ie,{key:r},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>{var k;return[N(x(P((k=f==null?void 0:f.bread)==null?void 0:k.name)),1)]}),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-caption text-center"},{default:t(()=>[N(x(`${f==null?void 0:f.bread_production} `),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Va=W($a,[["__scopeId","data-v-2e420de9"]]);const Ra=d=>(te("data-v-961b0a22"),d=d(),ae(),d),Ca={class:"text-h6 text-white"},Sa=Ra(()=>o("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Pa={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se();console.log("ingredientProduction",d.ingredientProduction);const P=v=>{const f=Number(v.quantity)||0,r=v.unit||"";return f>1e3?`${parseFloat((f/1e3).toFixed(3))} kg`:f>1?`${parseFloat(f.toFixed(3))} ${r}`:`${parseFloat(f.toFixed(3))} ${r}`},c=v=>v?v.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"";return(v,f)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,{class:"row bg-backgroud text-h6"},{default:t(()=>{var r,k,g,S;return[o("div",Ca,x(`${c((k=(r=d.branchRecipe)==null?void 0:r.recipe)==null?void 0:k.name)} - ${(S=(g=d.branchRecipe)==null?void 0:g.recipe)==null?void 0:S.category}`),1),e(Ce),o("div",null,[le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]}),_:1}),e(U,null,{default:t(()=>[Sa]),_:1}),e(U,null,{default:t(()=>[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ie,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Raw Materials Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Code")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Quantity")]),_:1})]),_:1})]),_:1}),($(!0),I(K,null,ge(d.ingredientProduction,(r,k)=>($(),T(ie,{key:k},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(r.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(r.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(P(r)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Ua=W(Pa,[["__scopeId","data-v-961b0a22"]]);const We=vt("productions",()=>{const d=q([]),b=q([]);return{productions:d,production:b,fetchAllProduction:async()=>{const f=await J.get("/api/branch-production-report");d.value=f.data.reports},fetchBranchProductions:async f=>{try{const r=await J.get(`/api/branches/${f}/production-report`);d.value=r.data}catch(r){console.log(r)}},updateBakerReport:async(f,r)=>{console.log("baker reports data in store",r),console.log("baker reports id data in store",f),Ue.show();try{const k=await J.put(`api/update/branch-baker-report/${f}`,r);console.log(k.data)}catch(k){console.error("Error updating baker report:",k)}finally{Ue.hide()}},addBreadProduction:async f=>{console.log("Bread Production Data:",f),Ue.show();try{const r=await J.post("/api/branch-add-bread-production-report",f);console.log(r.data),pe.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),pe.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ue.hide()}},addSelectaProduction:async f=>{console.log("Selecta Production Data:",f),Ue.show();try{const r=await J.post("/api/branch-add-selecta-production-report",f);console.log(r.data),pe.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),pe.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ue.hide()}},addSoftdrinksProduction:async f=>{console.log("Softdrinks Production Data:",f),Ue.show();try{const r=await J.post("/api/branch-add-softdrinks-production-report",f);console.log(r.data),pe.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),pe.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ue.hide()}},addOtherProductProduction:async f=>{console.log("Softdrinks Production Data:",f),Ue.show();try{const r=await J.post("/api/branch-add-other-production-report",f);console.log(r.data),pe.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(r){console.log(r),pe.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ue.hide()}}}});const pt=d=>(te("data-v-6681c582"),d=d(),ae(),d),Na={class:"text-h6 text-dark"},qa={class:"row q-gutter-sm"},Da={class:"row q-mt-sm q-gutter-sm"},Ia=pt(()=>o("div",{class:"q-mt-sm"},"Kilo",-1)),Aa={class:"q-mt-xl q-gutter-md"},Ba={key:0},Fa={class:"q-mx-sm"},Ta=pt(()=>o("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),za={__name:"EditBakersReport",props:["bakerReports","sales_report_id"],setup(d){const b=We(),{dialogRef:R,onDialogHide:V}=Se(),w=d;console.log("bakers report",w.bakerReports);const h=ze({target:0,actual_target:0,short:0,over:0,kilo:0}),P=F(()=>w.bakerReports.ingredient_bakers_reports.map(y=>{const p=parseFloat(w.bakerReports.kilo)||1,m=parseFloat(h.kilo)||1,a=y.quantity/p*m;return{...y,quantity:a.toFixed(3)}})),c=y=>y?y.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",v=y=>{const p=Number(y.quantity)||0,m=y.unit||"";return p>1e3?`${parseFloat((p/1e3).toFixed(3))} kg`:p>1?`${parseFloat(p.toFixed(3))} ${m}`:`${parseFloat(p.toFixed(3))} ${m}`},f=y=>{const p=Number(y)||0;return parseFloat(p.toFixed(3)).toString()},r=y=>{const p=Number(y)||0;return parseFloat(p.toFixed(3)).toString()},k=F(()=>w.bakerReports.combined_bakers_reports.reduce((y,p)=>y+(parseFloat(p.bread_production)||0),0)),g=()=>{const y=k.value,p=parseFloat(h.actual_target)||0;y>p?(h.over=y-p,h.short=0):(h.short=p-y,h.over=0)};$e(()=>w.bakerReports,y=>{y&&(h.target=f(y.target)||0,h.actual_target=y.actual_target||0,h.short=y.short||0,h.over=y.over||0,h.kilo=r(y.kilo)||0)},{immediate:!0}),$e(()=>h.kilo,()=>{const y=parseFloat(h.kilo)||1,m=(parseFloat(h.target)||0)*y;h.actual_target=f(Math.ceil(m)),g()}),$e(()=>k.value,()=>g());const S=async()=>{var i,n,l;const y=w.bakerReports.id,p=((l=(n=(i=w.bakerReports)==null?void 0:i.branch_recipe)==null?void 0:n.recipe)==null?void 0:l.category)||null,m=w.bakerReports.status,_=(w==null?void 0:w.sales_report_id)||null,a={initial_bakerreports_id:y,sales_report_id:_,category:p,target:h.target,actual_target:h.actual_target,short:h.short,over:h.over,status:m,kilo:h.kilo,combined_bakers_reports:w.bakerReports.combined_bakers_reports.map(u=>({bread_id:u.bread.id,bread_production:u.bread_production})),recalculated_ingredients:P.value.map(u=>({ingredients_id:u.ingredients.id,quantity:u.quantity,unit:u.unit}))};console.log("Edited Bakers Report",a),console.log("Edited Bakers Report",y);try{await b.updateBakerReport(y,a),pe.create({type:"positive",message:"Baker report updated successfully!",position:"top"}),V()}catch(u){console.error("Error updating baker report:",u),pe.create({type:"negative",message:"Failed to update baker report. Please try again.",position:"top"})}};return(y,p)=>($(),T(G,{ref_key:"dialogRef",ref:R,onHide:X(V)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,{class:"row bg-backgroud text-h6"},{default:t(()=>{var m,_,a,i,n,l;return[o("div",Na,x(`${c((a=(_=(m=d.bakerReports)==null?void 0:m.branch_recipe)==null?void 0:_.recipe)==null?void 0:a.name)} - ${(l=(n=(i=d.bakerReports)==null?void 0:i.branch_recipe)==null?void 0:n.recipe)==null?void 0:l.category}`),1),e(Ce),o("div",null,[le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]}),_:1}),e(U,{class:"row q-gutter-x-xl"},{default:t(()=>[o("div",null,[o("div",qa,[o("div",null,[N(" Target Pcs "),e(D,{readonly:"",modelValue:h.target,"onUpdate:modelValue":p[0]||(p[0]=m=>h.target=m),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),o("div",null,[N(" Actual Target "),e(D,{readonly:"",modelValue:h.actual_target,"onUpdate:modelValue":p[1]||(p[1]=m=>h.actual_target=m),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),o("div",Da,[o("div",null,[N(" Short "),e(D,{readonly:"",modelValue:h.short,"onUpdate:modelValue":p[2]||(p[2]=m=>h.short=m),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),o("div",null,[N(" Over "),e(D,{readonly:"",modelValue:h.over,"onUpdate:modelValue":p[3]||(p[3]=m=>h.over=m),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),o("div",null,[Ia,e(D,{outlined:"",modelValue:h.kilo,"onUpdate:modelValue":p[4]||(p[4]=m=>h.kilo=m),dense:"",type:"number",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),o("div",Aa,[d.bakerReports.combined_bakers_reports.length?($(),I("div",Ba,[($(!0),I(K,null,ge(d.bakerReports.combined_bakers_reports,(m,_)=>($(),I("div",{key:_,class:"q-my-md"},[e(tt,{class:"q-ma-md"}),o("div",Fa,x(m.bread.name),1),e(D,{outlined:"",modelValue:m.bread_production,"onUpdate:modelValue":a=>m.bread_production=a,dense:"",type:"numbers",suffix:"pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):Oe("",!0)])]),o("div",null,[Ta,e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ie,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Raw Materials Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Code")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Quantity")]),_:1})]),_:1})]),_:1}),($(!0),I(K,null,ge(P.value,(m,_)=>($(),T(ie,{key:_},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(m.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(m.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(v(m)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(Te,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[le(e(A,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[ne]]),e(A,{class:"glossy",color:"teal",label:"Save",onClick:S})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var La=W(za,[["__scopeId","data-v-6681c582"]]);const Oa=d=>(te("data-v-f96814be"),d=d(),ae(),d),Ma=Oa(()=>o("div",{class:"row justify-between"},[o("div",{class:"text-h6"},"Baker Report")],-1)),Ha={class:"text-subtitle1 text-weight-regular"},ja={class:"q-ma-sm"},Ka={class:"q-ma-sm",align:"center"},Qa=["src"],Ea={__name:"BakerReportPanel",props:["bakersReport","sales_report_id"],setup(d){Ze.exports.vfs=it;const b=d,R=b.bakersReport;console.log("Bakers Report",b.bakersReport);const V=q(!0),w=q(!1);q(!1);const h=q({rowsPerPage:0}),P=q(""),c=De(),v=(s,C)=>{c.dialog({component:Va,componentProps:{breadProduction:s,branchRecipe:C}})},f=(s,C)=>{c.dialog({component:Ua,componentProps:{ingredientProduction:s,branchRecipe:C}})},r=(s,C)=>{c.dialog({component:La,componentProps:{bakerReports:s,sales_report_id:C}})},k=s=>he.formatDate(s,"MMM. DD, YYYY"),g=s=>{const C=Number(s)||0;return parseFloat(C.toFixed(3)).toString()},S=s=>{const C=Number(s)||0;return parseFloat(C.toFixed(3)).toString()},y=s=>s?s.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",p=s=>{const C=ve=>ve?ve.charAt(0).toUpperCase()+ve.slice(1).toLowerCase():"",B=s.firstname?C(s.firstname):"No Firstname",M=s.middlename?C(s.middlename).charAt(0)+".":"",ue=s.lastname?C(s.lastname):"No Lastname";return`${B} ${M} ${ue}`.trim()},m=s=>{const C=new Date(s),B={hour:"2-digit",minute:"2-digit",hour12:!0};return C.toLocaleTimeString(void 0,B)},_=s=>{switch(s){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},a=s=>s?s.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",i=s=>s?s.recipe_category==="Filling"?s.filling_bakers_reports||[]:s.recipe_category==="Dough"?s.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),n=[{name:"recipe_name",align:"center",label:"Recipe Name",field:s=>s.branch_recipe&&s.branch_recipe.recipe?{name:s.branch_recipe.recipe.name,category:s.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:s=>`${a(s.name)} (${s.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:s=>m(s)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:s=>`${S(s)}`},{name:"actual_target",align:"center",label:"Actual Target",field:s=>s.target*s.kilo,format:s=>`${Math.ceil(s)}`},{name:"over",align:"center",label:"Over",field:"over",format:s=>`${s}`},{name:"short",align:"center",label:"Short",field:"short",format:s=>`${s}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],l=s=>{var j,Z,fe,Ve,me,O,H,se,E,qe,Ke,Xe,st,rt;console.log("bakerReport",s);const C=`${(fe=(Z=(j=s==null?void 0:s.branch_recipe)==null?void 0:j.recipe)==null?void 0:Z.name)!=null?fe:"Unkown Recipe"} (${(Ve=s==null?void 0:s.recipe_category)!=null?Ve:"Unkown Category"})`,B=(O=(me=s==null?void 0:s.branch_recipe)==null?void 0:me.target)!=null?O:0,M=(H=s==null?void 0:s.actual_target)!=null?H:0,ue=(se=s==null?void 0:s.kilo)!=null?se:0,ve=(E=s==null?void 0:s.over)!=null?E:0,Ne=(qe=s==null?void 0:s.short)!=null?qe:0,L={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:C,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${g(B)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${M} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${S(ue)} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${ve} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${Ne} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${s.branch.name||"No name available"}
                Baker: ${p(((Ke=s==null?void 0:s.user)==null?void 0:Ke.employee)||"Unknown Baker Name")}
                Recipe: ${((Xe=s.recipe)==null?void 0:Xe.name)||"Unknown Recipe"} (${s.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${k(((st=b.bakersReport[0])==null?void 0:st.created_at)||((rt=b.bakersReport[1])==null?void 0:rt.created_at)||"No name available")}
                Time: ${m(s.created_at)}
                Status: ${y(s.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...i(s).map(xe=>{var Je;return[{text:((Je=xe==null?void 0:xe.bread)==null?void 0:Je.name)||"Unknown Bread",style:"body"},{text:s.recipe_category==="Filling"?`${(xe==null?void 0:xe.filling_production)||"0"} pcs`:`${xe==null?void 0:xe.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(s.ingredient_bakers_reports||[]).map(xe=>{var Je,dt;return[{text:((Je=xe==null?void 0:xe.ingredients)==null?void 0:Je.code)||"Unknown Ingredient",style:"body"},{text:`${(xe==null?void 0:xe.quantity)||"Unknown Quantity"} ${((dt=xe==null?void 0:xe.ingredients)==null?void 0:dt.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},L]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},u=s=>{const C=l(s);Ze.exports.createPdf(C).getDataUrl(B=>{P.value=B,w.value=!0})};return(s,C)=>($(),I("div",null,[e(z,{class:"my-card q-pa-md"},{default:t(()=>{var B,M,ue,ve,Ne,L;return[Ma,o("div",Ha,[o("div",null," Name: "+x(p(((M=(B=X(R)[0])==null?void 0:B.user)==null?void 0:M.employee)||((ve=(ue=X(R)[1])==null?void 0:ue.user)==null?void 0:ve.employee)||"No name available")),1),o("div",null," Date: "+x(`${k(((Ne=b.bakersReport[0])==null?void 0:Ne.created_at)||((L=b.bakersReport[1])==null?void 0:L.created_at)||"No name available")}`),1)]),e(U,null,{default:t(()=>[e(ke,{class:"table-container sticky-header2",columns:n,rows:X(R),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:h.value,"rows-per-page-options":[0]},{"body-cell-status":t(j=>[e(Q,{props:j},{default:t(()=>[e(_e,{align:"middle",color:_(j.row.status)},{default:t(()=>[N(x(y(j.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(j=>[e(Q,{props:j},{default:t(()=>[e(A,{class:"gradient-icon",flat:"",rounded:"",onClick:Z=>v(j.row.combined_bakers_reports,j.row.branch_recipe)},{default:t(()=>[e(ee,{name:"visibility",class:"gradient-icon"}),e(ce,{class:"gradient-tooltip"},{default:t(()=>[N("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(j=>[e(Q,{props:j},{default:t(()=>[e(A,{class:"gradient-icon2",flat:"",rounded:"",onClick:Z=>f(j.row.ingredient_bakers_reports,j.row.branch_recipe)},{default:t(()=>[e(ee,{name:"visibility",class:"gradient-icon2"}),e(ce,{class:"gradient-tooltip"},{default:t(()=>[N("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(j=>[e(Q,{props:j},{default:t(()=>[e(A,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:Z=>s.toggleMenu(j.row)},null,8,["onClick"]),e(kt,{modelValue:j.row.menu,"onUpdate:modelValue":Z=>j.row.menu=Z,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(Pe,{style:{"min-width":"100px"}},{default:t(()=>[le(($(),T(ie,{clickable:"",onClick:Z=>u(j.row)},{default:t(()=>[e(Y,{avatar:""},{default:t(()=>[e(ee,{name:"print"})]),_:1}),e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[ne]]),le(($(),T(ie,{clickable:"",onClick:Z=>r(j.row,d.sales_report_id)},{default:t(()=>[e(Y,{avatar:""},{default:t(()=>[e(ee,{name:"edit"})]),_:1}),e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[ne]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(G,{modelValue:w.value,"onUpdate:modelValue":C[0]||(C[0]=B=>w.value=B),"backdrop-filter":s.backdropFilter,maximized:V.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[o("div",ja,[o("div",Ka,[le(($(),T(A,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ce,null,{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])]),o("div",null,[o("iframe",{src:P.value,width:"100%",height:"700px"},null,8,Qa)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Ya=W(Ea,[["__scopeId","data-v-f96814be"]]);const Ie=d=>(te("data-v-5d882fdd"),d=d(),ae(),d),Ga=Ie(()=>o("div",{class:"text-h6 q-pa-md text-white"},"Bread",-1)),Wa={class:"text-h6",align:"center"},Ja={class:"q-mb-lg"},Xa={key:0,class:"custom-list z-top"},Za=Ie(()=>o("div",null,"Product Name",-1)),eo=Ie(()=>o("div",null,"Category",-1)),to=Ie(()=>o("div",null,"Price",-1)),ao={class:"row justify-between q-mt-md q-gutter-md"},oo=Ie(()=>o("div",null,"Beginnings",-1)),lo=Ie(()=>o("div",null,"New Production",-1)),no=Ie(()=>o("div",null,"Remaining",-1)),so=Ie(()=>o("div",null,"Bread Out",-1)),ro=Ie(()=>o("div",null,"Total Quantity",-1)),io=Ie(()=>o("div",null,"Bread Sold",-1)),uo=Ie(()=>o("div",null,"Sales",-1)),co={align:"right"},mo={__name:"AddingBreadReport",props:["sales_Reports","sales_report_id","user"],setup(d){const b=d;console.log("props.sales_Reports",b.sales_Reports),console.log("props.user",b.user);const R=b.sales_report_id,V=we(),w=We(),h=Ye();F(()=>h.products);const P=He(),c=F(()=>P.branchProducts);console.log("branchProduct",c);const v=V.params.branch_id,f=b.user.id,r=q(""),k=q("");F(()=>r.value&&employees.value.length>0);const g=q("Bread"),S=async()=>{console.log("branch_id.value:",v),console.log("searchQuery.value:",k.value),console.log("category.value:",g.value),(k.value||g.value)&&await P.searchBranchProducts({query:k.value,branches_id:v,category:g.value})},y=q(!1),p=()=>{y.value=!0},m=u=>{const s=ue=>ue?ue.charAt(0).toUpperCase()+ue.slice(1).toLowerCase():"",C=u.firstname?s(u.firstname):"No Firstname",B=u.middlename?s(u.middlename).charAt(0)+".":"",M=u.lastname?s(u.lastname):"No Lastname";return`${C} ${B} ${M}`.trim()},_=u=>u?u.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",a=u=>{console.log("data",u),i.product_id=u.product.id,i.product_name=u.product.name,i.category=u.category,i.price=u.price,k.value=""},i=ze({sales_report_id:R,branch_id:v,user_id:f,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,new_production:0,bread_out:0,bread_sold:0,total:0,sales:0,branches_id:V.params.branch_id}),n=F(()=>{const u=parseInt(i.bread_sold||0)*parseFloat(i.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(u)});$e(()=>[i.new_production,i.beginnings],([u,s])=>{i.total=parseInt(u||0)+parseInt(s||0)}),$e(()=>[i.total,i.remaining,i.bread_out],([u,s,C])=>{i.bread_sold=parseInt(u||0)-(parseInt(s||0)+parseInt(C||0))}),$e(()=>[i.bread_sold,i.price],([u,s])=>{i.sales=parseInt(u||0)*parseFloat(s||0)});const l=async()=>{try{if(!i.product_name||!i.price||!i.product_id||!i.branch_id||!i.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const u={user_id:i.user_id,branch_id:i.branch_id,sales_report_id:i.sales_report_id,product_id:i.product_id,product_name:i.product_name,price:i.price,beginnings:i.beginnings,remaining:i.remaining,new_production:i.new_production,bread_out:i.bread_out,bread_sold:i.bread_sold,total:i.total,sales:i.sales};console.log("payload",u),await w.addBreadProduction(u)}catch{}};return(u,s)=>($(),I(K,null,[o("div",null,[e(A,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Bread",onClick:p})]),e(G,{modelValue:y.value,"onUpdate:modelValue":s[11]||(s[11]=C=>y.value=C),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(z,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[N(x(d.user.name)+" ",1),e(U,{class:"row items-center bg-backgroud"},{default:t(()=>[Ga,e(Ce),le(e(A,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,null,{default:t(()=>[o("div",Wa,x(m(d.user.employee)),1)]),_:1}),e(U,{class:"q-gutter-y-sm"},{default:t(()=>[o("div",Ja,[e(D,{modelValue:k.value,"onUpdate:modelValue":[s[0]||(s[0]=C=>k.value=C),S],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[k.value?($(),I("div",Xa,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var C;return[(C=c.value)!=null&&C.length?($(!0),I(K,{key:1},ge(c.value,B=>($(),T(ie,{onClick:M=>a(B),key:B.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(_(B.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",null,[Za,e(D,{modelValue:i.product_name,"onUpdate:modelValue":s[1]||(s[1]=C=>i.product_name=C),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[eo,e(D,{modelValue:i.category,"onUpdate:modelValue":s[2]||(s[2]=C=>i.category=C),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[to,e(D,{modelValue:i.price,"onUpdate:modelValue":s[3]||(s[3]=C=>i.price=C),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",ao,[o("div",null,[oo,e(D,{modelValue:i.beginnings,"onUpdate:modelValue":s[4]||(s[4]=C=>i.beginnings=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[lo,e(D,{modelValue:i.new_production,"onUpdate:modelValue":s[5]||(s[5]=C=>i.new_production=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[no,e(D,{modelValue:i.remaining,"onUpdate:modelValue":s[6]||(s[6]=C=>i.remaining=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[so,e(D,{modelValue:i.bread_out,"onUpdate:modelValue":s[7]||(s[7]=C=>i.bread_out=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[ro,e(D,{modelValue:i.total,"onUpdate:modelValue":s[8]||(s[8]=C=>i.total=C),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[io,e(D,{modelValue:i.bread_sold,"onUpdate:modelValue":s[9]||(s[9]=C=>i.bread_sold=C),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[uo,e(D,{modelValue:n.value,"onUpdate:modelValue":s[10]||(s[10]=C=>n.value=C),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(U,null,{default:t(()=>[o("div",co,[e(A,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:l})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var po=W(mo,[["__scopeId","data-v-5d882fdd"]]);const _o={class:"row justify-between text-white"},go=o("div",{class:"text-h6"},"Bread Report",-1),fo={class:"row justify-end q-mt-md"},vo={class:"text-h6"},yo={__name:"BreadReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=q(!1),P=q(!0),c=d,v=q("");console.log("Reports data structure:",c.reports),console.log("Reports data sales_report_id:",c.sales_report_id);const f=a=>a?a.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",r=async(a,i)=>{console.log("update data of the price",a),console.log("update val of the price",i);try{const n=await J.put("/api/update-bread-sales-price-report/"+a.id,{price:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},k=async(a,i)=>{console.log("update data of the beginnings",a),console.log("update val of the beginnings",i);try{const n=await J.put("/api/update-bread-sales-beginnings-report/"+a.id,{beginnings:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},g=async(a,i)=>{console.log("update data of the new updatedRemaining",a),console.log("update val of the new updatedRemaining",i);try{const n=await J.put("/api/update-bread-sales-remaining-report/"+a.id,{remaining:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},S=async(a,i)=>{console.log("update data of the new updatedRemaining",a),console.log("update val of the new updatedRemaining",i);try{const n=await J.put("/api/update-bread-sales-breadOut-report/"+a.id,{bread_out:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},y=[{name:"name",label:"Bread Name",field:a=>(console.log("Row data:",a),a.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:a=>`${a}`},{name:"new_production",label:"New Production (PCS)",field:"new_production",format:a=>`${a}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:a=>`${a}`},{name:"bread_out",label:"Bread Out (PCS)",field:"bread_out",format:a=>`${a}`},{name:"total",label:"Bread Total (PCS)",field:a=>(Number(a.beginnings)||0)+(Number(a.new_production)||0)},{name:"breadSold",label:"Bread Sold (PCS)",field:a=>{const i=Number(a.beginnings)||0,n=Number(a.new_production)||0,l=Number(a.remaining)||0,u=Number(a.bread_out)||0,s=i+n,C=l+u;return s-C},format:a=>`${a}`},{name:"sales",label:"Total Sales",field:a=>{const i=Number(a.beginnings)||0,n=Number(a.new_production)||0,l=Number(a.remaining)||0,u=Number(a.bread_out)||0,s=Number(a.price)||0,C=i+n,B=l+u;return(C-B)*s},format:a=>`${p(a)}`}],p=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a),m=F(()=>{if(!v.value||!v.value.trim())return c.reports||[];const a=v.value.trim().toLowerCase();return(c.reports||[]).filter(i=>i.bread.name.toLowerCase().includes(a)||i.price.toString().includes(a)||i.sales.toString().includes(a))}),_=F(()=>{const a=m.value.reduce((i,n)=>{const l=Number(n.beginnings)||0,u=Number(n.new_production)||0,s=Number(n.remaining)||0,C=Number(n.bread_out)||0,B=Number(n.price)||0,M=l+u,ue=s+C,Ne=(M-ue)*B;return console.log(`Adding salesAmount: ${Ne} to total: ${i}`),i+Ne},0);return console.log("Overall Total Sales computed as:",a),a});return console.log("Overall Total Sales:",_.value),(a,i)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=n=>h.value=n),maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,null,{default:t(()=>[e(U,{style:{"background-color":"#795548"}},{default:t(()=>[o("div",_o,[go,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=n=>v.value=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(po,{sales_Reports:c.reports,sales_report_id:d.sales_report_id,user:c.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:v.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:y,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:a.pagination,"onUpdate:pagination":i[1]||(i[1]=n=>a.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${f(n.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${p(n.row.price)}`),1),e(de,{"onUpdate:modelValue":[l=>r(n.row,l),l=>n.row.price=l],modelValue:n.row.price,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.beginnings}`),1),e(de,{"onUpdate:modelValue":[l=>k(n.row,l),l=>n.row.beginnings=l],modelValue:n.row.beginnings,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.remaining}`),1),e(de,{"onUpdate:modelValue":[l=>g(n.row,l),l=>n.row.remaining=l],modelValue:n.row.remaining,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_out":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.bread_out}`),1),e(de,{"onUpdate:modelValue":[l=>S(n.row,l),l=>n.row.bread_out=l],modelValue:n.row.bread_out,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(U,null,{default:t(()=>[o("div",fo,[o("div",vo," Overall Total Sales: "+x(p(_.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Ae=d=>(te("data-v-ddffe954"),d=d(),ae(),d),bo=Ae(()=>o("div",{class:"text-h6 q-pa-md text-white"},"Add Selecta",-1)),ho={class:"q-mb-lg"},wo={key:0,class:"custom-list z-top"},ko=Ae(()=>o("div",null,"Product Name",-1)),xo=Ae(()=>o("div",null,"Category",-1)),$o=Ae(()=>o("div",null,"Price",-1)),Vo={class:"row justify-between q-mt-md q-gutter-md"},Ro=Ae(()=>o("div",null,"Beginnings",-1)),Co=Ae(()=>o("div",null,"Added Stocks",-1)),So=Ae(()=>o("div",null,"Remaining",-1)),Po=Ae(()=>o("div",null,"Selecta Out",-1)),Uo=Ae(()=>o("div",null,"Total Quantity",-1)),No=Ae(()=>o("div",null,"Selecta Sold",-1)),qo=Ae(()=>o("div",null,"Sales",-1)),Do={align:"right"},Io={__name:"AddingSelectaReport",props:["sales_Reports","sales_report_id","user"],setup(d){const b=d;console.log("props.sales_Reports",b.sales_Reports),console.log("props.user",b.user);const R=b.sales_report_id,V=we(),w=We(),h=Ye();F(()=>h.products);const P=He(),c=F(()=>P.branchProducts);console.log("branchProduct",c);const v=V.params.branch_id,f=b.user.id,r=q(""),k=q("Selecta"),g=async()=>{console.log("branch_id.value:",v),console.log("searchQuery.value:",r.value),console.log("category.value:",k.value),(r.value||k.value)&&await P.searchBranchProducts({query:r.value,branches_id:v,category:k.value})},S=q(!1),y=()=>{S.value=!0},p=l=>{const u=M=>M?M.charAt(0).toUpperCase()+M.slice(1).toLowerCase():"",s=l.firstname?u(l.firstname):"No Firstname",C=l.middlename?u(l.middlename).charAt(0)+".":"",B=l.lastname?u(l.lastname):"No Lastname";return`${s} ${C} ${B}`.trim()},m=l=>l?l.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",_=l=>{console.log("data",l),a.product_id=l.product.id,a.product_name=l.product.name,a.category=l.category,a.price=l.price,r.value=""},a=ze({sales_report_id:R,branch_id:v,user_id:f,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:V.params.branch_id}),i=F(()=>{const l=parseInt(a.sold||0)*parseFloat(a.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(l)});$e(()=>[a.added_stocks,a.beginnings],([l,u])=>{a.total=parseInt(l||0)+parseInt(u||0)}),$e(()=>[a.total,a.remaining,a.out],([l,u,s])=>{a.sold=parseInt(l||0)-(parseInt(u||0)+parseInt(s||0))}),$e(()=>[a.sold,a.price],([l,u])=>{a.sales=parseInt(l||0)*parseFloat(u||0)});const n=async()=>{try{if(!a.product_name||!a.price||!a.product_id||!a.branch_id||!a.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const l={user_id:a.user_id,branch_id:a.branch_id,sales_report_id:a.sales_report_id,product_id:a.product_id,product_name:a.product_name,price:a.price,beginnings:a.beginnings,remaining:a.remaining,added_stocks:a.added_stocks,out:a.out,sold:a.sold,total:a.total,sales:a.sales};console.log("payload",l),await w.addSelectaProduction(l)}catch{}};return(l,u)=>($(),I(K,null,[o("div",null,[e(A,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:y})]),e(G,{modelValue:S.value,"onUpdate:modelValue":u[11]||(u[11]=s=>S.value=s),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(z,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[N(x(d.user.name)+" ",1),e(U,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[bo,e(Ce),le(e(A,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,{class:"text-h6",align:"center"},{default:t(()=>[N(x(p(d.user.employee)),1)]),_:1}),e(U,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",ho,[e(D,{modelValue:r.value,"onUpdate:modelValue":[u[0]||(u[0]=s=>r.value=s),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[r.value?($(),I("div",wo,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var s;return[(s=c.value)!=null&&s.length?($(!0),I(K,{key:1},ge(c.value,C=>($(),T(ie,{onClick:B=>_(C),key:C.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(m(C.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",null,[ko,e(D,{modelValue:a.product_name,"onUpdate:modelValue":u[1]||(u[1]=s=>a.product_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[xo,e(D,{modelValue:a.category,"onUpdate:modelValue":u[2]||(u[2]=s=>a.category=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[$o,e(D,{modelValue:a.price,"onUpdate:modelValue":u[3]||(u[3]=s=>a.price=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Vo,[o("div",null,[Ro,e(D,{modelValue:a.beginnings,"onUpdate:modelValue":u[4]||(u[4]=s=>a.beginnings=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Co,e(D,{modelValue:a.added_stocks,"onUpdate:modelValue":u[5]||(u[5]=s=>a.added_stocks=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[So,e(D,{modelValue:a.remaining,"onUpdate:modelValue":u[6]||(u[6]=s=>a.remaining=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Po,e(D,{modelValue:a.out,"onUpdate:modelValue":u[7]||(u[7]=s=>a.out=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Uo,e(D,{modelValue:a.total,"onUpdate:modelValue":u[8]||(u[8]=s=>a.total=s),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[No,e(D,{modelValue:a.sold,"onUpdate:modelValue":u[9]||(u[9]=s=>a.sold=s),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[qo,e(D,{modelValue:i.value,"onUpdate:modelValue":u[10]||(u[10]=s=>i.value=s),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(U,null,{default:t(()=>[o("div",Do,[e(A,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ao=W(Io,[["__scopeId","data-v-ddffe954"]]);const Bo={class:"row justify-between text-white"},Fo=o("div",{class:"text-h6"},"Selecta Report",-1),To={class:"row justify-end q-mt-md"},zo={class:"text-h6"},Lo={__name:"SelectaReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=q(!1),P=q(!0),c=d;console.log("Reports data structure:",c.reports);const v=a=>a?a.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",f=async(a,i)=>{console.log("update data of the price",a),console.log("update val of the price",i);try{const n=await J.put("/api/update-selecta-sales-price-report/"+a.id,{price:parseInt(i)})}catch(n){console.error(n)}},r=async(a,i)=>{console.log("update data of the beginnings",a),console.log("update val of the beginnings",i);try{const n=await J.put("/api/update-selecta-sales-beginnings-report/"+a.id,{beginnings:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},k=async(a,i)=>{console.log("update data of the new updatedRemaining",a),console.log("update val of the new updatedRemaining",i);try{const n=await J.put("/api/update-selecta-sales-remaining-report/"+a.id,{remaining:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},g=async(a,i)=>{console.log("update data of the new updatedRemaining",a),console.log("update val of the new updatedRemaining",i);try{const n=await J.put("/api/update-selecta-sales-selctaOut-report/"+a.id,{out:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},S=async(a,i)=>{console.log("update data of the new updatedRemaining",a),console.log("update val of the new updatedRemaining",i);try{const n=await J.put("/api/update-selecta-sales-addedstocks-report/"+a.id,{added_stocks:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},y=[{name:"name",label:"Selecta Name",field:a=>(console.log("Row data:",a),a.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:a=>`${a}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:a=>`${a}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:a=>`${a}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:a=>`${a}`},{name:"total_selecta",label:"Total Stocks (PCS)",field:a=>Number(a.beginnings||0)+Number(a.added_stocks||0),format:a=>`${a}`},{name:"sold",label:"Selecta Sold (PCS)",field:a=>{const i=Number(a.beginnings||0),n=Number(a.added_stocks||0),l=Number(a.out||0),u=Number(a.remaining||0),s=i+n,C=u+l;return s-C},format:a=>`${a}`},{name:"sales",label:"Total Sales",field:a=>{const i=Number(a.beginnings||0),n=Number(a.added_stocks||0),l=Number(a.out||0),u=Number(a.remaining||0),s=Number(a.price||0),C=i+n,B=u+l;return(C-B)*s},format:a=>`${p(a)}`}],p=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a),m=F(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[])),_=F(()=>{const a=m.value.reduce((i,n)=>{const l=`${n.beginnings}`||0,u=`${n.added_stocks}`||0,s=`${n.out}`||0,C=`${n.remaining}`||0,B=parseInt(l)+parseInt(u),M=parseInt(C)+parseInt(s),ve=(B-M)*(n.price||0);return console.log(`Adding salesAmount: ${ve} to total: ${i}`),i+ve},0);return console.log("Overall Total Sales computed as:",a),a});return console.log("Filtered Rows:",m.value),(a,i)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=n=>h.value=n),maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,null,{default:t(()=>[e(U,{style:{"background-color":"#f44336"}},{default:t(()=>[o("div",Bo,[Fo,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:a.filter,"onUpdate:modelValue":i[0]||(i[0]=n=>a.filter=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(Ao,{sales_Reports:c.reports,sales_report_id:d.sales_report_id,user:c.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:a.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:y,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:a.pagination,"onUpdate:pagination":i[1]||(i[1]=n=>a.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${v(n.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${p(n.row.price)}`),1),e(de,{"onUpdate:modelValue":[l=>f(n.row,l),l=>n.row.price=l],modelValue:n.row.price,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.beginnings}`),1),e(de,{"onUpdate:modelValue":[l=>r(n.row,l),l=>n.row.beginnings=l],modelValue:n.row.beginnings,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.remaining}`),1),e(de,{"onUpdate:modelValue":[l=>k(n.row,l),l=>n.row.remaining=l],modelValue:n.row.remaining,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.out}`),1),e(de,{"onUpdate:modelValue":[l=>g(n.row,l),l=>n.row.out=l],modelValue:n.row.out,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.added_stocks}`),1),e(de,{"onUpdate:modelValue":[l=>S(n.row,l),l=>n.row.added_stocks=l],modelValue:n.row.added_stocks,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(U,null,{default:t(()=>[o("div",To,[o("div",zo," Overall Total Sales: "+x(p(_.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Be=d=>(te("data-v-0b33e8c8"),d=d(),ae(),d),Oo=Be(()=>o("div",{class:"text-h6 q-pa-md text-white"},"Add Softdrinks",-1)),Mo={class:"q-mb-lg"},Ho={key:0,class:"custom-list z-top"},jo=Be(()=>o("div",null,"Product Name",-1)),Ko=Be(()=>o("div",null,"Category",-1)),Qo=Be(()=>o("div",null,"Price",-1)),Eo={class:"row justify-between q-mt-md q-gutter-md"},Yo=Be(()=>o("div",null,"Beginnings",-1)),Go=Be(()=>o("div",null,"Added Stocks",-1)),Wo=Be(()=>o("div",null,"Remaining",-1)),Jo=Be(()=>o("div",null,"Softdrinks Out",-1)),Xo=Be(()=>o("div",null,"Total Quantity",-1)),Zo=Be(()=>o("div",null,"Softdrinks Sold",-1)),el=Be(()=>o("div",null,"Sales",-1)),tl={align:"right"},al={__name:"AddingSoftdrinksReport",props:["sales_Reports","sales_report_id","user"],setup(d){const b=d;console.log("props.sales_Reports",b.sales_Reports),console.log("props.user",b.user);const R=b.sales_report_id,V=we(),w=We(),h=Ye();F(()=>h.products);const P=He(),c=F(()=>P.branchProducts);console.log("branchProduct",c);const v=V.params.branch_id,f=b.user.id,r=q(""),k=q("Softdrinks"),g=async()=>{console.log("branch_id.value:",v),console.log("searchQuery.value:",r.value),console.log("category.value:",k.value),(r.value||k.value)&&await P.searchBranchProducts({query:r.value,branches_id:v,category:k.value})},S=q(!1),y=()=>{S.value=!0},p=l=>{const u=M=>M?M.charAt(0).toUpperCase()+M.slice(1).toLowerCase():"",s=l.firstname?u(l.firstname):"No Firstname",C=l.middlename?u(l.middlename).charAt(0)+".":"",B=l.lastname?u(l.lastname):"No Lastname";return`${s} ${C} ${B}`.trim()},m=l=>l?l.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",_=l=>{console.log("data",l),a.product_id=l.product.id,a.product_name=l.product.name,a.category=l.category,a.price=l.price,r.value=""},a=ze({sales_report_id:R,branch_id:v,user_id:f,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:V.params.branch_id}),i=F(()=>{const l=parseInt(a.sold||0)*parseFloat(a.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(l)});$e(()=>[a.added_stocks,a.beginnings],([l,u])=>{a.total=parseInt(l||0)+parseInt(u||0)}),$e(()=>[a.total,a.remaining,a.out],([l,u,s])=>{a.sold=parseInt(l||0)-(parseInt(u||0)+parseInt(s||0))}),$e(()=>[a.sold,a.price],([l,u])=>{a.sales=parseInt(l||0)*parseFloat(u||0)});const n=async()=>{try{if(!a.product_name||!a.price||!a.product_id||!a.branch_id||!a.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const l={user_id:a.user_id,branch_id:a.branch_id,sales_report_id:a.sales_report_id,product_id:a.product_id,product_name:a.product_name,price:a.price,beginnings:a.beginnings,remaining:a.remaining,added_stocks:a.added_stocks,out:a.out,sold:a.sold,total:a.total,sales:a.sales};console.log("payload",l),await w.addSoftdrinksProduction(l)}catch{}};return(l,u)=>($(),I(K,null,[o("div",null,[e(A,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Softdrinks",onClick:y})]),e(G,{modelValue:S.value,"onUpdate:modelValue":u[11]||(u[11]=s=>S.value=s),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(z,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[N(x(d.user.name)+" ",1),e(U,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Oo,e(Ce),le(e(A,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,{class:"text-h6",align:"center"},{default:t(()=>[N(x(p(d.user.employee)),1)]),_:1}),e(U,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",Mo,[e(D,{modelValue:r.value,"onUpdate:modelValue":[u[0]||(u[0]=s=>r.value=s),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[r.value?($(),I("div",Ho,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var s;return[(s=c.value)!=null&&s.length?($(!0),I(K,{key:1},ge(c.value,C=>($(),T(ie,{onClick:B=>_(C),key:C.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(m(C.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",null,[jo,e(D,{modelValue:a.product_name,"onUpdate:modelValue":u[1]||(u[1]=s=>a.product_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[Ko,e(D,{modelValue:a.category,"onUpdate:modelValue":u[2]||(u[2]=s=>a.category=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[Qo,e(D,{modelValue:a.price,"onUpdate:modelValue":u[3]||(u[3]=s=>a.price=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Eo,[o("div",null,[Yo,e(D,{modelValue:a.beginnings,"onUpdate:modelValue":u[4]||(u[4]=s=>a.beginnings=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Go,e(D,{modelValue:a.added_stocks,"onUpdate:modelValue":u[5]||(u[5]=s=>a.added_stocks=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Wo,e(D,{modelValue:a.remaining,"onUpdate:modelValue":u[6]||(u[6]=s=>a.remaining=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Jo,e(D,{modelValue:a.out,"onUpdate:modelValue":u[7]||(u[7]=s=>a.out=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Xo,e(D,{modelValue:a.total,"onUpdate:modelValue":u[8]||(u[8]=s=>a.total=s),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Zo,e(D,{modelValue:a.sold,"onUpdate:modelValue":u[9]||(u[9]=s=>a.sold=s),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[el,e(D,{modelValue:i.value,"onUpdate:modelValue":u[10]||(u[10]=s=>i.value=s),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(U,null,{default:t(()=>[o("div",tl,[e(A,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ol=W(al,[["__scopeId","data-v-0b33e8c8"]]);const ll={class:"row justify-between text-white"},nl=o("div",{class:"text-h6"},"Softdrinks Report",-1),sl={class:"row justify-end q-mt-md"},rl={class:"text-h6"},dl={__name:"SoftdrinksReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=q(!1),P=q(!0),c=d;console.log("Reports data structure:",c.reports);const v=a=>a?a.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",f=async(a,i)=>{console.log("update data of the price",a),console.log("update val of the price",i);try{const n=await J.put("/api/update-softdrinks-sales-price-report/"+a.id,{price:parseInt(i)});console.log("Updated price response:",n.data)}catch(n){console.error(n)}},r=async(a,i)=>{console.log("update data of the beginnings",a),console.log("update val of the beginnings",i);try{const n=await J.put("/api/update-softdrinks-sales-beginnings-report/"+a.id,{beginnings:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},k=async(a,i)=>{console.log("update data of the updatedRemaining",a),console.log("update val of the updatedRemaining",i);try{const n=await J.put("/api/update-softdrinks-sales-remaining-report/"+a.id,{remaining:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},g=async(a,i)=>{console.log("update data of the updatedRemaining",a),console.log("update val of the updatedRemaining",i);try{const n=await J.put("/api/update-softdrinks-sales-out-report/"+a.id,{out:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},S=async(a,i)=>{console.log("update data of the addedstocks",a),console.log("update val of the addedstocks",i);try{const n=await J.put("/api/update-softdrinks-sales-addedstocks-report/"+a.id,{added_stocks:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},y=[{name:"name",label:"Softdrinks Name",field:a=>(console.log("Row data:",a),a.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:a=>`${a}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:a=>`${a}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:a=>`${a}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:a=>`${a}`},{name:"total_softdrinks",label:"Total Stocks (PCS)",field:a=>Number(a.beginnings||0)+Number(a.added_stocks||0),format:a=>`${a}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:a=>{const i=Number(a.beginnings||0),n=Number(a.added_stocks||0),l=Number(a.out||0),u=Number(a.remaining||0),s=i+n,C=u+l;return s-C},format:a=>`${a}`},{name:"sales",label:"Total Sales",field:a=>{const i=Number(a.beginnings||0),n=Number(a.added_stocks||0),l=Number(a.out||0),u=Number(a.remaining||0),s=Number(a.price||0),C=i+n,B=u+l;return(C-B)*s},format:a=>`${p(a)}`}],p=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a),m=F(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[])),_=F(()=>{const a=m.value.reduce((i,n)=>{const l=Number(n.beginnings||0),u=Number(n.added_stocks||0),s=Number(n.out||0),C=Number(n.remaining||0),B=l+u,M=C+s,ve=(B-M)*(n.price||0);return console.log(`Adding salesAmount: ${ve} to total: ${i}`),i+ve},0);return console.log("Overall Total:",a),a});return console.log("Filtered Rows:",m.value),(a,i)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=n=>h.value=n),maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,null,{default:t(()=>[e(U,{style:{"background-color":"#9c27b0"}},{default:t(()=>[o("div",ll,[nl,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:a.filter,"onUpdate:modelValue":i[0]||(i[0]=n=>a.filter=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(ol,{sales_Reports:c.reports,sales_report_id:d.sales_report_id,user:c.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:a.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:y,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:a.pagination,"onUpdate:pagination":i[1]||(i[1]=n=>a.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${v(n.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${p(n.row.price)}`),1),e(de,{"onUpdate:modelValue":[l=>f(n.row,l),l=>n.row.price=l],modelValue:n.row.price,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.beginnings}`),1),e(de,{"onUpdate:modelValue":[l=>r(n.row,l),l=>n.row.beginnings=l],modelValue:n.row.beginnings,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.remaining}`),1),e(de,{"onUpdate:modelValue":[l=>k(n.row,l),l=>n.row.remaining=l],modelValue:n.row.remaining,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.out}`),1),e(de,{"onUpdate:modelValue":[l=>g(n.row,l),l=>n.row.out=l],modelValue:n.row.out,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.added_stocks}`),1),e(de,{"onUpdate:modelValue":[l=>S(n.row,l),l=>n.row.added_stocks=l],modelValue:n.row.added_stocks,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(U,null,{default:t(()=>[o("div",sl,[o("div",rl," Overall Total Sales: "+x(p(_.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}},il={class:"row justify-between text-white"},ul=o("div",{class:"text-h6"},"Cake Report",-1),cl={class:"row justify-end q-mt-md"},ml={class:"text-h6"},pl={__name:"CakeReport",props:["reports"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=d;console.log("Report cake:",h.reports);const P=F(()=>(console.log("Filtered cake rows:",h.reports||[]),h.reports||[])),c=k=>{const g=m=>m?m.charAt(0).toUpperCase()+m.slice(1).toLowerCase():"",S=k.firstname?g(k.firstname):"No Firstname",y=k.middlename?g(k.middlename).charAt(0)+".":"",p=k.lastname?g(k.lastname):"No Lastname";return`${S} ${y} ${p}`},v=k=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(k).replace("\u20B1","\u20B1 "),f=F(()=>{const k=P.value.reduce((g,S)=>{const y=parseFloat(S.cake_report.price)||0;return console.log(`Adding salesAmount: ${y} to total: ${g}`),g+y},0);return console.log("Overall Total Sales computed as:",k),k}),r=[{name:"name",label:"Cake Name",field:k=>(console.log("Row data:",k),k.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:k=>c(k.cake_report.user.employee)},{name:"price",label:"Price",field:k=>v(k.cake_report.price)},{name:"layers",label:"Layers",field:k=>k.cake_report.layers},{name:"sales_status",label:"Sale Status",field:k=>k.cake_report.sales_status}];return(k,g)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(U,{style:{"background-color":"#009688"}},{default:t(()=>[o("div",il,[ul,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:k.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:P.value,"row-key":"name","virtual-scroll":"",pagination:k.pagination,"onUpdate:pagination":g[0]||(g[0]=S=>k.pagination=S),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),o("div",cl,[o("div",ml," Overall Total Sales: "+x(v(f.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Fe=d=>(te("data-v-54d824ad"),d=d(),ae(),d),_l=Fe(()=>o("div",{class:"text-h6 q-pa-md text-white"},"Add Other Products",-1)),gl={class:"q-mb-lg"},fl={key:0,class:"custom-list z-top"},vl=Fe(()=>o("div",null,"Product Name",-1)),yl=Fe(()=>o("div",null,"Category",-1)),bl=Fe(()=>o("div",null,"Price",-1)),hl={class:"row justify-between q-mt-md q-gutter-md"},wl=Fe(()=>o("div",null,"Beginnings",-1)),kl=Fe(()=>o("div",null,"Added Stocks",-1)),xl=Fe(()=>o("div",null,"Remaining",-1)),$l=Fe(()=>o("div",null,"Out",-1)),Vl=Fe(()=>o("div",null,"Total Quantity",-1)),Rl=Fe(()=>o("div",null,"Sold",-1)),Cl=Fe(()=>o("div",null,"Sales",-1)),Sl={align:"right"},Pl={__name:"AddingOtherReport",props:["sales_Reports","sales_report_id","user"],setup(d){const b=d;console.log("props.sales_Reports",b.sales_Reports),console.log("props.user",b.user);const R=b.sales_report_id,V=we(),w=We(),h=Ye();F(()=>h.products);const P=He(),c=F(()=>P.branchProducts);console.log("branchProduct",c);const v=V.params.branch_id,f=b.user.id,r=q(""),k=q("Others"),g=async()=>{console.log("branch_id.value:",v),console.log("searchQuery.value:",r.value),console.log("category.value:",k.value),(r.value||k.value)&&await P.searchBranchProducts({query:r.value,branches_id:v,category:k.value})},S=q(!1),y=()=>{S.value=!0},p=l=>{const u=M=>M?M.charAt(0).toUpperCase()+M.slice(1).toLowerCase():"",s=l.firstname?u(l.firstname):"No Firstname",C=l.middlename?u(l.middlename).charAt(0)+".":"",B=l.lastname?u(l.lastname):"No Lastname";return`${s} ${C} ${B}`.trim()},m=l=>l?l.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",_=l=>{console.log("data",l),a.product_id=l.product.id,a.product_name=l.product.name,a.category=l.category,a.price=l.price,r.value=""},a=ze({sales_report_id:R,branch_id:v,user_id:f,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:V.params.branch_id}),i=F(()=>{const l=parseInt(a.sold||0)*parseFloat(a.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(l)});$e(()=>[a.added_stocks,a.beginnings],([l,u])=>{a.total=parseInt(l||0)+parseInt(u||0)}),$e(()=>[a.total,a.remaining,a.out],([l,u,s])=>{a.sold=parseInt(l||0)-(parseInt(u||0)+parseInt(s||0))}),$e(()=>[a.sold,a.price],([l,u])=>{a.sales=parseInt(l||0)*parseFloat(u||0)});const n=async()=>{try{if(!a.product_name||!a.price||!a.product_id||!a.branch_id||!a.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const l={user_id:a.user_id,branch_id:a.branch_id,sales_report_id:a.sales_report_id,product_id:a.product_id,product_name:a.product_name,price:a.price,beginnings:a.beginnings,remaining:a.remaining,added_stocks:a.added_stocks,out:a.out,sold:a.sold,total:a.total,sales:a.sales};console.log("payload",l),await w.addOtherProductProduction(l)}catch{}};return(l,u)=>($(),I(K,null,[o("div",null,[e(A,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:y})]),e(G,{modelValue:S.value,"onUpdate:modelValue":u[11]||(u[11]=s=>S.value=s),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(z,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[N(x(d.user.name)+" ",1),e(U,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[_l,e(Ce),le(e(A,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,{class:"text-h6",align:"center"},{default:t(()=>[N(x(p(d.user.employee)),1)]),_:1}),e(U,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[o("div",gl,[e(D,{modelValue:r.value,"onUpdate:modelValue":[u[0]||(u[0]=s=>r.value=s),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[r.value?($(),I("div",fl,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var s;return[(s=c.value)!=null&&s.length?($(!0),I(K,{key:1},ge(c.value,C=>($(),T(ie,{onClick:B=>_(C),key:C.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(m(C.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",null,[vl,e(D,{modelValue:a.product_name,"onUpdate:modelValue":u[1]||(u[1]=s=>a.product_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[yl,e(D,{modelValue:a.category,"onUpdate:modelValue":u[2]||(u[2]=s=>a.category=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[bl,e(D,{modelValue:a.price,"onUpdate:modelValue":u[3]||(u[3]=s=>a.price=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",hl,[o("div",null,[wl,e(D,{modelValue:a.beginnings,"onUpdate:modelValue":u[4]||(u[4]=s=>a.beginnings=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[kl,e(D,{modelValue:a.added_stocks,"onUpdate:modelValue":u[5]||(u[5]=s=>a.added_stocks=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[xl,e(D,{modelValue:a.remaining,"onUpdate:modelValue":u[6]||(u[6]=s=>a.remaining=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[$l,e(D,{modelValue:a.out,"onUpdate:modelValue":u[7]||(u[7]=s=>a.out=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Vl,e(D,{modelValue:a.total,"onUpdate:modelValue":u[8]||(u[8]=s=>a.total=s),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Rl,e(D,{modelValue:a.sold,"onUpdate:modelValue":u[9]||(u[9]=s=>a.sold=s),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),o("div",null,[Cl,e(D,{modelValue:i.value,"onUpdate:modelValue":u[10]||(u[10]=s=>i.value=s),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(U,null,{default:t(()=>[o("div",Sl,[e(A,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ul=W(Pl,[["__scopeId","data-v-54d824ad"]]);const Nl={class:"row justify-between text-white"},ql=o("div",{class:"text-h6"},"Other Products Report",-1),Dl={class:"row justify-end q-mt-md"},Il={class:"text-h6"},Al={__name:"OtherProductsReport",props:["reports","sales_report_id","user"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=q(!1),P=q(!0),c=d,v=F(()=>(console.log("Filtered rows:",c.reports||[]),c.reports||[])),f=a=>a?a.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",r=async(a,i)=>{console.log("update data of the price",a),console.log("update val of the price",i);try{const n=await J.put("/api/update-otherProducst-sales-price-report/"+a.id,{price:parseInt(i)});console.log("Updated price response:",n.data)}catch(n){console.error(n)}},k=async(a,i)=>{console.log("update data of the beginnings",a),console.log("update val of the beginnings",i);try{const n=await J.put("/api/update-otherProducst-sales-beginnings-report/"+a.id,{beginnings:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},g=async(a,i)=>{console.log("update data of the updatedRemaining",a),console.log("update val of the updatedRemaining",i);try{const n=await J.put("/api/update-otherProducst-sales-remaining-report/"+a.id,{remaining:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},S=async(a,i)=>{console.log("update data of the updatedRemaining",a),console.log("update val of the updatedRemaining",i);try{const n=await J.put("/api/update-otherProducst-sales-out-report/"+a.id,{out:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},y=async(a,i)=>{console.log("update data of the updatedAddedStocks",a),console.log("update val of the updatedAddedStocks",i);try{const n=await J.put("/api/update-otherProducst-sales-addedstocks-report/"+a.id,{added_stocks:parseInt(i)});console.log("reponse",n.data)}catch(n){console.error(n)}},p=[{name:"name",label:"Product Name",field:a=>(console.log("Row data:",a),a.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:a=>`${a}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:a=>`${a}`},{name:"out",label:"Product Out (PCS)",field:"out",format:a=>`${a}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:a=>`${a}`},{name:"total_other_products",label:"Total Stocks (PCS)",field:a=>Number(a.beginnings||0)+Number(a.added_stocks||0),format:a=>`${a}`},{name:"sold",label:"Product Sold (PCS)",field:a=>{const i=Number(a.beginnings||0),n=Number(a.added_stocks||0),l=Number(a.out||0),u=Number(a.remaining||0),s=i+n,C=u+l;return s-C},format:a=>`${a}`},{name:"sales",label:"Total Sales",field:a=>{const i=Number(a.beginnings||0),n=Number(a.added_stocks||0),l=Number(a.out||0),u=Number(a.remaining||0),s=Number(a.price||0),C=i+n,B=u+l;return(C-B)*s},format:a=>`${m(a)}`}],m=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a),_=F(()=>{const a=v.value.reduce((i,n)=>{const l=Number(n.beginnings||0),u=Number(n.added_stocks||0),s=Number(n.out||0),C=Number(n.remaining||0),B=l+u,M=C+s,ve=(B-M)*(n.price||0);return console.log(`Adding salesAmount: ${ve} to total: ${i}`),i+ve},0);return console.log("Overall Total Sales computed as:",a),a});return(a,i)=>($(),I("div",null,[e(G,{ref_key:"dialogRef",ref:b,onHide:X(R),modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=n=>h.value=n),maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,null,{default:t(()=>[e(U,{style:{"background-color":"#607d8b"}},{default:t(()=>[o("div",Nl,[ql,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,{class:"row justify-between"},{default:t(()=>[o("div",null,[e(D,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:a.filter,"onUpdate:modelValue":i[0]||(i[0]=n=>a.filter=n),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",null,[e(Ul,{sales_Reports:c.reports,sales_report_id:d.sales_report_id,user:c.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:a.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:v.value,"row-key":"name","virtual-scroll":"",pagination:a.pagination,"onUpdate:pagination":i[1]||(i[1]=n=>a.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${f(n.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${m(n.row.price)}`),1),e(de,{"onUpdate:modelValue":[l=>r(n.row,l),l=>n.row.price=l],modelValue:n.row.price,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.beginnings}`),1),e(de,{"onUpdate:modelValue":[l=>k(n.row,l),l=>n.row.beginnings=l],modelValue:n.row.beginnings,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.remaining}`),1),e(de,{"onUpdate:modelValue":[l=>g(n.row,l),l=>n.row.remaining=l],modelValue:n.row.remaining,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.out}`),1),e(de,{"onUpdate:modelValue":[l=>S(n.row,l),l=>n.row.out=l],modelValue:n.row.out,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(n=>[e(Q,{props:n},{default:t(()=>[o("span",null,x(`${n.row.added_stocks}`),1),e(de,{"onUpdate:modelValue":[l=>y(n.row,l),l=>n.row.added_stocks=l],modelValue:n.row.added_stocks,"auto-save":""},{default:t(l=>[e(D,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:re(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(U,null,{default:t(()=>[o("div",Dl,[o("div",Il," Overall Total Sales: "+x(m(_.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"])]))}};const Bl=d=>(te("data-v-59913400"),d=d(),ae(),d),Fl=Bl(()=>o("div",{class:"text-h6",align:"center"},"Products Report",-1)),Tl={class:"item-start q-gutter-md",align:"center"},zl={__name:"ProductsReport",props:["sales_Reports"],setup(d){const b=d,R=b.sales_Reports;console.log("sales report2sss",R);const V=De(),w=(f,r,k)=>{V.dialog({component:yo,componentProps:{reports:f,sales_report_id:r,user:k}})},h=(f,r,k)=>{V.dialog({component:Lo,componentProps:{reports:f,sales_report_id:r,user:k}})},P=(f,r,k)=>{V.dialog({component:dl,componentProps:{reports:f,sales_report_id:r,user:k}})},c=(f,r,k)=>{V.dialog({component:pl,componentProps:{reports:f,sales_report_id:r,user:k}})},v=(f,r,k)=>{V.dialog({component:Al,componentProps:{reports:f,sales_report_id:r,user:k}})};return(f,r)=>($(),I("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(U,null,{default:t(()=>[Fl]),_:1}),e(U,null,{default:t(()=>[o("div",Tl,[e(A,{onClick:r[0]||(r[0]=k=>w(b.sales_Reports[0].bread_reports,b.sales_Reports[0].id,b.sales_Reports[0].user)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(A,{onClick:r[1]||(r[1]=k=>h(b.sales_Reports[0].selecta_reports,b.sales_Reports[0].id,b.sales_Reports[0].user)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(A,{onClick:r[2]||(r[2]=k=>P(b.sales_Reports[0].softdrinks_reports,b.sales_Reports[0].id,b.sales_Reports[0].user)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(A,{onClick:r[3]||(r[3]=k=>c(b.sales_Reports[0].cake_sales_reports,b.sales_Reports[0].id,b.sales_Reports[0].user)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(A,{onClick:r[4]||(r[4]=k=>v(b.sales_Reports[0].other_products_reports,b.sales_Reports[0].id,b.sales_Reports[0].user)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var Ll=W(zl,[["__scopeId","data-v-59913400"]]);const Ol={class:"row justify-between text-white"},Ml=o("div",{class:"text-h6"},"Denomination Report",-1),Hl={class:"row text-weight-regular text-subtitle1"},jl={class:"col-6"},Kl={class:"col-6"},Ql={class:"row justify-end q-mt-md"},El={class:"text-h6"},Yl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(d){const{dialogRef:b,onDialogHide:R}=Se(),w=d.reports[0]||{},h=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c),P=F(()=>{const c={oneThousandBills:1e3,fiveHundredBills:500,twoHundredBills:200,oneHundredBills:100,fiftyBills:50,twentyBills:20,twentyCoins:20,tenCoins:10,fiveCoins:5,oneCoins:1,twentyFiveCents:.25};return Object.keys(c).reduce((v,f)=>v+(w[f]||0)*c[f],0)});return(c,v)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(U,{style:{"background-color":"#03a9f4"}},{default:t(()=>[o("div",Ol,[Ml,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,null,{default:t(()=>[o("div",Hl,[o("div",jl,[o("div",null,"1000 Bills: "+x(X(w).oneThousandBills),1),o("div",null,"500 Bills: "+x(X(w).fiveHundredBills),1),o("div",null,"200 Bills: "+x(X(w).twoHundredBills),1),o("div",null,"100 Bills: "+x(X(w).oneHundredBills),1),o("div",null,"50 Bills: "+x(X(w).fiftyBills),1),o("div",null,"20 Bills: "+x(X(w).twentyBills),1)]),o("div",Kl,[o("div",null,"20 coins: "+x(X(w).twentyCoins),1),o("div",null,"10 coins: "+x(X(w).tenCoins),1),o("div",null,"5 coins: "+x(X(w).fiveCoins),1),o("div",null,"1 coins: "+x(X(w).oneCoins),1),o("div",null,"25 cents: "+x(X(w).twentyFiveCents),1)])])]),_:1}),e(U,null,{default:t(()=>[o("div",Ql,[o("div",El," Overall Total Denomination: "+x(h(P.value)),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Gl=d=>(te("data-v-43ad17ba"),d=d(),ae(),d),Wl=Gl(()=>o("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),Jl={class:"q-gutter-x-md",align:"center"},Xl={__name:"DenominationReport",props:["sales_Reports"],setup(d){const b=d;b.sales_Reports,console.log("Denomination report",b);const R=De(),V=(w,h)=>{R.dialog({component:Yl,componentProps:{reports:w,total:h}})};return(w,h)=>($(),I("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(U,null,{default:t(()=>[Wl]),_:1}),e(U,null,{default:t(()=>[o("div",Jl,[e(A,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:h[0]||(h[0]=P=>V(b.sales_Reports[0].denomination_reports,b.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var Zl=W(Xl,[["__scopeId","data-v-43ad17ba"]]);const en={class:"row justify-between text-white"},tn=o("div",{class:"text-h6"},"Expenses Report",-1),an={class:"row justify-end q-mt-md"},on={class:"text-h6"},ln={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=d;h.reports,console.log("Expenses total",h.total);const P=y=>y?y.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",c=async(y,p)=>{console.log("update data of the updateName",y),console.log("update val of the updateName",p);try{const m=await J.put("/api/update-expenses-sales-name-report/"+y.id,{name:p});console.log("Updated expenses amount response:",m.data)}catch(m){console.error(m)}},v=async(y,p)=>{console.log("update data of the description",y),console.log("update val of the description",p);try{const m=await J.put("/api/update-expenses-sales-description-report/"+y.id,{description:p});console.log("Updated expenses amount response:",m.data)}catch(m){console.error(m)}},f=async(y,p)=>{console.log("update data of the amount",y),console.log("update val of the amount",p);try{const m=await J.put("/api/update-expenses-sales-amount-report/"+y.id,{amount:parseFloat(p)});console.log("Updated expenses amount response:",m.data)}catch(m){console.error(m)}},r=[{name:"name",label:"Expenses Name",field:y=>(console.log("Row data:",y),y.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",h.reports);const k=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(y),g=F(()=>(console.log("Filtered rows:",h.reports||[]),h.reports||[])),S=F(()=>g.value.reduce((p,m)=>{const _=parseFloat(m.amount)||0;return p+_},0));return console.log("Expenses:",g.value),(y,p)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),onOk:y.handleButtonClick,onCancel:X(w)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(U,{style:{"background-color":"#03a9f4"}},{default:t(()=>[o("div",en,[tn,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:y.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:g.value,"row-key":"name","virtual-scroll":"",pagination:y.pagination,"onUpdate:pagination":p[0]||(p[0]=m=>y.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(m=>[e(Q,{props:m},{default:t(()=>[o("span",null,x(`${P(m.row.name)}`),1),e(de,{"onUpdate:modelValue":[_=>c(m.row,_),_=>m.row.name=_],modelValue:m.row.name,"auto-save":""},{default:t(_=>[e(D,{class:"text-capitalize",modelValue:_.value,"onUpdate:modelValue":a=>_.value=a,dense:"",autofocus:"",counter:"",onKeyup:re(_.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-description":t(m=>[e(Q,{props:m},{default:t(()=>[o("span",null,x(`${P(m.row.description)}`),1),e(de,{"onUpdate:modelValue":[_=>v(m.row,_),_=>m.row.description=_],modelValue:m.row.description,"auto-save":""},{default:t(_=>[e(D,{class:"text-capitalize",modelValue:_.value,"onUpdate:modelValue":a=>_.value=a,dense:"",autofocus:"",counter:"",onKeyup:re(_.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-amount":t(m=>[e(Q,{props:m},{default:t(()=>[o("span",null,x(k(m.row.amount)),1),e(de,{"onUpdate:modelValue":[_=>f(m.row,parseFloat(_)),_=>m.row.amount=_],modelValue:m.row.amount,"auto-save":""},{default:t(_=>[e(D,{modelValue:_.value,"onUpdate:modelValue":a=>_.value=a,modelModifiers:{number:!0},dense:"",type:"number",mask:"##0.00",autofocus:"",counter:"",onKeyup:re(_.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(U,null,{default:t(()=>[o("div",an,[o("div",on," Overall Total Expenses: "+x(k(S.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const nn=d=>(te("data-v-4747b3c7"),d=d(),ae(),d),sn=nn(()=>o("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),rn={class:"q-gutter-x-md",align:"center"},dn={__name:"ExpensesReport",props:["sales_Reports"],setup(d){const b=d;console.log("Expenses Data",b.sales_Reports[0].expenses_reports);const R=De(),V=(w,h)=>{R.dialog({component:ln,componentProps:{reports:w,total:h}})};return(w,h)=>($(),I("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(U,null,{default:t(()=>[sn]),_:1}),e(U,null,{default:t(()=>[o("div",rn,[e(A,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:h[0]||(h[0]=P=>V(b.sales_Reports[0].expenses_reports,b.sales_Reports[0].expenses_total))})])]),_:1})]),_:1})]))}};var un=W(dn,[["__scopeId","data-v-4747b3c7"]]);const cn={class:"row justify-between text-white"},mn=o("div",{class:"text-h6"},"Credits Report",-1),pn={class:"row justify-end q-mt-md"},_n={class:"text-h6"},gn={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se(),h=d,P=h.reports;console.log("creditReports data",P),P.forEach((y,p)=>{console.log(`Report ${p}:`,y),console.log(`Credit Products for Report ${p}:`,y.credit_products.total_amount)});const c=F(()=>P.flatMap(y=>y.credit_products.map(p=>{const m=parseInt(p.pieces,10)||0,_=parseFloat(p.price)||0,a=m*_;return{...p,total_amount:a}})));console.log("All Credit Products:",c.value[0]);const v=y=>y?y.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",f=y=>{const p=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",m=y.firstname?p(y.firstname):"No Firstname",_=y.middlename?p(y.middlename).charAt(0)+".":"",a=y.lastname?p(y.lastname):"No Lastname";return`${m} ${_} ${a}`.trim()},r=[{name:"name",label:"Employee Name",field:y=>f(y.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:y=>y.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",h.reports);const k=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(y),g=y=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(y),S=F(()=>c.value.reduce((p,m)=>{const _=parseFloat(m.total_amount)||0;return p+_},0));return(y,p)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),onOk:y.handleButtonClick,onCancel:X(w)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(U,{style:{"background-color":"#03a9f4"}},{default:t(()=>[o("div",cn,[mn,le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])]),_:1}),e(U,null,{default:t(()=>[e(ke,{filter:y.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:r,rows:c.value,"row-key":"name","virtual-scroll":"",pagination:y.pagination,"onUpdate:pagination":p[0]||(p[0]=m=>y.pagination=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(m=>[e(Q,{props:m},{default:t(()=>[o("span",null,x(`${v(m.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(m=>[e(Q,{props:m},{default:t(()=>[o("span",null,x(`${k(m.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(m=>[e(Q,{props:m},{default:t(()=>[o("span",null,x(`${g(m.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(U,null,{default:t(()=>[o("div",pn,[o("div",_n," Overall Total Expenses: "+x(k(S.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const fn=d=>(te("data-v-037b1d7d"),d=d(),ae(),d),vn=fn(()=>o("div",{class:"text-h6",align:"center"},"Credits Report",-1)),yn={class:"q-gutter-x-md",align:"center"},bn={__name:"CreditsReport",props:["sales_Reports"],setup(d){const b=d,R=De(),V=(w,h)=>{R.dialog({component:gn,componentProps:{reports:w,total:h}})};return(w,h)=>($(),I("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(U,null,{default:t(()=>[vn]),_:1}),e(U,null,{default:t(()=>[o("div",yn,[e(A,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:h[0]||(h[0]=P=>V(b.sales_Reports[0].credit_reports,b.sales_Reports[0].credit_total))})])]),_:1}),e(U)]),_:1})]))}};var hn=W(bn,[["__scopeId","data-v-037b1d7d"]]);const wn=d=>(te("data-v-f4bebc60"),d=d(),ae(),d),kn={class:"q-mt-lg row items-start q-gutter-md justify-center"},xn={class:"row justify-between"},$n=wn(()=>o("div",{class:"text-h6"},"Sales Report",-1)),Vn={align:"right"},Rn={class:"text-subtitle1 text-weight-regular"},Cn={class:"row q-gutter-sm q-pa-md"},Sn={class:"q-ma-sm"},Pn={class:"q-ma-sm",align:"center"},Un=["src"],Nn={__name:"SalesReportPanel",props:["salesReport"],setup(d){Ze.exports.vfs=it;const b=d,R=b.salesReport;console.log("reportsData",b.salesReport);const V=q(!0),w=q(!1),h=q(""),P=g=>he.formatDate(g,"MMMM DD, YYYY"),c=g=>{const S=new Date(g),y={hour:"2-digit",minute:"2-digit",hour12:!0};return S.toLocaleTimeString(void 0,y)},v=g=>{const S=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",y=g.firstname?S(g.firstname):"No Firstname",p=g.middlename?S(g.middlename).charAt(0)+".":"",m=g.lastname?S(g.lastname):"No Lastname";return`${y} ${p} ${m}`.trim()},f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(g).replace("\u20B1","\u20B1	"),r=g=>{const S=F(()=>g.credit_reports.flatMap(L=>L.credit_products));console.log("All Credit Products:",S.value);const y=[{title:"Bread Production",data:(g.bread_reports||[]).map(L=>{const j=Number(L.beginnings)||0,Z=Number(L.new_production)||0,fe=Number(L.remaining)||0,Ve=Number(L.bread_out)||0,me=Number(L.price)||0,O=j+Z,H=fe+Ve,se=O-H,E=se*me;return{...L,total:O,bread_sold:se,sales:E}}),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(g.selecta_reports||[]).map(L=>{const j=Number(L.beginnings||0),Z=Number(L.added_stocks||0),fe=Number(L.out||0),Ve=Number(L.remaining||0),me=Number(L.price||0),O=j+Z,H=Ve+fe,se=O-H,E=se*me;return{...L,total:O,sold:se,sales:E}}),columns:["selecta.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(g.softdrinks_reports||[]).map(L=>{const j=Number(L.beginnings||0),Z=Number(L.added_stocks||0),fe=Number(L.out||0),Ve=Number(L.remaining||0),me=Number(L.price||0),O=j+Z,H=Ve+fe,se=O-H,E=se*me;return{...L,total:O,sold:se,sales:E}}),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(g.other_products_reports||[]).map(L=>{const j=Number(L.beginnings||0),Z=Number(L.added_stocks||0),fe=Number(L.out||0),Ve=Number(L.remaining||0),me=Number(L.price||0),O=j+Z,H=Ve+fe,se=O-H,E=se*me;return{...L,total:O,sold:se,sales:E}}),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:g.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],p=g.expenses_reports||[],m=S.value||[],_=g.denomination_reports[0]||[],a=g.denomination_total;g.charges_amount,g.over_total;const i={bills:[{name:"One Thousand",pcs:_.oneThousandBills||0,value:(_.oneThousandBills||0)*1e3},{name:"Five Hundred",pcs:_.fiveHundredBills||0,value:(_.fiveHundredBills||0)*500},{name:"Two Hundred",pcs:_.twoHundredBills||0,value:(_.twoHundredBills||0)*200},{name:"One Hundred",pcs:_.oneHundredBills||0,value:(_.oneHundredBills||0)*100},{name:"Fifty",pcs:_.fiftyBills||0,value:(_.fiftyBills||0)*50},{name:"Twenty",pcs:_.twentyBills||0,value:(_.twentyBills||0)*20}],coins:[{name:"Twenty",pcs:_.twentyCoins||0,value:(_.twentyCoins||0)*20},{name:"Ten",pcs:_.tenCoins||0,value:(_.tenCoins||0)*10},{name:"Five",pcs:_.fiveCoins||0,value:(_.fiveCoins||0)*5},{name:"One",pcs:_.oneCoins||0,value:(_.oneCoins||0)*1},{name:"Twenty Five Cents",pcs:_.twentyFiveCents||0,value:(_.twentyFiveCents||0)*.25}]},n=(L,j,Z)=>{const fe=(me,O)=>O.split(".").reduce((H,se)=>H?H[se]:0,me),Ve=Z.reduce((me,O)=>(me[O]=L.reduce((H,se)=>H+parseFloat(fe(se,O))||0,0),me),{});return[...L.map(me=>j.map(O=>{if(O==="cake_report.user.employee"){const H=fe(me,"cake_report.user.employee");return{text:H?v(H):"No Employee",style:"body",alignment:"center"}}return{text:O.includes(".")?fe(me,O)||"-":me[O]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:j.length-Z.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(j.length-Z.length-1).fill({}),...Z.map(me=>({text:`\u20B1 ${Ve[me].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let l=0;const u=m.length>0?m.map(L=>{const j=(L.price||0)*(L.pieces||0);return l+=j,[{text:v(L.credit_user_id),style:"body",alignment:"center"},{text:L.product.name,style:"body",alignment:"center"},{text:L.pieces,style:"body",alignment:"center"},{text:f(L.price),style:"body",alignment:"center"},{text:f(j),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];u.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:f(l),style:"bodyBold",alignment:"center",colSpan:2},{}]);let s=0;const C=p.length>0?p.map(L=>{const j=parseFloat(L.amount.replace(/[^0-9.-]+/g,""));return isNaN(j)||(s+=j),[{text:L.name,style:"body",alignment:"center"},{text:L.description,style:"body",alignment:"center"},{text:`${f(j)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];C.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${f(s)}`,style:"bodyBold",alignment:"center"}]);const B=i.bills.map((L,j)=>{var Z,fe;return[{text:L.name,style:"body",alignment:"center"},{text:L.pcs,style:"body",alignment:"center"},{text:((Z=i.coins[j])==null?void 0:Z.name)||"",style:"body",alignment:"center"},{text:((fe=i.coins[j])==null?void 0:fe.pcs)||"0",style:"body",alignment:"center"}]});B.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${f(a)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const M=y.map(({title:L,data:j,columns:Z,totals:fe})=>({stack:[{text:L,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(Z.length).fill("*"),body:[Z.map(Ve=>({text:Ve.split(".").pop().replace(/_/g," ").replace(/\b\w/g,me=>me.toUpperCase()),style:"tableHeader",alignment:"center"})),...n(j,Z,fe)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),ue=y.reduce((L,j)=>{const Z=j.data.reduce((fe,Ve)=>fe+(Ve.sales||0),0);return L+Z},0),ve=i.bills.reduce((L,j)=>L+j.value,0)+i.coins.reduce((L,j)=>L+j.value,0),Ne={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:f(ve),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:f(ue),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:f(s),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:f(l),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:f(g.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${f(g.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${g.branch.name}
          Cashier: ${v(g.user.employee)}
          Date: ${P(g.created_at)}
Time: ${c(g.created_at)}
`,margin:[0,0,0,10]},{}]},...M,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...C]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...u]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...B]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},Ne]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},k=g=>{const S=r(g);Ze.exports.createPdf(S).getDataUrl(y=>{h.value=y,w.value=!0})};return(g,S)=>($(),I(K,null,[e(z,{class:"my-card q-pa-md"},{default:t(()=>[e(U,null,{default:t(()=>[o("div",kn,[($(!0),I(K,null,ge(X(R),(y,p)=>($(),I("div",{key:p},[e(z,{flat:"",dense:"",bordered:""},{default:t(()=>[e(U,null,{default:t(()=>[o("div",xn,[$n,o("div",Vn,[e(A,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:m=>k(y)},null,8,["onClick"]),o("div",null,[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N(" Print Report ")]),_:1})])])]),o("div",Rn,[o("div",null,"Name: "+x(v(y.user.employee)),1),o("div",null,"Date: "+x(P(y.created_at)),1),o("div",null,"Time: "+x(c(y.created_at)),1)])]),_:2},1024),o("div",Cn,[e(Ll,{sales_Reports:[y]},null,8,["sales_Reports"]),e(Zl,{sales_Reports:[y]},null,8,["sales_Reports"]),e(un,{sales_Reports:[y]},null,8,["sales_Reports"]),e(hn,{sales_Reports:[y]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(G,{modelValue:w.value,"onUpdate:modelValue":S[0]||(S[0]=y=>w.value=y),maximized:V.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[o("div",Sn,[o("div",Pn,[le(($(),T(A,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(ce,null,{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])]),o("div",null,[o("iframe",{src:h.value,width:"100%",height:"700px"},null,8,Un)])])]),_:1},8,["modelValue","maximized"])],64))}};var qn=W(Nn,[["__scopeId","data-v-f4bebc60"]]);const Dn={class:"text-h6"},In={class:"row q-gutter-x-md"},An={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(d,{emit:b}){const{dialogRef:R,onDialogHide:V,onDialogOK:w,onDialogCancel:h}=Se(),P=d;console.log("production report",P.reports);const c=P.reports.baker_reports,v=P.reports.sales_reports,f=P.reports.sales_reports_id;console.log("sales_report_id",f);const r=b,k=q("bakerReport"),g=q(!0),S=q(!1),y=m=>m?m.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",p=()=>{r("selectReport",P.reports),S.value=!0};return(m,_)=>($(),T(G,{ref_key:"dialogRef",ref:R,modelValue:S.value,"onUpdate:modelValue":_[2]||(_[2]=a=>S.value=a),onHide:X(V),onOk:p,onCancel:X(h),maximized:g.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(U,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[o("div",Dn,x(`${y(d.reports.branch_name)} ( ${d.reportLabel} Reports)`),1),e(Ce),o("div",In,[o("div",null,[le(($(),T(A,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(ce,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[N("Close")]),_:1})]),_:1})),[[ne]])])])]),_:1}),e(U,null,{default:t(()=>[o("div",null,[e(Qe,{modelValue:k.value,"onUpdate:modelValue":_[0]||(_[0]=a=>k.value=a),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(ye,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(ye,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),o("div",null,[e(Ee,{modelValue:k.value,"onUpdate:modelValue":_[1]||(_[1]=a=>k.value=a),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(be,{name:"bakerReport"},{default:t(()=>[e(Ya,{bakersReport:X(c),sales_report_id:X(f)},null,8,["bakersReport","sales_report_id"])]),_:1}),e(be,{name:"salesReport"},{default:t(()=>[e(qn,{salesReport:X(v)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var Bn=W(An,[["__scopeId","data-v-0a776a06"]]);const Fn=d=>(te("data-v-12387bc6"),d=d(),ae(),d),Tn={key:0,class:"spinner-wrapper"},zn={key:1},Ln={key:0,class:"data-error"},On=Fn(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Mn={class:"row justify-center q-gutter-x-md"},Hn={__name:"ProductionTable",setup(d){const b=we();q("bakerReport");const R=b.params.branch_id;q(!1),q(!0),q(""),q("");const V=q({rowsPerPage:0}),w=We(),h=q(""),P=F(()=>w.productions);q(!0);const c=q(!0),v=q(!1),f=F(()=>h.value?P.value.filter(p=>p.name.toLowerCase().includes(h.value.toLowerCase())):P.value);Re(async()=>{R&&await r(R)});const r=async p=>{try{c.value=!0;const m=await w.fetchBranchProductions(p);console.log("Fetched data:",m),console.log("Production rows:",P.value),P.value.length||(v.value=!0)}catch{v.value=!0}finally{c.value=!1}};$e(h,async p=>{c.value=!0,await new Promise(m=>setTimeout(m,1e3)),c.value=!1,v.value=f.value.length===0});const g=[{name:"reportDate",align:"center",label:"Date",field:"date",format:p=>he.formatDate(p,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],S=De(),y=(p,m)=>{S.dialog({component:Bn,componentProps:{reports:p,reportLabel:m}})};return(p,m)=>($(),I(K,null,[o("div",null,[e(D,{modelValue:h.value,"onUpdate:modelValue":m[0]||(m[0]=_=>h.value=_),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),c.value?($(),I("div",Tn,[e(at,{size:"50px",color:"primary"})])):($(),I("div",zn,[f.value.length===0?($(),I("div",Ln,[e(ee,{name:"warning",color:"warning",size:"4em"}),On])):($(),T(ke,{key:1,class:"table-container sticky-header",filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:g,rows:f.value,"row-key":"reportDate","virtual-scroll":"",pagination:V.value,"onUpdate:pagination":m[1]||(m[1]=_=>V.value=_),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(_=>[e(Q,{props:_},{default:t(()=>[o("div",Mn,[e(A,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:a=>y(_.row.AM,"AM")},{default:t(()=>[N("AM")]),_:2},1032,["onClick"]),e(A,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:a=>y(_.row.PM,"PM")},{default:t(()=>[N("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var jn=W(Hn,[["__scopeId","data-v-12387bc6"]]);const Kn={__name:"ProductionPage",setup(d){return(b,R)=>($(),I("div",null,[e(jn)]))}},Qn={class:"row justify-between"},En=o("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Yn=o("div",{class:"text-h6"},"Decline Report",-1),Gn={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){const b=Me(),R=q(""),V=q(!1),w=q(!1),h=q({rowsPerPage:0}),P=De(),c=d,v=()=>{w.value=!0},f=()=>{V.value=!0},r=async()=>{if(!R.value){P.notify({type:"negative",message:"Remark is required"});return}try{const p=await b.declineReport(c.report.id,R.value);console.log("Report declined:",p),P.notify({type:"negative",message:"Report declined successfully"}),V.value=!1,w.value=!1,R.value=""}catch(p){console.error("Error declining report:",p),P.notify({type:"negative",message:"Failed to decline report"})}},k=async()=>{try{const p=await b.confirmReport(c.report.id);console.log("Report confirmed:",p),P.notify({type:"positive",message:"Report confirmed successfully"}),w.value=!1}catch(p){console.error(p)}},g=F(()=>c.report.selecta_added_stocks||[]),S=p=>{const m=n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"",_=p.firstname?m(p.firstname):"No Firstname",a=p.middlename?m(p.middlename).charAt(0)+".":"",i=p.lastname?m(p.lastname):"No Lastname";return`${_} ${a} ${i}`},y=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,m)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v})]),e(G,{modelValue:w.value,"onUpdate:modelValue":m[2]||(m[2]=_=>w.value=_)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Qn,[En,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=_=>w.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(S(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"yellow",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})])]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:g.value,columns:y,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":m[1]||(m[1]=_=>h.value=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(U,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(A,{color:"negative",label:"Decline",class:"action-btn",onClick:f}),e(A,{color:"positive",label:"Confirm",class:"action-btn",onClick:k})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:V.value,"onUpdate:modelValue":m[4]||(m[4]=_=>V.value=_)},{default:t(()=>[e(z,null,{default:t(()=>[e(U,null,{default:t(()=>[Yn]),_:1}),e(U,null,{default:t(()=>[e(D,{modelValue:R.value,"onUpdate:modelValue":m[3]||(m[3]=_=>R.value=_),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[_=>!!_||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Te,{align:"right"},{default:t(()=>[le(e(A,{flat:"",label:"Cancel",color:"primary"},null,512),[[ne]]),e(A,{flat:"",label:"Confirm",color:"negative",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Wn=d=>(te("data-v-08e549d4"),d=d(),ae(),d),Jn={class:"q-gutter-md q-ma-md"},Xn={class:"row justify-between"},Zn={class:"text-subtitle1"},es={class:"text-subtitle1"},ts={class:"text-subtitle1"},as={key:1,class:"data-error"},os=Wn(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ls={__name:"TransactionPendingCard",setup(d){const b=we(),R=Me(),V=F(()=>R.pendingSelectaReports),w=b.params.branch_id,h=q("pending"),P=async()=>{try{const r=await R.fetchPendingSelectaStocks(w,h.value);console.log(V.value)}catch(r){console.error("Error fetching pending stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Jn,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Xn,[o("div",Zn,x(c(g.created_at)),1),o("div",es,x(v(g.created_at)),1),o("div",ts,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"yellow",outlined:""},{default:t(()=>[N(" Pending ")]),_:1})]),o("div",null,[e(Gn,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",as,[e(ee,{name:"warning",color:"warning",size:"4em"}),os]))])]),_:1})]))}};var ns=W(ls,[["__scopeId","data-v-08e549d4"]]);const ss={class:"row justify-between"},rs=o("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),ds={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){Me(),q(!1);const b=q(!1),R=()=>{b.value=!0};De();const V=d,w=F(()=>(console.log("Filtered rows:",V.report||[]),V.report.selecta_added_stocks||[])),h=c=>{const v=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",f=c.firstname?v(c.firstname):"No Firstname",r=c.middlename?v(c.middlename).charAt(0)+".":"",k=c.lastname?v(c.lastname):"No Lastname";return`${f} ${r} ${k}`},P=[{name:"product_name",label:"Product Name",field:c=>(console.log("Row data:",c),c.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:c=>(console.log("Row data:",c),c.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,v)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(G,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",ss,[rs,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:v[0]||(v[0]=f=>b.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(h(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"green",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})])]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:w.value,columns:P,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":v[1]||(v[1]=f=>c.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const is=d=>(te("data-v-c1019cbc"),d=d(),ae(),d),us={class:"q-gutter-md q-ma-md"},cs={class:"row justify-between"},ms={class:"text-subtitle1"},ps={class:"text-subtitle1"},_s={class:"text-subtitle1"},gs={key:1,class:"data-error"},fs=is(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),vs={__name:"TransactionConfirmedCard",setup(d){const b=we(),R=Me(),V=F(()=>R.confirmedSelectaReports),w=b.params.branch_id,h=q("confirmed"),P=async()=>{try{const r=await R.fetchConfirmedSelectaStocks(w,h.value);console.log(V.value)}catch(r){console.error("Error fetching confirmed stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",us,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",cs,[o("div",ms,x(c(g.created_at)),1),o("div",ps,x(v(g.created_at)),1),o("div",_s,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"green",outlined:""},{default:t(()=>[N(x(g.status),1)]),_:2},1024)]),o("div",null,[e(ds,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",gs,[e(ee,{name:"warning",color:"warning",size:"4em"}),fs]))])]),_:1})]))}};var ys=W(vs,[["__scopeId","data-v-c1019cbc"]]);const bs={class:"row justify-between"},hs=o("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),ws={class:"q-mt-md"},ks={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){Me(),q(!1);const b=q(!1),R=()=>{b.value=!0},V=d,w=F(()=>(console.log("Filtered rows:",V.report||[]),V.report.selecta_added_stocks||[])),h=c=>{const v=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",f=c.firstname?v(c.firstname):"No Firstname",r=c.middlename?v(c.middlename).charAt(0)+".":"",k=c.lastname?v(c.lastname):"No Lastname";return`${f} ${r} ${k}`},P=[{name:"product_name",label:"Product Name",field:c=>(console.log("Row data:",c),c.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:c=>(console.log("Row data:",c),c.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,v)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(G,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",bs,[hs,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:v[0]||(v[0]=f=>b.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(h(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"red",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})]),o("div",ws,"Remark: "+x(d.report.remark),1)]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:w.value,columns:P,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":v[1]||(v[1]=f=>c.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const xs=d=>(te("data-v-6b801095"),d=d(),ae(),d),$s={class:"q-gutter-md q-ma-md"},Vs={class:"row justify-between"},Rs={class:"text-subtitle1"},Cs={class:"text-subtitle1"},Ss={class:"text-subtitle1"},Ps={key:1,class:"data-error"},Us=xs(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ns={__name:"TransactionDeclinedCard",setup(d){const b=we(),R=Me(),V=F(()=>R.declinedSelectaReports),w=b.params.branch_id,h=q("declined"),P=async()=>{try{const r=await R.fetchDeclinedSelectaStocks(w,h.value);console.log("selectedProductsDeclined",V.value)}catch(r){console.error("Error fetching decline stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",$s,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Vs,[o("div",Rs,x(c(g.created_at)),1),o("div",Cs,x(v(g.created_at)),1),o("div",Ss,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"red",outlined:""},{default:t(()=>[N(x(g.status),1)]),_:2},1024)]),o("div",null,[e(ks,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",Ps,[e(ee,{name:"warning",color:"warning",size:"4em"}),Us]))])]),_:1})]))}};var qs=W(Ns,[["__scopeId","data-v-6b801095"]]);const Ds={class:"q-gutter-y-sm"},Is={__name:"SelectaTransactionPage",setup(d){const b=q("pendingReports"),R=F(()=>{switch(b.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(V,w)=>($(),I(K,null,[o("div",Ds,[e(Qe,{modelValue:b.value,"onUpdate:modelValue":w[0]||(w[0]=h=>b.value=h),"indicator-color":R.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(ye,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(ye,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(ye,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ee,{modelValue:b.value,"onUpdate:modelValue":w[1]||(w[1]=h=>b.value=h),animated:""},{default:t(()=>[e(be,{name:"pendingReports"},{default:t(()=>[e(ns)]),_:1}),e(be,{name:"confirmReports"},{default:t(()=>[e(ys)]),_:1}),e(be,{name:"declineReports"},{default:t(()=>[e(qs)]),_:1})]),_:1},8,["modelValue"])],64))}};var As=W(Is,[["__scopeId","data-v-6cbd59c6"]]);const Bs={class:"row justify-between"},Fs=o("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Ts=o("div",{class:"text-h6"},"Decline Report",-1),zs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){const b=Ge(),R=q(""),V=q(!1),w=q(!1),h=q({rowPerPage:0}),P=De(),c=d,v=()=>{w.value=!0},f=()=>{V.value=!0},r=async()=>{if(!R.value){P.notify({type:"negative",message:"Remark is required"});return}try{const p=await b.declineReport(c.report.id,R.value);console.log("Report declined:",p),P.notify({type:"negative",message:"Report declined successfully"}),V.value=!1,w.value=!1,R.value=""}catch(p){console.error("Error declining report:",p),P.notify({type:"negative",message:"Failed to decline report"})}},k=async()=>{try{const p=await b.confirmReport(c.report.id);console.log("Report confirmed:",p),P.notify({type:"positive",message:"Report confirmed successfully"}),w.value=!1}catch(p){console.error(p)}},g=F(()=>c.report.softdrinks_added_stocks||[]),S=p=>{const m=n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"",_=p.firstname?m(p.firstname):"No Firstname",a=p.middlename?m(p.middlename).charAt(0)+".":"",i=p.lastname?m(p.lastname):"No Lastname";return`${_} ${a} ${i}`},y=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,m)=>($(),I("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:v}),e(G,{modelValue:w.value,"onUpdate:modelValue":m[2]||(m[2]=_=>w.value=_)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Bs,[Fs,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:m[0]||(m[0]=_=>w.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(S(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"yellow",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})])]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:g.value,columns:y,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":m[1]||(m[1]=_=>h.value=_),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(U,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(A,{color:"negative",label:"Decline",class:"action-btn",onClick:f}),e(A,{color:"positive",label:"Confirm",class:"action-btn",onClick:k})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:V.value,"onUpdate:modelValue":m[4]||(m[4]=_=>V.value=_)},{default:t(()=>[e(z,null,{default:t(()=>[e(U,null,{default:t(()=>[Ts]),_:1}),e(U,null,{default:t(()=>[e(D,{modelValue:R.value,"onUpdate:modelValue":m[3]||(m[3]=_=>R.value=_),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[_=>!!_||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Te,{align:"right"},{default:t(()=>[le(e(A,{flat:"",label:"Cancel",color:"primary"},null,512),[[ne]]),e(A,{flat:"",label:"Confirm",color:"negative",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const Ls=d=>(te("data-v-7ba0107e"),d=d(),ae(),d),Os={class:"q-gutter-md q-ma-md"},Ms={class:"row justify-between"},Hs={class:"text-subtitle1"},js={class:"text-subtitle1"},Ks={class:"text-subtitle1"},Qs={key:1,class:"data-error"},Es=Ls(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ys={__name:"TransactionPendingCard",setup(d){const b=we(),R=Ge(),V=F(()=>R.pendingSoftdrinksReports),w=b.params.branch_id,h=q("pending"),P=async()=>{try{const r=await R.fetchPendingSoftdrinksStocks(w,h.value);console.log(V.value)}catch(r){console.error("Error fetching pending stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Os,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Ms,[o("div",Hs,x(c(g.created_at)),1),o("div",js,x(v(g.created_at)),1),o("div",Ks,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"yellow",outlined:""},{default:t(()=>[N(" Pending ")]),_:1})]),o("div",null,[e(zs,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",Qs,[e(ee,{name:"warning",color:"warning",size:"4em"}),Es]))])]),_:1})]))}};var Gs=W(Ys,[["__scopeId","data-v-7ba0107e"]]);const Ws={class:"row justify-between"},Js=o("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Xs={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){Ge(),q(!1);const b=q(!1),R=()=>{b.value=!0},V=d,w=F(()=>(console.log("Filtered rows:",V.report||[]),V.report.softdrinks_added_stocks||[])),h=c=>{const v=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",f=c.firstname?v(c.firstname):"No Firstname",r=c.middlename?v(c.middlename).charAt(0)+".":"",k=c.lastname?v(c.lastname):"No Lastname";return`${f} ${r} ${k}`},P=[{name:"product_name",label:"Product Name",field:c=>(console.log("Row data:",c),c.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:c=>(console.log("Row data:",c),c.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,v)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(G,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Ws,[Js,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:v[0]||(v[0]=f=>b.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(h(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"green",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})])]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:w.value,columns:P,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":v[1]||(v[1]=f=>c.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Zs=d=>(te("data-v-2b1290c8"),d=d(),ae(),d),er={class:"q-gutter-md q-ma-md"},tr={class:"row justify-between"},ar={class:"text-subtitle1"},or={class:"text-subtitle1"},lr={class:"text-subtitle1"},nr={key:1,class:"data-error"},sr=Zs(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),rr={__name:"TransactionConfirmedCard",setup(d){const b=we(),R=Ge(),V=F(()=>R.confirmedSoftdrinksReports),w=b.params.branch_id,h=q("confirmed"),P=async()=>{try{const r=await R.fetchConfirmedSoftdrinksStocks(w,h.value);console.log(V.value)}catch(r){console.error("Error fetching confirmed stocks",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",er,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",tr,[o("div",ar,x(c(g.created_at)),1),o("div",or,x(v(g.created_at)),1),o("div",lr,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"green",outlined:""},{default:t(()=>[N(x(g.status),1)]),_:2},1024)]),o("div",null,[e(Xs,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",nr,[e(ee,{name:"warning",color:"warning",size:"4em"}),sr]))])]),_:1})]))}};var dr=W(rr,[["__scopeId","data-v-2b1290c8"]]);const ir={class:"row justify-between"},ur=o("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),cr={class:"q-mt-md"},mr={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){Ge();const b=q(!1),R=()=>{b.value=!0},V=d,w=F(()=>(console.log("Filtered rows:",V.report||[]),V.report.softdrinks_added_stocks)),h=c=>{const v=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",f=c.firstname?v(c.firstname):"No Firstname",r=c.middlename?v(c.middlename).charAt(0)+".":"",k=c.lastname?v(c.lastname):"No Lastname";return`${f} ${r} ${k}`},P=[{name:"product_name",label:"Product Name",field:c=>(console.log("Row data:",c),c.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:c=>(console.log("Row data:",c),c.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,v)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(G,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",ir,[ur,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:v[0]||(v[0]=f=>b.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(h(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"red",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})]),o("div",cr,"Remark: "+x(d.report.remark),1)]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:w.value,columns:P,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":v[1]||(v[1]=f=>c.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const pr=d=>(te("data-v-51a1abe5"),d=d(),ae(),d),_r={class:"q-gutter-md q-ma-md"},gr={class:"row justify-between"},fr={class:"text-subtitle1"},vr={class:"text-subtitle1"},yr={class:"text-subtitle1"},br={key:1,class:"data-error"},hr=pr(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),wr={__name:"TransactionDeclinedCard",setup(d){const b=we(),R=Ge(),V=F(()=>R.declinedSoftdrinksReports),w=b.params.branch_id,h=q("declined"),P=async()=>{try{const r=await R.fetchDeclinedSoftdrinksStocks(w,h.value);console.log("softdrinksProductsDeclined",V.value)}catch(r){console.error("Error fetching decline stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),T(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",_r,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",gr,[o("div",fr,x(c(g.created_at)),1),o("div",vr,x(v(g.created_at)),1),o("div",yr,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"red",outlined:""},{default:t(()=>[N(x(g.status),1)]),_:2},1024)]),o("div",null,[e(mr,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",br,[e(ee,{name:"warning",color:"warning",size:"4em"}),hr]))])]),_:1}))}};var kr=W(wr,[["__scopeId","data-v-51a1abe5"]]);const xr={class:"q-gutter-y-sm"},$r={__name:"SoftdrinksTransactionPage",setup(d){const b=q("pendingReports"),R=F(()=>{switch(b.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(V,w)=>($(),I(K,null,[o("div",xr,[e(Qe,{modelValue:b.value,"onUpdate:modelValue":w[0]||(w[0]=h=>b.value=h),"indicator-color":R.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e(ye,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(ye,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(ye,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ee,{modelValue:b.value,"onUpdate:modelValue":w[1]||(w[1]=h=>b.value=h),animated:""},{default:t(()=>[e(be,{name:"pendingReports"},{default:t(()=>[e(Gs)]),_:1}),e(be,{name:"confirmReports"},{default:t(()=>[e(dr)]),_:1}),e(be,{name:"declineReports"},{default:t(()=>[e(kr)]),_:1})]),_:1},8,["modelValue"])],64))}};var Vr=W($r,[["__scopeId","data-v-368f5ccc"]]);const Rr={class:"row justify-between"},Cr=o("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),Sr=o("div",{class:"text-h6"},"Decline Report",-1),Pr={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){const b=ot(),R=q(""),V=q(!1),w=q(!1),h=q({rowsPerPage:0}),P=()=>{w.value=!0},c=()=>{V.value=!0},v=d,f=async()=>{if(!R.value){pe.create({type:"negative",message:"Remark is required"});return}try{const y=await b.declineReport(v.report.id,R.value);console.log("Report declined:",y),pe.create({type:"negative",message:"Report declined successfully"}),V.value=!1,w.value=!1,R.value=""}catch(y){console.error("Error declining report:",y),pe.create({type:"negative",message:"Failed to decline report"})}},r=async()=>{try{const y=await b.confirmReport(v.report.id);console.log("Report confirmed:",y),pe.create({type:"positive",message:"Report confirmed successfully"}),w.value=!1}catch(y){console.error(y)}},k=F(()=>v.report.other_added_stock||[]),g=[{name:"product_name",label:"Product Name",field:y=>y.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:y=>y.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:y=>y.added_stocks?`${y.added_stocks} pcs`:"N/A"}],S=y=>{const p=i=>i?i.charAt(0).toUpperCase()+i.slice(1).toLowerCase():"",m=y.firstname?p(y.firstname):"No Firstname",_=y.middlename?p(y.middlename).charAt(0)+".":"",a=y.lastname?p(y.lastname):"No Lastname";return`${m} ${_} ${a}`};return(y,p)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:P})]),e(G,{modelValue:w.value,"onUpdate:modelValue":p[2]||(p[2]=m=>w.value=m)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Rr,[Cr,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:p[0]||(p[0]=m=>w.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(S(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"yellow",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})])]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:k.value,columns:g,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":p[1]||(p[1]=m=>h.value=m),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(U,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(A,{color:"negative",label:"Decline",class:"action-btn",onClick:c}),e(A,{color:"positive",label:"Confirm",class:"action-btn",onClick:r})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:V.value,"onUpdate:modelValue":p[4]||(p[4]=m=>V.value=m)},{default:t(()=>[e(z,null,{default:t(()=>[e(U,null,{default:t(()=>[Sr]),_:1}),e(U,null,{default:t(()=>[e(D,{modelValue:R.value,"onUpdate:modelValue":p[3]||(p[3]=m=>R.value=m),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[m=>!!m||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Te,{align:"right"},{default:t(()=>[le(e(A,{flat:"",label:"Cancel",color:"primary"},null,512),[[ne]]),e(A,{flat:"",label:"Confirm",color:"negative",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Ur=d=>(te("data-v-355e3e60"),d=d(),ae(),d),Nr={class:"q-gutter-md q-ma-md"},qr={key:0},Dr={class:"row justify-between"},Ir={class:"text-subtitle1"},Ar={class:"text-subtitle1"},Br={class:"text-subtitle1"},Fr={key:1,class:"data-error"},Tr=Ur(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zr={__name:"TransactionPendingCard",setup(d){const b=we(),R=ot(),V=F(()=>R.pendingOtherReports),w=b.params.branch_id,h=q("pending"),P=async()=>{try{const r=await R.fetchPendingOtherStocks(w,h.value);console.log(V.value)}catch(r){console.error("Error fetching pending stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Nr,[V.value.length?($(),I("div",qr,[($(!0),I(K,null,ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Dr,[o("div",Ir,x(c(g.created_at)),1),o("div",Ar,x(v(g.created_at)),1),o("div",Br,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"yellow",outlined:""},{default:t(()=>[N(" Pending ")]),_:1})]),o("div",null,[e(Pr,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):($(),I("div",Fr,[e(ee,{name:"warning",color:"warning",size:"4em"}),Tr]))])]),_:1})]))}};var Lr=W(zr,[["__scopeId","data-v-355e3e60"]]);const Or={class:"row justify-between"},Mr=o("div",{class:"text-h6"},"Other Added Stocks Report",-1),Hr={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){Me(),q(!1);const b=q(!1),R=()=>{b.value=!0};De();const V=d,w=F(()=>(console.log("Filtered rows:",V.report||[]),V.report.other_added_stock||[])),h=c=>{const v=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",f=c.firstname?v(c.firstname):"No Firstname",r=c.middlename?v(c.middlename).charAt(0)+".":"",k=c.lastname?v(c.lastname):"No Lastname";return`${f} ${r} ${k}`},P=[{name:"product_name",label:"Product Name",field:c=>(console.log("Row data:",c),c.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:c=>(console.log("Row data:",c),c.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,v)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(G,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Or,[Mr,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:v[0]||(v[0]=f=>b.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(h(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"green",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})])]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:w.value,columns:P,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":v[1]||(v[1]=f=>c.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const jr=d=>(te("data-v-5b0a7351"),d=d(),ae(),d),Kr={class:"q-gutter-md q-ma-md"},Qr={class:"row justify-between"},Er={class:"text-subtitle1"},Yr={class:"text-subtitle1"},Gr={class:"text-subtitle1"},Wr={key:1,class:"data-error"},Jr=jr(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Xr={__name:"TransactionConfirmedCard",setup(d){const b=we(),R=ot(),V=F(()=>R.confirmedOtherReports),w=b.params.branch_id,h=q("confirmed"),P=async()=>{try{const r=await R.fetchConfirmedOtherStocks(w,h.value);console.log(V.value)}catch(r){console.error("Error fetching confirmed stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",Kr,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",Qr,[o("div",Er,x(c(g.created_at)),1),o("div",Yr,x(v(g.created_at)),1),o("div",Gr,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"green",outlined:""},{default:t(()=>[N(x(g.status),1)]),_:2},1024)]),o("div",null,[e(Hr,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",Wr,[e(ee,{name:"warning",color:"warning",size:"4em"}),Jr]))])]),_:1})]))}};var Zr=W(Xr,[["__scopeId","data-v-5b0a7351"]]);const ed={class:"row justify-between"},td=o("div",{class:"text-h6"},"Others Added Stocks Report",-1),ad={class:"q-mt-md"},od={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(d){Me(),q(!1);const b=q(!1),R=()=>{b.value=!0},V=d,w=F(()=>(console.log("Filtered rows:",V.report||[]),V.report.other_added_stock||[])),h=c=>{const v=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",f=c.firstname?v(c.firstname):"No Firstname",r=c.middlename?v(c.middlename).charAt(0)+".":"",k=c.lastname?v(c.lastname):"No Lastname";return`${f} ${r} ${k}`},P=[{name:"product_name",label:"Product Name",field:c=>(console.log("Row data:",c),c.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:c=>(console.log("Row data:",c),c.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}];return(c,v)=>($(),I(K,null,[o("div",null,[e(A,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(G,{modelValue:b.value,"onUpdate:modelValue":v[2]||(v[2]=f=>b.value=f)},{default:t(()=>[e(z,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(U,null,{default:t(()=>[o("div",ed,[td,e(A,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:v[0]||(v[0]=f=>b.value=!1)})])]),_:1}),e(U,null,{default:t(()=>[o("div",null,"Cashier: "+x(h(d.report.employee)),1),o("div",null," Branch: "+x(d.report.branch.name),1),o("div",null,[N(" Status: "),e(_e,{color:"red",outlined:""},{default:t(()=>[N(x(d.report.status),1)]),_:1})]),o("div",ad,"Remark: "+x(d.report.remark),1)]),_:1}),e(U,null,{default:t(()=>[e(ke,{rows:w.value,columns:P,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":v[1]||(v[1]=f=>c.pagination=f),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const ld=d=>(te("data-v-67ff56ab"),d=d(),ae(),d),nd={class:"q-gutter-md q-ma-md"},sd={class:"row justify-between"},rd={class:"text-subtitle1"},dd={class:"text-subtitle1"},id={class:"text-subtitle1"},ud={key:1,class:"data-error"},cd=ld(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),md={__name:"TransactionDeclinedCard",setup(d){const b=we(),R=ot(),V=F(()=>R.declinedOtherReports),w=b.params.branch_id,h=q("declined"),P=async()=>{try{const r=await R.fetchDeclinedOtherStocks(w,h.value);console.log("selectedOtherProductDeclined",V.value)}catch(r){console.error("Error fetching decline stocks:",r)}};Re(async()=>{w&&await P()});const c=r=>he.formatDate(r,"MMMM D, YYYY"),v=r=>he.formatDate(r,"hh:mm A"),f=r=>{const k=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",g=r.firstname?k(r.firstname):"No Firstname",S=r.middlename?k(r.middlename).charAt(0)+".":"",y=r.lastname?k(r.lastname):"No Lastname";return`${g} ${S} ${y}`};return(r,k)=>($(),I("div",null,[e(Le,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[o("div",nd,[V.value.length?($(!0),I(K,{key:0},ge(V.value,(g,S)=>($(),T(z,{key:S},{default:t(()=>[e(U,null,{default:t(()=>[o("div",sd,[o("div",rd,x(c(g.created_at)),1),o("div",dd,x(v(g.created_at)),1),o("div",id,x(g.branch.name)+" - "+x(f(g.employee)),1),o("div",null,[e(_e,{color:"red",outlined:""},{default:t(()=>[N(x(g.status),1)]),_:2},1024)]),o("div",null,[e(od,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):($(),I("div",ud,[e(ee,{name:"warning",color:"warning",size:"4em"}),cd]))])]),_:1})]))}};var pd=W(md,[["__scopeId","data-v-67ff56ab"]]);const _d={class:"q-gutter-y-sm"},gd={__name:"OtherTransactionPage",setup(d){const b=q("pendingReports"),R=F(()=>{switch(b.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(V,w)=>($(),I(K,null,[o("div",_d,[e(Qe,{modelValue:b.value,"onUpdate:modelValue":w[0]||(w[0]=h=>b.value=h),"indicator-color":R.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e(ye,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e(ye,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e(ye,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(Ee,{modelValue:b.value,"onUpdate:modelValue":w[1]||(w[1]=h=>b.value=h),animated:""},{default:t(()=>[e(be,{name:"pendingReports"},{default:t(()=>[e(Lr)]),_:1}),e(be,{name:"confirmReports"},{default:t(()=>[e(Zr)]),_:1}),e(be,{name:"declineReports"},{default:t(()=>[e(pd)]),_:1})]),_:1},8,["modelValue"])],64))}};var fd=W(gd,[["__scopeId","data-v-b76c19b4"]]);const _t=d=>(te("data-v-0a732ed6"),d=d(),ae(),d),vd={class:"q-gutter-y-sm"},yd=_t(()=>o("h1",null,"Bread",-1)),bd=_t(()=>o("h1",null,"Cake",-1)),hd={__name:"TransactionPage",setup(d){const b=q("bread");return(R,V)=>($(),I(K,null,[o("div",vd,[e(Qe,{modelValue:b.value,"onUpdate:modelValue":V[0]||(V[0]=w=>b.value=w),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(ye,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e(ye,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e(ye,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e(ye,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e(ye,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(Ee,{modelValue:b.value,"onUpdate:modelValue":V[1]||(V[1]=w=>b.value=w),animated:""},{default:t(()=>[e(be,{name:"bread"},{default:t(()=>[e(z,null,{default:t(()=>[yd]),_:1})]),_:1}),e(be,{name:"selecta"},{default:t(()=>[e(As)]),_:1}),e(be,{name:"softdrinks"},{default:t(()=>[e(Vr)]),_:1}),e(be,{name:"cake"},{default:t(()=>[e(z,null,{default:t(()=>[bd]),_:1})]),_:1}),e(be,{name:"other"},{default:t(()=>[e(fd)]),_:1})]),_:1},8,["modelValue"])],64))}};var wd=W(hd,[["__scopeId","data-v-0a732ed6"]]);const je=d=>(te("data-v-f0d86c36"),d=d(),ae(),d),kd=je(()=>o("div",{class:"text-h6"},"Create Branch Recipe",-1)),xd={class:"q-mb-lg"},$d={key:0,class:"custom-list z-top"},Vd={class:"q-mb-sm"},Rd=je(()=>o("div",null,"Recipe Name",-1)),Cd={class:"q-mb-lg"},Sd=je(()=>o("div",null,"Category",-1)),Pd=je(()=>o("div",null,"Breads",-1)),Ud={class:"q-mt-md q-gutter-y-sm"},Nd=je(()=>o("div",{class:"text-weight-thin"},"Ingredients List",-1)),qd={class:"q-mt-xl q-gutter-y-sm"},Dd={class:"row justify-between"},Id=je(()=>o("div",{align:"center"},"Ingredients",-1)),Ad=je(()=>o("div",{align:"center"},"Quantity",-1)),Bd=["onKeyup"],Fd={align:"right"},Td={__name:"RecipeCreate",setup(d){const b=we(),R=b.params.branch_id,V=xt(),w=F(()=>V.recipes),h=et(),P=Ye(),c=et(),v=F(()=>h.branchRecipes),f=q(!1),r=()=>{f.value=!0},k=()=>{clearForm(),f.value=!1},g=O=>O?O.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase()).join(" "):"",S=q(""),y=async()=>{V.searchRecipe(S.value)},p=F(()=>_.target!==0),m=O=>{_.recipe_id=O.id,_.recipe_name=O.name,_.category=O.category,S.value=""},_=ze({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:b.params.branch_id}),a=q(!1),i=q(null),n=q([]),l=q(n.value),u=q([]),s=q([]),C=ze({name:"",quantity:""}),B=q(s.value);(async()=>{await P.fetchProductsByCategory("Bread"),a.value=!1,n.value=P.breads.map(O=>({label:O.name,value:O.id}))})(),(async()=>{const O="Ingredients";await c.fetchBranchRawMaterials(O,R),a.value=!1,s.value=c.ingredients.map(H=>({label:H.raw_material_name,value:H.raw_material_id,unit:H.ingredient_unit}))})();const ve=()=>{C.name="",C.quantity=""},Ne=(O,H)=>{O.length>2&&(n.value.includes(O)||H(O,"add-unique"))},L=(O,H)=>{H(()=>{if(O==="")l.value=n.value;else{const se=O.toLowerCase();l.value=n.value.filter(E=>E.label.toLowerCase().indexOf(se)>-1)}})},j=(O,H)=>{H(()=>{if(O==="")B.value=s.value;else{const se=O.toLowerCase();B.value=s.value.filter(E=>E.label.toLowerCase().indexOf(se)>-1)}})},Z=()=>{const O=u.value;function H(qe,Ke){return qe.find(Xe=>Xe.ingredients_id==Ke)}const se=C.name.value;H(O,se)?pe.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(u.value=[...O,{ingredients_id:C.name.value,label:C.name.label,quantity:C.quantity,unit:C.name.unit}],ve())},fe=O=>{u.value.splice(O,1)};$e(()=>C.name,O=>{O&&O.unit?C.unit=O.unit:C.unit=""});const Ve=()=>{_.recipe_id="",_.target="",i.value=null,u.value=[],C.name="",C.quantity=""},me=async()=>{const O={recipe_id:_.recipe_id,target:_.target,status:"active",branch_id:_.branches_id,breads:i.value.map(H=>({bread_id:H.value})),ingredients:u.value.map(H=>({ingredient_id:H.ingredients_id,quantity:H.quantity}))};console.log("branchRecipe",O),await h.saveBranchRecipe(O),v.value=await h.fetchBranchRecipes(R),Ve(),f.value=!1};return(O,H)=>($(),I(K,null,[e(A,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:r}),e(G,{modelValue:f.value,"onUpdate:modelValue":H[7]||(H[7]=se=>f.value=se)},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(U,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[kd,e(Ce),le(e(A,{icon:"close",flat:"",dense:"",round:""},null,512),[[ne]])]),_:1}),e(U,null,{default:t(()=>{var se;return[o("div",xd,[e(D,{modelValue:S.value,"onUpdate:modelValue":[H[0]||(H[0]=E=>S.value=E),y],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[o("div",null,[e(ee,{name:"search"})])]),default:t(()=>[S.value?($(),I("div",$d,[e(z,null,{default:t(()=>[e(Pe,{separator:""},{default:t(()=>{var E;return[(E=w.value)!=null&&E.length?($(!0),I(K,{key:1},ge(w.value,qe=>($(),T(ie,{onClick:Ke=>m(qe),key:qe.id,clickable:""},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(g(qe.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):($(),T(ie,{key:0},{default:t(()=>[N(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Oe("",!0)]),_:1},8,["modelValue"])]),o("div",Vd,[Rd,e(D,{modelValue:_.recipe_name,"onUpdate:modelValue":H[1]||(H[1]=E=>_.recipe_name=E),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",Cd,[Sd,e(D,{modelValue:_.category,"onUpdate:modelValue":H[2]||(H[2]=E=>_.category=E),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),o("div",null,[e(D,{modelValue:_.target,"onUpdate:modelValue":H[3]||(H[3]=E=>_.target=E),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),o("div",null,[Pd,e(lt,{modelValue:i.value,"onUpdate:modelValue":H[4]||(H[4]=E=>i.value=E),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:l.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:Ne,onFilter:L,rules:[E=>E&&E.length>0||"Bread is required"]},{"no-option":t(()=>[e(ie,null,{default:t(()=>[e(Y,{class:"text-grey"},{default:t(()=>[N(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),o("div",Ud,[Nd,o("div",null,[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[($(!0),I(K,null,ge(u.value,(E,qe)=>($(),T(ie,{key:qe},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,null,{default:t(()=>[N(x(E.label),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[N(x(E.quantity)+" "+x(E.unit),1)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(A,{onClick:Ke=>fe(qe),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),o("div",qd,[o("div",Dd,[o("div",null,[Id,e(lt,{modelValue:C.name,"onUpdate:modelValue":H[5]||(H[5]=E=>C.name=E),debounce:"3000",outlined:"","chips-color":"primary",options:B.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:j,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ie,null,{default:t(()=>[e(Y,{class:"text-grey"},{default:t(()=>[N(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),o("div",null,[Ad,e(D,{modelValue:C.quantity,"onUpdate:modelValue":H[6]||(H[6]=E=>C.quantity=E),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((se=C==null?void 0:C.name)==null?void 0:se.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),o("form",{onKeyup:re(yt(Z,["prevent"]),["enter"])},[o("div",Fd,[e(A,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Z})])],40,Bd)])]}),_:1}),e(Te,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(A,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:k}),e(A,{class:"glossy",color:"teal",label:"Create",onClick:me,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var zd=W(Td,[["__scopeId","data-v-f0d86c36"]]);const gt=d=>(te("data-v-33664d62"),d=d(),ae(),d),Ld=gt(()=>o("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Od=gt(()=>o("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Md={__name:"RecipeDelete",props:["delete"],setup(d){const b=et(),R=d,V=q(!1),w=()=>{V.value=!0},h=async()=>{await b.deleteRecipe(R.delete.row.id),V.value=!1};return(P,c)=>($(),I(K,null,[e(A,{onClick:w,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(ce,{class:"bg-negative",delay:200},{default:t(()=>[N("Delete")]),_:1})]),_:1}),e(G,{modelValue:V.value,"onUpdate:modelValue":c[0]||(c[0]=v=>V.value=v),persistent:""},{default:t(()=>[e(z,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(U,{class:"q-pt-none q-pb-sm"},{default:t(()=>[Ld,Od]),_:1}),e(tt,{class:"q-mb-md"}),e(U,null,{default:t(()=>[e(Te,{align:"right",class:"q-pt-none"},{default:t(()=>[le(e(A,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[ne]]),e(A,{dense:"",label:"Delete",color:"negative",onClick:h,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Hd=W(Md,[["__scopeId","data-v-33664d62"]]);const jd=d=>(te("data-v-7a561dd0"),d=d(),ae(),d),Kd={class:"text-h6 text-white"},Qd=jd(()=>o("div",{class:"text-h6",align:"center"},"Bread List",-1)),Ed={class:"row",align:"center"},Yd={__name:"RecipeBreadGroups",props:["breadGroups"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se();console.log("breadGroups",d.breadGroups);const P=c=>c?c.split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join(" "):"";return(c,v)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(z,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(U,{class:"row bg-backgroud text-h6"},{default:t(()=>[o("div",Kd,x(P(d.breadGroups.name)),1),e(Ce),o("div",null,[le(e(A,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ne]])])]),_:1}),e(U,null,{default:t(()=>[Qd]),_:1}),e(U,null,{default:t(()=>[($(!0),I(K,null,ge(d.breadGroups.bread_groups,(f,r)=>($(),I("div",{key:r},[o("div",Ed,x(f),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Gd=W(Yd,[["__scopeId","data-v-7a561dd0"]]);const Wd=d=>(te("data-v-435e3b8f"),d=d(),ae(),d),Jd={class:"text-h6 text-white"},Xd=Wd(()=>o("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),Zd={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(d){const{dialogRef:b,onDialogHide:R,onDialogOK:V,onDialogCancel:w}=Se();console.log("ingredientGroups",d.ingredientGroups);const P=v=>v?v.split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1).toLowerCase()).join(" "):"",c=v=>{const f=Number(v.quantity)||0,r=v.unit||"";return f>1e3?`${parseFloat((f/1e3).toFixed(3))} kg`:f>1?`${parseFloat(f.toFixed(3))} ${r}`:`${parseFloat(f.toFixed(3))} ${r}`};return(v,f)=>($(),T(G,{ref_key:"dialogRef",ref:b,onHide:X(R),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(z,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(U,{class:"row bg-backgroud text-h6"},{default:t(()=>[o("div",Jd,x(P(d.ingredientGroups.name)),1),e(Ce),o("div",null,[le(e(A,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[ne]])])]),_:1}),e(U,null,{default:t(()=>[Xd]),_:1}),e(U,null,{default:t(()=>[e(Pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(ie,null,{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Raw Materials Name")]),_:1})]),_:1}),e(Y,null,{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Code")]),_:1})]),_:1}),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-overline"},{default:t(()=>[N("Quantity")]),_:1})]),_:1})]),_:1}),($(!0),I(K,null,ge(d.ingredientGroups.ingredient_groups,(r,k)=>($(),T(ie,{key:k},{default:t(()=>[e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(r.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(Y,null,{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(r.code),1)]),_:2},1024)]),_:2},1024),e(Y,{side:""},{default:t(()=>[e(oe,{class:"text-caption"},{default:t(()=>[N(x(c(r)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var ei=W(Zd,[["__scopeId","data-v-435e3b8f"]]);const ti=d=>(te("data-v-89832402"),d=d(),ae(),d),ai={class:"row justify-between"},oi={class:"q-my-sm"},li={key:0,class:"spinner-wrapper"},ni={key:1},si={key:0,class:"data-error"},ri=ti(()=>o("div",{class:"q-ml-sm text-h6"},"No data available",-1)),di={class:"row justify-center q-gutter-x-md"},ii={__name:"RecipeTable",setup(d){const R=we().params.branch_id,V=et(),w=q(""),h=q(!0),P=q([]),c=q(!1),v=q({rowsPerPage:0}),f=["inactive","active"],r=F(()=>V.branchRecipes);console.log("branch recipe",r.value);const k=F(()=>w.value?r.value.filter(s=>s.name.toLowerCase().includes(w.value.toLowerCase())):r.value);Re(async()=>{R&&await g(R)});const g=async s=>{try{h.value=!0;const C=await V.fetchBranchRecipes(s);r.value=C,console.log("branchRecipeRows",r.value),r.value.length||(c.value=!0),console.log("Branch recipe",r.value)}catch(C){console.log("Error fetching recipe",C)}finally{h.value=!1}},S=s=>{const C=Number(s)||0;return parseFloat(C.toFixed(3)).toString()},y=s=>!s&&s!==0?"Set Target":typeof s=="number"||!isNaN(s)?(s=parseFloat(s),s%1===0?s:parseFloat(s.toFixed(1))):s;async function p(s,C){try{const B=await J.put("/api/update-target/"+s.id,{target:parseFloat(C)});if(console.log("response",B),B.status==200){const M=P.value.findIndex(ue=>ue.id==s.id);P.value[M]=C}pe.create({type:"positive",message:"Recipe target edited successfully"})}catch(B){console.error("Error updating recipe target:",B),pe.create({type:"negative",message:"Failed to edit recipe target"})}}async function m(s,C){try{if((await J.put("/api/branch-update-status/"+s.id,{status:C})).status==200){const M=P.value.findIndex(ue=>ue.id==s.id);P.value[M]=C}pe.create({type:"positive",message:"Recipe status change successfully"})}catch(B){console.error("Error updating recipe status:",B),pe.create({type:"negative",message:"Failed to change recipe status"})}}const _=s=>s?s.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",a=[{name:"name",label:"Recipe name",align:"center",field:s=>s.name},{name:"category",label:"Category",align:"center",field:s=>s.recipe},{name:"target",label:"Target",align:"center",field:s=>y(s.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],i=De(),n=s=>{console.log("Bread Groups:",s),i.dialog({component:Gd,componentProps:{breadGroups:s}})},l=s=>{console.log("Ingredients Groups:",s),i.dialog({component:ei,componentProps:{ingredientGroups:s}})},u=s=>{switch(s){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(s,C)=>($(),I(K,null,[o("div",ai,[o("div",null,[e(D,{class:"q-pb-lg q-pl-md",modelValue:w.value,"onUpdate:modelValue":C[0]||(C[0]=B=>w.value=B),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ee,{name:"search"})]),_:1},8,["modelValue"])]),o("div",oi,[e(zd)])]),h.value?($(),I("div",li,[e(at,{size:"50px",color:"primary"})])):($(),I("div",ni,[k.value.length===0?($(),I("div",si,[e(ee,{name:"warning",color:"warning",size:"4em"}),ri])):($(),T(ke,{key:1,class:"table-container sticky-header",filter:w.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:a,rows:k.value,"row-key":"name","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":C[1]||(C[1]=B=>v.value=B),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(B=>[e(Q,{props:B},{default:t(()=>[o("span",null,x(_(B.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(B=>[e(Q,{props:B},{default:t(()=>[o("span",null,x(_(B.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(B=>[e(Q,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[o("span",null,[N(x(S(B.row.target))+" ",1),e(ce,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N("Edit Target")]),_:1})]),e(de,{"onUpdate:modelValue":[M=>p(B.row,M),M=>B.row.target=M],modelValue:B.row.target,"auto-save":""},{default:t(M=>[e(D,{modelValue:M.value,"onUpdate:modelValue":ue=>M.value=ue,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:re(M.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(B=>[e(Q,{props:B},{default:t(()=>[e(_e,{outline:"",color:u(B.row.status)},{default:t(()=>[N(x(_(B.row.status))+" ",1),e(ce,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[N("Change Status")]),_:1})]),_:2},1032,["color"]),e(de,{"onUpdate:modelValue":[M=>m(B.row,M),M=>B.row.status=M],modelValue:B.row.status,"auto-save":""},{default:t(M=>[o("span",null,x(B.row.name),1),e(lt,{modelValue:M.value,"onUpdate:modelValue":ue=>M.value=ue,dense:"",label:"status",autofocus:"",options:f,counter:"",mask:"###",onKeyup:re(M.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(B=>[e(Q,{props:B},{default:t(()=>[e(A,{"no-caps":"",onClick:M=>n(B.row),label:`${B.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(B=>[e(Q,{props:B},{default:t(()=>[e(A,{"no-caps":"",onClick:M=>l(B.row),label:`${B.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(B=>[e(Q,{props:B},{default:t(()=>[o("div",di,[e(Hd,{delete:B},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var ui=W(ii,[["__scopeId","data-v-89832402"]]);const ci={__name:"RecipePage",setup(d){return(b,R)=>($(),I("div",null,[e(ui)]))}};const mi={class:"elegant-container q-gutter-md"},pi={class:"text-h6 row justify-between"},_i={class:"q-gutter-sm"},gi={class:"tab-container"},fi={__name:"BranchIdPage",setup(d){const b=we(),R=q(""),V=bt(),w=async f=>(await J.get(`/api/branches/${f}`)).data,h=async()=>{const f=b.params.branch_id,r=await w(f);r&&r.name?R.value=r.name:console.error("Branch data is missing 'name' property or invalid:",r)};Re(()=>{h()});const P=f=>f?f.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",c=q("products"),v=()=>{Ue.show(),V.push("/admin/branches").finally(()=>{Ue.hide()})};return(f,r)=>($(),T(ht,{padding:""},{default:t(()=>[o("div",mi,[o("div",pi,[o("div",null,[e(A,{outline:"",flat:"",icon:"arrow_back",onClick:v}),e(Ce)]),o("div",null,[e(ee,{name:"fa-solid fa-store",color:"red-6"}),N(" "+x(P(R.value)),1)])]),o("div",_i,[o("div",gi,[e(Qe,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=k=>c.value=k),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(ye,{name:"products",label:"Products"}),e(ye,{name:"rawMaterials",label:"Raw Materials"}),e(ye,{name:"recipe",label:"Recipe"}),e(ye,{name:"production",label:"Production"}),e(ye,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(z,{class:"q-mt-sm"},{default:t(()=>[e(Ee,{modelValue:c.value,"onUpdate:modelValue":r[1]||(r[1]=k=>c.value=k),animated:""},{default:t(()=>[e(be,{name:"products"},{default:t(()=>[e(Gt)]),_:1}),e(be,{name:"rawMaterials"},{default:t(()=>[e(ha)]),_:1}),e(be,{name:"recipe"},{default:t(()=>[e(ci)]),_:1}),e(be,{name:"production"},{default:t(()=>[e(Kn)]),_:1}),e(be,{name:"transaction"},{default:t(()=>[e(wd)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Zi=W(fi,[["__scopeId","data-v-eb7c826e"]]);export{Zi as default};
