import{i as P,h as x,c as s,l as S,m as _,k as O,j as y,g as q,r as b,u as $,A as Q,aC as w,C as R,bo as V}from"./index.43ab9562.js";const k={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function B(){const{props:e,proxy:{$q:c}}=S(),n=P(_,x);if(n===x)return console.error("QPageSticky needs to be child of QLayout"),x;const m=s(()=>{const t=e.position;return{top:t.indexOf("top")!==-1,right:t.indexOf("right")!==-1,bottom:t.indexOf("bottom")!==-1,left:t.indexOf("left")!==-1,vertical:t==="top"||t==="bottom",horizontal:t==="left"||t==="right"}}),o=s(()=>n.header.offset),f=s(()=>n.right.offset),u=s(()=>n.footer.offset),r=s(()=>n.left.offset),p=s(()=>{let t=0,l=0;const a=m.value,d=c.lang.rtl===!0?-1:1;a.top===!0&&o.value!==0?l=`${o.value}px`:a.bottom===!0&&u.value!==0&&(l=`${-u.value}px`),a.left===!0&&r.value!==0?t=`${d*r.value}px`:a.right===!0&&f.value!==0&&(t=`${-d*f.value}px`);const i={transform:`translate(${t}, ${l})`};return e.offset&&(i.margin=`${e.offset[1]}px ${e.offset[0]}px`),a.vertical===!0?(r.value!==0&&(i[c.lang.rtl===!0?"right":"left"]=`${r.value}px`),f.value!==0&&(i[c.lang.rtl===!0?"left":"right"]=`${f.value}px`)):a.horizontal===!0&&(o.value!==0&&(i.top=`${o.value}px`),u.value!==0&&(i.bottom=`${u.value}px`)),i}),g=s(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function v(t){const l=O(t.default);return y("div",{class:g.value,style:p.value},e.expand===!0?l:[y("div",l)])}return{$layout:n,getStickyContent:v}}var z=q({name:"QPageScroller",props:{...k,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{...k.offset,default:()=>[18,18]}},emits:["click"],setup(e,{slots:c,emit:n}){const{proxy:{$q:m}}=S(),{$layout:o,getStickyContent:f}=B(),u=b(null);let r;const p=s(()=>o.height.value-(o.isContainer.value===!0?o.containerHeight.value:m.screen.height));function g(){return e.reverse===!0?p.value-o.scroll.value.position>e.scrollOffset:o.scroll.value.position>e.scrollOffset}const v=b(g());function t(){const h=g();v.value!==h&&(v.value=h)}function l(){e.reverse===!0?r===void 0&&(r=$(p,t)):a()}$(o.scroll,t),$(()=>e.reverse,l);function a(){r!==void 0&&(r(),r=void 0)}function d(h){const C=R(o.isContainer.value===!0?u.value:o.rootRef.value);V(C,e.reverse===!0?o.height.value:0,e.duration),n("click",h)}function i(){return v.value===!0?y("div",{ref:u,class:"q-page-scroller",onClick:d},f(c)):null}return l(),Q(a),()=>y(w,{name:"q-transition--fade"},i)}});export{z as Q};
