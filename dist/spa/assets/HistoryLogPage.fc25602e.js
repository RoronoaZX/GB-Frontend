import{d as A,r as u,c as z,z as H,o as k,a3 as T,f as p,w as d,J as a,$ as o,O as U,R as I,e as M,I as Q}from"./index.bbc471a5.js";import{Q as R}from"./QPage.66fd0a07.js";import{Q as L,a as Y}from"./QTable.8a489d60.js";import{api as $}from"./axios.58d1e782.js";import{q as F}from"./date.8eb8e4a2.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import"./QVirtualScroll.c801800c.js";import"./QList.fa8edf4e.js";import"./use-virtual-scroll.4fbdc11a.js";import"./rtl.a2d21784.js";import"./QSelect.80cd56e8.js";import"./QChip.814bc863.js";import"./QMenu.477c3670.js";import"./selection.79d5b637.js";const N=A("history-log",()=>{const s=u(null),n=u([]);return{historyLog:s,historyLogs:n,fetchHistoryLogs:async()=>{const _=await $.get("/api/history-logs");n.value=_.data}}});const w=s=>(U("data-v-1d0148a7"),s=s(),I(),s),O={class:"row q-gutter-sm"},q={class:"text-italic text-capitalize text-bold text-primary"},E={class:"text-italic text-capitalize text-bold text-red-6"},P={class:"text-lowercase"},V={class:"text-bold text-capitalize text-teal-5"},j=w(()=>a("div",null,"from",-1)),W={class:"text-bold text-purple-14"},G=w(()=>a("div",null,"to",-1)),K={class:"text-bold text-positive"},X={class:"text-uppercase text-bold"},Z={__name:"TableComponents",setup(s){const n=N(),c=z(()=>n.historyLogs);console.log("historyLogsData",c.value),H(async()=>_());const _=async()=>{await n.fetchHistoryLogs(),console.log("historyLogsData",c.value)},D=e=>e?e.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",S=e=>{const i=l=>l?l.charAt(0).toUpperCase()+l.slice(1).toLowerCase():"",t=e.firstname?i(e.firstname):"No Firstname",r=e.middlename?i(e.middlename).charAt(0)+".":"",m=e.lastname?i(e.lastname):"No Lastname";return`${t} ${r} ${m}`},B=e=>F.formatDate(e,"MMM DD, YYYY || hh:mm A"),C=[{name:"timestamp",label:"Timestamp",align:"left",field:e=>B(e.created_at),sortable:!0},{name:"report_id",label:"Report ID",align:"center",field:"report_id",sortable:!0},{name:"action",label:"Action",align:"left",field:e=>D((e==null?void 0:e.action)||"undefined"),sortable:!0},{name:"details",label:"Details",align:"center",sortable:!1}];return u([{id:1,timestamp:"2025-04-23 10:15:32",report_id:"1",designation:"Branch 1",type_of_report:"Sales Report",user:"John Doe",action:"Updated",details:"User updated AM sales report bread product Francis beginnings from 25 pcs to 30 pcs"},{id:2,timestamp:"2025-04-23 10:17:45",report_id:"2",designation:"Branch 2",type_of_report:"Bakers Report",user:"JOhn Doe",action:"Updated",details:"User updated AM bakers report UBE YOYO Recipe kilo from 1 kg/s to 2 kg/s "},{id:3,timestamp:"2025-04-23 10:20:02",report_id:"3",designation:"Warehouse",type_of_report:"Bakers Report",user:"Jame Smith",action:"Logout",details:"Session ended"}]),(e,i)=>(k(),T("div",null,[p(Y,{class:"table-container elegant-container sticky-header","virtual-scroll-sticky-size-start":48,flat:"",style:{height:"500px"},"rows-per-page-options":[0],"hide-bottom":"",title:"Activity Logs",rows:c.value,columns:C,"row-key":"id"},{"body-cell-details":d(t=>[p(L,{props:t},{default:d(()=>{var r,m,l,f,g,h,y,v,b,x;return[a("div",O,[a("div",q,o(S((m=(r=t.row)==null?void 0:r.user_id)==null?void 0:m.employee)||"undefined"),1),a("div",null,o(((l=t.row)==null?void 0:l.action)||"undefined"),1),a("div",E,o(((g=(f=t.row)==null?void 0:f.designation)==null?void 0:g.name)||"undefined"),1),a("div",P,o(((h=t.row)==null?void 0:h.type_of_report)||"undefined"),1),a("div",V,o(((y=t.row)==null?void 0:y.name)||"undefined"),1),a("div",null,o(((v=t.row)==null?void 0:v.updated_field)||"undefined"),1),j,a("div",W,o(((b=t.row)==null?void 0:b.original_data)||"undefined"),1),G,a("div",K,o(((x=t.row)==null?void 0:x.updated_data)||"undefined"),1)])]}),_:2},1032,["props"])]),"body-cell-action":d(t=>[p(L,{props:t},{default:d(()=>{var r;return[a("div",X,o(((r=t.row)==null?void 0:r.action)||"undefined"),1)]}),_:2},1032,["props"])]),_:1},8,["rows"])]))}};var ee=J(Z,[["__scopeId","data-v-1d0148a7"]]);const fe={__name:"HistoryLogPage",setup(s){return(n,c)=>(k(),M(R,{class:"elegant-container",flat:""},{default:d(()=>[p(Q,null,{default:d(()=>[p(ee)]),_:1})]),_:1}))}};export{fe as default};
