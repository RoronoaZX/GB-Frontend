import{d as p,r as n,P as o,N as r}from"./index.7a9df8e1.js";import{api as i}from"./axios.68b8d8cc.js";const v=p("rawMaterials",()=>{const w=n(null),t=n([]),l=n([]);return{rawMaterial:w,rawMaterials:t,ingredients:l,searchRawMaterials:async a=>{const e=await i.get("/api/search-rawMaterials",{params:{keyword:a}});t.value=e.data,console.log("Search rawe materials",e.data)},createRawMaterials:async a=>{console.log("Data",a);try{o.show();const e=await i.post("/api/raw-materials",a);console.log("RawMaterials",e.data.rawMaterials),t.value.unshift(e.data.rawMaterials),r.create({type:"positive",message:"Raw Materials successfully created",timeout:1e3})}catch(e){console.log("error",e),e.response.data.message,r.create({type:"warning",icon:"warning",message:e.response.data.message||"ERROR",timeout:5e3})}finally{o.hide()}},fetchRawMaterials:async()=>{const a=await i.get("/api/raw-materials");t.value=a.data},updateRawMaterials:async(a,e)=>{try{o.show();const s=await i.put(`/api/raw-materials/${a}`,e),c=t.value.findIndex(d=>d.id===a);c!==-1&&(t.value[c]=s.data),r.create({type:"positive",message:"Raw Materials updated successfully",timeout:1e3})}catch(s){console.log("erororoeo",s),s.response.data.message==="The name has already been taken. (and 1 more error)"?r.create({type:"warning",icon:"warning",message:s.response.data.message||"ERROR",timeout:5e3}):r.create({type:"negative",icon:"error",message:s.response.data.message||"ERROR",timeout:5e3})}o.hide()},deleteRawMaterials:async a=>{await i.delete(`/api/raw-materials/${a}`),t.value=t.value.filter(e=>e.id!==a),r.create({type:"positive",icon:"warning",message:"Raw Materials successfully deleted",timeout:1e3})},fetchIngredients:async a=>{const e=await i.get("/api/ingredients",a);l.value=e.data}}});export{v as u};
