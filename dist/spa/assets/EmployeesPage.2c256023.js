import{c as J,r as f,z as G,u as xe,o as _,a3 as K,J as n,f as e,w as t,K as g,a0 as w,$ as M,bf as v,bb as F,aK as se,e as U,bd as L,M as T,Q as R,ae as W,bh as Ee,a2 as le,a4 as Y,t as me,L as X,I as N,aJ as re,O as pe,R as ce,bc as fe,a5 as _e}from"./index.43ab9562.js";import{Q}from"./QTooltip.f2e4d145.js";import{Q as B}from"./QPopupEdit.7e11074c.js";import{Q as I,a as Ue}from"./QTable.658b01d5.js";import{Q as ke}from"./QBadge.4ea87d0d.js";import{Q as O}from"./QSelect.081132f3.js";import{Q as qe}from"./QSpinnerIos.c0457916.js";import{Q as De}from"./QInnerLoading.b1de1e3a.js";import{C as j}from"./ClosePopup.12b741da.js";import{u as ve,t as de,f as $e,a as Ae,g as Se,b as Te,e as ie,c as ue,d as Pe,h as Ce,i as Me,j as Ne,k as Fe,v as ge,l as Qe,m as Ie,n as Ke,o as Re}from"./useEmployeeFunctions.520da5c4.js";import{u as te}from"./employee.a9544aba.js";import{_ as ze}from"./GB_LOGO.b766a815.js";import{u as Be,a as Le,b as Oe}from"./EmployeesPage.vue_vue_type_style_index_0_scoped_true_lang.0981df1f.js";import{_ as Z}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as ye}from"./QSpace.e06b825a.js";import{u as he}from"./branch.f6661347.js";import{Q as ee,a as we}from"./QItem.ff171332.js";import{Q as be}from"./QList.9ecf3aea.js";import{u as We}from"./warehouse.e349fb16.js";import"./position-engine.ed0ae374.js";import"./selection.5f168078.js";import"./QMenu.cad42190.js";import"./QVirtualScroll.6341daa5.js";import"./use-virtual-scroll.34d9a201.js";import"./QItemLabel.1d2f1703.js";import"./QChip.6afc7832.js";import"./date.ebafd830.js";import"./axios.8f06cb1d.js";import"./vfs_fontes.6ee410e6.js";var je="/assets/IDLogo.76e564fd.png";const He={style:{width:"100%"}},Je={class:"text-subtitle2"},Ye={class:"row q-gutter-md"},Ge={class:"row justify-center q-gutter-x-md"},Xe={class:"text-white q-ma-sm",align:"right"},Ze=["src"],el={__name:"TableSection",setup(x){const{dialog:E,pdfUrl:q,handlePrintID:D}=Be(je,ze),P=ve(),V=te(),b=J(()=>V.employees),k=f([]),$=u=>{var o;return console.log("designation_type:",(o=u.designation)==null?void 0:o.designation_type),Re(u)},h=f({page:1,rowsPerPage:0,rowsNumber:0}),A=f("");f(!1),console.log("employees fetch madepaker",b.value),G(async()=>{await m()}),G(async()=>{await P.fetchEmploymentType(),ie.value=P.employmentType.map(u=>({label:u.category,value:u.id})),console.log("Employment Type Options:",ie.value)});const z=f(null);console.log("===================================="),console.log("employmentTypeIdsss",z.value),console.log("====================================");const m=async(u=0,a=5,o="")=>{try{de.value=!0,b.value=await V.fetchEmployeeWithEmploymentType(u,a,o),console.log("fetchEmployeeWithEmploymentType",b.value);const{data:l,current_page:d,per_page:r,total:c}=b.value;k.value=l,console.log("employeesRowsData.value",k.value),h.value.page=d,console.log("pagination.value.page",h.value.page),h.value.rowsPerPage=r,console.log("pagination.value.rowsPerPage",h.value.rowsPerPage),h.value.rowsNumber=c,console.log("pagination.value.rowsNumber",h.value.rowsNumber)}catch(l){console.log("employee madepaker",l)}finally{de.value=!1}},S=u=>{console.log("porps",u),m(u.pagination.page,u.pagination.rowsPerPage,u.filter)};return xe(A,async u=>{await m(h.value.page,h.value.rowsPerPage,u)}),(u,a)=>(_(),K(Y,null,[n("div",He,[e(Ue,{class:"user-card",title:"Employees",rows:k.value,columns:v(Ke),"row-key":"fullname",pagination:h.value,"onUpdate:pagination":a[1]||(a[1]=o=>h.value=o),"rows-per-page-options":[5,7,10,0],loading:v(de),filter:A.value,onRequest:S},{"top-right":t(()=>[e(g,{modelValue:A.value,"onUpdate:modelValue":a[0]||(a[0]=o=>A.value=o),outlined:"",dense:"",flat:"",label:"Search",debounce:"300",style:{width:"300px"}},null,8,["modelValue"])]),"body-cell-fullname":t(o=>[e(I,{key:"fullname",props:o},{default:t(()=>[n("div",Je,[w(M(v($e)(o.row))+" ",1),e(Q,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Employee Name ")]),_:1})]),e(B,{modelValue:o.row,"onUpdate:modelValue":[l=>o.row=l,l=>v(Ae)(o.row,l)],buttons:"",title:"Edit Employee Full Name"},{default:t(({value:l,set:d})=>[n("div",Ye,[e(g,{class:"text-capitalize",modelValue:l.firstname,"onUpdate:modelValue":r=>l.firstname=r,label:"First Name",outlined:"",flat:"",color:"positive",dense:"",autofucos:"",onKeyup:F(r=>d(l),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),e(g,{class:"text-capitalize",modelValue:l.middlename,"onUpdate:modelValue":r=>l.middlename=r,label:"Middle Name",outlined:"",flat:"",color:"positive",dense:"",autofucos:"",onKeyup:F(r=>d(l),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"]),e(g,{class:"text-capitalize",modelValue:l.lastname,"onUpdate:modelValue":r=>l.lastname=r,label:"Last Name",outlined:"",flat:"",color:"positive",dense:"",autofucos:"",onKeyup:F(r=>d(l),["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"body-cell-employmentType":t(o=>[e(I,{props:o},{default:t(()=>{var l;return[e(ke,{color:v(Se)((l=o.row.employment_type)==null?void 0:l.category)},{default:t(()=>{var d;return[w(M(((d=o.row.employment_type)==null?void 0:d.category)||"N/A")+" ",1),e(Q,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Employment Type ")]),_:1})]}),_:2},1032,["color"]),e(B,{modelValue:o.row.employment_type.id,"onUpdate:modelValue":d=>o.row.employment_type.id=d,buttons:"",title:"Edit Employment Type",onSave:d=>v(Te)(o.row,d,m)},{default:t(d=>[e(O,{modelValue:d.value,"onUpdate:modelValue":r=>d.value=r,options:v(ie),autofocus:"","option-label":"label","option-value":"value","emit-value":"","map-options":"",dense:"",outlined:"",behavior:"menu",onKey:r=>d.set(d.value)},null,8,["modelValue","onUpdate:modelValue","options","onKey"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]),"body-cell-address":t(o=>[e(I,{props:o,style:{"text-align":"justify"}},{default:t(()=>[n("div",null,[w(M(v(ue)(o.row.address))+" ",1),e(Q,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Address ")]),_:1})]),e(B,{"onUpdate:modelValue":[l=>v(Pe)(o.row,l),l=>o.row.address=l],modelValue:o.row.address,buttons:"",title:"Edit Address"},{default:t(l=>[e(g,{class:"text-capitalize",modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,dense:"",autofocus:"",counter:"",onKeyup:F(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-phone":t(o=>[e(I,{props:o},{default:t(()=>[n("div",null,[w(M(v(ue)(o.row.phone))+" ",1),e(Q,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Phone ")]),_:1})]),e(B,{"onUpdate:modelValue":[l=>v(Ce)(o.row,l),l=>o.row.phone=l],modelValue:o.row.phone,buttons:"",title:"Edit Phone"},{default:t(l=>[e(g,{modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,dense:"",autofocus:"",mask:"+(63) ### - ### - ####",counter:"",onKeyup:F(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-birthdate":t(o=>[e(I,{props:o},{default:t(()=>[n("div",null,[w(M(v(Me)(o.row.birthdate))+" ",1),e(Q,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Birthdate ")]),_:1})]),e(B,{"onUpdate:modelValue":[l=>v(Ne)(o.row,l),l=>o.row.birthdate=l],modelValue:o.row.birthdate,buttons:"",title:"Edit Birthdate"},{default:t(l=>[e(g,{modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,dense:"",autofocus:"",type:"date",hint:"mm/dd/yyyy",onKeyup:F(l.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-designation":t(o=>[e(I,{props:o},{default:t(()=>{var l,d;return[n("div",{class:se({"editable-cell":o.row.designation})},[w(M(v(ue)((l=o.row.designation)==null?void 0:l.name)||"N/A")+" ",1),(d=o.row.designation)!=null&&d.name?(_(),U(Q,{key:0,class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Designation ")]),_:1})):L("",!0)],2),o.row.designation?(_(),U(B,{key:0,modelValue:o.row.designation.id,"onUpdate:modelValue":r=>o.row.designation.id=r,buttons:"",title:"Edit Employee designation",onSave:r=>v(Fe)(o.row.designation,r,m)},{default:t(r=>[e(O,{modelValue:r.value,"onUpdate:modelValue":c=>r.value=c,options:$(o.row),"option-value":"id","option-label":"name","emit-value":"","map-options":"",dense:"",outlined:"",onKeyup:F(c=>r.set(r.value),["enter"])},null,8,["modelValue","onUpdate:modelValue","options","onKeyup"])]),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])):L("",!0)]}),_:2},1032,["props"])]),"body-cell-time_in":t(o=>[e(I,{props:o},{default:t(()=>{var l;return[n("div",{class:se({"editable-cell":o.row.designation})},[w(M(((l=o.row.designation)==null?void 0:l.time_in)||"N/A")+" ",1),o.row.designation?(_(),U(Q,{key:0,class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Time In ")]),_:1})):L("",!0)],2),o.row.designation?(_(),U(B,{key:0,"onUpdate:modelValue":[d=>v(Qe)(o.row.designation,d),d=>o.row.designation.time_in=d],modelValue:o.row.designation.time_in,buttons:"",title:"Edit Employee Time In"},{default:t(d=>[e(g,{modelValue:d.value,"onUpdate:modelValue":[r=>d.value=r,r=>d.value=r],"model-value":d.value,dense:"",autofocus:"",mask:"##:## AA",rules:[v(ge)],hint:"Format: 01:00 AM/PM",onKeyup:F(d.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","model-value","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])):L("",!0)]}),_:2},1032,["props"])]),"body-cell-time_out":t(o=>[e(I,{props:o},{default:t(()=>{var l;return[n("div",{class:se({"editable-cell":o.row.designation})},[w(M(((l=o.row.designation)==null?void 0:l.time_out)||"N/A")+" ",1),o.row.designation?(_(),U(Q,{key:0,class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[w(" Edit Time Out ")]),_:1})):L("",!0)],2),o.row.designation?(_(),U(B,{key:0,"onUpdate:modelValue":[d=>v(Ie)(o.row.designation,d),d=>o.row.designation.time_out=d],modelValue:o.row.designation.time_out,buttons:"",title:"Edit Employee Time Out"},{default:t(d=>[e(g,{modelValue:d.value,"onUpdate:modelValue":[r=>d.value=r,r=>d.value=r],"model-value":d.value,dense:"",autofocus:"",mask:"##:## AA",rules:[v(ge)],hint:"Format: 01:00 AM/PM",onKeyup:F(d.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","model-value","rules","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])):L("",!0)]}),_:2},1032,["props"])]),"body-cell-actions":t(o=>[e(I,{props:o},{default:t(()=>[n("div",Ge,[e(T,{round:"",dense:"",size:"md",color:"black",icon:"print",flat:"",onClick:l=>v(D)(o.row)},{default:t(()=>[e(Q,{class:"bg-black",delay:200},{default:t(()=>[w(" Print ")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),loading:t(()=>[e(De,{showing:""},{default:t(()=>[e(qe,{size:"50px",color:"grey-10"})]),_:1})]),_:1},8,["rows","columns","pagination","loading","filter"])]),e(le,{modelValue:v(E),"onUpdate:modelValue":a[2]||(a[2]=o=>Ee(E)?E.value=o:null),persistent:""},{default:t(()=>[e(R,{class:"bg-gradient",style:{width:"700px","max-width":"80vw"}},{default:t(()=>[n("div",Xe,[W(e(T,{icon:"close",flat:"",dense:"",round:""},null,512),[[j]])]),n("div",null,[n("iframe",{src:v(q),width:"100%",height:"700px"},null,8,Ze)])]),_:1})]),_:1},8,["modelValue"])],64))}};var ll=Z(el,[["__scopeId","data-v-0ef33c0a"]]);const Ve=x=>(pe("data-v-8756ce02"),x=x(),ce(),x),tl={class:"q-mb-md text-center"},ol=Ve(()=>n("div",{class:"text-center"},[n("div",{class:"text-h6"},"Add Employee")],-1)),al=Ve(()=>n("div",{class:"text-h5 q-mr-md"},"\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC} Add New Employee",-1)),nl={class:"q-gutter-y-sm"},sl={class:"q-gutter-y-sm q-mx-auto"},dl={class:"row q-gutter-x-sm item-start"},il={class:"row q-gutter-x-sm"},ul={__name:"RegisterEmployee",setup(x){const E=te(),q=f(!1),D=f(!1),P=()=>{q.value=!0};he();const V=ve(),b=["Super Admin","Admin","Supervisor","Scaler","Lamesador","Hornero","Baker","Cake Maker","Cashier","Sales Clerk","Utility","Not Yet Assigned"],k=["Male","Female"],$=f([]),h=f([]);f([]),f($.value),G(async()=>{await V.fetchEmploymentType(),h.value=V.employmentType.map(S=>({label:S.category,value:S.id}))});const p=me({firstname:"",middlename:"",lastname:"",address:"",birthdate:"",sex:"",phone:"",position:"",employment_type:""}),z=async()=>{D.value=!0;const S={...p,employment_type_id:p.employment_type.value,status:"Active"};console.log("employee",S),await E.createEmployee(S),D.value=!1,m(),q.value=!1},m=()=>{p.firstname="",p.middlename="",p.lastname="",p.address="",p.birthdate="",p.sex="",p.phone="",p.position="",p.employment_type=""};return(S,u)=>(_(),K(Y,null,[e(R,{class:"q-pa-md user-card",onClick:P},{default:t(()=>[n("div",tl,[e(X,{name:"person_add",size:"70px",color:"yellow-7"})]),ol]),_:1}),e(le,{modelValue:q.value,"onUpdate:modelValue":u[9]||(u[9]=a=>q.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(R,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(N,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[al,e(ye),W(e(T,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[j]])]),_:1}),e(N,null,{default:t(()=>[n("div",nl,[n("div",sl,[e(g,{class:"text-capitalize",modelValue:p.firstname,"onUpdate:modelValue":u[0]||(u[0]=a=>p.firstname=a),outlined:"",dense:"",label:"First Name",rules:[a=>a&&a.length>0||"Required"]},null,8,["modelValue","rules"]),e(g,{class:"text-capitalize",modelValue:p.middlename,"onUpdate:modelValue":u[1]||(u[1]=a=>p.middlename=a),outlined:"",dense:"",label:"Middle Name",rules:[a=>a&&a.length>0||"Required"]},null,8,["modelValue","rules"]),e(g,{class:"text-capitalize",modelValue:p.lastname,"onUpdate:modelValue":u[2]||(u[2]=a=>p.lastname=a),outlined:"",dense:"",label:"Last Name",rules:[a=>a&&a.length>0||"Required"]},null,8,["modelValue","rules"]),e(g,{class:"text-capitalize",modelValue:p.address,"onUpdate:modelValue":u[3]||(u[3]=a=>p.address=a),outlined:"",dense:"",label:"Address",rules:[a=>a&&a.length>0||"Required"]},null,8,["modelValue","rules"])]),n("div",dl,[n("div",null,[e(g,{modelValue:p.birthdate,"onUpdate:modelValue":u[4]||(u[4]=a=>p.birthdate=a),outlined:"",dense:"",label:"Birthdate",type:"date",style:{width:"230px"},rules:[a=>a&&a.length>0||"Required"]},null,8,["modelValue","rules"])]),n("div",null,[e(g,{modelValue:p.phone,"onUpdate:modelValue":u[5]||(u[5]=a=>p.phone=a),outlined:"",dense:"",label:"Phone Number",mask:"+(63) ### - ### - ####",placeholder:"(+63) ### - ### - ####",rules:[a=>a&&a.length>0||"Required"],style:{width:"230px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])])]),n("div",il,[n("div",null,[e(O,{modelValue:p.sex,"onUpdate:modelValue":u[6]||(u[6]=a=>p.sex=a),dense:"",outlined:"",label:"Sex",options:k,rules:[a=>a&&a.length>0||"Required"],style:{width:"120px"},behavior:"menu","hide-dropdown-icon":""},null,8,["modelValue","rules"])]),n("div",null,[e(O,{modelValue:p.position,"onUpdate:modelValue":u[7]||(u[7]=a=>p.position=a),outlined:"",dense:"","hide-dropdown-icon":"",label:"Position",options:b,rules:[a=>a&&a.length>0||"Required"],behavior:"menu",style:{width:"175px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","rules"])]),n("div",null,[e(O,{modelValue:p.employment_type,"onUpdate:modelValue":u[8]||(u[8]=a=>p.employment_type=a),outlined:"",dense:"","hide-dropdown-icon":"",label:"Employment Type",options:h.value,behavior:"menu",style:{width:"155px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options"])])])])]),_:1}),e(re,{class:"row q-px-lg q-py-sm q-pt-none",align:"left"},{default:t(()=>[W(e(T,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[j]]),e(T,{class:"glossy",color:"teal",label:"Add",icon:"add",onClick:z,loading:D.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ml=Z(ul,[["__scopeId","data-v-8756ce02"]]);const oe=x=>(pe("data-v-1c9fdef4"),x=x(),ce(),x),rl={class:"q-mb-md text-center"},pl=oe(()=>n("div",{class:"text-center"},[n("div",{class:"text-subtitle1 text-weight-medium"},"Branch Designations")],-1)),cl=oe(()=>n("div",{class:"text-h5 q-mr-md"},"\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC} Branch Designation",-1)),yl={key:0,class:"custom-list z-top"},gl={class:"row justify-between q-gutter-md"},fl={class:"row q-gutter-x-md"},_l=oe(()=>n("div",{class:"q-my-md"},"Designation",-1)),vl=oe(()=>n("div",{class:"q-my-md"},"Time Schedule",-1)),hl={class:"row justify-between q-gutter-x-md"},wl={__name:"BranchDesignationEmployee",setup(x){J(()=>{const s=window.innerWidth;return s>1200?"500px":s>768?"80vw":"95vw"});const E=f(!1),q=Le(),D=te(),P=he(),V=f([]);f([]);const b=f(""),k=f(V.value),$=f(!1),h=f(!1),A=J(()=>D.employee),p=async()=>{b.value.trim()&&(h.value=!0,await D.searchCertainEmployee(b.value),h.value=!1)},z=J(()=>{const s=/^(0[1-9]|1[0-2]):([0-5][0-9]) (AM|PM)$/;return!m.employee_id||!m.employee_name||!m.position||!m.branch_name||!m.time_in||!m.time_out||!s.test(m.time_in)||!s.test(m.time_out)}),m=me({employee_id:"",employee_name:"",position:"",branch_name:"",time_in:"",time_out:""});G(async()=>{await P.fetchBranches(),V.value=P.branches.map(s=>({label:s.name,value:s.id})),k.value=V.value});const u=(s,i)=>{i(()=>{const y=s.toLowerCase();k.value=s===""?V.value:V.value.filter(C=>C.label.toLowerCase().includes(y))})},a=s=>{console.log("Selected Employee:",s),m.employee_id=s.id,m.employee_name=o(s),m.position=s.position,b.value="",console.log("Filled Designation Data:",m)},o=s=>{const i=ne=>ne?ne.charAt(0).toUpperCase()+ne.slice(1).toLowerCase():"",y=s.firstname?i(s.firstname):"No Firstname",C=s.middlename?i(s.middlename).charAt(0)+".":"",H=s.lastname?i(s.lastname):"No Lastname";return`${y} ${C} ${H}`},l=()=>{E.value=!0},d=()=>{m.employee_id="",m.employee_name="",m.position="",m.branch_name="",m.time_in="",m.time_out=""},r=s=>/^(0[1-9]|1[0-2]):([0-5][0-9]) (AM|PM)$/.test(s)||"Time format must be HH:MM AM/PM (e.g., 01:00 AM)",c=async()=>{$.value=!0;const s={...m,branch_id:m.branch_name.value};await q.createDesignation(s),console.log("Designation Data to Save:",s),$.value=!1,E.value=!1,d()};return(s,i)=>(_(),K(Y,null,[e(R,{class:"q-pa-md user-card",onClick:l,align:"center"},{default:t(()=>[n("div",rl,[e(X,{name:"add_business",size:"20px",color:"red-7"})]),pl]),_:1}),e(le,{modelValue:E.value,"onUpdate:modelValue":i[6]||(i[6]=y=>E.value=y),"backdrop-filter":"blur(4px) saturate(150%)",position:"right"},{default:t(()=>[e(R,{style:{width:"550px","max-width":"100vw"}},{default:t(()=>[e(N,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[cl,e(ye),W(e(T,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[j]])]),_:1}),e(N,null,{default:t(()=>[n("div",null,[e(g,{modelValue:b.value,"onUpdate:modelValue":[i[0]||(i[0]=y=>b.value=y),p],label:"Search Employee",outlined:"",dense:"",debounce:"500",placeholder:"Enter name or position"},{append:t(()=>[h.value?(_(),U(fe,{key:1,color:"grey",size:"sm"})):(_(),U(X,{key:0,name:"search"}))]),default:t(()=>[b.value?(_(),K("div",yl,[e(R,null,{default:t(()=>[e(be,{separator:""},{default:t(()=>{var y;return[(y=A.value)!=null&&y.length?(_(!0),K(Y,{key:1},_e(A.value,C=>(_(),U(ee,{onClick:H=>a(C),key:C.id,clickable:""},{default:t(()=>[e(we,null,{default:t(()=>[w(M(o(C)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(_(),U(ee,{key:0},{default:t(()=>[w(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):L("",!0)]),_:1},8,["modelValue"])])]),_:1}),e(N,null,{default:t(()=>[n("div",gl,[e(g,{outlined:"",readonly:"",dense:"",label:"Full Name",modelValue:m.employee_name,"onUpdate:modelValue":i[1]||(i[1]=y=>m.employee_name=y),style:{width:"350px"},rules:[y=>!!y||"Employee name is required"]},null,8,["modelValue","rules"]),e(g,{outlined:"",readonly:"",dense:"",label:"Position",modelValue:m.position,"onUpdate:modelValue":i[2]||(i[2]=y=>m.position=y),style:{width:"150px"},rules:[y=>!!y||"Position is required"]},null,8,["modelValue","rules"])])]),_:1}),e(N,null,{default:t(()=>[n("div",fl,[n("div",null,[_l,e(O,{modelValue:m.branch_name,"onUpdate:modelValue":i[3]||(i[3]=y=>m.branch_name=y),outlined:"",flat:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:k.value,label:"Branch",onFilter:u,"hide-dropdown-icon":"",behavior:"menu",style:{width:"200px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options"])]),n("div",null,[vl,n("div",hl,[e(g,{modelValue:m.time_in,"onUpdate:modelValue":i[4]||(i[4]=y=>m.time_in=y),outlined:"",flat:"",dense:"",mask:"##:## AA",label:"Time IN",rules:[r],hint:"Format: 08:00 AM/PM",style:{width:"140px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"]),e(g,{modelValue:m.time_out,"onUpdate:modelValue":i[5]||(i[5]=y=>m.time_out=y),outlined:"",flat:"",dense:"",mask:"##:## AA",label:"Time OUT",rules:[r],hint:"Format: 01:00 AM/PM",style:{width:"140px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"])])])])]),_:1}),e(re,{class:"row q-px-lg q-py-sm q-pt-none",align:"left"},{default:t(()=>[W(e(T,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[j]]),e(T,{class:"glossy",color:"teal",label:"Add",onClick:c,loading:$.value,disable:z.value},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var bl=Z(wl,[["__scopeId","data-v-1c9fdef4"]]);const ae=x=>(pe("data-v-7d7dae92"),x=x(),ce(),x),Vl={class:"q-mb-md text-center"},xl=ae(()=>n("div",{class:"text-center"},[n("div",{class:"text-subtitle1 text-weight-medium"}," Warehouse Designations ")],-1)),El=ae(()=>n("div",{class:"text-h5 q-mr-md"},"\u{1F468}\u200D\u{1F4BC}\u{1F469}\u200D\u{1F4BC} Warehouse Designation",-1)),Ul={key:0,class:"custom-list z-top"},kl={class:"row justify-between q-gutter-md"},ql={class:"row q-gutter-x-md"},Dl=ae(()=>n("div",{class:"q-my-md"},"Designation",-1)),$l=ae(()=>n("div",{class:"q-my-md"},"Time Schedule",-1)),Al={class:"row justify-between q-gutter-x-md"},Sl={__name:"WarehouseDesignationEmployee",setup(x){J(()=>{const c=window.innerWidth;return c>1200?"500px":c>768?"80vw":"95vw"});const E=f(!1),q=Oe(),D=te(),P=We(),V=f([]);f([]);const b=f(""),k=f(V.value),$=f(!1),h=f(!1),A=J(()=>D.employee),p=async()=>{b.value.trim()&&(h.value=!0,await D.searchCertainEmployee(b.value),h.value=!1)},z=c=>/^(0[1-9]|1[0-2]):[0-5][0-9] (AM|PM)$/i.test(c)||"Time format must be HH:MM AM/PM (e.g., 01:00 AM)";G(async()=>{await P.fetchWarehouses(),V.value=P.warehouses.map(c=>({label:c.name,value:c.id})),k.value=V.value});const S=(c,s)=>{s(()=>{const i=c.toLowerCase();k.value=c===""?V.value:V.value.filter(y=>y.label.toLowerCase().includes(i))})},u=c=>{console.log("Selected Employee:",c),l.employee_id=c.id,l.employee_name=a(c),l.position=c.position,b.value="",console.log("Filled Designation Data:",l)},a=c=>{const s=H=>H?H.charAt(0).toUpperCase()+H.slice(1).toLowerCase():"",i=c.firstname?s(c.firstname):"No Firstname",y=c.middlename?s(c.middlename).charAt(0)+".":"",C=c.lastname?s(c.lastname):"No Lastname";return`${i} ${y} ${C}`},o=()=>{E.value=!0},l=me({employee_id:"",employee_name:"",position:"",warehouse_name:"",time_in:"",time_out:""}),d=()=>{l.employee_id="",l.employee_name="",l.position="",l.warehouse_name="",l.time_in="",l.time_out=""},r=async()=>{$.value=!0;const c={...l,warehouse_id:l.warehouse_name.value};await q.createWarehouseEmployee(c),console.log("Designation Data to Save:",c),$.value=!1,d(),E.value=!1};return(c,s)=>(_(),K(Y,null,[e(R,{class:"q-pa-md user-card",onClick:o,align:"center"},{default:t(()=>[n("div",Vl,[e(X,{name:"factory",size:"20px",color:`blue-grey-6
`})]),xl]),_:1}),e(le,{modelValue:E.value,"onUpdate:modelValue":s[6]||(s[6]=i=>E.value=i),"backdrop-filter":"blur(4px) saturate(150%)",position:"right"},{default:t(()=>[e(R,{style:{width:"550px","max-width":"100vw"}},{default:t(()=>[e(N,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[El,e(ye),W(e(T,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[j]])]),_:1}),e(N,null,{default:t(()=>[n("div",null,[e(g,{modelValue:b.value,"onUpdate:modelValue":[s[0]||(s[0]=i=>b.value=i),p],label:"Search Employee",outlined:"",dense:"",debounce:"500",placeholder:"Enter name or position"},{append:t(()=>[h.value?(_(),U(fe,{key:1,color:"grey",size:"sm"})):(_(),U(X,{key:0,name:"search"}))]),default:t(()=>[b.value?(_(),K("div",Ul,[e(R,null,{default:t(()=>[e(be,{separator:""},{default:t(()=>{var i;return[(i=A.value)!=null&&i.length?(_(!0),K(Y,{key:1},_e(A.value,y=>(_(),U(ee,{onClick:C=>u(y),key:y.id,clickable:""},{default:t(()=>[e(we,null,{default:t(()=>[w(M(a(y)),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(_(),U(ee,{key:0},{default:t(()=>[w(" No Employee Record ")]),_:1}))]}),_:1})]),_:1})])):L("",!0)]),_:1},8,["modelValue"])])]),_:1}),e(N,null,{default:t(()=>[n("div",kl,[e(g,{outlined:"",readonly:"",dense:"",label:"Full Name",modelValue:l.employee_name,"onUpdate:modelValue":s[1]||(s[1]=i=>l.employee_name=i),style:{width:"350px"}},null,8,["modelValue"]),e(g,{outlined:"",readonly:"",dense:"",label:"Position",modelValue:l.position,"onUpdate:modelValue":s[2]||(s[2]=i=>l.position=i),style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(N,null,{default:t(()=>[n("div",ql,[n("div",null,[Dl,e(O,{modelValue:l.warehouse_name,"onUpdate:modelValue":s[3]||(s[3]=i=>l.warehouse_name=i),outlined:"",flat:"",dense:"","use-input":"",clearable:"","input-debounce":"0",options:k.value,label:"Warehouse",onFilter:S,"hide-dropdown-icon":"",behavior:"menu",style:{width:"200px","max-width":"500px","min-width":"100px"}},null,8,["modelValue","options"])]),n("div",null,[$l,n("div",Al,[e(g,{modelValue:l.time_in,"onUpdate:modelValue":s[4]||(s[4]=i=>l.time_in=i),outlined:"",flat:"",dense:"",mask:"##:## AA",label:"Time IN",rules:[z],hint:"Format: 08:00 AM/PM",style:{width:"140px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"]),e(g,{modelValue:l.time_out,"onUpdate:modelValue":s[5]||(s[5]=i=>l.time_out=i),outlined:"",flat:"",dense:"",mask:"##:## AA",label:"Time OUT",rules:[z],hint:"Format: 01:00 AM/PM",style:{width:"140px","max-width":"500px","min-width":"100px"},"hide-dropdown-icon":""},null,8,["modelValue","rules"])])])])]),_:1}),e(re,{class:"row q-px-lg q-py-sm q-pt-none",align:"left"},{default:t(()=>[W(e(T,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[j]]),e(T,{class:"glossy",color:"teal",label:"Add",onClick:r,loading:$.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Tl=Z(Sl,[["__scopeId","data-v-7d7dae92"]]);const Pl={class:"row justify-between"},Cl={class:"col-12 col-md-9 col-lg-9 q-pa-sm"},Ml={class:"col-12 col-md-3 col-lg-3 q-gutter-y-md q-pa-sm card-side"},Nl={class:"row2"},Fl={__name:"EmployeesPage",setup(x){return(E,q)=>(_(),K("div",Pl,[n("div",Cl,[e(ll)]),n("div",Ml,[e(ml),n("div",Nl,[e(bl),e(Tl)])])]))}};var ct=Z(Fl,[["__scopeId","data-v-71812045"]]);export{ct as default};
