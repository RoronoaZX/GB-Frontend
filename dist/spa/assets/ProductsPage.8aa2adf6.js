import{r as I,t as re,u as N,c as h,z as ge,o as q,a2 as Q,J as e,f as t,w as s,a3 as L,a4 as ne,e as Z,Q as T,aJ as he,_ as S,a0 as ue,I as k,M as F,K as C,a1 as ee,O as te,R as ae,ad as be,$ as M,ba as Ie,aH as je,aI as Be,N as _e,g as Re,a7 as Fe,br as Ue,a9 as Qe,bs as qe,bt as Ae,ai as Le,j as me,l as Ne,L as Ve,a as Te}from"./index.f9204663.js";import{Q as De,a as pe,b as Me,c as ie}from"./QTabPanels.f4460f99.js";import{Q as we}from"./QIntersection.d15f7cf0.js";import{Q as fe}from"./QScrollArea.a336efac.js";import{u as oe}from"./sales-report.c288d216.js";import{_ as le}from"./plugin-vue_export-helper.21dcd24c.js";import{b as de}from"./use-virtual-scroll.6cb0d38e.js";import{Q as Ce,a as ve,b as z}from"./QList.9266f0ea.js";import{Q as ze}from"./QSelect.7fad6eea.js";import{C as Se}from"./ClosePopup.f4808119.js";import{u as Oe}from"./selecta-product.6a105388.js";import{Q as $e}from"./QTd.c919a918.js";import{Q as Ee}from"./QBadge.f90581b2.js";import{b as He}from"./selection.106a4db1.js";import{Q as Ke}from"./QTable.bf0a912b.js";import{q as Ye}from"./date.dfc345a7.js";import{u as Je}from"./cake-maker-report.ba7cf22d.js";import"./QResizeObserver.3fedfbf1.js";import"./use-panel.7c4afbdd.js";import"./touch.9135741d.js";import"./QScrollObserver.9fb9c75f.js";import"./TouchPan.fe502223.js";import"./axios.f9d7066b.js";import"./QChip.1e0b2b43.js";import"./QMenu.29311ca7.js";import"./QVirtualScroll.aec25fa2.js";const E=a=>(te("data-v-792757c0"),a=a(),ae(),a),Ge={class:"q-mt-md"},We={class:"row q-pa-lg q-gutter-y-lg"},Xe=E(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Ze={class:"q-pa-xm row q-gutter-x-sm justify-between"},et=E(()=>e("div",null,"Quantity:",-1)),tt={class:"q-pa-xm row q-gutter-x-sm justify-between"},at=E(()=>e("div",null,"Price:",-1)),lt={class:"row justify-between"},st={class:"text-h6"},nt={class:"q-mb-lg row justify-between"},ot=E(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),it=E(()=>e("div",{class:"text-weight-light"},"Bread Out",-1)),dt={class:"row q-gutter-xm justify-between"},rt={class:"q-gutter-sm"},ut=E(()=>e("div",{class:"text-weight-light"},"Total Bread",-1)),ct=E(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),mt={class:"q-gutter-sm"},pt=E(()=>e("div",{class:"text-weight-light"},"Price",-1)),_t={class:"q-gutter-sm"},vt=E(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),gt=E(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),ht={class:"q-gutter-sm"},ft=E(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),xt={align:"right"},yt={__name:"BreadCard",setup(a){const u=oe(),r=u.user;console.log("userdat",r);const n=I(null),p=I(!1),c=o=>{n.value=o,p.value=!0},l=re({breadSold:0,remainnings:0,beginnings:0,breadOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),A=o=>o?o.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",x=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(l.remainnings)||0,d=parseInt(l.breadOut)||0,_=i+d;l.breadSold=o-_}};N(()=>l.remainnings,o=>{x()}),N(()=>l.breadOut,o=>{x()});const w=h(()=>n.value?l.breadSold*n.value.price:0),$=h(()=>b(w.value));ge(async()=>{var d;const o=u.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await j(i)});const j=async o=>{await u.fetchBranchProducts(o)},f=h(()=>u.breadProducts);N(f,o=>{});const P=()=>{n.value=null,l.breadSold=0,l.remainnings=0,l.beginnings=0,l.breadOut=0,p.value=!1},B=()=>{var o;if(n.value){const i={user_id:r==null?void 0:r.data.id,branch_id:((o=r==null?void 0:r.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,new_production:n.value.new_production,bread_sold:l.breadSold,bread_out:l.breadOut,beginnings:n.value.beginnings,remaining:l.remainnings,price:n.value.price,sales:w.value};u.updateBreadReport(i),P()}};return(o,i)=>(q(),Q(L,null,[e("div",Ge,[t(fe,{style:{height:"700px","max-width":"1500px"}},{default:s(()=>[e("div",We,[(q(!0),Q(L,null,ne(f.value,(d,_)=>(q(),Z(we,{key:_,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:s(()=>[t(T,{onClick:v=>c(d),class:"q-ma-sm my-card"},{default:s(()=>[Xe,e("div",{class:he(["q-pa-sm",{"text-h6":d.product.name.length<=10,"text-caption text-weight-medium":d.product.name.length>10&&d.product.name.length<=20,"text-caption text-weight-medium":d.product.name.length>20}])},S(A(d.product.name)),3),t(ue),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",Ze,[et,e("div",null,S(d.total_quantity),1)]),e("div",tt,[at,e("div",null,S(b(d.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=d=>p.value=d)},{default:s(()=>[t(T,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,null,{default:s(()=>[e("div",lt,[e("div",st,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:P})])])]),_:1}),t(k,null,{default:s(()=>[e("div",nt,[e("div",null,[ot,t(C,{modelValue:l.remainnings,"onUpdate:modelValue":i[0]||(i[0]=d=>l.remainnings=d),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[it,t(C,{modelValue:l.breadOut,"onUpdate:modelValue":i[1]||(i[1]=d=>l.breadOut=d),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",dt,[e("div",rt,[ut,t(C,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[ct]),_:1},8,["label"])]),e("div",mt,[pt,t(C,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",_t,[vt,t(C,{dense:"",modelValue:l.breadSold,"onUpdate:modelValue":i[2]||(i[2]=d=>l.breadSold=d),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[gt]),_:1},8,["modelValue"])]),e("div",ht,[ft,t(C,{dense:"",outlined:"",modelValue:$.value,"onUpdate:modelValue":i[3]||(i[3]=d=>$.value=d),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",xt,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var bt=le(yt,[["__scopeId","data-v-792757c0"]]);const wt=e("div",{class:"q-gutter-y-md"},[e("div",{class:"row justify-between"},[e("div")])],-1),St={__name:"BreadPage",setup(a){return(u,r)=>(q(),Q(L,null,[wt,e("div",null,[t(bt)])],64))}};const ke=a=>(te("data-v-40bd9405"),a=a(),ae(),a),kt={class:"row justify-between"},$t=ke(()=>e("div",{class:"text-h6"},"Add Selecta Stocks",-1)),Pt={class:"q-mt-md q-gutter-y-sm"},qt=ke(()=>e("div",{class:"text-weight-meduim"},"Selecta List",-1)),Vt={class:"q-mt-xl q-gutter-y-sm"},Ct={class:"row justify-between"},Ot=ke(()=>e("div",{align:"center"},"Selecta Product",-1)),It=ke(()=>e("div",{align:"center"},"Added Stocks",-1)),jt={align:"right"},Bt={__name:"SelectaAddStocks",setup(a){var D,G;const r=oe().user,n=((D=r==null?void 0:r.employee)==null?void 0:D.branch_id)||"";(G=r==null?void 0:r.employee)!=null&&G.employee_id;const p=Oe();h(()=>p.selectaProducts);const c=I(!1),l=()=>{c.value=!0};I("");const b=I("Selecta"),A=I(!1),x=I([]),w=I([]),$=re({name:"",added_stocks:""}),j=I(w.value);(async()=>{try{const O=(n==null?void 0:n.branches_id)||n,R=b.value;if(!O||!R){console.error("Invalid branchesId or category value.");return}const y=await p.fetchBranchSelectaProduct(O,R);A.value=!1,w.value=p.selectaProducts.map(m=>({label:m.name,value:m.id,price:m.price}))}catch(O){console.error("Error fetching branch selecta:",O)}})();const P=()=>{$.name="",$.added_stocks=""},B=(O,R)=>{R(()=>{if(O==="")j.value=w.value;else{const y=O.toLowerCase();j.value=w.value.filter(m=>m.label.toLowerCase().indexOf(y)>-1)}})},o=()=>{const O=x.value;function R(g,W){return g.find(X=>X.product_id==W)}const y=$.name.value;if(R(O,y))_e.create({type:"negative",icon:"warning",message:"Ingredient already exists",timeout:2e3});else{const g=w.value.find(W=>W.value===y);x.value=[...O,{product_id:$.name.value,label:$.name.label,added_stocks:$.added_stocks,price:g.price}],P()}},i=O=>{x.value.splice(O,1)},d=h(()=>x.value.length>0&&x.value.every(O=>O.added_stocks>0)),_=O=>O?O.split(" ").map(R=>R.charAt(0).toUpperCase()+R.slice(1).toLowerCase()).join(" "):"",v=()=>{U(),c.value=!1},U=()=>{V.product_id="",V.product_name="",V.product_category="",V.price="",V.added_stocks=""},V=re({product_id:"",product_name:"",product_category:"",price:0,added_stocks:0}),se=async()=>{var O,R;try{const y={branches_id:((O=r==null?void 0:r.employee)==null?void 0:O.branch_id)||"",employee_id:((R=r==null?void 0:r.employee)==null?void 0:R.employee_id)||"",status:"pending",products:x.value};await p.createSelectaStocks(y),console.log("Data sent to backend:",y),U(),x.value=[],c.value=!1,_e.create({type:"positive",message:"Selecta stocks successfully saved!",timeout:2e3})}catch(y){console.error("Error saving selecta stocks:",y),_e.create({type:"negative",message:"An error occurred while saving selecta stocks.",timeout:2e3})}};return(O,R)=>(q(),Q(L,null,[t(F,{class:"bg-gradient text-white",outlined:"",label:"Add Selecta Stocks",onClick:l}),t(ee,{modelValue:c.value,"onUpdate:modelValue":R[3]||(R[3]=y=>c.value=y)},{default:s(()=>[t(T,{style:{width:"450px"}},{default:s(()=>[t(k,{class:"bg-gradient text-white"},{default:s(()=>[e("div",kt,[$t,e("div",null,[be(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[Se]])])])]),_:1}),t(k,null,{default:s(()=>[e("div",Pt,[qt,e("div",null,[t(Ce,{dense:"",separator:"",class:"box"},{default:s(()=>[t(ve,null,{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[M("Product Name")]),_:1})]),_:1}),t(z,null,{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[M("Added Stocks")]),_:1})]),_:1}),t(z,{side:""})]),_:1}),(q(!0),Q(L,null,ne(x.value,(y,m)=>(q(),Z(ve,{key:m},{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-caption"},{default:s(()=>[M(S(_(y.label)),1)]),_:2},1024)]),_:2},1024),t(z,{class:"text-caption"},{default:s(()=>[M(S(y.added_stocks)+" pcs",1)]),_:2},1024),t(z,{side:""},{default:s(()=>[t(F,{onClick:g=>i(m),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),e("div",Vt,[e("div",Ct,[e("div",null,[Ot,t(ze,{modelValue:$.name,"onUpdate:modelValue":R[0]||(R[0]=y=>$.name=y),debounce:"3000",outlined:"","chips-color":"primary",options:j.value,dense:"",label:"Selecta",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:B,style:{width:"215px","max-width":"600px","min-width":"80px"}},{"no-option":s(()=>[t(ve,null,{default:s(()=>[t(z,{class:"text-grey"},{default:s(()=>[M(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),e("div",null,[It,t(C,{modelValue:$.added_stocks,"onUpdate:modelValue":R[1]||(R[1]=y=>$.added_stocks=y),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:"pcs",style:{width:"115px"}},null,8,["modelValue"])])]),e("form",{onKeyup:R[2]||(R[2]=Ie(je((...y)=>O.addBranchProduct&&O.addBranchProduct(...y),["prevent"]),["enter"]))},[e("div",jt,[t(F,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:o})])],32)])]),_:1}),t(Be,{class:"row q-ma-md",align:"right"},{default:s(()=>[t(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:v}),t(F,{class:"glossy",color:"teal",label:"Create",onClick:se,disable:!d.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Rt=le(Bt,[["__scopeId","data-v-40bd9405"]]);const H=a=>(te("data-v-713cd99b"),a=a(),ae(),a),Ft={class:"q-mt-md"},Ut={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},Qt=H(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),At={class:"q-pa-xm row q-gutter-x-sm justify-between"},Lt=H(()=>e("div",null,"Quantity:",-1)),Nt={class:"q-pa-xm row q-gutter-x-sm justify-between"},Tt=H(()=>e("div",null,"Price:",-1)),Dt={class:"row justify-between"},Mt={class:"text-h6"},zt={class:"q-mb-lg row justify-between"},Et=H(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Ht=H(()=>e("div",{class:"text-weight-light"},"Selecta Out",-1)),Kt={class:"row q-gutter-xm justify-between"},Yt={class:"q-gutter-sm"},Jt=H(()=>e("div",{class:"text-weight-light"},"Total Selecta",-1)),Gt=H(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Wt={class:"q-gutter-sm"},Xt=H(()=>e("div",{class:"text-weight-light"},"Price",-1)),Zt={class:"q-gutter-sm"},ea=H(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),ta=H(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),aa={class:"q-gutter-sm"},la=H(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),sa={align:"right"},na={__name:"SelectaCard",setup(a){const u=oe(),r=u.user,n=I(null),p=I(!1),c=o=>{n.value=o,p.value=!0},l=re({selectaSold:0,selectaRemainings:0,selectaBeginnings:0,selectaOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),A=o=>o?o.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",x=h(()=>n.value?l.selectaSold*n.value.price:0),w=h(()=>b(x.value)),$=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(l.selectaRemainings)||0,d=parseInt(l.selectaOut)||0,_=i+d;l.selectaSold=o-_}};N(()=>l.selectaRemainings,o=>{$()}),N(()=>l.selectaOut,o=>{$()}),ge(async()=>{var d;const o=u.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await j(i)});const j=async o=>{await u.fetchBranchProducts(o)},f=h(()=>u.selectaProducts);N(f,o=>{});const P=()=>{n.value=null,l.selectaSold=0,l.selectaRemainings=0,l.selectaBeginnings=0,l.selectaOut=0,p.value=!1},B=()=>{var o;if(n.value){const i={user_id:r==null?void 0:r.data.id,branch_id:((o=r==null?void 0:r.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,added_stocks:n.value.new_production,sold:l.selectaSold,out:l.selectaOut,beginnings:n.value.beginnings,remaining:l.selectaRemainings,price:n.value.price,sales:x.value};u.updateSelectaReport(i),P()}};return(o,i)=>(q(),Q(L,null,[e("div",Ft,[t(fe,{style:{height:"calc(100vh - 150px)","max-width":"1500px"}},{default:s(()=>[e("div",Ut,[(q(!0),Q(L,null,ne(f.value,(d,_)=>(q(),Z(we,{key:_,once:"",transition:"scale",class:"example-item"},{default:s(()=>[t(T,{onClick:v=>c(d),class:"q-ma-sm my-card"},{default:s(()=>[Qt,e("div",{class:he(["q-pa-sm",{"text-h6":d.product.name.length<=10,"text-caption text-weight-medium":d.product.name.length>10&&d.product.name.length<=20,"text-caption":d.product.name.length>20}])},S(A(d.product.name)),3),t(ue),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",At,[Lt,e("div",null,S(d.total_quantity),1)]),e("div",Nt,[Tt,e("div",null,S(b(d.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=d=>p.value=d)},{default:s(()=>[t(T,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,null,{default:s(()=>[e("div",Dt,[e("div",Mt,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:P})])])]),_:1}),t(k,null,{default:s(()=>[e("div",zt,[e("div",null,[Et,t(C,{modelValue:l.selectaRemainings,"onUpdate:modelValue":i[0]||(i[0]=d=>l.selectaRemainings=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Ht,t(C,{modelValue:l.selectaOut,"onUpdate:modelValue":i[1]||(i[1]=d=>l.selectaOut=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",Kt,[e("div",Yt,[Jt,t(C,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Gt]),_:1},8,["label"])]),e("div",Wt,[Xt,t(C,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Zt,[ea,t(C,{dense:"",modelValue:l.selectaSold,"onUpdate:modelValue":i[2]||(i[2]=d=>l.selectaSold=d),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[ta]),_:1},8,["modelValue"])]),e("div",aa,[la,t(C,{dense:"",outlined:"",modelValue:w.value,"onUpdate:modelValue":i[3]||(i[3]=d=>w.value=d),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",sa,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var oa=le(na,[["__scopeId","data-v-713cd99b"]]);function ye(a,u){return[!0,!1].includes(a)?a:u}var ia=Re({name:"QPagination",props:{...Fe,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:a=>(typeof a=="string"?parseInt(a,10):a)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:a=>a===""||Ue.includes(a)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(a,{emit:u}){const{proxy:r}=Ne(),{$q:n}=r,p=Qe(a,n),c=h(()=>parseInt(a.min,10)),l=h(()=>parseInt(a.max,10)),b=h(()=>parseInt(a.maxPages,10)),A=h(()=>P.value+" / "+l.value),x=h(()=>ye(a.boundaryLinks,a.input)),w=h(()=>ye(a.boundaryNumbers,!a.input)),$=h(()=>ye(a.directionLinks,a.input)),j=h(()=>ye(a.ellipses,!a.input)),f=I(null),P=h({get:()=>a.modelValue,set:m=>{if(m=parseInt(m,10),a.disable||isNaN(m))return;const g=He(m,c.value,l.value);a.modelValue!==g&&u("update:modelValue",g)}});N(()=>`${c.value}|${l.value}`,()=>{P.value=a.modelValue});const B=h(()=>"q-pagination row no-wrap items-center"+(a.disable===!0?" disabled":"")),o=h(()=>a.gutter in qe?`${qe[a.gutter]}px`:a.gutter||null),i=h(()=>o.value!==null?`--q-pagination-gutter-parent:-${o.value};--q-pagination-gutter-child:${o.value}`:null),d=h(()=>{const m=[a.iconFirst||n.iconSet.pagination.first,a.iconPrev||n.iconSet.pagination.prev,a.iconNext||n.iconSet.pagination.next,a.iconLast||n.iconSet.pagination.last];return n.lang.rtl===!0?m.reverse():m}),_=h(()=>({"aria-disabled":a.disable===!0?"true":"false",role:"navigation"})),v=h(()=>Ae(a,"flat")),U=h(()=>({[v.value]:!0,round:a.round,rounded:a.rounded,padding:a.padding,color:a.color,textColor:a.textColor,size:a.size,ripple:a.ripple!==null?a.ripple:!0})),V=h(()=>{const m={[v.value]:!1};return a.activeDesign!==""&&(m[a.activeDesign]=!0),m}),se=h(()=>({...V.value,color:a.activeColor||a.color,textColor:a.activeTextColor||a.textColor})),D=h(()=>{let m=Math.max(b.value,1+(j.value?2:0)+(w.value?2:0));const g={pgFrom:c.value,pgTo:l.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(l.value).length)}em`}};return b.value&&m<l.value-c.value+1&&(m=1+Math.floor(m/2)*2,g.pgFrom=Math.max(c.value,Math.min(l.value-m+1,a.modelValue-Math.floor(m/2))),g.pgTo=Math.min(l.value,g.pgFrom+m-1),w.value&&(g.boundaryStart=!0,g.pgFrom++),j.value&&g.pgFrom>c.value+(w.value?1:0)&&(g.ellipsesStart=!0,g.pgFrom++),w.value&&(g.boundaryEnd=!0,g.pgTo--),j.value&&g.pgTo<l.value-(w.value?1:0)&&(g.ellipsesEnd=!0,g.pgTo--)),g});function G(m){P.value=m}function O(m){P.value=P.value+m}const R=h(()=>{function m(){P.value=f.value,f.value=null}return{"onUpdate:modelValue":g=>{f.value=g},onKeyup:g=>{Le(g,13)===!0&&m()},onBlur:m}});function y(m,g,W){const X={"aria-label":g,"aria-current":"false",...U.value,...m};return W===!0&&Object.assign(X,{"aria-current":"true",...se.value}),g!==void 0&&(a.toFn!==void 0?X.to=a.toFn(g):X.onClick=()=>{G(g)}),me(F,X)}return Object.assign(r,{set:G,setByOffset:O}),()=>{const m=[],g=[];let W;if(x.value===!0&&(m.push(y({key:"bls",disable:a.disable||a.modelValue<=c.value,icon:d.value[0]},c.value)),g.unshift(y({key:"ble",disable:a.disable||a.modelValue>=l.value,icon:d.value[3]},l.value))),$.value===!0&&(m.push(y({key:"bdp",disable:a.disable||a.modelValue<=c.value,icon:d.value[1]},a.modelValue-1)),g.unshift(y({key:"bdn",disable:a.disable||a.modelValue>=l.value,icon:d.value[2]},a.modelValue+1))),a.input!==!0){W=[];const{pgFrom:X,pgTo:Pe,marginalStyle:ce}=D.value;if(D.value.boundaryStart===!0){const J=c.value===a.modelValue;m.push(y({key:"bns",style:ce,disable:a.disable,label:c.value},c.value,J))}if(D.value.boundaryEnd===!0){const J=l.value===a.modelValue;g.unshift(y({key:"bne",style:ce,disable:a.disable,label:l.value},l.value,J))}D.value.ellipsesStart===!0&&m.push(y({key:"bes",style:ce,disable:a.disable,label:"\u2026",ripple:!1},X-1)),D.value.ellipsesEnd===!0&&g.unshift(y({key:"bee",style:ce,disable:a.disable,label:"\u2026",ripple:!1},Pe+1));for(let J=X;J<=Pe;J++)W.push(y({key:`bpg${J}`,style:ce,disable:a.disable,label:J},J,J===a.modelValue))}return me("div",{class:B.value,..._.value},[me("div",{class:"q-pagination__content row no-wrap items-center",style:i.value},[...m,a.input===!0?me(C,{class:"inline",style:{width:`${A.value.length/1.5}em`},type:"number",dense:!0,value:f.value,disable:a.disable,dark:p.value,borderless:!0,inputClass:a.inputClass,inputStyle:a.inputStyle,placeholder:A.value,min:c.value,max:l.value,...R.value}):me("div",{class:"q-pagination__middle row justify-center"},W),...g])])}}});const da=a=>(te("data-v-4932762d"),a=a(),ae(),a),ra=da(()=>e("div",{class:"text-h6"},"Selecta Products",-1)),ua={__name:"SelectaViewStockReport",props:["report"],setup(a){const u=I(!1),r=()=>{u.value=!0};console.log("report",a.report);const p=c=>c?c.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"";return(c,l)=>(q(),Q(L,null,[t(F,{class:"gradient-icon",flat:"",rounded:"",onClick:r},{default:s(()=>[t(Ve,{name:"visibility",class:"gradient-icon"})]),_:1}),t(ee,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=b=>u.value=b)},{default:s(()=>[t(T,{padding:"",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,{class:"bg-gradient text-white row justify-between"},{default:s(()=>[ra,e("div",null,[be(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[Se]])])]),_:1}),t(k,null,{default:s(()=>[e("div",null,"remarks: "+S(a.report.remark?a.report.remark:"N/A"),1),e("div",null,"status: "+S(a.report.status),1)]),_:1}),t(k,null,{default:s(()=>[t(Ce,{dense:"",separator:"",class:"box"},{default:s(()=>[t(ve,null,{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[M("Product Name")]),_:1})]),_:1}),t(z,{side:""},{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[M("Added Stocks")]),_:1})]),_:1})]),_:1}),(q(!0),Q(L,null,ne(a.report.selecta_added_stocks,(b,A)=>(q(),Z(ve,{key:A},{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-caption"},{default:s(()=>[M(S(p(b.product.name)),1)]),_:2},1024)]),_:2},1024),t(z,{class:"text-caption",side:""},{default:s(()=>[M(S(b.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ca=le(ua,[["__scopeId","data-v-4932762d"]]);const ma=a=>(te("data-v-c56bfed2"),a=a(),ae(),a),pa={class:"row justify-between"},_a=ma(()=>e("div",{class:"text-h6"},"Selecta Stocks Reports",-1)),va={__name:"SelectaViewAddedStocks",setup(a){var _;const u=Oe();h(()=>u.selectaProductReports).value.selecta_added_stocks;const p=oe().user,c=((_=p==null?void 0:p.employee)==null?void 0:_.branch_id)||"",l=I(!1),b=I([]),A=async()=>{try{c&&await j(c),l.value=!0}catch(v){console.error("Error opening dialog:",v)}},x=I({page:1,rowsPerPage:10,sortBy:"id",descending:!1}),w=I(1),$=I(!0),j=async()=>{try{const{page:v,rowsPerPage:U,sortBy:V,descending:se}=x.value,D=await u.fetchSelectaProductReports(c,v,U,V,se);b.value=D.data,w.value=D.last_page}catch(v){console.error("Error fetching selecta product reports:",v)}},f=v=>Ye.formatDate(v,"MMMM DD, YYYY"),P=v=>{const U=new Date(v),V={hour:"2-digit",minute:"2-digit",hour12:!0};return U.toLocaleTimeString(void 0,V)},B=v=>{const U=G=>G?G.charAt(0).toUpperCase()+G.slice(1).toLowerCase():"",V=v.firstname?U(v.firstname):"No Firstname",se=v.middlename?U(v.middlename).charAt(0)+".":"",D=v.lastname?U(v.lastname):"No Lastname";return`${V} ${se} ${D}`.trim()},o=[{name:"date",align:"center",label:"Date",field:v=>f(v.created_at)},{name:"time",align:"center",label:"Time",field:v=>P(v.created_at)},{name:"employee",align:"center",label:"Employee",field:"employee"},{name:"status",align:"center",label:"Status",field:"status"},{name:"action",align:"center",label:"Actions",field:"action"}],i=v=>{switch(v){case"declined":return"red";case"confirmed":return"green";case"pending":return"orange";default:return"grey"}},d=v=>v?v.split(" ").map(U=>U.charAt(0).toUpperCase()+U.slice(1).toLowerCase()).join(" "):"";return N(()=>x.value.page,j),N(()=>x.value.rowsPerPage,j),(v,U)=>(q(),Q(L,null,[t(F,{class:"bg-gradient text-white",outlined:"",label:"Stocks Reports",onClick:A}),t(ee,{modelValue:l.value,"onUpdate:modelValue":[U[1]||(U[1]=V=>l.value=V),v.onDialogChange],maximized:$.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:s(()=>[t(T,null,{default:s(()=>[t(k,{class:"bg-gradient text-white"},{default:s(()=>[e("div",pa,[_a,e("div",null,[be(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[Se]])])])]),_:1}),t(k,null,{default:s(()=>[t(Ke,{rows:b.value,columns:o,"row-key":"id",flat:"",bordered:"",dense:"",pagination:x.value.page,onRequest:j},{"body-cell-employee":s(V=>[t($e,{props:V},{default:s(()=>[M(S(B(V.row.employee)),1)]),_:2},1032,["props"])]),"body-cell-status":s(V=>[t($e,{props:V},{default:s(()=>[t(Ee,{color:i(V.row.status)},{default:s(()=>[M(S(d(V.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":s(V=>[t($e,{props:V},{default:s(()=>[t(ca,{report:V.row},null,8,["report"])]),_:2},1032,["props"])]),default:s(()=>[e("template",null,[t(ia,{modelValue:x.value.page,"onUpdate:modelValue":[U[0]||(U[0]=V=>x.value.page=V),j],max:w.value,"max-pages":w.value},null,8,["modelValue","max","max-pages"])])]),_:1},8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized","onUpdate:modelValue"])],64))}};var ga=le(va,[["__scopeId","data-v-c56bfed2"]]);const ha={class:"q-gutter-y-md"},fa={class:"row q-gutter-md"},xa=e("div",null,null,-1),ya={class:"row q-gutter-md"},ba={__name:"SelectaPage",setup(a){return(u,r)=>(q(),Q(L,null,[e("div",ha,[e("div",fa,[xa,e("div",ya,[e("div",null,[t(Rt)]),e("div",null,[t(ga)])])])]),e("div",null,[t(oa)])],64))}};const K=a=>(te("data-v-19bb52bd"),a=a(),ae(),a),wa={class:"q-mt-md"},Sa={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},ka=K(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),$a={class:"q-pa-xm row q-gutter-x-sm justify-between"},Pa=K(()=>e("div",null,"Quantity:",-1)),qa={class:"q-pa-xm row q-gutter-x-sm justify-between"},Va=K(()=>e("div",null,"Price:",-1)),Ca={class:"row justify-between"},Oa={class:"text-h6"},Ia={class:"q-mb-lg row justify-between"},ja=K(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Ba=K(()=>e("div",{class:"text-weight-light"},"Softdrinks Out",-1)),Ra={class:"row q-gutter-xm justify-between"},Fa={class:"q-gutter-sm"},Ua=K(()=>e("div",{class:"text-weight-light"},"Total Softdrinks",-1)),Qa=K(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Aa={class:"q-gutter-sm"},La=K(()=>e("div",{class:"text-weight-light"},"Price",-1)),Na={class:"q-gutter-sm"},Ta=K(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),Da=K(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Ma={class:"q-gutter-sm"},za=K(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),Ea={align:"right"},Ha={__name:"SoftdrinksCard",setup(a){const u=oe(),r=u.user,n=I(null),p=I(!1),c=o=>{n.value=o,p.value=!0},l=re({softdrinksSold:0,remainnings:0,beginnings:0,softdrinksOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),A=o=>o?o.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",x=h(()=>n.value?l.softdrinksSold*n.value.price:0),w=h(()=>b(x.value)),$=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(l.remainnings)||0,d=parseInt(l.softdrinksOut)||0,_=i+d;l.softdrinksSold=o-_}};N(()=>l.remainnings,o=>{$()}),N(()=>l.softdrinksOut,o=>{$()}),ge(async()=>{var d;const o=u.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await j(i)});const j=async o=>{await u.fetchBranchProducts(o)},f=h(()=>u.softdrinksProducts);N(f,o=>{});const P=()=>{n.value=null,l.softdrinksSold=0,l.remainnings=0,l.beginnings=0,l.softdrinksOut=0,p.value=!1},B=()=>{var o;if(n.value){const i={user_id:r==null?void 0:r.data.id,branch_id:((o=r==null?void 0:r.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,added_stocks:n.value.new_production,sold:l.softdrinksSold,out:l.softdrinksOut,beginnings:n.value.beginnings,remaining:l.remainnings,price:n.value.price,sales:x.value};u.updateSoftdrinksReport(i),P()}};return(o,i)=>(q(),Q(L,null,[e("div",wa,[t(fe,{style:{height:"450px","max-width":"1500px"}},{default:s(()=>[e("div",Sa,[(q(!0),Q(L,null,ne(f.value,(d,_)=>(q(),Z(we,{key:_,once:"",transition:"scale",class:"example-item"},{default:s(()=>[t(T,{onClick:v=>c(d),class:"q-ma-sm my-card"},{default:s(()=>[ka,e("div",{class:he(["q-pa-sm",{"text-h6":d.product.name.length<=10,"text-caption text-weight-medium":d.product.name.length>10&&d.product.name.length<=20,"text-caption text-weight-medium":d.product.name.length>20}])},S(A(d.product.name)),3),t(ue),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",$a,[Pa,e("div",null,S(d.total_quantity),1)]),e("div",qa,[Va,e("div",null,S(b(d.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=d=>p.value=d)},{default:s(()=>[t(T,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,null,{default:s(()=>[e("div",Ca,[e("div",Oa,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:P})])])]),_:1}),t(k,null,{default:s(()=>[e("div",Ia,[e("div",null,[ja,t(C,{modelValue:l.remainnings,"onUpdate:modelValue":i[0]||(i[0]=d=>l.remainnings=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Ba,t(C,{modelValue:l.softdrinksOut,"onUpdate:modelValue":i[1]||(i[1]=d=>l.softdrinksOut=d),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",Ra,[e("div",Fa,[Ua,t(C,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Qa]),_:1},8,["label"])]),e("div",Aa,[La,t(C,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Na,[Ta,t(C,{dense:"",modelValue:l.softdrinksSold,"onUpdate:modelValue":i[2]||(i[2]=d=>l.softdrinksSold=d),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Da]),_:1},8,["modelValue"])]),e("div",Ma,[za,t(C,{dense:"",outlined:"",modelValue:w.value,"onUpdate:modelValue":i[3]||(i[3]=d=>w.value=d),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",Ea,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var Ka=le(Ha,[["__scopeId","data-v-19bb52bd"]]);const Ya=e("div",{class:"q-gutter-y-md"},[e("div",{class:"row justify-between"},[e("div")])],-1),Ja={__name:"SoftdrinksPage",setup(a){return(u,r)=>(q(),Q(L,null,[Ya,e("div",null,[t(Ka)])],64))}};const xe=a=>(te("data-v-7c76d10f"),a=a(),ae(),a),Ga={class:"q-mt-md"},Wa={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},Xa=xe(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Za={class:"q-pa-xm row q-gutter-x-sm justify-between"},el=xe(()=>e("div",null,"Layers",-1)),tl={class:"q-pa-xm row q-gutter-x-sm justify-between"},al=xe(()=>e("div",null,"Price:",-1)),ll={class:"row justify-between"},sl={class:"text-h6"},nl={class:"row q-gutter-x-sm"},ol=xe(()=>e("div",{class:"text-subtitle2"},"Layer /s :",-1)),il={class:"text-weight-light"},dl={class:"row q-gutter-x-sm"},rl=xe(()=>e("div",{class:"text-subtitle2"},"Price :",-1)),ul={class:"text-weight-light"},cl={__name:"CakeCard",setup(a){const u=oe(),r=Je(),n=h(()=>r.onDisplayProducts),p=localStorage.getItem("branch_id"),c=I(null),l=I(!1);ge(async()=>{p&&await b()});const b=async()=>{const f=await r.fetchOnDisplayProducts(p);n.value=f,console.log("sdfasdfas",n.value)},A=f=>f?f.split(" ").map(P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()).join(" "):"",x=f=>{c.value=f,l.value=!0},w=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(f).replace("\u20B1","\u20B1 "),$=async()=>{if(c.value){const f={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"sold"};console.log(f),u.updateCakeReport(f),_e.create({type:"positive",message:`${f.name} is sold`})}l.value=!1},j=async()=>{if(c.value){const f={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"pull out"};u.updateCakeReport(f),_e.create({type:"warning",message:`${f.name} is pull out`})}l.value=!1};return(f,P)=>(q(),Q(L,null,[e("div",Ga,[t(fe,{style:{height:"450px","max-width":"1500px"}},{default:s(()=>[e("div",Wa,[(q(!0),Q(L,null,ne(n.value,(B,o)=>(q(),Z(we,{key:o,once:"",transition:"scale",class:"example-item"},{default:s(()=>[t(T,{onClick:i=>x(B),class:"q-ma-sm my-card"},{default:s(()=>[Xa,e("div",{class:he(["q-pa-sm",{"text-h6":B.name.length<=10,"text-caption text-weight-medium":B.name.length>10&&B.name.length<=20,"text-caption text-weight-medium":B.name.length>20}])},S(A(B.name)),3),t(ue),t(k,null,{default:s(()=>[e("div",Za,[el,e("div",null,S(B.layers),1)]),e("div",tl,[al,e("div",null,S(w(B.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t(ee,{modelValue:l.value,"onUpdate:modelValue":P[0]||(P[0]=B=>l.value=B)},{default:s(()=>[t(T,null,{default:s(()=>[t(k,null,{default:s(()=>[e("div",ll,[e("div",sl,S(A(c.value.name)),1),e("div",null,[be(t(F,{round:"",dense:"",flat:"",icon:"close"},null,512),[[Se]])])])]),_:1}),t(ue),t(k,{class:"row justify-between"},{default:s(()=>[e("div",nl,[ol,e("div",il,S(c.value.layers),1)]),e("div",dl,[rl,e("div",ul,S(w(c.value.price)),1)])]),_:1}),t(k,{class:"q-gutter-x-md"},{default:s(()=>[t(F,{label:"Sold",color:"primary",unelevated:"",class:"rounded-borders",icon:"check_circle",onClick:$}),t(F,{label:"Pull Out",color:"negative",outline:"",class:"rounded-borders",icon:"close",onClick:j})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ml=le(cl,[["__scopeId","data-v-7c76d10f"]]);const pl={__name:"CakePage",setup(a){return(u,r)=>(q(),Q("div",null,[t(ml)]))}};const Y=a=>(te("data-v-2b1ee91c"),a=a(),ae(),a),_l={class:"q-mt-md"},vl={class:"row q-pa-lg q-gutter-y-lg"},gl=Y(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),hl={class:"q-pa-xm row q-gutter-x-sm justify-between"},fl=Y(()=>e("div",null,"Quantity:",-1)),xl={class:"q-pa-xm row q-gutter-x-sm justify-between"},yl=Y(()=>e("div",null,"Price:",-1)),bl={class:"text-h6"},wl={class:"q-mb-lg row justify-between"},Sl=Y(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),kl=Y(()=>e("div",{class:"text-weight-light"},"Product Out",-1)),$l={class:"row q-gutter-xm justify-between"},Pl={class:"q-gutter-sm"},ql=Y(()=>e("div",{class:"text-weight-light"},"Total Product",-1)),Vl=Y(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Cl={class:"q-gutter-sm"},Ol=Y(()=>e("div",{class:"text-weight-light"},"Price",-1)),Il={class:"q-gutter-sm"},jl=Y(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),Bl=Y(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Rl={class:"q-gutter-sm"},Fl=Y(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),Ul={align:"right"},Ql={__name:"OtherCard",setup(a){const u=oe(),r=u.user;console.log("userdata for branch",r);const n=I(null),p=I(!1),c=o=>{n.value=o,p.value=!0},l=re({otherProductSold:0,remainnings:0,beginnings:0,otherProductOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o).replace("\u20B1","\u20B1 "),A=o=>o?o.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",x=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,i=parseInt(l.remainnings)||0,d=parseInt(l.otherProductOut)||0,_=i+d;l.otherProductSold=o-_}};N(()=>l.remainnings,o=>{x()}),N(()=>l.otherProductOut,o=>{x()});const w=h(()=>u.othersProducts);console.log("othersProducts",w.value);const $=h(()=>n.value?l.otherProductSold*n.value.price:0),j=h(()=>b($.value));ge(async()=>{var d;const o=u.user,i=((d=o==null?void 0:o.employee)==null?void 0:d.branch_id)||"";i&&await f(i)});const f=async o=>{await u.fetchBranchProducts(o)},P=()=>{n.value=null,l.otherProductOut=0,l.beginnings=0,l.otherProductSold=0,l.remainnings=0,p.value=!1},B=async()=>{var o;if(n.value){const i={user_id:r==null?void 0:r.data.id,branch_id:((o=r==null?void 0:r.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,sold:l.otherProductSold,out:l.otherProductOut,added_stocks:n.value.new_production,beginnings:n.value.beginnings,remaining:l.remainnings,price:n.value.price,sales:$.value};console.log("report",i),u.updateOtherProductsReport(i),P()}};return(o,i)=>{const d=Te("q-itersection");return q(),Q(L,null,[e("div",_l,[t(fe,{style:{height:"700px","max-width":"1500px"}},{default:s(()=>[e("div",vl,[(q(!0),Q(L,null,ne(w.value,(_,v)=>(q(),Z(d,{key:v,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:s(()=>[t(T,{onClick:U=>c(_),class:"q-ma-sm my-card"},{default:s(()=>[gl,e("div",{class:he(["q-pa-sm",{"text-h6":_.product.name.length<=10,"text-caption text-weight-medium":_.product.name.length>10&&_.product.name.length<=20,"text-caption text-weight-medium":_.product.name.length>20}])},S(A(_.product.name)),3),t(ue),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",hl,[fl,e("div",null,S(_.total_quantity),1)]),e("div",xl,[yl,e("div",null,S(b(_.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=_=>p.value=_)},{default:s(()=>[t(T,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,{class:"row justify-between"},{default:s(()=>[e("div",bl,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:P})])]),_:1}),t(k,null,{default:s(()=>[e("div",wl,[e("div",null,[Sl,t(C,{modelValue:l.remainnings,"onUpdate:modelValue":i[0]||(i[0]=_=>l.remainnings=_),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[kl,t(C,{modelValue:l.otherProductOut,"onUpdate:modelValue":i[1]||(i[1]=_=>l.otherProductOut=_),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",$l,[e("div",Pl,[ql,t(C,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Vl]),_:1},8,["label"])]),e("div",Cl,[Ol,t(C,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Il,[jl,t(C,{dense:"",modelValue:l.otherProductSold,"onUpdate:modelValue":i[2]||(i[2]=_=>l.otherProductSold=_),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Bl]),_:1},8,["modelValue"])]),e("div",Rl,[Fl,t(C,{dense:"",outlined:"",modelValue:j.value,"onUpdate:modelValue":i[3]||(i[3]=_=>j.value=_),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",Ul,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}}};var Al=le(Ql,[["__scopeId","data-v-2b1ee91c"]]);const Ll={__name:"OtherPage",setup(a){return(u,r)=>(q(),Q("div",null,[t(Al)]))}},Nl={class:"text-h6 text-white"},ps={__name:"ProductsPage",setup(a){const u=I("bread");return(r,n)=>(q(),Z(T,{flat:""},{default:s(()=>[t(k,{style:{"background-color":"#ef4444"}},{default:s(()=>[e("div",Nl,[t(Ve,{name:"fa-solid fa-store"}),M(" Store Branches ")])]),_:1}),t(k,null,{default:s(()=>[t(De,{modelValue:u.value,"onUpdate:modelValue":n[0]||(n[0]=p=>u.value=p),dense:"",class:"bg-white","active-color":"red-6","indicator-color":"red-6",align:"justify"},{default:s(()=>[t(pe,{name:"bread",label:"Bread"}),t(pe,{name:"selecta",label:"Selecta"}),t(pe,{name:"softdrinks",label:"Softdrinks"}),t(pe,{name:"cake",label:"Cake /s"}),t(pe,{name:"others",label:"Other /s"})]),_:1},8,["modelValue"])]),_:1}),t(k,null,{default:s(()=>[t(Me,{modelValue:u.value,"onUpdate:modelValue":n[1]||(n[1]=p=>u.value=p),animated:""},{default:s(()=>[t(ie,{name:"bread"},{default:s(()=>[e("div",null,[t(St)])]),_:1}),t(ie,{name:"selecta"},{default:s(()=>[e("div",null,[t(ba)])]),_:1}),t(ie,{name:"softdrinks"},{default:s(()=>[e("div",null,[t(Ja)])]),_:1}),t(ie,{name:"cake"},{default:s(()=>[t(pl)]),_:1}),t(ie,{name:"others"},{default:s(()=>[t(Ll)]),_:1}),t(ie)]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{ps as default};
