import{r as I,t as ue,u as L,c as h,z as ge,o as $,a2 as U,J as e,f as t,w as s,a3 as A,a4 as ne,e as Z,Q as N,aJ as he,_ as S,a0 as re,I as k,M as F,K as V,a1 as ee,O as te,R as ae,ad as be,$ as D,ba as Ie,aH as Be,aI as Re,N as _e,g as je,a7 as Fe,br as Qe,a9 as Ue,bs as qe,bt as Ae,ai as Le,j as me,l as Ne,L as Ve,a as Te}from"./index.59ebb270.js";import{Q as De,a as pe,b as Me,c as ie}from"./QTabPanels.181e0cb6.js";import{Q as we}from"./QIntersection.cd10f524.js";import{Q as fe}from"./QScrollArea.b234a1e4.js";import{u as oe}from"./sales-report.9b01e251.js";import{_ as le}from"./plugin-vue_export-helper.21dcd24c.js";import{b as de}from"./use-virtual-scroll.0b724567.js";import{Q as Ce,a as ve,b as z}from"./QList.acc07ebe.js";import{Q as ze}from"./QSelect.4ab1ca95.js";import{C as Se}from"./ClosePopup.6f87ebc7.js";import{u as Oe}from"./selecta-product.8aefecce.js";import{Q as $e}from"./QTd.3d431a33.js";import{Q as Ee}from"./QBadge.4b765f43.js";import{b as He}from"./selection.7e39e22d.js";import{Q as Ke}from"./QTable.930e02cf.js";import{q as Ye}from"./date.d2a395ae.js";import{u as Je}from"./cake-maker-report.161acd5e.js";import"./QResizeObserver.f74297c0.js";import"./use-panel.039cb850.js";import"./touch.9135741d.js";import"./QScrollObserver.42d5c9dc.js";import"./TouchPan.d537aec1.js";import"./axios.e9145425.js";import"./QChip.19c00c68.js";import"./QMenu.2764d0e6.js";import"./QVirtualScroll.05d2b88b.js";const E=a=>(te("data-v-d156be74"),a=a(),ae(),a),Ge={class:"q-mt-md"},We={class:"row q-pa-lg q-gutter-y-lg"},Xe=E(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Ze={class:"q-pa-xm row q-gutter-x-sm justify-between"},et=E(()=>e("div",null,"Quantity:",-1)),tt={class:"q-pa-xm row q-gutter-x-sm justify-between"},at=E(()=>e("div",null,"Price:",-1)),lt={class:"row justify-between"},st={class:"text-h6"},nt={class:"q-mb-lg row justify-between"},ot=E(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),it=E(()=>e("div",{class:"text-weight-light"},"Bread Out",-1)),dt={class:"row q-gutter-xm justify-between"},ut={class:"q-gutter-sm"},rt=E(()=>e("div",{class:"text-weight-light"},"Total Bread",-1)),ct=E(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),mt={class:"q-gutter-sm"},pt=E(()=>e("div",{class:"text-weight-light"},"Price",-1)),_t={class:"q-gutter-sm"},vt=E(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),gt=E(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),ht={class:"q-gutter-sm"},ft=E(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),xt={align:"right"},yt={__name:"BreadCard",setup(a){const r=oe(),u=r.user;console.log("userdat",u);const n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},l=ue({breadSold:0,remainnings:0,beginnings:0,breadOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,d=parseInt(l.remainnings)||0,i=parseInt(l.breadOut)||0,p=d+i;l.breadSold=o-p}};L(()=>l.remainnings,o=>{R()}),L(()=>l.breadOut,o=>{R()});const x=h(()=>n.value?l.breadSold*n.value.price:0),w=h(()=>b(x.value));ge(async()=>{var i;const o=r.user,d=((i=o==null?void 0:o.employee)==null?void 0:i.branch_id)||"";d&&await C(d)});const C=async o=>{await r.fetchBranchProducts(o)},q=h(()=>r.breadProducts);L(q,o=>{});const g=()=>{n.value=null,l.breadSold=0,l.remainnings=0,l.beginnings=0,l.breadOut=0,_.value=!1},B=()=>{var o;if(n.value){const d={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,new_production:n.value.new_production,bread_sold:l.breadSold,bread_out:l.breadOut,beginnings:n.value.beginnings,remaining:l.remainnings,price:n.value.price,sales:x.value};r.updateBreadReport(d),g()}};return(o,d)=>($(),U(A,null,[e("div",Ge,[t(fe,{style:{height:"700px","max-width":"1500px"}},{default:s(()=>[e("div",We,[($(!0),U(A,null,ne(q.value,(i,p)=>($(),Z(we,{key:p,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:s(()=>[t(N,{onClick:M=>c(i),class:"q-ma-sm my-card"},{default:s(()=>[Xe,e("div",{class:he(["q-pa-sm",{"text-h6":i.product.name.length<=10,"text-subtitle1":i.product.name.length>10&&i.product.name.length<=20,"text-caption text-weight-medium":i.product.name.length>20}])},S(i.product.name),3),t(re),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",Ze,[et,e("div",null,S(i.total_quantity),1)]),e("div",tt,[at,e("div",null,S(b(i.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=i=>_.value=i)},{default:s(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,null,{default:s(()=>[e("div",lt,[e("div",st,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])])]),_:1}),t(k,null,{default:s(()=>[e("div",nt,[e("div",null,[ot,t(V,{modelValue:l.remainnings,"onUpdate:modelValue":d[0]||(d[0]=i=>l.remainnings=i),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[it,t(V,{modelValue:l.breadOut,"onUpdate:modelValue":d[1]||(d[1]=i=>l.breadOut=i),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",dt,[e("div",ut,[rt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[ct]),_:1},8,["label"])]),e("div",mt,[pt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",_t,[vt,t(V,{dense:"",modelValue:l.breadSold,"onUpdate:modelValue":d[2]||(d[2]=i=>l.breadSold=i),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[gt]),_:1},8,["modelValue"])]),e("div",ht,[ft,t(V,{dense:"",outlined:"",modelValue:w.value,"onUpdate:modelValue":d[3]||(d[3]=i=>w.value=i),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",xt,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var bt=le(yt,[["__scopeId","data-v-d156be74"]]);const wt=e("div",{class:"q-gutter-y-md"},[e("div",{class:"row justify-between"},[e("div")])],-1),St={__name:"BreadPage",setup(a){return(r,u)=>($(),U(A,null,[wt,e("div",null,[t(bt)])],64))}};const ke=a=>(te("data-v-40bd9405"),a=a(),ae(),a),kt={class:"row justify-between"},$t=ke(()=>e("div",{class:"text-h6"},"Add Selecta Stocks",-1)),Pt={class:"q-mt-md q-gutter-y-sm"},qt=ke(()=>e("div",{class:"text-weight-meduim"},"Selecta List",-1)),Vt={class:"q-mt-xl q-gutter-y-sm"},Ct={class:"row justify-between"},Ot=ke(()=>e("div",{align:"center"},"Selecta Product",-1)),It=ke(()=>e("div",{align:"center"},"Added Stocks",-1)),Bt={align:"right"},Rt={__name:"SelectaAddStocks",setup(a){var T,G;const u=oe().user,n=((T=u==null?void 0:u.employee)==null?void 0:T.branch_id)||"";(G=u==null?void 0:u.employee)!=null&&G.employee_id;const _=Oe();h(()=>_.selectaProducts);const c=I(!1),l=()=>{c.value=!0};I("");const b=I("Selecta"),R=I(!1),x=I([]),w=I([]),C=ue({name:"",added_stocks:""}),q=I(w.value);(async()=>{try{const O=(n==null?void 0:n.branches_id)||n,j=b.value;if(!O||!j){console.error("Invalid branchesId or category value.");return}const y=await _.fetchBranchSelectaProduct(O,j);R.value=!1,w.value=_.selectaProducts.map(m=>({label:m.name,value:m.id,price:m.price}))}catch(O){console.error("Error fetching branch selecta:",O)}})();const B=()=>{C.name="",C.added_stocks=""},o=(O,j)=>{j(()=>{if(O==="")q.value=w.value;else{const y=O.toLowerCase();q.value=w.value.filter(m=>m.label.toLowerCase().indexOf(y)>-1)}})},d=()=>{const O=x.value;function j(v,W){return v.find(X=>X.product_id==W)}const y=C.name.value;if(j(O,y))_e.create({type:"negative",icon:"warning",message:"Ingredient already exists",timeout:2e3});else{const v=w.value.find(W=>W.value===y);x.value=[...O,{product_id:C.name.value,label:C.name.label,added_stocks:C.added_stocks,price:v.price}],B()}},i=O=>{x.value.splice(O,1)},p=h(()=>x.value.length>0&&x.value.every(O=>O.added_stocks>0)),M=O=>O?O.split(" ").map(j=>j.charAt(0).toUpperCase()+j.slice(1).toLowerCase()).join(" "):"",f=()=>{Q(),c.value=!1},Q=()=>{P.product_id="",P.product_name="",P.product_category="",P.price="",P.added_stocks=""},P=ue({product_id:"",product_name:"",product_category:"",price:0,added_stocks:0}),se=async()=>{var O,j;try{const y={branches_id:((O=u==null?void 0:u.employee)==null?void 0:O.branch_id)||"",employee_id:((j=u==null?void 0:u.employee)==null?void 0:j.employee_id)||"",status:"pending",products:x.value};await _.createSelectaStocks(y),console.log("Data sent to backend:",y),Q(),x.value=[],c.value=!1,_e.create({type:"positive",message:"Selecta stocks successfully saved!",timeout:2e3})}catch(y){console.error("Error saving selecta stocks:",y),_e.create({type:"negative",message:"An error occurred while saving selecta stocks.",timeout:2e3})}};return(O,j)=>($(),U(A,null,[t(F,{class:"bg-gradient text-white",outlined:"",label:"Add Selecta Stocks",onClick:l}),t(ee,{modelValue:c.value,"onUpdate:modelValue":j[3]||(j[3]=y=>c.value=y)},{default:s(()=>[t(N,{style:{width:"450px"}},{default:s(()=>[t(k,{class:"bg-gradient text-white"},{default:s(()=>[e("div",kt,[$t,e("div",null,[be(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[Se]])])])]),_:1}),t(k,null,{default:s(()=>[e("div",Pt,[qt,e("div",null,[t(Ce,{dense:"",separator:"",class:"box"},{default:s(()=>[t(ve,null,{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[D("Product Name")]),_:1})]),_:1}),t(z,null,{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[D("Added Stocks")]),_:1})]),_:1}),t(z,{side:""})]),_:1}),($(!0),U(A,null,ne(x.value,(y,m)=>($(),Z(ve,{key:m},{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-caption"},{default:s(()=>[D(S(M(y.label)),1)]),_:2},1024)]),_:2},1024),t(z,{class:"text-caption"},{default:s(()=>[D(S(y.added_stocks)+" pcs",1)]),_:2},1024),t(z,{side:""},{default:s(()=>[t(F,{onClick:v=>i(m),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),e("div",Vt,[e("div",Ct,[e("div",null,[Ot,t(ze,{modelValue:C.name,"onUpdate:modelValue":j[0]||(j[0]=y=>C.name=y),debounce:"3000",outlined:"","chips-color":"primary",options:q.value,dense:"",label:"Selecta",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:o,style:{width:"215px","max-width":"600px","min-width":"80px"}},{"no-option":s(()=>[t(ve,null,{default:s(()=>[t(z,{class:"text-grey"},{default:s(()=>[D(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),e("div",null,[It,t(V,{modelValue:C.added_stocks,"onUpdate:modelValue":j[1]||(j[1]=y=>C.added_stocks=y),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:"pcs",style:{width:"115px"}},null,8,["modelValue"])])]),e("form",{onKeyup:j[2]||(j[2]=Ie(Be((...y)=>O.addBranchProduct&&O.addBranchProduct(...y),["prevent"]),["enter"]))},[e("div",Bt,[t(F,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:d})])],32)])]),_:1}),t(Re,{class:"row q-ma-md",align:"right"},{default:s(()=>[t(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:f}),t(F,{class:"glossy",color:"teal",label:"Create",onClick:se,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var jt=le(Rt,[["__scopeId","data-v-40bd9405"]]);const H=a=>(te("data-v-46891eab"),a=a(),ae(),a),Ft={class:"q-mt-md"},Qt={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},Ut=H(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),At={class:"q-pa-xm row q-gutter-x-sm justify-between"},Lt=H(()=>e("div",null,"Quantity:",-1)),Nt={class:"q-pa-xm row q-gutter-x-sm justify-between"},Tt=H(()=>e("div",null,"Price:",-1)),Dt={class:"row justify-between"},Mt={class:"text-h6"},zt={class:"q-mb-lg row justify-between"},Et=H(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Ht=H(()=>e("div",{class:"text-weight-light"},"Selecta Out",-1)),Kt={class:"row q-gutter-xm justify-between"},Yt={class:"q-gutter-sm"},Jt=H(()=>e("div",{class:"text-weight-light"},"Total Selecta",-1)),Gt=H(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Wt={class:"q-gutter-sm"},Xt=H(()=>e("div",{class:"text-weight-light"},"Price",-1)),Zt={class:"q-gutter-sm"},ea=H(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),ta=H(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),aa={class:"q-gutter-sm"},la=H(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),sa={align:"right"},na={__name:"SelectaCard",setup(a){const r=oe(),u=r.user,n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},l=ue({selectaSold:0,selectaRemainings:0,selectaBeginnings:0,selectaOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=h(()=>n.value?l.selectaSold*n.value.price:0),x=h(()=>b(R.value)),w=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,d=parseInt(l.selectaRemainings)||0,i=parseInt(l.selectaOut)||0,p=d+i;l.selectaSold=o-p}};L(()=>l.selectaRemainings,o=>{w()}),L(()=>l.selectaOut,o=>{w()}),ge(async()=>{var i;const o=r.user,d=((i=o==null?void 0:o.employee)==null?void 0:i.branch_id)||"";d&&await C(d)});const C=async o=>{await r.fetchBranchProducts(o)},q=h(()=>r.selectaProducts);L(q,o=>{});const g=()=>{n.value=null,l.selectaSold=0,l.selectaRemainings=0,l.selectaBeginnings=0,l.selectaOut=0,_.value=!1},B=()=>{var o;if(n.value){const d={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,added_stocks:n.value.new_production,sold:l.selectaSold,out:l.selectaOut,beginnings:n.value.beginnings,remaining:l.selectaRemainings,price:n.value.price,sales:R.value};r.updateSelectaReport(d),g()}};return(o,d)=>($(),U(A,null,[e("div",Ft,[t(fe,{style:{height:"calc(100vh - 150px)","max-width":"1500px"}},{default:s(()=>[e("div",Qt,[($(!0),U(A,null,ne(q.value,(i,p)=>($(),Z(we,{key:p,once:"",transition:"scale",class:"example-item"},{default:s(()=>[t(N,{onClick:M=>c(i),class:"q-ma-sm my-card"},{default:s(()=>[Ut,e("div",{class:he(["q-pa-sm",{"text-h6":i.product.name.length<=10,"text-subtitle1":i.product.name.length>10&&i.product.name.length<=20,"text-caption":i.product.name.length>20}])},S(i.product.name),3),t(re),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",At,[Lt,e("div",null,S(i.total_quantity),1)]),e("div",Nt,[Tt,e("div",null,S(b(i.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=i=>_.value=i)},{default:s(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,null,{default:s(()=>[e("div",Dt,[e("div",Mt,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])])]),_:1}),t(k,null,{default:s(()=>[e("div",zt,[e("div",null,[Et,t(V,{modelValue:l.selectaRemainings,"onUpdate:modelValue":d[0]||(d[0]=i=>l.selectaRemainings=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Ht,t(V,{modelValue:l.selectaOut,"onUpdate:modelValue":d[1]||(d[1]=i=>l.selectaOut=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",Kt,[e("div",Yt,[Jt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Gt]),_:1},8,["label"])]),e("div",Wt,[Xt,t(V,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Zt,[ea,t(V,{dense:"",modelValue:l.selectaSold,"onUpdate:modelValue":d[2]||(d[2]=i=>l.selectaSold=i),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[ta]),_:1},8,["modelValue"])]),e("div",aa,[la,t(V,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=i=>x.value=i),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",sa,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var oa=le(na,[["__scopeId","data-v-46891eab"]]);function ye(a,r){return[!0,!1].includes(a)?a:r}var ia=je({name:"QPagination",props:{...Fe,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:a=>(typeof a=="string"?parseInt(a,10):a)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:a=>a===""||Qe.includes(a)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(a,{emit:r}){const{proxy:u}=Ne(),{$q:n}=u,_=Ue(a,n),c=h(()=>parseInt(a.min,10)),l=h(()=>parseInt(a.max,10)),b=h(()=>parseInt(a.maxPages,10)),R=h(()=>B.value+" / "+l.value),x=h(()=>ye(a.boundaryLinks,a.input)),w=h(()=>ye(a.boundaryNumbers,!a.input)),C=h(()=>ye(a.directionLinks,a.input)),q=h(()=>ye(a.ellipses,!a.input)),g=I(null),B=h({get:()=>a.modelValue,set:m=>{if(m=parseInt(m,10),a.disable||isNaN(m))return;const v=He(m,c.value,l.value);a.modelValue!==v&&r("update:modelValue",v)}});L(()=>`${c.value}|${l.value}`,()=>{B.value=a.modelValue});const o=h(()=>"q-pagination row no-wrap items-center"+(a.disable===!0?" disabled":"")),d=h(()=>a.gutter in qe?`${qe[a.gutter]}px`:a.gutter||null),i=h(()=>d.value!==null?`--q-pagination-gutter-parent:-${d.value};--q-pagination-gutter-child:${d.value}`:null),p=h(()=>{const m=[a.iconFirst||n.iconSet.pagination.first,a.iconPrev||n.iconSet.pagination.prev,a.iconNext||n.iconSet.pagination.next,a.iconLast||n.iconSet.pagination.last];return n.lang.rtl===!0?m.reverse():m}),M=h(()=>({"aria-disabled":a.disable===!0?"true":"false",role:"navigation"})),f=h(()=>Ae(a,"flat")),Q=h(()=>({[f.value]:!0,round:a.round,rounded:a.rounded,padding:a.padding,color:a.color,textColor:a.textColor,size:a.size,ripple:a.ripple!==null?a.ripple:!0})),P=h(()=>{const m={[f.value]:!1};return a.activeDesign!==""&&(m[a.activeDesign]=!0),m}),se=h(()=>({...P.value,color:a.activeColor||a.color,textColor:a.activeTextColor||a.textColor})),T=h(()=>{let m=Math.max(b.value,1+(q.value?2:0)+(w.value?2:0));const v={pgFrom:c.value,pgTo:l.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(l.value).length)}em`}};return b.value&&m<l.value-c.value+1&&(m=1+Math.floor(m/2)*2,v.pgFrom=Math.max(c.value,Math.min(l.value-m+1,a.modelValue-Math.floor(m/2))),v.pgTo=Math.min(l.value,v.pgFrom+m-1),w.value&&(v.boundaryStart=!0,v.pgFrom++),q.value&&v.pgFrom>c.value+(w.value?1:0)&&(v.ellipsesStart=!0,v.pgFrom++),w.value&&(v.boundaryEnd=!0,v.pgTo--),q.value&&v.pgTo<l.value-(w.value?1:0)&&(v.ellipsesEnd=!0,v.pgTo--)),v});function G(m){B.value=m}function O(m){B.value=B.value+m}const j=h(()=>{function m(){B.value=g.value,g.value=null}return{"onUpdate:modelValue":v=>{g.value=v},onKeyup:v=>{Le(v,13)===!0&&m()},onBlur:m}});function y(m,v,W){const X={"aria-label":v,"aria-current":"false",...Q.value,...m};return W===!0&&Object.assign(X,{"aria-current":"true",...se.value}),v!==void 0&&(a.toFn!==void 0?X.to=a.toFn(v):X.onClick=()=>{G(v)}),me(F,X)}return Object.assign(u,{set:G,setByOffset:O}),()=>{const m=[],v=[];let W;if(x.value===!0&&(m.push(y({key:"bls",disable:a.disable||a.modelValue<=c.value,icon:p.value[0]},c.value)),v.unshift(y({key:"ble",disable:a.disable||a.modelValue>=l.value,icon:p.value[3]},l.value))),C.value===!0&&(m.push(y({key:"bdp",disable:a.disable||a.modelValue<=c.value,icon:p.value[1]},a.modelValue-1)),v.unshift(y({key:"bdn",disable:a.disable||a.modelValue>=l.value,icon:p.value[2]},a.modelValue+1))),a.input!==!0){W=[];const{pgFrom:X,pgTo:Pe,marginalStyle:ce}=T.value;if(T.value.boundaryStart===!0){const J=c.value===a.modelValue;m.push(y({key:"bns",style:ce,disable:a.disable,label:c.value},c.value,J))}if(T.value.boundaryEnd===!0){const J=l.value===a.modelValue;v.unshift(y({key:"bne",style:ce,disable:a.disable,label:l.value},l.value,J))}T.value.ellipsesStart===!0&&m.push(y({key:"bes",style:ce,disable:a.disable,label:"\u2026",ripple:!1},X-1)),T.value.ellipsesEnd===!0&&v.unshift(y({key:"bee",style:ce,disable:a.disable,label:"\u2026",ripple:!1},Pe+1));for(let J=X;J<=Pe;J++)W.push(y({key:`bpg${J}`,style:ce,disable:a.disable,label:J},J,J===a.modelValue))}return me("div",{class:o.value,...M.value},[me("div",{class:"q-pagination__content row no-wrap items-center",style:i.value},[...m,a.input===!0?me(V,{class:"inline",style:{width:`${R.value.length/1.5}em`},type:"number",dense:!0,value:g.value,disable:a.disable,dark:_.value,borderless:!0,inputClass:a.inputClass,inputStyle:a.inputStyle,placeholder:R.value,min:c.value,max:l.value,...j.value}):me("div",{class:"q-pagination__middle row justify-center"},W),...v])])}}});const da=a=>(te("data-v-4932762d"),a=a(),ae(),a),ua=da(()=>e("div",{class:"text-h6"},"Selecta Products",-1)),ra={__name:"SelectaViewStockReport",props:["report"],setup(a){const r=I(!1),u=()=>{r.value=!0};console.log("report",a.report);const _=c=>c?c.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"";return(c,l)=>($(),U(A,null,[t(F,{class:"gradient-icon",flat:"",rounded:"",onClick:u},{default:s(()=>[t(Ve,{name:"visibility",class:"gradient-icon"})]),_:1}),t(ee,{modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=b=>r.value=b)},{default:s(()=>[t(N,{padding:"",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,{class:"bg-gradient text-white row justify-between"},{default:s(()=>[ua,e("div",null,[be(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[Se]])])]),_:1}),t(k,null,{default:s(()=>[e("div",null,"remarks: "+S(a.report.remark?a.report.remark:"N/A"),1),e("div",null,"status: "+S(a.report.status),1)]),_:1}),t(k,null,{default:s(()=>[t(Ce,{dense:"",separator:"",class:"box"},{default:s(()=>[t(ve,null,{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[D("Product Name")]),_:1})]),_:1}),t(z,{side:""},{default:s(()=>[t(de,{class:"text-overline"},{default:s(()=>[D("Added Stocks")]),_:1})]),_:1})]),_:1}),($(!0),U(A,null,ne(a.report.selecta_added_stocks,(b,R)=>($(),Z(ve,{key:R},{default:s(()=>[t(z,null,{default:s(()=>[t(de,{class:"text-caption"},{default:s(()=>[D(S(_(b.product.name)),1)]),_:2},1024)]),_:2},1024),t(z,{class:"text-caption",side:""},{default:s(()=>[D(S(b.added_stocks)+" pcs ",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ca=le(ra,[["__scopeId","data-v-4932762d"]]);const ma=a=>(te("data-v-c56bfed2"),a=a(),ae(),a),pa={class:"row justify-between"},_a=ma(()=>e("div",{class:"text-h6"},"Selecta Stocks Reports",-1)),va={__name:"SelectaViewAddedStocks",setup(a){var M;const r=Oe();h(()=>r.selectaProductReports).value.selecta_added_stocks;const _=oe().user,c=((M=_==null?void 0:_.employee)==null?void 0:M.branch_id)||"",l=I(!1),b=I([]),R=async()=>{try{c&&await q(c),l.value=!0}catch(f){console.error("Error opening dialog:",f)}},x=I({page:1,rowsPerPage:10,sortBy:"id",descending:!1}),w=I(1),C=I(!0),q=async()=>{try{const{page:f,rowsPerPage:Q,sortBy:P,descending:se}=x.value,T=await r.fetchSelectaProductReports(c,f,Q,P,se);b.value=T.data,w.value=T.last_page}catch(f){console.error("Error fetching selecta product reports:",f)}},g=f=>Ye.formatDate(f,"MMMM DD, YYYY"),B=f=>{const Q=new Date(f),P={hour:"2-digit",minute:"2-digit",hour12:!0};return Q.toLocaleTimeString(void 0,P)},o=f=>{const Q=G=>G?G.charAt(0).toUpperCase()+G.slice(1).toLowerCase():"",P=f.firstname?Q(f.firstname):"No Firstname",se=f.middlename?Q(f.middlename).charAt(0)+".":"",T=f.lastname?Q(f.lastname):"No Lastname";return`${P} ${se} ${T}`.trim()},d=[{name:"date",align:"center",label:"Date",field:f=>g(f.created_at)},{name:"time",align:"center",label:"Time",field:f=>B(f.created_at)},{name:"employee",align:"center",label:"Employee",field:"employee"},{name:"status",align:"center",label:"Status",field:"status"},{name:"action",align:"center",label:"Actions",field:"action"}],i=f=>{switch(f){case"declined":return"red";case"confirmed":return"green";case"pending":return"orange";default:return"grey"}},p=f=>f?f.split(" ").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1).toLowerCase()).join(" "):"";return L(()=>x.value.page,q),L(()=>x.value.rowsPerPage,q),(f,Q)=>($(),U(A,null,[t(F,{class:"bg-gradient text-white",outlined:"",label:"Stocks Reports",onClick:R}),t(ee,{modelValue:l.value,"onUpdate:modelValue":[Q[1]||(Q[1]=P=>l.value=P),f.onDialogChange],maximized:C.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:s(()=>[t(N,null,{default:s(()=>[t(k,{class:"bg-gradient text-white"},{default:s(()=>[e("div",pa,[_a,e("div",null,[be(t(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[Se]])])])]),_:1}),t(k,null,{default:s(()=>[t(Ke,{rows:b.value,columns:d,"row-key":"id",flat:"",bordered:"",dense:"",pagination:x.value.page,onRequest:q},{"body-cell-employee":s(P=>[t($e,{props:P},{default:s(()=>[D(S(o(P.row.employee)),1)]),_:2},1032,["props"])]),"body-cell-status":s(P=>[t($e,{props:P},{default:s(()=>[t(Ee,{color:i(P.row.status)},{default:s(()=>[D(S(p(P.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":s(P=>[t($e,{props:P},{default:s(()=>[t(ca,{report:P.row},null,8,["report"])]),_:2},1032,["props"])]),default:s(()=>[e("template",null,[t(ia,{modelValue:x.value.page,"onUpdate:modelValue":[Q[0]||(Q[0]=P=>x.value.page=P),q],max:w.value,"max-pages":w.value},null,8,["modelValue","max","max-pages"])])]),_:1},8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized","onUpdate:modelValue"])],64))}};var ga=le(va,[["__scopeId","data-v-c56bfed2"]]);const ha={class:"q-gutter-y-md"},fa={class:"row q-gutter-md"},xa=e("div",null,null,-1),ya={class:"row q-gutter-md"},ba={__name:"SelectaPage",setup(a){return(r,u)=>($(),U(A,null,[e("div",ha,[e("div",fa,[xa,e("div",ya,[e("div",null,[t(jt)]),e("div",null,[t(ga)])])])]),e("div",null,[t(oa)])],64))}};const K=a=>(te("data-v-44c2668f"),a=a(),ae(),a),wa={class:"q-mt-md"},Sa={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},ka=K(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),$a={class:"q-pa-xm row q-gutter-x-sm justify-between"},Pa=K(()=>e("div",null,"Quantity:",-1)),qa={class:"q-pa-xm row q-gutter-x-sm justify-between"},Va=K(()=>e("div",null,"Price:",-1)),Ca={class:"row justify-between"},Oa={class:"text-h6"},Ia={class:"q-mb-lg row justify-between"},Ba=K(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),Ra=K(()=>e("div",{class:"text-weight-light"},"Softdrinks Out",-1)),ja={class:"row q-gutter-xm justify-between"},Fa={class:"q-gutter-sm"},Qa=K(()=>e("div",{class:"text-weight-light"},"Total Softdrinks",-1)),Ua=K(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Aa={class:"q-gutter-sm"},La=K(()=>e("div",{class:"text-weight-light"},"Price",-1)),Na={class:"q-gutter-sm"},Ta=K(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),Da=K(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Ma={class:"q-gutter-sm"},za=K(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),Ea={align:"right"},Ha={__name:"SoftdrinksCard",setup(a){const r=oe(),u=r.user,n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},l=ue({softdrinksSold:0,remainnings:0,beginnings:0,softdrinksOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o),R=h(()=>n.value?l.softdrinksSold*n.value.price:0),x=h(()=>b(R.value)),w=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,d=parseInt(l.remainnings)||0,i=parseInt(l.softdrinksOut)||0,p=d+i;l.softdrinksSold=o-p}};L(()=>l.remainnings,o=>{w()}),L(()=>l.softdrinksOut,o=>{w()}),ge(async()=>{var i;const o=r.user,d=((i=o==null?void 0:o.employee)==null?void 0:i.branch_id)||"";d&&await C(d)});const C=async o=>{await r.fetchBranchProducts(o)},q=h(()=>r.softdrinksProducts);L(q,o=>{});const g=()=>{n.value=null,l.softdrinksSold=0,l.remainnings=0,l.beginnings=0,l.softdrinksOut=0,_.value=!1},B=()=>{var o;if(n.value){const d={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,added_stocks:n.value.new_production,sold:l.softdrinksSold,out:l.softdrinksOut,beginnings:n.value.beginnings,remaining:l.remainnings,price:n.value.price,sales:R.value};r.updateSoftdrinksReport(d),g()}};return(o,d)=>($(),U(A,null,[e("div",wa,[t(fe,{style:{height:"450px","max-width":"1500px"}},{default:s(()=>[e("div",Sa,[($(!0),U(A,null,ne(q.value,(i,p)=>($(),Z(we,{key:p,once:"",transition:"scale",class:"example-item"},{default:s(()=>[t(N,{onClick:M=>c(i),class:"q-ma-sm my-card"},{default:s(()=>[ka,e("div",{class:he(["q-pa-sm",{"text-h6":i.product.name.length<=10,"text-subtitle1":i.product.name.length>10&&i.product.name.length<=20,"text-caption text-weight-medium":i.product.name.length>20}])},S(i.product.name),3),t(re),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",$a,[Pa,e("div",null,S(i.total_quantity),1)]),e("div",qa,[Va,e("div",null,S(b(i.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=i=>_.value=i)},{default:s(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,null,{default:s(()=>[e("div",Ca,[e("div",Oa,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])])]),_:1}),t(k,null,{default:s(()=>[e("div",Ia,[e("div",null,[Ba,t(V,{modelValue:l.remainnings,"onUpdate:modelValue":d[0]||(d[0]=i=>l.remainnings=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[Ra,t(V,{modelValue:l.softdrinksOut,"onUpdate:modelValue":d[1]||(d[1]=i=>l.softdrinksOut=i),dense:"",outlined:"",mask:"#####",type:"number",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",ja,[e("div",Fa,[Qa,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Ua]),_:1},8,["label"])]),e("div",Aa,[La,t(V,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Na,[Ta,t(V,{dense:"",modelValue:l.softdrinksSold,"onUpdate:modelValue":d[2]||(d[2]=i=>l.softdrinksSold=i),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Da]),_:1},8,["modelValue"])]),e("div",Ma,[za,t(V,{dense:"",outlined:"",modelValue:x.value,"onUpdate:modelValue":d[3]||(d[3]=i=>x.value=i),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",Ea,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var Ka=le(Ha,[["__scopeId","data-v-44c2668f"]]);const Ya=e("div",{class:"q-gutter-y-md"},[e("div",{class:"row justify-between"},[e("div")])],-1),Ja={__name:"SoftdrinksPage",setup(a){return(r,u)=>($(),U(A,null,[Ya,e("div",null,[t(Ka)])],64))}};const xe=a=>(te("data-v-ac341238"),a=a(),ae(),a),Ga={class:"q-mt-md"},Wa={class:"row q-pa-lg q-gutter-sm q-gutter-y-md"},Xa=xe(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),Za={class:"q-pa-xm row q-gutter-x-sm justify-between"},el=xe(()=>e("div",null,"Layers",-1)),tl={class:"q-pa-xm row q-gutter-x-sm justify-between"},al=xe(()=>e("div",null,"Price:",-1)),ll={class:"row justify-between"},sl={class:"text-h6"},nl={class:"row q-gutter-x-sm"},ol=xe(()=>e("div",{class:"text-subtitle2"},"Layer /s :",-1)),il={class:"text-weight-light"},dl={class:"row q-gutter-x-sm"},ul=xe(()=>e("div",{class:"text-subtitle2"},"Price :",-1)),rl={class:"text-weight-light"},cl={__name:"CakeCard",setup(a){const r=oe(),u=Je(),n=h(()=>u.onDisplayProducts),_=localStorage.getItem("branch_id"),c=I(null),l=I(!1);ge(async()=>{_&&await b()});const b=async()=>{const g=await u.fetchOnDisplayProducts(_);n.value=g,console.log("sdfasdfas",n.value)},R=g=>g?g.split(" ").map(B=>B.charAt(0).toUpperCase()+B.slice(1).toLowerCase()).join(" "):"",x=g=>{c.value=g,l.value=!0},w=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(g).replace("\u20B1","\u20B1 "),C=async()=>{if(c.value){const g={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"sold"};console.log(g),r.updateCakeReport(g),_e.create({type:"positive",message:`${g.name} is sold`})}l.value=!1},q=async()=>{if(c.value){const g={cake_report_id:c.value.id,name:c.value.name,price:c.value.price,sales_status:"pull out"};r.updateCakeReport(g),_e.create({type:"warning",message:`${g.name} is pull out`})}l.value=!1};return(g,B)=>($(),U(A,null,[e("div",Ga,[t(fe,{style:{height:"450px","max-width":"1500px"}},{default:s(()=>[e("div",Wa,[($(!0),U(A,null,ne(n.value,(o,d)=>($(),Z(we,{key:d,once:"",transition:"scale",class:"example-item"},{default:s(()=>[t(N,{onClick:i=>x(o),class:"q-ma-sm my-card"},{default:s(()=>[Xa,e("div",{class:he(["q-pa-sm",{"text-h6":o.product.name.length<=10,"text-subtitle1":o.product.name.length>10&&o.product.name.length<=20,"text-caption text-weight-medium":o.product.name.length>20}])},S(R(o.name)),3),t(re),t(k,null,{default:s(()=>[e("div",Za,[el,e("div",null,S(o.layers),1)]),e("div",tl,[al,e("div",null,S(w(o.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),t(ee,{modelValue:l.value,"onUpdate:modelValue":B[0]||(B[0]=o=>l.value=o)},{default:s(()=>[t(N,null,{default:s(()=>[t(k,null,{default:s(()=>[e("div",ll,[e("div",sl,S(R(c.value.name)),1),e("div",null,[be(t(F,{round:"",dense:"",flat:"",icon:"close"},null,512),[[Se]])])])]),_:1}),t(re),t(k,{class:"row justify-between"},{default:s(()=>[e("div",nl,[ol,e("div",il,S(c.value.layers),1)]),e("div",dl,[ul,e("div",rl,S(w(c.value.price)),1)])]),_:1}),t(k,{class:"q-gutter-x-md"},{default:s(()=>[t(F,{label:"Sold",color:"primary",unelevated:"",class:"rounded-borders",icon:"check_circle",onClick:C}),t(F,{label:"Pull Out",color:"negative",outline:"",class:"rounded-borders",icon:"close",onClick:q})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ml=le(cl,[["__scopeId","data-v-ac341238"]]);const pl={__name:"CakePage",setup(a){return(r,u)=>($(),U("div",null,[t(ml)]))}};const Y=a=>(te("data-v-23a44bac"),a=a(),ae(),a),_l={class:"q-mt-md"},vl={class:"row q-pa-lg q-gutter-y-lg"},gl=Y(()=>e("img",{src:"https://cdn.quasar.dev/img/chicken-salad.jpg"},null,-1)),hl={class:"q-pa-xm row q-gutter-x-sm justify-between"},fl=Y(()=>e("div",null,"Quantity:",-1)),xl={class:"q-pa-xm row q-gutter-x-sm justify-between"},yl=Y(()=>e("div",null,"Price:",-1)),bl={class:"text-h6"},wl={class:"q-mb-lg row justify-between"},Sl=Y(()=>e("div",{class:"text-weight-light"},"Remainnings",-1)),kl=Y(()=>e("div",{class:"text-weight-light"},"Product Out",-1)),$l={class:"row q-gutter-xm justify-between"},Pl={class:"q-gutter-sm"},ql=Y(()=>e("div",{class:"text-weight-light"},"Total Product",-1)),Vl=Y(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),Cl={class:"q-gutter-sm"},Ol=Y(()=>e("div",{class:"text-weight-light"},"Price",-1)),Il={class:"q-gutter-sm"},Bl=Y(()=>e("div",{class:"text-weight-light"},"Sold Pcs",-1)),Rl=Y(()=>e("span",{class:"text-body2 text-weight-regular"},"pcs",-1)),jl={class:"q-gutter-sm"},Fl=Y(()=>e("div",{class:"text-weight-light"},"Sales Amount",-1)),Ql={align:"right"},Ul={__name:"OtherCard",setup(a){const r=oe(),u=r.user;console.log("userdata for branch",u);const n=I(null),_=I(!1),c=o=>{n.value=o,_.value=!0},l=ue({otherProductSold:0,remainnings:0,beginnings:0,otherProductOut:0}),b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o).replace("\u20B1","\u20B1 "),R=()=>{if(n.value){const o=parseInt(n.value.total_quantity)||0,d=parseInt(l.remainnings)||0,i=parseInt(l.otherProductOut)||0,p=d+i;l.otherProductSold=o-p}};L(()=>l.remainnings,o=>{R()}),L(()=>l.otherProductOut,o=>{R()});const x=h(()=>r.othersProducts);console.log("othersProducts",x.value);const w=h(()=>n.value?l.otherProductSold*n.value.price:0),C=h(()=>b(w.value));ge(async()=>{var i;const o=r.user,d=((i=o==null?void 0:o.employee)==null?void 0:i.branch_id)||"";d&&await q(d)});const q=async o=>{await r.fetchBranchProducts(o)},g=()=>{n.value=null,l.otherProductOut=0,l.beginnings=0,l.otherProductSold=0,l.remainnings=0,_.value=!1},B=async()=>{var o;if(n.value){const d={user_id:u==null?void 0:u.data.id,branch_id:((o=u==null?void 0:u.employee)==null?void 0:o.branch_id)||"",product_id:n.value.product.id,name:n.value.product.name,total:n.value.total_quantity,sold:l.otherProductSold,out:l.otherProductOut,added_stocks:n.value.new_production,beginnings:n.value.beginnings,remaining:l.remainnings,price:n.value.price,sales:w.value};console.log("report",d),r.updateOtherProductsReport(d),g()}};return(o,d)=>{const i=Te("q-itersection");return $(),U(A,null,[e("div",_l,[t(fe,{style:{height:"700px","max-width":"1500px"}},{default:s(()=>[e("div",vl,[($(!0),U(A,null,ne(x.value,(p,M)=>($(),Z(i,{key:M,once:"",transition:"scale",class:"example-item q-gutter-sm"},{default:s(()=>[t(N,{onClick:f=>c(p),class:"q-ma-sm my-card"},{default:s(()=>[gl,e("div",{class:he(["q-pa-sm",{"text-h6":p.product.name.length<=10,"text-subtitle1":p.product.name.length>10&&p.product.name.length<=20,"text-caption text-weight-medium":p.product.name.length>20}])},S(p.product.name),3),t(re),t(k,{class:"text-subtitle2 text-weight-regular"},{default:s(()=>[e("div",hl,[fl,e("div",null,S(p.total_quantity),1)]),e("div",xl,[yl,e("div",null,S(b(p.price)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024))),128))])]),_:1})]),e("div",null,[t(ee,{modelValue:_.value,"onUpdate:modelValue":d[4]||(d[4]=p=>_.value=p)},{default:s(()=>[t(N,{class:"my-card q-pa-md",style:{width:"700px","max-width":"80vw"}},{default:s(()=>[t(k,{class:"row justify-between"},{default:s(()=>[e("div",bl,S(n.value?n.value.product.name:""),1),e("div",null,[t(F,{round:"",dense:"",flat:"",icon:"close",onClick:g})])]),_:1}),t(k,null,{default:s(()=>[e("div",wl,[e("div",null,[Sl,t(V,{modelValue:l.remainnings,"onUpdate:modelValue":d[0]||(d[0]=p=>l.remainnings=p),dense:"",outlined:"",mask:"#####",suffix:"pcs",placeholder:"0",type:"number",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),e("div",null,[kl,t(V,{modelValue:l.otherProductOut,"onUpdate:modelValue":d[1]||(d[1]=p=>l.otherProductOut=p),dense:"",outlined:"",type:"number",mask:"#####",suffix:"pcs",placeholder:"0",style:{width:"260px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),e("div",$l,[e("div",Pl,[ql,t(V,{dense:"",outlined:"",readonly:"",label:n.value?n.value.total_quantity:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Vl]),_:1},8,["label"])]),e("div",Cl,[Ol,t(V,{dense:"",outlined:"",readonly:"",label:n.value?b(n.value.price):"",style:{width:"120px","max-width":"300px","min-width":"50px"}},null,8,["label"])]),e("div",Il,[Bl,t(V,{dense:"",modelValue:l.otherProductSold,"onUpdate:modelValue":d[2]||(d[2]=p=>l.otherProductSold=p),outlined:"","reverse-fill-mask":"",readonly:"",style:{width:"120px","max-width":"300px","min-width":"50px"}},{append:s(()=>[Rl]),_:1},8,["modelValue"])]),e("div",jl,[Fl,t(V,{dense:"",outlined:"",modelValue:C.value,"onUpdate:modelValue":d[3]||(d[3]=p=>C.value=p),readonly:"",style:{width:"150px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])])]),_:1}),t(k,null,{default:s(()=>[e("div",Ql,[t(F,{color:"red-6",label:"Ok",onClick:B})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64)}}};var Al=le(Ul,[["__scopeId","data-v-23a44bac"]]);const Ll={__name:"OtherPage",setup(a){return(r,u)=>($(),U("div",null,[t(Al)]))}},Nl={class:"text-h6 text-white"},ps={__name:"ProductsPage",setup(a){const r=I("bread");return(u,n)=>($(),Z(N,{flat:""},{default:s(()=>[t(k,{style:{"background-color":"#ef4444"}},{default:s(()=>[e("div",Nl,[t(Ve,{name:"fa-solid fa-store"}),D(" Store Branches ")])]),_:1}),t(k,null,{default:s(()=>[t(De,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=_=>r.value=_),dense:"",class:"bg-white","active-color":"red-6","indicator-color":"red-6",align:"justify"},{default:s(()=>[t(pe,{name:"bread",label:"Bread"}),t(pe,{name:"selecta",label:"Selecta"}),t(pe,{name:"softdrinks",label:"Softdrinks"}),t(pe,{name:"cake",label:"Cake /s"}),t(pe,{name:"others",label:"Other /s"})]),_:1},8,["modelValue"])]),_:1}),t(k,null,{default:s(()=>[t(Me,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=_=>r.value=_),animated:""},{default:s(()=>[t(ie,{name:"bread"},{default:s(()=>[e("div",null,[t(St)])]),_:1}),t(ie,{name:"selecta"},{default:s(()=>[e("div",null,[t(ba)])]),_:1}),t(ie,{name:"softdrinks"},{default:s(()=>[e("div",null,[t(Ja)])]),_:1}),t(ie,{name:"cake"},{default:s(()=>[t(pl)]),_:1}),t(ie,{name:"others"},{default:s(()=>[t(Ll)]),_:1}),t(ie)]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{ps as default};
