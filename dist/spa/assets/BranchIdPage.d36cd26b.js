import{be as ge,c as B,r as N,t as Ue,o as y,a3 as D,f as e,M as F,w as t,Q as E,I as A,ae as ne,J as l,K as q,L as te,e as z,a0 as U,a4 as Q,a5 as ee,$ as V,bd as ke,aJ as je,a2 as le,a1 as mt,N as ie,O as X,R as Z,z as Ae,u as oe,bb as _e,aK as Lt,bf as ce,d as bt,P as Ie,bc as Le,bg as gt,aI as jt,H as Ot}from"./index.9b38bd76.js";import{Q as Re}from"./QSpace.11b99d1b.js";import{Q as nt,a as $e,b as st,c as Ce}from"./QTabPanels.20d34d4f.js";import{Q as Ht}from"./QPage.587c06eb.js";import{Q as pe,a as G,b as I}from"./QList.e3794630.js";import{Q as T}from"./rtl.35c1fbd1.js";import{C as se}from"./ClosePopup.114ba7c5.js";import{u as Oe}from"./branch-product.ae897ee2.js";import{u as rt}from"./product.6ef2125c.js";import{Q as yt}from"./QSpinnerDots.ec6ca63d.js";import{Q as J,a as Ve}from"./QTable.5bd67064.js";import{Q as ye}from"./QBadge.43dd1e1d.js";import{Q as he}from"./QTooltip.8e04d2e6.js";import{Q as ve}from"./QPopupEdit.e583f0f6.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import{api as de}from"./axios.9ae20ed7.js";import{u as wt}from"./branch-rawMaterials.c7ea9cc0.js";import{u as Mt}from"./raw-material.982c78ed.js";import{u as Fe}from"./use-dialog-plugin-component.f76768ed.js";import{Q as Qt}from"./QMenu.3416801c.js";import{q as Se}from"./date.66895901.js";import{u as He}from"./use-quasar.6b964233.js";import{p as ft,v as $t}from"./vfs_fontes.3eb8cb31.js";import{u as De}from"./sales-report.19bf8486.js";import{u as pt}from"./user.de2d98eb.js";import{Q as Ze}from"./use-virtual-scroll.709cbaa8.js";import{u as Ct}from"./employee.e005df89.js";import{u as ct}from"./baker-report.cc593aff.js";import{u as ot}from"./branch-recipe.58d71bb4.js";import{Q as Vt}from"./QExpansionItem.6c218a87.js";import{Q as Et}from"./QVirtualScroll.3618d137.js";import{u as Kt,a as lt,b as dt,c as ht}from"./other-product.54b6b9ec.js";import{Q as et}from"./QScrollArea.9f026113.js";import{Q as vt}from"./QSelect.005914a8.js";import{u as Yt}from"./recipe.7d03bd36.js";import{u as St}from"./premix.7a638a32.js";import"./QResizeObserver.e4ddd9ae.js";import"./use-panel.594ec10e.js";import"./touch.9135741d.js";import"./selection.3d089072.js";import"./QSlideTransition.0938e139.js";import"./QScrollObserver.b6ed342a.js";import"./TouchPan.fdb41a4e.js";import"./QChip.79c4366f.js";const Gt=l("div",{class:"text-h6"},"Create Branch Product",-1),Wt={class:"q-mb-lg"},Jt={key:0,class:"custom-list z-top"},Xt=l("div",null,"Product Name",-1),Zt=l("div",null,"Category",-1),el={class:"row justify-between"},tl=l("div",null,"Beginnings",-1),ll=l("div",null,"Total Quantity",-1),al=l("div",null,"Price",-1),ol={__name:"ProductCreate",setup(r){const w=ge(),$=rt(),S=B(()=>$.products),x=Oe(),v=N(""),R=async()=>{$.searchProducts(v.value)},d=B(()=>P.price!==0&&P.beginnings!==0&&P.total_quantity!==0),h=N(!1),p=()=>{h.value=!0},m=()=>{c(),h.value=!1},f=k=>k?k.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join(" "):"",g=k=>{P.product_id=k.id,P.product_name=k.name,P.category=k.category,v.value=""},P=Ue({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:w.params.branch_id}),c=()=>{P.product_id="",P.product_name="",P.category="",P.price=0,P.beginnings=0,P.total_quantity=0},_=async()=>{try{const{product_name:k,...b}=P;await x.createBranchProducts(b),console.log("data to send",b),c(),h.value=!1}catch(k){console.log(k)}};return(k,b)=>(y(),D(Q,null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:p}),e(le,{modelValue:h.value,"onUpdate:modelValue":b[6]||(b[6]=i=>h.value=i),persistent:""},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Gt,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Wt,[e(q,{modelValue:v.value,"onUpdate:modelValue":[b[0]||(b[0]=i=>v.value=i),R],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[v.value?(y(),D("div",Jt,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var i;return[(i=S.value)!=null&&i.length?(y(!0),D(Q,{key:1},ee(S.value,u=>(y(),z(G,{onClick:n=>g(u),key:u.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(f(u.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Xt,e(q,{modelValue:P.product_name,"onUpdate:modelValue":b[1]||(b[1]=i=>P.product_name=i),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Zt,e(q,{modelValue:P.category,"onUpdate:modelValue":b[2]||(b[2]=i=>P.category=i),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",el,[l("div",null,[tl,e(q,{modelValue:P.beginnings,"onUpdate:modelValue":b[3]||(b[3]=i=>P.beginnings=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ll,e(q,{modelValue:P.total_quantity,"onUpdate:modelValue":b[4]||(b[4]=i=>P.total_quantity=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[al,e(q,{modelValue:P.price,"onUpdate:modelValue":b[5]||(b[5]=i=>P.price=i),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(je,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:m}),e(F,{class:"glossy",color:"teal",label:"Create",onClick:_,disable:!d.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Rt=r=>(X("data-v-196482e9"),r=r(),Z(),r),nl=Rt(()=>l("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),sl=Rt(()=>l("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),rl={__name:"ProductDelete",props:["delete"],setup(r){const w=Oe(),$=r;console.log("delte",$.delete.row.id);const S=async()=>{try{await w.deleteBranchProducts($.delete.row.id),ie.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),x.value=!1}catch(R){console.error(R.message)}},x=N(!1),v=()=>{console.log("ID",$.delete.row.id),x.value=!0};return(R,d)=>(y(),D(Q,null,[e(F,{onClick:v,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(he,{class:"bg-negative",delay:200},{default:t(()=>[U("Delete")]),_:1})]),_:1}),e(le,{modelValue:x.value,"onUpdate:modelValue":d[0]||(d[0]=h=>x.value=h)},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[nl,sl]),_:1}),e(mt,{class:"q-mb-md"}),e(A,null,{default:t(()=>[e(je,{align:"right",class:"q-pt-none"},{default:t(()=>[ne(e(F,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[se]]),e(F,{dense:"",label:"Delete",color:"negative",onClick:S,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var dl=W(rl,[["__scopeId","data-v-196482e9"]]);const il=r=>(X("data-v-c74b6072"),r=r(),Z(),r),ul={class:"row justify-between"},cl={class:"q-my-sm"},ml={key:0,class:"spinner-wrapper"},pl={key:1},_l={key:0,class:"data-error"},gl=il(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),fl={key:1},vl={__name:"ProductTable",setup(r){const $=ge().params.branch_id,S=Oe(),x=N(""),v=N(!0),R=N([]),d=N(!1),h=N({rowsPerPage:0}),p=B(()=>S.branchProducts);console.log("branchssdfrer",p.value);const m=B(()=>x.value?p.value.filter(u=>u.name.toLowerCase().includes(x.value.toLowerCase())):p.value),f=u=>u?u.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"";Ae(async()=>{$&&await g($)});const g=async u=>{try{v.value=!0;const n=await S.fetchBranchProducts(u);p.value=n,p.value.length||(d.value=!0),console.log("Branch product",p.value)}catch(n){console.log("Error fetching branch product:",n),d.value=!0}finally{v.value=!1}};oe(x,async u=>{v.value=!0,await new Promise(n=>setTimeout(n,1e3)),v.value=!1,d.value=m.value.length===0});async function P(u,n){try{const s=await de.put("/api/update-branch-products/"+u.id,{price:parseInt(n)});if(s.status===200){const o=R.value.findIndex(a=>a.id==u.id);R.value[o]=parseInt(n),ie.create({type:"positive",message:s.data.message,timout:1e3,position:"top"})}}catch(s){console.error("Error updating price:",s)}}async function c(u,n){try{const s=await de.put("/api/update-branch-products-beginnings/"+u.id,{beginnings:parseInt(n)});if(s.status===200){const o=R.value.findIndex(a=>a.id==u.id);R.value[o]=parseInt(n),ie.create({type:"positive",message:s.data.message,timout:1e3,position:"top"})}}catch(s){console.error("Error updating price:",s)}}async function _(u,n){try{const s=await de.put("/api/update-branch-products-total-quantity/"+u.id,{total_quantity:parseInt(n)});if(s.status===200){const o=R.value.findIndex(a=>a.id==u.id);R.value[o]=parseInt(n),ie.create({type:"positive",message:s.data.message,timout:1e3,position:"top"})}}catch(s){console.error("Error updating price:",s)}}const k=u=>{switch(u){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},b=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),i=[{name:"name",label:"Product Name",align:"center",field:u=>u.product.name,format:u=>`${u}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:u=>b(u),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:u=>`${u} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:u=>`${u} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(u,n)=>(y(),D(Q,null,[l("div",ul,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:x.value,"onUpdate:modelValue":n[0]||(n[0]=s=>x.value=s),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",cl,[e(ol)])]),v.value?(y(),D("div",ml,[e(yt,{size:"50px",color:"primary"})])):(y(),D("div",pl,[m.value.length===0?(y(),D("div",_l,[e(te,{name:"warning",color:"warning",size:"4em"}),gl])):(y(),z(Ve,{key:1,class:"table-container sticky-header",filter:x.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":n[1]||(n[1]=s=>h.value=s),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(s=>[e(J,{key:"name",props:s},{default:t(()=>{var o;return[U(V((o=s.row.product)!=null&&o.name?f(s.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(s=>[e(J,{key:"name",props:s},{default:t(()=>[s.row.category?(y(),z(ye,{key:0,color:k(s.row.category)},{default:t(()=>[U(V(s.row.category),1)]),_:2},1032,["color"])):(y(),D("span",fl,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(s=>[e(J,{props:s,class:"cursor-pointer"},{default:t(()=>[l("span",null,[U(V(b(s.row.price))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[U("Edit Price")]),_:1})]),e(ve,{"onUpdate:modelValue":[o=>P(s.row,o),o=>s.row.price=o],modelValue:s.row.price,"auto-save":""},{default:t(o=>[e(q,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(s=>[e(J,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[U(V(s.row.beginnings?s.row.beginnings:"Set Beginnings")+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[U("Edit beginnings")]),_:1})]),e(ve,{"onUpdate:modelValue":[o=>c(s.row,o),o=>s.row.beginnings=o],modelValue:s.row.beginnings,"auto-save":""},{default:t(o=>[e(q,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:_e(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(s=>[e(J,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[U(V(s.row.total_quantity?s.row.total_quantity:"Set Quantity")+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[U("Edit quantity")]),_:1})]),e(ve,{"onUpdate:modelValue":[o=>_(s.row,o),o=>s.row.total_quantity=o],modelValue:s.row.total_quantity,"auto-save":""},{default:t(o=>[e(q,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",autofocus:"",counter:"",mask:"#####",onKeyup:_e(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(s=>[e(J,{class:"q-gutter-x-md",props:s},{default:t(()=>[e(dl,{delete:s},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var yl=W(vl,[["__scopeId","data-v-c74b6072"]]);const hl={class:"q-gutter-sm"},bl={__name:"ProductPage",setup(r){return(w,$)=>(y(),D("div",hl,[l("div",null,[e(yl)])]))}},wl=l("div",{class:"text-h6"},"Create Branch Raw Materials",-1),xl={class:"q-mb-lg"},kl={key:0,class:"custom-list z-top"},Vl=l("div",null,"Raw Materials Code",-1),$l=l("div",null,"Raw Materials Name",-1),Cl=l("div",null,"Category",-1),Sl=l("div",null,"Quantity",-1),Rl={__name:"RawMaterialsCreate",setup(r){const w=ge(),$=Mt(),S=B(()=>$.rawMaterials),x=wt(),v=N(""),R=async()=>{$.searchRawMaterials(v.value)},d=B(()=>g.total_quantity!==""),h=N(!1),p=()=>{h.value=!0},m=()=>{P(),h.value=!1},f=_=>{g.ingredients_id=_.id,g.ingredient_name=_.name,g.ingredient_code=_.code,g.category=_.category,g.unit=_.unit,v.value=""},g=Ue({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:w.params.branch_id}),P=()=>{g.ingredients_id="",g.ingredient_name="",g.ingredient_code="",g.total_quantity="",g.ingredients_id="",g.category="",g.unit=""},c=async()=>{try{const{product_name:_,...k}=g;await x.createBranchRawMaterials(k),console.log("data to send",k),P(),h.value=!1}catch(_){console.log(_)}};return(_,k)=>(y(),D(Q,null,[e(F,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:p,style:{background:"#f43f5e"}}),e(le,{modelValue:h.value,"onUpdate:modelValue":k[5]||(k[5]=b=>h.value=b),persistent:""},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[wl,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",xl,[e(q,{modelValue:v.value,"onUpdate:modelValue":[k[0]||(k[0]=b=>v.value=b),R],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[v.value?(y(),D("div",kl,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var b;return[(b=S.value)!=null&&b.length?(y(!0),D(Q,{key:1},ee(S.value,i=>(y(),z(G,{onClick:u=>f(i),key:i.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(i.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Vl,e(q,{modelValue:g.ingredient_code,"onUpdate:modelValue":k[1]||(k[1]=b=>g.ingredient_code=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[$l,e(q,{modelValue:g.ingredient_name,"onUpdate:modelValue":k[2]||(k[2]=b=>g.ingredient_name=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Cl,e(q,{modelValue:g.category,"onUpdate:modelValue":k[3]||(k[3]=b=>g.category=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Sl,e(q,{modelValue:g.total_quantity,"onUpdate:modelValue":k[4]||(k[4]=b=>g.total_quantity=b),type:"number",outlined:"",suffix:g.unit||"",dense:"",rules:[b=>b&&b.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(je,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:m}),e(F,{class:"glossy",color:"teal",label:"Create",onClick:c,disable:!d.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Pt=r=>(X("data-v-17ad5e9f"),r=r(),Z(),r),Pl=Pt(()=>l("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Ul=Pt(()=>l("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),ql={__name:"RawMaterialsTableDelete",props:["delete"],setup(r){const w=wt(),$=r,S=async()=>{console.log("clickkkd");try{await w.deleteBranchRawMaterials($.delete.row.id),ie.create({type:"negative",icon:"warning",message:`Raw Materials ${$.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),x.value=!1}catch(R){console.error(R.message)}},x=N(!1),v=()=>{x.value=!0};return(R,d)=>(y(),D(Q,null,[e(F,{onClick:v,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(he,{class:"bg-negative",delay:200},{default:t(()=>[U("Delete")]),_:1})]),_:1}),e(le,{modelValue:x.value,"onUpdate:modelValue":d[0]||(d[0]=h=>x.value=h)},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Pl,Ul]),_:1}),e(mt,{class:"q-mb-md"}),e(A,null,{default:t(()=>[e(je,{align:"right",class:"q-pt-none"},{default:t(()=>[ne(e(F,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[se]]),e(F,{dense:"",label:"Delete",color:"negative",onClick:S,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Nl=W(ql,[["__scopeId","data-v-17ad5e9f"]]);const Ut=r=>(X("data-v-74a3fea6"),r=r(),Z(),r),Dl={class:"row justify-between"},Al={class:"q-my-sm"},Il={key:0,class:"spinner-wrapper"},Fl={key:1},Tl={key:0,class:"data-error"},Bl=Ut(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),zl=Ut(()=>l("div",{class:"text-white"},"Edit Available Stocks",-1)),Ll={class:"row justify-center q-gutter-x-md"},jl={__name:"RawMaterialsTable",setup(r){const $=ge().params.branch_id,S=wt(),x=N(""),v=N(!0),R=N([]),d=N(!1),h=N({rowsPerPage:0}),p=B(()=>S.branchRawMaterials),m=B(()=>x.value?p.value.filter(k=>k.name.toLowerCase().includes(x.value.toLowerCase())):p.value);Ae(async()=>{console.log("props.branchId in onMounted:",$),$&&await f($)});const f=async k=>{try{v.value=!0;const b=await S.fetchBranchRawMaterials(k);p.value=b,p.value.length||(d.value=!0),console.log("Branch Raw Materials",p.value)}catch(b){console.log("Error fetching branch product:",b),d.value=!0}finally{v.value=!1}};async function g(k,b){try{const i=await de.put("/api/update-branch-rawMaterials/"+k.id,{total_quantity:parseInt(b)});if(i.status===200){const u=R.value.findIndex(n=>n.id==k.id);R.value[u]=parseInt(b),ie.create({type:"positive",message:i.data.message,timout:1e3,position:"top"})}}catch(i){console.error("Error updating price:",i)}}oe(x,async k=>{v.value=!0,await new Promise(b=>setTimeout(b,1e3)),v.value=!1,d.value=m.value.length===0});const P=k=>{const b=k.total_quantity;if(k.ingredients.unit==="Grams"&&b<1e3)return"bg-red";let u;return b>=1e3?u=b/1e3:u=b,u<5?u<=2?"bg-red":(u<=3,"bg-warning"):"bg-positive"},c=k=>{const b=k.total_quantity,i=k.ingredients.unit;if(b>1e3){const u=(b/1e3).toFixed(2);return u.endsWith(".00")?`${Math.round(b/1e3)} kilos`:`${u} kilos`}else return b>1?`${b} ${i}`:`${b} ${i}`},_=[{name:"code",label:"Raw Materials Code",align:"center",field:k=>{var b,i;return(i=(b=k==null?void 0:k.ingredients)==null?void 0:b.code)!=null?i:"No Code"},format:k=>`${k}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:k=>{var b,i;return(i=(b=k==null?void 0:k.ingredients)==null?void 0:b.name)!=null?i:"No Code"},format:k=>`${k}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(k,b)=>(y(),D(Q,null,[l("div",Dl,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:x.value,"onUpdate:modelValue":b[0]||(b[0]=i=>x.value=i),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",Al,[e(Rl)])]),v.value?(y(),D("div",Il,[e(yt,{size:"50px",color:"primary"})])):(y(),D("div",Fl,[m.value.length===0?(y(),D("div",Tl,[e(te,{name:"warning",color:"warning",size:"4em"}),Bl])):(y(),z(Ve,{key:1,class:"table-container sticky-header",filter:x.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:_,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":b[1]||(b[1]=i=>h.value=i),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(i=>[e(J,{props:i},{default:t(()=>[e(ye,{square:"",class:Lt(["text-white cursor-pointer",P(i.row)])},{default:t(()=>[U(V(c(i.row))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[zl]),_:1}),e(ve,{"onUpdate:modelValue":[u=>g(i.row,u),u=>i.row.total_quantity=u],modelValue:i.row.total_quantity,"auto-save":""},{default:t(u=>[e(q,{modelValue:u.value,"onUpdate:modelValue":n=>u.value=n,dense:"",suffix:i.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:_e(u.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(i=>[e(J,{props:i},{default:t(()=>[l("div",Ll,[e(Nl,{delete:i},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Ol=W(jl,[["__scopeId","data-v-74a3fea6"]]);const Hl={class:"q-gutter-sm"},Ml={class:"q-gutter-x-sm"},Ql={__name:"RawMaterialsPage",setup(r){return(w,$)=>(y(),D("div",Hl,[l("div",Ml,[e(ye,{label:"Good",class:"text-white",color:"positive"}),e(ye,{label:"Warning",class:"text-white",color:"warning"}),e(ye,{label:"Danger",class:"text-white",color:"red"})]),l("div",null,[e(Ol)])]))}};const El=r=>(X("data-v-2e420de9"),r=r(),Z(),r),Kl={class:"text-h6 text-white"},Yl=El(()=>l("div",{class:"text-h6",align:"center"},"Bread List",-1)),Gl={__name:"BreadView",props:["breadProduction","branchRecipe"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe();console.log("breadReportsaaasss",r.breadProduction);const R=d=>d?d.split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase()).join(" "):"";return(d,h)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row bg-backgroud text-h6"},{default:t(()=>{var p,m,f,g;return[l("div",Kl,V(`${R((m=(p=r.branchRecipe)==null?void 0:p.recipe)==null?void 0:m.name)} - ${(g=(f=r.branchRecipe)==null?void 0:f.recipe)==null?void 0:g.category}`),1),e(Re),l("div",null,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]}),_:1}),e(A,null,{default:t(()=>[Yl]),_:1}),e(A,null,{default:t(()=>[e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Bread Name")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,{class:"text-overline text-center"},{default:t(()=>[U("Pieces")]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee(r.breadProduction,(p,m)=>(y(),z(G,{key:m},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>{var f;return[U(V(R((f=p==null?void 0:p.bread)==null?void 0:f.name)),1)]}),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(T,{class:"text-caption text-center"},{default:t(()=>[U(V(`${p==null?void 0:p.bread_production} `),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var Wl=W(Gl,[["__scopeId","data-v-2e420de9"]]);const Jl=r=>(X("data-v-961b0a22"),r=r(),Z(),r),Xl={class:"text-h6 text-white"},Zl=Jl(()=>l("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ea={__name:"IngredientsView",props:["ingredientProduction","branchRecipe"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe();console.log("ingredientProduction",r.ingredientProduction);const R=h=>{const p=Number(h.quantity)||0,m=h.unit||"";return p>1e3?`${parseFloat((p/1e3).toFixed(3))} kg`:p>1?`${parseFloat(p.toFixed(3))} ${m}`:`${parseFloat(p.toFixed(3))} ${m}`},d=h=>h?h.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"";return(h,p)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row bg-backgroud text-h6"},{default:t(()=>{var m,f,g,P;return[l("div",Xl,V(`${d((f=(m=r.branchRecipe)==null?void 0:m.recipe)==null?void 0:f.name)} - ${(P=(g=r.branchRecipe)==null?void 0:g.recipe)==null?void 0:P.category}`),1),e(Re),l("div",null,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]}),_:1}),e(A,null,{default:t(()=>[Zl]),_:1}),e(A,null,{default:t(()=>[e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Raw Materials Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Code")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Quantity")]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee(r.ingredientProduction,(m,f)=>(y(),z(G,{key:f},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(m.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(m.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(R(m)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var ta=W(ea,[["__scopeId","data-v-961b0a22"]]);const it=bt("productions",()=>{const r=N([]),w=N([]);return{productions:r,production:w,fetchAllProduction:async()=>{const p=await de.get("/api/branch-production-report");r.value=p.data.reports},fetchBranchProductions:async p=>{try{const m=await de.get(`/api/branches/${p}/production-report`);r.value=m.data}catch(m){console.log(m)}},updateBakerReport:async(p,m)=>{console.log("baker reports data in store",m),console.log("baker reports id data in store",p),Ie.show();try{const f=await de.put(`api/update/branch-baker-report/${p}`,m);console.log(f.data)}catch(f){console.error("Error updating baker report:",f)}finally{Ie.hide()}},addBreadProduction:async p=>{console.log("Bread Production Data:",p),Ie.show();try{const m=await de.post("/api/branch-add-bread-production-report",p);console.log(m.data),ie.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(m){console.log(m),ie.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ie.hide()}},addSelectaProduction:async p=>{console.log("Selecta Production Data:",p),Ie.show();try{const m=await de.post("/api/branch-add-selecta-production-report",p);console.log(m.data),ie.create({message:"Bread Production Report Added Successfully",color:"positive"})}catch(m){console.log(m),ie.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ie.hide()}},addSoftdrinksProduction:async p=>{console.log("Softdrinks Production Data:",p),Ie.show();try{const m=await de.post("/api/branch-add-softdrinks-production-report",p);console.log(m.data),ie.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(m){console.log(m),ie.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ie.hide()}},addOtherProductProduction:async p=>{console.log("Softdrinks Production Data:",p),Ie.show();try{const m=await de.post("/api/branch-add-other-production-report",p);console.log(m.data),ie.create({message:"Softdrinks Production Report Added Successfully",color:"positive"})}catch(m){console.log(m),ie.create({message:"Error adding Bread Production Report",color:"negative"})}finally{Ie.hide()}}}});const qt=r=>(X("data-v-6681c582"),r=r(),Z(),r),la={class:"text-h6 text-dark"},aa={class:"row q-gutter-sm"},oa={class:"row q-mt-sm q-gutter-sm"},na=qt(()=>l("div",{class:"q-mt-sm"},"Kilo",-1)),sa={class:"q-mt-xl q-gutter-md"},ra={key:0},da={class:"q-mx-sm"},ia=qt(()=>l("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),ua={__name:"EditBakersReport",props:["bakerReports","sales_report_id"],setup(r){const w=it(),{dialogRef:$,onDialogHide:S}=Fe(),x=r;console.log("bakers report",x.bakerReports);const v=Ue({target:0,actual_target:0,short:0,over:0,kilo:0}),R=B(()=>x.bakerReports.ingredient_bakers_reports.map(c=>{const _=parseFloat(x.bakerReports.kilo)||1,k=parseFloat(v.kilo)||1,i=c.quantity/_*k;return{...c,quantity:i.toFixed(3)}})),d=c=>c?c.split(" ").map(_=>_.charAt(0).toUpperCase()+_.slice(1).toLowerCase()).join(" "):"",h=c=>{const _=Number(c.quantity)||0,k=c.unit||"";return _>1e3?`${parseFloat((_/1e3).toFixed(3))} kg`:_>1?`${parseFloat(_.toFixed(3))} ${k}`:`${parseFloat(_.toFixed(3))} ${k}`},p=c=>{const _=Number(c)||0;return parseFloat(_.toFixed(3)).toString()},m=c=>{const _=Number(c)||0;return parseFloat(_.toFixed(3)).toString()},f=B(()=>x.bakerReports.combined_bakers_reports.reduce((c,_)=>c+(parseFloat(_.bread_production)||0),0)),g=()=>{const c=f.value,_=parseFloat(v.actual_target)||0;c>_?(v.over=c-_,v.short=0):(v.short=_-c,v.over=0)};oe(()=>x.bakerReports,c=>{c&&(v.target=p(c.target)||0,v.actual_target=c.actual_target||0,v.short=c.short||0,v.over=c.over||0,v.kilo=m(c.kilo)||0)},{immediate:!0}),oe(()=>v.kilo,()=>{const c=parseFloat(v.kilo)||1,k=(parseFloat(v.target)||0)*c;v.actual_target=p(Math.ceil(k)),g()}),oe(()=>f.value,()=>g());const P=async()=>{var u,n,s;const c=x.bakerReports.id,_=((s=(n=(u=x.bakerReports)==null?void 0:u.branch_recipe)==null?void 0:n.recipe)==null?void 0:s.category)||null,k=x.bakerReports.status,b=(x==null?void 0:x.sales_report_id)||null,i={initial_bakerreports_id:c,sales_report_id:b,category:_,target:v.target,actual_target:v.actual_target,short:v.short,over:v.over,status:k,kilo:v.kilo,combined_bakers_reports:x.bakerReports.combined_bakers_reports.map(o=>({bread_id:o.bread.id,bread_production:o.bread_production})),recalculated_ingredients:R.value.map(o=>({ingredients_id:o.ingredients.id,quantity:o.quantity,unit:o.unit}))};console.log("Edited Bakers Report",i),console.log("Edited Bakers Report",c);try{await w.updateBakerReport(c,i),ie.create({type:"positive",message:"Baker report updated successfully!",position:"top"}),S()}catch(o){console.error("Error updating baker report:",o),ie.create({type:"negative",message:"Failed to update baker report. Please try again.",position:"top"})}};return(c,_)=>(y(),z(le,{ref_key:"dialogRef",ref:$,onHide:ce(S)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row bg-backgroud text-h6"},{default:t(()=>{var k,b,i,u,n,s;return[l("div",la,V(`${d((i=(b=(k=r.bakerReports)==null?void 0:k.branch_recipe)==null?void 0:b.recipe)==null?void 0:i.name)} - ${(s=(n=(u=r.bakerReports)==null?void 0:u.branch_recipe)==null?void 0:n.recipe)==null?void 0:s.category}`),1),e(Re),l("div",null,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]}),_:1}),e(A,{class:"row q-gutter-x-xl"},{default:t(()=>[l("div",null,[l("div",aa,[l("div",null,[U(" Target Pcs "),e(q,{readonly:"",modelValue:v.target,"onUpdate:modelValue":_[0]||(_[0]=k=>v.target=k),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),l("div",null,[U(" Actual Target "),e(q,{readonly:"",modelValue:v.actual_target,"onUpdate:modelValue":_[1]||(_[1]=k=>v.actual_target=k),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),l("div",oa,[l("div",null,[U(" Short "),e(q,{readonly:"",modelValue:v.short,"onUpdate:modelValue":_[2]||(_[2]=k=>v.short=k),outlined:"",type:"number",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),l("div",null,[U(" Over "),e(q,{readonly:"",modelValue:v.over,"onUpdate:modelValue":_[3]||(_[3]=k=>v.over=k),outlined:"",dense:"",style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),l("div",null,[na,e(q,{outlined:"",modelValue:v.kilo,"onUpdate:modelValue":_[4]||(_[4]=k=>v.kilo=k),dense:"",type:"number",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])]),l("div",sa,[r.bakerReports.combined_bakers_reports.length?(y(),D("div",ra,[(y(!0),D(Q,null,ee(r.bakerReports.combined_bakers_reports,(k,b)=>(y(),D("div",{key:b,class:"q-my-md"},[e(mt,{class:"q-ma-md"}),l("div",da,V(k.bread.name),1),e(q,{outlined:"",modelValue:k.bread_production,"onUpdate:modelValue":i=>k.bread_production=i,dense:"",type:"numbers",suffix:"pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])]))),128))])):ke("",!0)])]),l("div",null,[ia,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Raw Materials Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Code")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Quantity")]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee(R.value,(k,b)=>(y(),z(G,{key:b},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(k.ingredients.name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(k.ingredients.code),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(h(k)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(je,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[ne(e(F,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[se]]),e(F,{class:"glossy",color:"teal",label:"Save",onClick:P})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var ca=W(ua,[["__scopeId","data-v-6681c582"]]);const ma=r=>(X("data-v-f96814be"),r=r(),Z(),r),pa=ma(()=>l("div",{class:"row justify-between"},[l("div",{class:"text-h6"},"Baker Report")],-1)),_a={class:"text-subtitle1 text-weight-regular"},ga={class:"q-ma-sm"},fa={class:"q-ma-sm",align:"center"},va=["src"],ya={__name:"BakerReportPanel",props:["bakersReport","sales_report_id"],setup(r){ft.exports.vfs=$t;const w=r,$=w.bakersReport;console.log("Bakers Report",w.bakersReport);const S=N(!0),x=N(!1);N(!1);const v=N({rowsPerPage:0}),R=N(""),d=He(),h=(a,C)=>{d.dialog({component:Wl,componentProps:{breadProduction:a,branchRecipe:C}})},p=(a,C)=>{d.dialog({component:ta,componentProps:{ingredientProduction:a,branchRecipe:C}})},m=(a,C)=>{d.dialog({component:ca,componentProps:{bakerReports:a,sales_report_id:C}})},f=a=>Se.formatDate(a,"MMM. DD, YYYY"),g=a=>{const C=Number(a)||0;return parseFloat(C.toFixed(3)).toString()},P=a=>{const C=Number(a)||0;return parseFloat(C.toFixed(3)).toString()},c=a=>a?a.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",_=a=>{const C=ue=>ue?ue.charAt(0).toUpperCase()+ue.slice(1).toLowerCase():"",j=a.firstname?C(a.firstname):"No Firstname",K=a.middlename?C(a.middlename).charAt(0)+".":"",ae=a.lastname?C(a.lastname):"No Lastname";return`${j} ${K} ${ae}`.trim()},k=a=>{const C=new Date(a),j={hour:"2-digit",minute:"2-digit",hour12:!0};return C.toLocaleTimeString(void 0,j)},b=a=>{switch(a){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},i=a=>a?a.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",u=a=>a?a.recipe_category==="Filling"?a.filling_bakers_reports||[]:a.recipe_category==="Dough"?a.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),n=[{name:"recipe_name",align:"center",label:"Recipe Name",field:a=>a.branch_recipe&&a.branch_recipe.recipe?{name:a.branch_recipe.recipe.name,category:a.branch_recipe.recipe.category}:{name:"N/A",category:"N/A"},format:a=>`${i(a.name)} (${a.category})`,sortable:!0},{name:"created_at",align:"center",label:"Time",field:"created_at",format:a=>k(a)},{name:"kilo",align:"center",label:"Kilo / s",field:"kilo",format:a=>`${P(a)}`},{name:"actual_target",align:"center",label:"Actual Target",field:a=>a.target*a.kilo,format:a=>`${Math.ceil(a)}`},{name:"over",align:"center",label:"Over",field:"over",format:a=>`${a}`},{name:"short",align:"center",label:"Short",field:"short",format:a=>`${a}`},{name:"status",align:"center",label:"Status",field:"status"},{name:"combined_bakers_reports",align:"center",label:"Breads",field:"combined_bakers_reports"},{name:"ingredients_reports",align:"center",label:"Ingredients",field:"ingredients_reports"},{name:"action",align:"center",label:"Action",field:"action"}],s=a=>{var re,fe,Xe,Be,ze,H,O,M,L,Y,me,be,qe,Ne;console.log("bakerReport",a);const C=`${(Xe=(fe=(re=a==null?void 0:a.branch_recipe)==null?void 0:re.recipe)==null?void 0:fe.name)!=null?Xe:"Unkown Recipe"} (${(Be=a==null?void 0:a.recipe_category)!=null?Be:"Unkown Category"})`,j=(H=(ze=a==null?void 0:a.branch_recipe)==null?void 0:ze.target)!=null?H:0,K=(O=a==null?void 0:a.actual_target)!=null?O:0,ae=(M=a==null?void 0:a.kilo)!=null?M:0,ue=(L=a==null?void 0:a.over)!=null?L:0,Pe=(Y=a==null?void 0:a.short)!=null?Y:0,xe={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:C,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${g(j)} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${K} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${P(ae)} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${ue} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${Pe} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${a.branch.name||"No name available"}
                Baker: ${_(((me=a==null?void 0:a.user)==null?void 0:me.employee)||"Unknown Baker Name")}
                Recipe: ${((be=a.recipe)==null?void 0:be.name)||"Unknown Recipe"} (${a.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${f(((qe=w.bakersReport[0])==null?void 0:qe.created_at)||((Ne=w.bakersReport[1])==null?void 0:Ne.created_at)||"No name available")}
                Time: ${k(a.created_at)}
                Status: ${c(a.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...u(a).map(we=>{var ut;return[{text:((ut=we==null?void 0:we.bread)==null?void 0:ut.name)||"Unknown Bread",style:"body"},{text:a.recipe_category==="Filling"?`${(we==null?void 0:we.filling_production)||"0"} pcs`:`${we==null?void 0:we.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(a.ingredient_bakers_reports||[]).map(we=>{var ut,kt;return[{text:((ut=we==null?void 0:we.ingredients)==null?void 0:ut.code)||"Unknown Ingredient",style:"body"},{text:`${(we==null?void 0:we.quantity)||"Unknown Quantity"} ${((kt=we==null?void 0:we.ingredients)==null?void 0:kt.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},xe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},o=a=>{const C=s(a);ft.exports.createPdf(C).getDataUrl(j=>{R.value=j,x.value=!0})};return(a,C)=>(y(),D("div",null,[e(E,{class:"my-card q-pa-md"},{default:t(()=>{var j,K,ae,ue,Pe,xe;return[pa,l("div",_a,[l("div",null," Name: "+V(_(((K=(j=ce($)[0])==null?void 0:j.user)==null?void 0:K.employee)||((ue=(ae=ce($)[1])==null?void 0:ae.user)==null?void 0:ue.employee)||"No name available")),1),l("div",null," Date: "+V(`${f(((Pe=w.bakersReport[0])==null?void 0:Pe.created_at)||((xe=w.bakersReport[1])==null?void 0:xe.created_at)||"No name available")}`),1)]),e(A,null,{default:t(()=>[e(Ve,{class:"table-container sticky-header2",columns:n,rows:ce($),"row-key":"name","header-class":"custom-header","virtual-scroll":"","virtual-scroll-item-size":48,"virtual-scroll-sticky-size-start":48,pagination:v.value,"rows-per-page-options":[0]},{"body-cell-status":t(re=>[e(J,{props:re},{default:t(()=>[e(ye,{align:"middle",color:b(re.row.status)},{default:t(()=>[U(V(c(re.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-combined_bakers_reports":t(re=>[e(J,{props:re},{default:t(()=>[e(F,{class:"gradient-icon",flat:"",rounded:"",onClick:fe=>h(re.row.combined_bakers_reports,re.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon"}),e(he,{class:"gradient-tooltip"},{default:t(()=>[U("View Breads")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-ingredients_reports":t(re=>[e(J,{props:re},{default:t(()=>[e(F,{class:"gradient-icon2",flat:"",rounded:"",onClick:fe=>p(re.row.ingredient_bakers_reports,re.row.branch_recipe)},{default:t(()=>[e(te,{name:"visibility",class:"gradient-icon2"}),e(he,{class:"gradient-tooltip"},{default:t(()=>[U("View Ingredients")]),_:1})]),_:2},1032,["onClick"])]),_:2},1032,["props"])]),"body-cell-action":t(re=>[e(J,{props:re},{default:t(()=>[e(F,{dense:"",flat:"",round:"",icon:"more_vert","aria-label":"Action Menu",onClick:fe=>a.toggleMenu(re.row)},null,8,["onClick"]),e(Qt,{modelValue:re.row.menu,"onUpdate:modelValue":fe=>re.row.menu=fe,anchor:"bottom right",self:"top right","transition-show":"jump-down","transition-hide":"jump-up"},{default:t(()=>[e(pe,{style:{"min-width":"100px"}},{default:t(()=>[ne((y(),z(G,{clickable:"",onClick:fe=>o(re.row)},{default:t(()=>[e(I,{avatar:""},{default:t(()=>[e(te,{name:"print"})]),_:1}),e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U("Print")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[se]]),ne((y(),z(G,{clickable:"",onClick:fe=>m(re.row,r.sales_report_id)},{default:t(()=>[e(I,{avatar:""},{default:t(()=>[e(te,{name:"edit"})]),_:1}),e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U("Edit")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[se]])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),_:1},8,["rows","pagination"])]),_:1})]}),_:1}),e(le,{modelValue:x.value,"onUpdate:modelValue":C[0]||(C[0]=j=>x.value=j),"backdrop-filter":a.backdropFilter,maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[l("div",ga,[l("div",fa,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(he,null,{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])]),l("div",null,[l("iframe",{src:R.value,width:"100%",height:"700px"},null,8,va)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var ha=W(ya,[["__scopeId","data-v-f96814be"]]);const Me=r=>(X("data-v-103c9df4"),r=r(),Z(),r),ba=Me(()=>l("div",{class:"text-h6 text-white"},"Bread",-1)),wa={class:"text-subtitle1 text-weight-medium"},xa={class:"q-mb-lg"},ka={key:0,class:"custom-list z-top"},Va=Me(()=>l("div",null,"Product Name",-1)),$a={class:"row justify-between q-mt-md q-gutter-md"},Ca=Me(()=>l("div",null,"Category",-1)),Sa=Me(()=>l("div",null,"Price",-1)),Ra={class:"row justify-between q-mt-md q-gutter-md"},Pa=Me(()=>l("div",null,"Beginnings",-1)),Ua=Me(()=>l("div",null,"New Production",-1)),qa=Me(()=>l("div",null,"Remaining",-1)),Na=Me(()=>l("div",null,"Bread Out",-1)),Da=Me(()=>l("div",null,"Total Quantity",-1)),Aa=Me(()=>l("div",null,"Bread Sold",-1)),Ia=Me(()=>l("div",null,"Sales",-1)),Fa={align:"right"},Ta={__name:"AddingBreadReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const $=w.sales_report_id,S=ge(),x=it(),v=rt();B(()=>v.products);const R=Oe(),d=B(()=>R.branchProducts);console.log("branchProduct",d);const h=S.params.branch_id,p=w.user.id,m=N(""),f=N("");B(()=>m.value&&employees.value.length>0);const g=N("Bread"),P=async()=>{console.log("branch_id.value:",h),console.log("searchQuery.value:",f.value),console.log("category.value:",g.value),(f.value||g.value)&&await R.searchBranchProducts({query:f.value,branches_id:h,category:g.value})},c=N(!1),_=()=>{c.value=!0},k=o=>{const a=ae=>ae?ae.charAt(0).toUpperCase()+ae.slice(1).toLowerCase():"",C=o.firstname?a(o.firstname):"No Firstname",j=o.middlename?a(o.middlename).charAt(0)+".":"",K=o.lastname?a(o.lastname):"No Lastname";return`${C} ${j} ${K}`.trim()},b=o=>o?o.split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "):"",i=o=>{console.log("data",o),u.product_id=o.product.id,u.product_name=o.product.name,u.category=o.category,u.price=o.price,f.value=""},u=Ue({sales_report_id:$,branch_id:h,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,new_production:0,bread_out:0,bread_sold:0,total:0,sales:0,branches_id:S.params.branch_id}),n=B(()=>{const o=parseInt(u.bread_sold||0)*parseFloat(u.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(o)});oe(()=>[u.new_production,u.beginnings],([o,a])=>{u.total=parseInt(o||0)+parseInt(a||0)}),oe(()=>[u.total,u.remaining,u.bread_out],([o,a,C])=>{u.bread_sold=parseInt(o||0)-(parseInt(a||0)+parseInt(C||0))}),oe(()=>[u.bread_sold,u.price],([o,a])=>{u.sales=parseInt(o||0)*parseFloat(a||0)});const s=async()=>{try{if(!u.product_name||!u.price||!u.product_id||!u.branch_id||!u.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const o={user_id:u.user_id,branch_id:u.branch_id,sales_report_id:u.sales_report_id,product_id:u.product_id,product_name:u.product_name,price:u.price,beginnings:u.beginnings,remaining:u.remaining,new_production:u.new_production,bread_out:u.bread_out,bread_sold:u.bread_sold,total:u.total,sales:u.sales};console.log("payload",o),await x.addBreadProduction(o)}catch{}};return(o,a)=>(y(),D(Q,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Bread",onClick:_})]),e(le,{modelValue:c.value,"onUpdate:modelValue":a[11]||(a[11]=C=>c.value=C),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row items-center bg-backgroud"},{default:t(()=>[ba,e(Re),ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>[l("div",wa," Cashier: "+V(k(r.user.employee)),1)]),_:1}),e(A,{class:"q-gutter-y-sm"},{default:t(()=>[l("div",xa,[e(q,{modelValue:f.value,"onUpdate:modelValue":[a[0]||(a[0]=C=>f.value=C),P],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[f.value?(y(),D("div",ka,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var C;return[(C=d.value)!=null&&C.length?(y(!0),D(Q,{key:1},ee(d.value,j=>(y(),z(G,{onClick:K=>i(j),key:j.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(b(j.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Va,e(q,{modelValue:u.product_name,"onUpdate:modelValue":a[1]||(a[1]=C=>u.product_name=C),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",$a,[l("div",null,[Ca,e(q,{modelValue:u.category,"onUpdate:modelValue":a[2]||(a[2]=C=>u.category=C),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])]),l("div",null,[Sa,e(q,{modelValue:u.price,"onUpdate:modelValue":a[3]||(a[3]=C=>u.price=C),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])])]),l("div",Ra,[l("div",null,[Pa,e(q,{modelValue:u.beginnings,"onUpdate:modelValue":a[4]||(a[4]=C=>u.beginnings=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ua,e(q,{modelValue:u.new_production,"onUpdate:modelValue":a[5]||(a[5]=C=>u.new_production=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[qa,e(q,{modelValue:u.remaining,"onUpdate:modelValue":a[6]||(a[6]=C=>u.remaining=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Na,e(q,{modelValue:u.bread_out,"onUpdate:modelValue":a[7]||(a[7]=C=>u.bread_out=C),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Da,e(q,{modelValue:u.total,"onUpdate:modelValue":a[8]||(a[8]=C=>u.total=C),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Aa,e(q,{modelValue:u.bread_sold,"onUpdate:modelValue":a[9]||(a[9]=C=>u.bread_sold=C),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ia,e(q,{modelValue:n.value,"onUpdate:modelValue":a[10]||(a[10]=C=>n.value=C),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",Fa,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:s})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ba=W(Ta,[["__scopeId","data-v-103c9df4"]]);const za={class:"row justify-between text-white"},La=l("div",{class:"text-h6"},"Bread Report",-1),ja={class:"row justify-end q-mt-md"},Oa={class:"text-h6"},Ha={__name:"BreadReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=N(!1),R=N(!0),d=r,h=N(""),p=N({rowsPerPage:0});console.log("Reports data structure:",d.reports),console.log("Reports data sales_report_id:",d.sales_report_id);const m=n=>n?n.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",f=async(n,s)=>{console.log("update data of the price",n),console.log("update val of the price",s);try{const o=await de.put("/api/update-bread-sales-price-report/"+n.id,{price:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},g=async(n,s)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",s);try{const o=await de.put("/api/update-bread-sales-beginnings-report/"+n.id,{beginnings:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},P=async(n,s)=>{console.log("update data of the NewProduction",n),console.log("update val of the NewProduction",s);try{const o=await de.put("/api/update-bread-sales-newProduction-report/"+n.id,{new_production:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,s)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",s);try{const o=await de.put("/api/update-bread-sales-remaining-report/"+n.id,{remaining:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},_=async(n,s)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",s);try{const o=await de.put("/api/update-bread-sales-breadOut-report/"+n.id,{bread_out:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=[{name:"name",label:"Bread Name",field:n=>(console.log("Row data:",n),n.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"new_production",label:"New Production (PCS)",field:"new_production",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"bread_out",label:"Bread Out (PCS)",field:"bread_out",format:n=>`${n}`},{name:"total",label:"Bread Total (PCS)",field:n=>(Number(n.beginnings)||0)+(Number(n.new_production)||0)},{name:"breadSold",label:"Bread Sold (PCS)",field:n=>{const s=Number(n.beginnings)||0,o=Number(n.new_production)||0,a=Number(n.remaining)||0,C=Number(n.bread_out)||0,j=s+o,K=a+C;return j-K},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const s=Number(n.beginnings)||0,o=Number(n.new_production)||0,a=Number(n.remaining)||0,C=Number(n.bread_out)||0,j=Number(n.price)||0,K=s+o,ae=a+C;return(K-ae)*j},format:n=>`${b(n)}`}],b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),i=B(()=>{if(!h.value||!h.value.trim())return d.reports||[];const n=h.value.trim().toLowerCase();return(d.reports||[]).filter(s=>s.bread.name.toLowerCase().includes(n)||s.price.toString().includes(n)||s.sales.toString().includes(n))}),u=B(()=>{const n=i.value.reduce((s,o)=>{const a=Number(o.beginnings)||0,C=Number(o.new_production)||0,j=Number(o.remaining)||0,K=Number(o.bread_out)||0,ae=Number(o.price)||0,ue=a+C,Pe=j+K,re=(ue-Pe)*ae;return console.log(`Adding salesAmount: ${re} to total: ${s}`),s+re},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Overall Total Sales:",u.value),(n,s)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),modelValue:v.value,"onUpdate:modelValue":s[2]||(s[2]=o=>v.value=o),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{style:{"background-color":"#795548"}},{default:t(()=>[l("div",za,[La,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=o=>h.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(Ba,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:i.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":s[1]||(s[1]=o=>p.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${m(o.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${b(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>f(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>g(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-new_production":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.new_production}`),1),e(ve,{"onUpdate:modelValue":[a=>P(o.row,a),a=>o.row.new_production=a],modelValue:o.row.new_production,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_out":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.bread_out}`),1),e(ve,{"onUpdate:modelValue":[a=>_(o.row,a),a=>o.row.bread_out=a],modelValue:o.row.bread_out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(A,null,{default:t(()=>[l("div",ja,[l("div",Oa," Overall Total Sales: "+V(b(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Qe=r=>(X("data-v-68ee2954"),r=r(),Z(),r),Ma=Qe(()=>l("div",{class:"text-h6 text-white"},"Add Selecta",-1)),Qa={class:"text-subtitle1 text-weight-medium"},Ea={class:"q-mb-lg"},Ka={key:0,class:"custom-list z-top"},Ya=Qe(()=>l("div",null,"Product Name",-1)),Ga=Qe(()=>l("div",null,"Category",-1)),Wa=Qe(()=>l("div",null,"Price",-1)),Ja={class:"row justify-between q-mt-md q-gutter-md"},Xa=Qe(()=>l("div",null,"Beginnings",-1)),Za=Qe(()=>l("div",null,"Added Stocks",-1)),eo=Qe(()=>l("div",null,"Remaining",-1)),to=Qe(()=>l("div",null,"Selecta Out",-1)),lo=Qe(()=>l("div",null,"Total Quantity",-1)),ao=Qe(()=>l("div",null,"Selecta Sold",-1)),oo=Qe(()=>l("div",null,"Sales",-1)),no={align:"right"},so={__name:"AddingSelectaReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const $=w.sales_report_id,S=ge(),x=it(),v=rt();B(()=>v.products);const R=Oe(),d=B(()=>R.branchProducts);console.log("branchProduct",d);const h=S.params.branch_id,p=w.user.id,m=N(""),f=N("Selecta"),g=async()=>{console.log("branch_id.value:",h),console.log("searchQuery.value:",m.value),console.log("category.value:",f.value),(m.value||f.value)&&await R.searchBranchProducts({query:m.value,branches_id:h,category:f.value})},P=N(!1),c=()=>{P.value=!0},_=s=>{const o=K=>K?K.charAt(0).toUpperCase()+K.slice(1).toLowerCase():"",a=s.firstname?o(s.firstname):"No Firstname",C=s.middlename?o(s.middlename).charAt(0)+".":"",j=s.lastname?o(s.lastname):"No Lastname";return`${a} ${C} ${j}`.trim()},k=s=>s?s.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",b=s=>{console.log("data",s),i.product_id=s.product.id,i.product_name=s.product.name,i.category=s.category,i.price=s.price,m.value=""},i=Ue({sales_report_id:$,branch_id:h,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:S.params.branch_id}),u=B(()=>{const s=parseInt(i.sold||0)*parseFloat(i.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)});oe(()=>[i.added_stocks,i.beginnings],([s,o])=>{i.total=parseInt(s||0)+parseInt(o||0)}),oe(()=>[i.total,i.remaining,i.out],([s,o,a])=>{i.sold=parseInt(s||0)-(parseInt(o||0)+parseInt(a||0))}),oe(()=>[i.sold,i.price],([s,o])=>{i.sales=parseInt(s||0)*parseFloat(o||0)});const n=async()=>{try{if(!i.product_name||!i.price||!i.product_id||!i.branch_id||!i.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const s={user_id:i.user_id,branch_id:i.branch_id,sales_report_id:i.sales_report_id,product_id:i.product_id,product_name:i.product_name,price:i.price,beginnings:i.beginnings,remaining:i.remaining,added_stocks:i.added_stocks,out:i.out,sold:i.sold,total:i.total,sales:i.sales};console.log("payload",s),await x.addSelectaProduction(s)}catch{}};return(s,o)=>(y(),D(Q,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:c})]),e(le,{modelValue:P.value,"onUpdate:modelValue":o[11]||(o[11]=a=>P.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[U(V(r.user.name)+" ",1),e(A,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Ma,e(Re),ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>[l("div",Qa," Cashier: "+V(_(r.user.employee)),1)]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Ea,[e(q,{modelValue:m.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>m.value=a),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[m.value?(y(),D("div",Ka,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var a;return[(a=d.value)!=null&&a.length?(y(!0),D(Q,{key:1},ee(d.value,C=>(y(),z(G,{onClick:j=>b(C),key:C.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(k(C.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Ya,e(q,{modelValue:i.product_name,"onUpdate:modelValue":o[1]||(o[1]=a=>i.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Ga,e(q,{modelValue:i.category,"onUpdate:modelValue":o[2]||(o[2]=a=>i.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Wa,e(q,{modelValue:i.price,"onUpdate:modelValue":o[3]||(o[3]=a=>i.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Ja,[l("div",null,[Xa,e(q,{modelValue:i.beginnings,"onUpdate:modelValue":o[4]||(o[4]=a=>i.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Za,e(q,{modelValue:i.added_stocks,"onUpdate:modelValue":o[5]||(o[5]=a=>i.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[eo,e(q,{modelValue:i.remaining,"onUpdate:modelValue":o[6]||(o[6]=a=>i.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[to,e(q,{modelValue:i.out,"onUpdate:modelValue":o[7]||(o[7]=a=>i.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[lo,e(q,{modelValue:i.total,"onUpdate:modelValue":o[8]||(o[8]=a=>i.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ao,e(q,{modelValue:i.sold,"onUpdate:modelValue":o[9]||(o[9]=a=>i.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[oo,e(q,{modelValue:u.value,"onUpdate:modelValue":o[10]||(o[10]=a=>u.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",no,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ro=W(so,[["__scopeId","data-v-68ee2954"]]);const io={class:"row justify-between text-white"},uo=l("div",{class:"text-h6"},"Selecta Report",-1),co={class:"row justify-end q-mt-md"},mo={class:"text-h6"},po={__name:"SelectaReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=N(!1),R=N(!0),d=r,h=N(""),p=N({rowsPerPage:0});console.log("Reports data structure:",d.reports);const m=n=>n?n.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",f=async(n,s)=>{console.log("update data of the price",n),console.log("update val of the price",s);try{const o=await de.put("/api/update-selecta-sales-price-report/"+n.id,{price:parseInt(s)})}catch(o){console.error(o)}},g=async(n,s)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",s);try{const o=await de.put("/api/update-selecta-sales-beginnings-report/"+n.id,{beginnings:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},P=async(n,s)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",s);try{const o=await de.put("/api/update-selecta-sales-remaining-report/"+n.id,{remaining:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,s)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",s);try{const o=await de.put("/api/update-selecta-sales-selctaOut-report/"+n.id,{out:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},_=async(n,s)=>{console.log("update data of the new updatedRemaining",n),console.log("update val of the new updatedRemaining",s);try{const o=await de.put("/api/update-selecta-sales-addedstocks-report/"+n.id,{added_stocks:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=[{name:"name",label:"Selecta Name",field:n=>(console.log("Row data:",n),n.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:n=>`${n}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:n=>`${n}`},{name:"total_selecta",label:"Total Stocks (PCS)",field:n=>Number(n.beginnings||0)+Number(n.added_stocks||0),format:n=>`${n}`},{name:"sold",label:"Selecta Sold (PCS)",field:n=>{const s=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),C=Number(n.remaining||0),j=s+o,K=C+a;return j-K},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const s=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),C=Number(n.remaining||0),j=Number(n.price||0),K=s+o,ae=C+a;return(K-ae)*j},format:n=>`${b(n)}`}],b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),i=B(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),u=B(()=>{const n=i.value.reduce((s,o)=>{const a=`${o.beginnings}`||0,C=`${o.added_stocks}`||0,j=`${o.out}`||0,K=`${o.remaining}`||0,ae=parseInt(a)+parseInt(C),ue=parseInt(K)+parseInt(j),xe=(ae-ue)*(o.price||0);return console.log(`Adding salesAmount: ${xe} to total: ${s}`),s+xe},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",i.value),(n,s)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),modelValue:v.value,"onUpdate:modelValue":s[2]||(s[2]=o=>v.value=o),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{style:{"background-color":"#f44336"}},{default:t(()=>[l("div",io,[uo,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=o=>h.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(ro,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:i.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":s[1]||(s[1]=o=>p.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${m(o.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${b(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>f(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>g(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>P(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.out}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.out=a],modelValue:o.row.out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.added_stocks}`),1),e(ve,{"onUpdate:modelValue":[a=>_(o.row,a),a=>o.row.added_stocks=a],modelValue:o.row.added_stocks,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(A,null,{default:t(()=>[l("div",co,[l("div",mo," Overall Total Sales: "+V(b(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}};const Ee=r=>(X("data-v-94be31e2"),r=r(),Z(),r),_o=Ee(()=>l("div",{class:"text-h6 text-white"},"Add Softdrinks",-1)),go={class:"text-subtitle1 text-weight-medium"},fo={class:"q-mb-lg"},vo={key:0,class:"custom-list z-top"},yo=Ee(()=>l("div",null,"Product Name",-1)),ho=Ee(()=>l("div",null,"Category",-1)),bo=Ee(()=>l("div",null,"Price",-1)),wo={class:"row justify-between q-mt-md q-gutter-md"},xo=Ee(()=>l("div",null,"Beginnings",-1)),ko=Ee(()=>l("div",null,"Added Stocks",-1)),Vo=Ee(()=>l("div",null,"Remaining",-1)),$o=Ee(()=>l("div",null,"Softdrinks Out",-1)),Co=Ee(()=>l("div",null,"Total Quantity",-1)),So=Ee(()=>l("div",null,"Softdrinks Sold",-1)),Ro=Ee(()=>l("div",null,"Sales",-1)),Po={align:"right"},Uo={__name:"AddingSoftdrinksReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const $=w.sales_report_id,S=ge(),x=it(),v=rt();B(()=>v.products);const R=Oe(),d=B(()=>R.branchProducts);console.log("branchProduct",d);const h=S.params.branch_id,p=w.user.id,m=N(""),f=N("Softdrinks"),g=async()=>{console.log("branch_id.value:",h),console.log("searchQuery.value:",m.value),console.log("category.value:",f.value),(m.value||f.value)&&await R.searchBranchProducts({query:m.value,branches_id:h,category:f.value})},P=N(!1),c=()=>{P.value=!0},_=s=>{const o=K=>K?K.charAt(0).toUpperCase()+K.slice(1).toLowerCase():"",a=s.firstname?o(s.firstname):"No Firstname",C=s.middlename?o(s.middlename).charAt(0)+".":"",j=s.lastname?o(s.lastname):"No Lastname";return`${a} ${C} ${j}`.trim()},k=s=>s?s.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",b=s=>{console.log("data",s),i.product_id=s.product.id,i.product_name=s.product.name,i.category=s.category,i.price=s.price,m.value=""},i=Ue({sales_report_id:$,branch_id:h,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:S.params.branch_id}),u=B(()=>{const s=parseInt(i.sold||0)*parseFloat(i.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)});oe(()=>[i.added_stocks,i.beginnings],([s,o])=>{i.total=parseInt(s||0)+parseInt(o||0)}),oe(()=>[i.total,i.remaining,i.out],([s,o,a])=>{i.sold=parseInt(s||0)-(parseInt(o||0)+parseInt(a||0))}),oe(()=>[i.sold,i.price],([s,o])=>{i.sales=parseInt(s||0)*parseFloat(o||0)});const n=async()=>{try{if(!i.product_name||!i.price||!i.product_id||!i.branch_id||!i.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const s={user_id:i.user_id,branch_id:i.branch_id,sales_report_id:i.sales_report_id,product_id:i.product_id,product_name:i.product_name,price:i.price,beginnings:i.beginnings,remaining:i.remaining,added_stocks:i.added_stocks,out:i.out,sold:i.sold,total:i.total,sales:i.sales};console.log("payload",s),await x.addSoftdrinksProduction(s)}catch{}};return(s,o)=>(y(),D(Q,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Softdrinks",onClick:c})]),e(le,{modelValue:P.value,"onUpdate:modelValue":o[11]||(o[11]=a=>P.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[U(V(r.user.name)+" ",1),e(A,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[_o,e(Re),ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>[l("div",go," Cashier: "+V(_(r.user.employee)),1)]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",fo,[e(q,{modelValue:m.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>m.value=a),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[m.value?(y(),D("div",vo,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var a;return[(a=d.value)!=null&&a.length?(y(!0),D(Q,{key:1},ee(d.value,C=>(y(),z(G,{onClick:j=>b(C),key:C.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(k(C.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[yo,e(q,{modelValue:i.product_name,"onUpdate:modelValue":o[1]||(o[1]=a=>i.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[ho,e(q,{modelValue:i.category,"onUpdate:modelValue":o[2]||(o[2]=a=>i.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[bo,e(q,{modelValue:i.price,"onUpdate:modelValue":o[3]||(o[3]=a=>i.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",wo,[l("div",null,[xo,e(q,{modelValue:i.beginnings,"onUpdate:modelValue":o[4]||(o[4]=a=>i.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ko,e(q,{modelValue:i.added_stocks,"onUpdate:modelValue":o[5]||(o[5]=a=>i.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Vo,e(q,{modelValue:i.remaining,"onUpdate:modelValue":o[6]||(o[6]=a=>i.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[$o,e(q,{modelValue:i.out,"onUpdate:modelValue":o[7]||(o[7]=a=>i.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Co,e(q,{modelValue:i.total,"onUpdate:modelValue":o[8]||(o[8]=a=>i.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[So,e(q,{modelValue:i.sold,"onUpdate:modelValue":o[9]||(o[9]=a=>i.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ro,e(q,{modelValue:u.value,"onUpdate:modelValue":o[10]||(o[10]=a=>u.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",Po,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var qo=W(Uo,[["__scopeId","data-v-94be31e2"]]);const No={class:"row justify-between text-white"},Do=l("div",{class:"text-h6"},"Softdrinks Report",-1),Ao={class:"row justify-end q-mt-md"},Io={class:"text-h6"},Fo={__name:"SoftdrinksReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=N(!1),R=N(!0),d=r,h=N(""),p=N({rowsPerPage:0});console.log("Reports data structure:",d.reports);const m=n=>n?n.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",f=async(n,s)=>{console.log("update data of the price",n),console.log("update val of the price",s);try{const o=await de.put("/api/update-softdrinks-sales-price-report/"+n.id,{price:parseInt(s)});console.log("Updated price response:",o.data)}catch(o){console.error(o)}},g=async(n,s)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",s);try{const o=await de.put("/api/update-softdrinks-sales-beginnings-report/"+n.id,{beginnings:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},P=async(n,s)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",s);try{const o=await de.put("/api/update-softdrinks-sales-remaining-report/"+n.id,{remaining:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,s)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",s);try{const o=await de.put("/api/update-softdrinks-sales-out-report/"+n.id,{out:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},_=async(n,s)=>{console.log("update data of the addedstocks",n),console.log("update val of the addedstocks",s);try{const o=await de.put("/api/update-softdrinks-sales-addedstocks-report/"+n.id,{added_stocks:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=[{name:"name",label:"Softdrinks Name",field:n=>(console.log("Row data:",n),n.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:n=>`${n}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:n=>`${n}`},{name:"total_softdrinks",label:"Total Stocks (PCS)",field:n=>Number(n.beginnings||0)+Number(n.added_stocks||0),format:n=>`${n}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:n=>{const s=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),C=Number(n.remaining||0),j=s+o,K=C+a;return j-K},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const s=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),C=Number(n.remaining||0),j=Number(n.price||0),K=s+o,ae=C+a;return(K-ae)*j},format:n=>`${b(n)}`}],b=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),i=B(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),u=B(()=>{const n=i.value.reduce((s,o)=>{const a=Number(o.beginnings||0),C=Number(o.added_stocks||0),j=Number(o.out||0),K=Number(o.remaining||0),ae=a+C,ue=K+j,xe=(ae-ue)*(o.price||0);return console.log(`Adding salesAmount: ${xe} to total: ${s}`),s+xe},0);return console.log("Overall Total:",n),n});return console.log("Filtered Rows:",i.value),(n,s)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),modelValue:v.value,"onUpdate:modelValue":s[2]||(s[2]=o=>v.value=o),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{style:{"background-color":"#9c27b0"}},{default:t(()=>[l("div",No,[Do,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=o=>h.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(qo,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:i.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":s[1]||(s[1]=o=>p.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${m(o.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${b(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>f(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>g(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>P(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.out}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.out=a],modelValue:o.row.out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.added_stocks}`),1),e(ve,{"onUpdate:modelValue":[a=>_(o.row,a),a=>o.row.added_stocks=a],modelValue:o.row.added_stocks,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(A,null,{default:t(()=>[l("div",Ao,[l("div",Io," Overall Total Sales: "+V(b(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"]))}},To={class:"row justify-between text-white"},Bo=l("div",{class:"text-h6"},"Cake Report",-1),zo={class:"row justify-end q-mt-md"},Lo={class:"text-h6"},jo={__name:"CakeReport",props:["reports"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=r;console.log("Report cake:",v.reports);const R=B(()=>(console.log("Filtered cake rows:",v.reports||[]),v.reports||[])),d=f=>{const g=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",P=f.firstname?g(f.firstname):"No Firstname",c=f.middlename?g(f.middlename).charAt(0)+".":"",_=f.lastname?g(f.lastname):"No Lastname";return`${P} ${c} ${_}`},h=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(f).replace("\u20B1","\u20B1 "),p=B(()=>{const f=R.value.reduce((g,P)=>{const c=parseFloat(P.cake_report.price)||0;return console.log(`Adding salesAmount: ${c} to total: ${g}`),g+c},0);return console.log("Overall Total Sales computed as:",f),f}),m=[{name:"name",label:"Cake Name",field:f=>(console.log("Row data:",f),f.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:f=>d(f.cake_report.user.employee)},{name:"price",label:"Price",field:f=>h(f.cake_report.price)},{name:"layers",label:"Layers",field:f=>f.cake_report.layers},{name:"sales_status",label:"Sale Status",field:f=>f.cake_report.sales_status}];return(f,g)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($)},{default:t(()=>[e(E,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(A,{style:{"background-color":"#009688"}},{default:t(()=>[l("div",To,[Bo,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:f.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:R.value,"row-key":"name","virtual-scroll":"",pagination:f.pagination,"onUpdate:pagination":g[0]||(g[0]=P=>f.pagination=P),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),l("div",zo,[l("div",Lo," Overall Total Sales: "+V(h(p.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Ke=r=>(X("data-v-fc9f2a70"),r=r(),Z(),r),Oo=Ke(()=>l("div",{class:"text-h6 text-white"},"Add Other Products",-1)),Ho={class:"text-subtitle1 text-weight-medium"},Mo={class:"q-mb-lg"},Qo={key:0,class:"custom-list z-top"},Eo=Ke(()=>l("div",null,"Product Name",-1)),Ko=Ke(()=>l("div",null,"Category",-1)),Yo=Ke(()=>l("div",null,"Price",-1)),Go={class:"row justify-between q-mt-md q-gutter-md"},Wo=Ke(()=>l("div",null,"Beginnings",-1)),Jo=Ke(()=>l("div",null,"Added Stocks",-1)),Xo=Ke(()=>l("div",null,"Remaining",-1)),Zo=Ke(()=>l("div",null,"Out",-1)),en=Ke(()=>l("div",null,"Total Quantity",-1)),tn=Ke(()=>l("div",null,"Sold",-1)),ln=Ke(()=>l("div",null,"Sales",-1)),an={align:"right"},on={__name:"AddingOtherReport",props:["sales_Reports","sales_report_id","user"],setup(r){const w=r;console.log("props.sales_Reports",w.sales_Reports),console.log("props.user",w.user);const $=w.sales_report_id,S=ge(),x=it(),v=rt();B(()=>v.products);const R=Oe(),d=B(()=>R.branchProducts);console.log("branchProduct",d);const h=S.params.branch_id,p=w.user.id,m=N(""),f=N("Others"),g=async()=>{console.log("branch_id.value:",h),console.log("searchQuery.value:",m.value),console.log("category.value:",f.value),(m.value||f.value)&&await R.searchBranchProducts({query:m.value,branches_id:h,category:f.value})},P=N(!1),c=()=>{P.value=!0},_=s=>{const o=K=>K?K.charAt(0).toUpperCase()+K.slice(1).toLowerCase():"",a=s.firstname?o(s.firstname):"No Firstname",C=s.middlename?o(s.middlename).charAt(0)+".":"",j=s.lastname?o(s.lastname):"No Lastname";return`${a} ${C} ${j}`.trim()},k=s=>s?s.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",b=s=>{console.log("data",s),i.product_id=s.product.id,i.product_name=s.product.name,i.category=s.category,i.price=s.price,m.value=""},i=Ue({sales_report_id:$,branch_id:h,user_id:p,name:"",product_id:"",product_name:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:S.params.branch_id}),u=B(()=>{const s=parseInt(i.sold||0)*parseFloat(i.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)});oe(()=>[i.added_stocks,i.beginnings],([s,o])=>{i.total=parseInt(s||0)+parseInt(o||0)}),oe(()=>[i.total,i.remaining,i.out],([s,o,a])=>{i.sold=parseInt(s||0)-(parseInt(o||0)+parseInt(a||0))}),oe(()=>[i.sold,i.price],([s,o])=>{i.sales=parseInt(s||0)*parseFloat(o||0)});const n=async()=>{try{if(!i.product_name||!i.price||!i.product_id||!i.branch_id||!i.sales_report_id){$q.notify({type:"negative",message:"Product name, price, product ID, branch ID, and sales report ID are required."});return}const s={user_id:i.user_id,branch_id:i.branch_id,sales_report_id:i.sales_report_id,product_id:i.product_id,product_name:i.product_name,price:i.price,beginnings:i.beginnings,remaining:i.remaining,added_stocks:i.added_stocks,out:i.out,sold:i.sold,total:i.total,sales:i.sales};console.log("payload",s),await x.addOtherProductProduction(s)}catch{}};return(s,o)=>(y(),D(Q,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Add Selecta",onClick:c})]),e(le,{modelValue:P.value,"onUpdate:modelValue":o[11]||(o[11]=a=>P.value=a),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[U(V(r.user.name)+" ",1),e(A,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Oo,e(Re),ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>[l("div",Ho," Cashier: "+V(_(r.user.employee)),1)]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Mo,[e(q,{modelValue:m.value,"onUpdate:modelValue":[o[0]||(o[0]=a=>m.value=a),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[m.value?(y(),D("div",Qo,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var a;return[(a=d.value)!=null&&a.length?(y(!0),D(Q,{key:1},ee(d.value,C=>(y(),z(G,{onClick:j=>b(C),key:C.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(k(C.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Eo,e(q,{modelValue:i.product_name,"onUpdate:modelValue":o[1]||(o[1]=a=>i.product_name=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Ko,e(q,{modelValue:i.category,"onUpdate:modelValue":o[2]||(o[2]=a=>i.category=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Yo,e(q,{modelValue:i.price,"onUpdate:modelValue":o[3]||(o[3]=a=>i.price=a),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Go,[l("div",null,[Wo,e(q,{modelValue:i.beginnings,"onUpdate:modelValue":o[4]||(o[4]=a=>i.beginnings=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Jo,e(q,{modelValue:i.added_stocks,"onUpdate:modelValue":o[5]||(o[5]=a=>i.added_stocks=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Xo,e(q,{modelValue:i.remaining,"onUpdate:modelValue":o[6]||(o[6]=a=>i.remaining=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Zo,e(q,{modelValue:i.out,"onUpdate:modelValue":o[7]||(o[7]=a=>i.out=a),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[en,e(q,{modelValue:i.total,"onUpdate:modelValue":o[8]||(o[8]=a=>i.total=a),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[tn,e(q,{modelValue:i.sold,"onUpdate:modelValue":o[9]||(o[9]=a=>i.sold=a),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ln,e(q,{modelValue:u.value,"onUpdate:modelValue":o[10]||(o[10]=a=>u.value=a),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",an,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:n})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var nn=W(on,[["__scopeId","data-v-fc9f2a70"]]);const sn={class:"row justify-between text-white"},rn=l("div",{class:"text-h6"},"Other Products Report",-1),dn={class:"row justify-end q-mt-md"},un={class:"text-h6"},cn={__name:"OtherProductsReport",props:["reports","sales_report_id","user"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=N(!1),R=N(!0),d=r,h=N(""),p=N({rowsPerPage:0}),m=B(()=>(console.log("Filtered rows:",d.reports||[]),d.reports||[])),f=n=>n?n.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",g=async(n,s)=>{console.log("update data of the price",n),console.log("update val of the price",s);try{const o=await de.put("/api/update-otherProducst-sales-price-report/"+n.id,{price:parseInt(s)});console.log("Updated price response:",o.data)}catch(o){console.error(o)}},P=async(n,s)=>{console.log("update data of the beginnings",n),console.log("update val of the beginnings",s);try{const o=await de.put("/api/update-otherProducst-sales-beginnings-report/"+n.id,{beginnings:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},c=async(n,s)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",s);try{const o=await de.put("/api/update-otherProducst-sales-remaining-report/"+n.id,{remaining:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},_=async(n,s)=>{console.log("update data of the updatedRemaining",n),console.log("update val of the updatedRemaining",s);try{const o=await de.put("/api/update-otherProducst-sales-out-report/"+n.id,{out:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},k=async(n,s)=>{console.log("update data of the updatedAddedStocks",n),console.log("update val of the updatedAddedStocks",s);try{const o=await de.put("/api/update-otherProducst-sales-addedstocks-report/"+n.id,{added_stocks:parseInt(s)});console.log("reponse",o.data)}catch(o){console.error(o)}},b=[{name:"name",label:"Product Name",field:n=>(console.log("Row data:",n),n.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Product Out (PCS)",field:"out",format:n=>`${n}`},{name:"added_stocks",label:"Added Stocks (PCS)",field:"added_stocks",format:n=>`${n}`},{name:"total_other_products",label:"Total Stocks (PCS)",field:n=>Number(n.beginnings||0)+Number(n.added_stocks||0),format:n=>`${n}`},{name:"sold",label:"Product Sold (PCS)",field:n=>{const s=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),C=Number(n.remaining||0),j=s+o,K=C+a;return j-K},format:n=>`${n}`},{name:"sales",label:"Total Sales",field:n=>{const s=Number(n.beginnings||0),o=Number(n.added_stocks||0),a=Number(n.out||0),C=Number(n.remaining||0),j=Number(n.price||0),K=s+o,ae=C+a;return(K-ae)*j},format:n=>`${i(n)}`}],i=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),u=B(()=>{const n=m.value.reduce((s,o)=>{const a=Number(o.beginnings||0),C=Number(o.added_stocks||0),j=Number(o.out||0),K=Number(o.remaining||0),ae=a+C,ue=K+j,xe=(ae-ue)*(o.price||0);return console.log(`Adding salesAmount: ${xe} to total: ${s}`),s+xe},0);return console.log("Overall Total Sales computed as:",n),n});return(n,s)=>(y(),D("div",null,[e(le,{ref_key:"dialogRef",ref:w,onHide:ce($),modelValue:v.value,"onUpdate:modelValue":s[2]||(s[2]=o=>v.value=o),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{style:{"background-color":"#607d8b"}},{default:t(()=>[l("div",sn,[rn,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=o=>h.value=o),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(nn,{sales_Reports:d.reports,sales_report_id:r.sales_report_id,user:d.user},null,8,["sales_Reports","sales_report_id","user"])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:b,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":s[1]||(s[1]=o=>p.value=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"500px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${f(o.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${i(o.row.price)}`),1),e(ve,{"onUpdate:modelValue":[a=>g(o.row,a),a=>o.row.price=a],modelValue:o.row.price,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.beginnings}`),1),e(ve,{"onUpdate:modelValue":[a=>P(o.row,a),a=>o.row.beginnings=a],modelValue:o.row.beginnings,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-remaining":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.remaining}`),1),e(ve,{"onUpdate:modelValue":[a=>c(o.row,a),a=>o.row.remaining=a],modelValue:o.row.remaining,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-out":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.out}`),1),e(ve,{"onUpdate:modelValue":[a=>_(o.row,a),a=>o.row.out=a],modelValue:o.row.out,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-added_stocks":t(o=>[e(J,{props:o},{default:t(()=>[l("span",null,V(`${o.row.added_stocks}`),1),e(ve,{"onUpdate:modelValue":[a=>k(o.row,a),a=>o.row.added_stocks=a],modelValue:o.row.added_stocks,"auto-save":""},{default:t(a=>[e(q,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:_e(a.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(A,null,{default:t(()=>[l("div",dn,[l("div",un," Overall Total Sales: "+V(i(u.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","modelValue","maximized"])]))}};const mn=r=>(X("data-v-59913400"),r=r(),Z(),r),pn=mn(()=>l("div",{class:"text-h6",align:"center"},"Products Report",-1)),_n={class:"item-start q-gutter-md",align:"center"},gn={__name:"ProductsReport",props:["sales_Reports"],setup(r){const w=r,$=w.sales_Reports;console.log("sales report2sss",$);const S=He(),x=(p,m,f)=>{S.dialog({component:Ha,componentProps:{reports:p,sales_report_id:m,user:f}})},v=(p,m,f)=>{S.dialog({component:po,componentProps:{reports:p,sales_report_id:m,user:f}})},R=(p,m,f)=>{S.dialog({component:Fo,componentProps:{reports:p,sales_report_id:m,user:f}})},d=(p,m,f)=>{S.dialog({component:jo,componentProps:{reports:p,sales_report_id:m,user:f}})},h=(p,m,f)=>{S.dialog({component:cn,componentProps:{reports:p,sales_report_id:m,user:f}})};return(p,m)=>(y(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(A,null,{default:t(()=>[pn]),_:1}),e(A,null,{default:t(()=>[l("div",_n,[e(F,{onClick:m[0]||(m[0]=f=>x(w.sales_Reports[0].bread_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(F,{onClick:m[1]||(m[1]=f=>v(w.sales_Reports[0].selecta_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(F,{onClick:m[2]||(m[2]=f=>R(w.sales_Reports[0].softdrinks_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(F,{onClick:m[3]||(m[3]=f=>d(w.sales_Reports[0].cake_sales_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(F,{onClick:m[4]||(m[4]=f=>h(w.sales_Reports[0].other_products_reports,w.sales_Reports[0].id,w.sales_Reports[0].user)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1})]),_:1})]))}};var fn=W(gn,[["__scopeId","data-v-59913400"]]);const vn={class:"row justify-between text-white"},yn=l("div",{class:"text-h6"},"Denomination Report",-1),hn={class:"row text-weight-regular text-subtitle1"},bn={class:"col-6"},wn={class:"col-6"},xn={class:"row justify-end q-mt-md"},kn={class:"text-h6"},Vn={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(r){const{dialogRef:w,onDialogHide:$}=Fe(),x=r.reports[0]||{},v=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(d),R=B(()=>{const d={oneThousandBills:1e3,fiveHundredBills:500,twoHundredBills:200,oneHundredBills:100,fiftyBills:50,twentyBills:20,twentyCoins:20,tenCoins:10,fiveCoins:5,oneCoins:1,twentyFiveCents:.25};return Object.keys(d).reduce((h,p)=>h+(x[p]||0)*d[p],0)});return(d,h)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($)},{default:t(()=>[e(E,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(A,{style:{"background-color":"#03a9f4"}},{default:t(()=>[l("div",vn,[yn,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,null,{default:t(()=>[l("div",hn,[l("div",bn,[l("div",null,"1000 Bills: "+V(ce(x).oneThousandBills),1),l("div",null,"500 Bills: "+V(ce(x).fiveHundredBills),1),l("div",null,"200 Bills: "+V(ce(x).twoHundredBills),1),l("div",null,"100 Bills: "+V(ce(x).oneHundredBills),1),l("div",null,"50 Bills: "+V(ce(x).fiftyBills),1),l("div",null,"20 Bills: "+V(ce(x).twentyBills),1)]),l("div",wn,[l("div",null,"20 coins: "+V(ce(x).twentyCoins),1),l("div",null,"10 coins: "+V(ce(x).tenCoins),1),l("div",null,"5 coins: "+V(ce(x).fiveCoins),1),l("div",null,"1 coins: "+V(ce(x).oneCoins),1),l("div",null,"25 cents: "+V(ce(x).twentyFiveCents),1)])])]),_:1}),e(A,null,{default:t(()=>[l("div",xn,[l("div",kn," Overall Total Denomination: "+V(v(R.value)),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const $n=r=>(X("data-v-43ad17ba"),r=r(),Z(),r),Cn=$n(()=>l("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),Sn={class:"q-gutter-x-md",align:"center"},Rn={__name:"DenominationReport",props:["sales_Reports"],setup(r){const w=r;w.sales_Reports,console.log("Denomination report",w);const $=He(),S=(x,v)=>{$.dialog({component:Vn,componentProps:{reports:x,total:v}})};return(x,v)=>(y(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(A,null,{default:t(()=>[Cn]),_:1}),e(A,null,{default:t(()=>[l("div",Sn,[e(F,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:v[0]||(v[0]=R=>S(w.sales_Reports[0].denomination_reports,w.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1})]),_:1})]))}};var Pn=W(Rn,[["__scopeId","data-v-43ad17ba"]]);const Un=bt("expenses",()=>{const r=N([]),w=N(null);return{expenses:r,expense:w,addingExpense:async S=>{try{const x=await de.post("/api/employee-adding-expense",S);console.log(x.data),ie.create({type:"positive",message:"Employee expenses successfully created",setTimeout:1e3})}catch(x){console.log(x),ie.create({type:"negative",message:"Error creating employee expenses",setTimeout:1e3})}}}});const qn=r=>(X("data-v-c489c504"),r=r(),Z(),r),Nn={class:"row justify-between"},Dn=qn(()=>l("div",{class:"text-h6"},"Expenses",-1)),An={class:"q-gutter-y-md"},In={class:"row q-gutter-x-md"},Fn={align:"right"},Tn={class:"",align:"right"},Bn={__name:"AddingExpenses",props:["reports","user","sales_report_id","user_id"],setup(r){const w=Un(),$=r;console.log("Expenses Data",$.reports),console.log("Expenses User",$.user),console.log("Expenses Sales Report ID",$.sales_report_id);const S=$.sales_report_id,x=$.reports[0].branch_id,v=$.user_id;console.log("user_id",v),console.log("branch_id",x);const R=pt(),d=B(()=>R.users),p=De().user;console.log("userdatasss",p);const m=N(!1),f=N([]),g=()=>{f.value.push({user_expense_id:c.user_expense_id,name:c.name,amount:c.amount,description:c.description}),console.log("expensesList",f.value),P()},P=()=>{c.user_expense_id="",c.name="",c.amount="",c.description=""};B(()=>searchQuery.value&&d.value.length>0);const c=Ue({user_expense_id:"",name:"",amount:0,description:""}),_=u=>{f.value.splice(u,1)},k=()=>{m.value=!0},b=()=>{c.expense_user_id="",c.name="",c.amount="",c.description=""},i=async()=>{const u={sales_report_id:S,branch_id:x,user_id:v,expenses:f.value.map(n=>({name:n.name,amount:n.amount,description:n.description}))};console.log("expenseReport",u),await w.addingExpense(u),ie.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),b()};return(u,n)=>(y(),D(Q,null,[l("div",null,[e(F,{class:"bg-gradient text-white",outlined:"",label:"Expenses Report",onClick:k})]),e(le,{modelValue:m.value,"onUpdate:modelValue":n[3]||(n[3]=s=>m.value=s),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(A,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Nn,[Dn,l("div",null,[ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])])])]),_:1}),e(A,null,{default:t(()=>[l("div",An,[l("div",In,[l("div",null,[e(q,{modelValue:c.name,"onUpdate:modelValue":n[0]||(n[0]=s=>c.name=s),outlined:"",dense:"",style:{width:"300px"},placeholder:"Name"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:c.amount,"onUpdate:modelValue":n[1]||(n[1]=s=>c.amount=s),"reverse-fill-mask":"",outlined:"",type:"number",dense:"",style:{width:"100px"},label:"Amount"},null,8,["modelValue"])])]),l("div",null,[e(q,{modelValue:c.description,"onUpdate:modelValue":n[2]||(n[2]=s=>c.description=s),placeholder:"Description",outlined:"",autogrow:"",style:{width:"415px"}},null,8,["modelValue"])]),l("div",Fn,[e(F,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:g})]),l("div",null,[e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Description")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Amount")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,{class:"text-overline"})]),_:1})]),_:1}),l("div",null,[(y(!0),D(Q,null,ee(f.value,(s,o)=>(y(),z(G,{key:o,class:"q-gutter-xs"},{default:t(()=>[e(I,{class:"q-ma-sm text-subtitle2"},{default:t(()=>[e(T,{caption:""},{default:t(()=>[U(V(s.name),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm"},{default:t(()=>[e(T,{caption:""},{default:t(()=>[U(V(s.description),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm"},{default:t(()=>[e(T,{caption:""},{default:t(()=>[U(V(s.amount),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(F,{onClick:a=>_(o),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),l("div",Tn,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:i})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var zn=W(Bn,[["__scopeId","data-v-c489c504"]]);const Ln={class:"row justify-between text-white"},jn=l("div",{class:"text-h6"},"Expenses Report",-1),On={class:"row justify-end q-mt-md"},Hn={class:"text-h6"},Mn={__name:"ExpensesDialog",props:{reports:Array,user:Object,sales_report_id:Number,user_id:Number},setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=N(!1),R=N(!0),d=N(""),h=N({rowsPerPage:0}),p=r,m=p.reports;console.log("Expenses total",p.total);const f=u=>u?u.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",g=async(u,n)=>{console.log("update data of the updateName",u),console.log("update val of the updateName",n);try{const s=await de.put("/api/update-expenses-sales-name-report/"+u.id,{name:n});console.log("Updated expenses amount response:",s.data)}catch(s){console.error(s)}},P=async(u,n)=>{console.log("update data of the description",u),console.log("update val of the description",n);try{const s=await de.put("/api/update-expenses-sales-description-report/"+u.id,{description:n});console.log("Updated expenses amount response:",s.data)}catch(s){console.error(s)}},c=async(u,n)=>{console.log("update data of the amount",u),console.log("update val of the amount",n);try{const s=await de.put("/api/update-expenses-sales-amount-report/"+u.id,{amount:parseFloat(n)});console.log("Updated expenses amount response:",s.data)}catch(s){console.error(s)}},_=[{name:"name",label:"Expenses Name",field:u=>(console.log("Row data:",u),u.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",p.reports);const k=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),b=B(()=>(console.log("Filtered rows:",p.reports||[]),p.reports||[])),i=B(()=>b.value.reduce((n,s)=>{const o=parseFloat(s.amount)||0;return n+o},0));return console.log("Expenses:",b.value),(u,n)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),onOk:u.handleButtonClick,onCancel:ce(x),modelValue:v.value,"onUpdate:modelValue":n[2]||(n[2]=s=>v.value=s),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{style:{"background-color":"#03a9f4"}},{default:t(()=>[l("div",Ln,[jn,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=s=>d.value=s),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(zn,{reports:ce(m),user:p.user,sales_report_id:p.sales_report_id,user_id:p.user_id},null,8,["reports","user","sales_report_id","user_id"])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:d.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:_,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":n[1]||(n[1]=s=>h.value=s),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(s=>[e(J,{props:s},{default:t(()=>[l("span",null,V(`${f(s.row.name)}`),1),e(ve,{"onUpdate:modelValue":[o=>g(s.row,o),o=>s.row.name=o],modelValue:s.row.name,"auto-save":""},{default:t(o=>[e(q,{class:"text-capitalize",modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",autofocus:"",counter:"",onKeyup:_e(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-description":t(s=>[e(J,{props:s},{default:t(()=>[l("span",null,V(`${f(s.row.description)}`),1),e(ve,{"onUpdate:modelValue":[o=>P(s.row,o),o=>s.row.description=o],modelValue:s.row.description,"auto-save":""},{default:t(o=>[e(q,{class:"text-capitalize",modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,dense:"",autofocus:"",counter:"",onKeyup:_e(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-amount":t(s=>[e(J,{props:s},{default:t(()=>[l("span",null,V(k(s.row.amount)),1),e(ve,{"onUpdate:modelValue":[o=>c(s.row,parseFloat(o)),o=>s.row.amount=o],modelValue:s.row.amount,"auto-save":""},{default:t(o=>[e(q,{modelValue:o.value,"onUpdate:modelValue":a=>o.value=a,modelModifiers:{number:!0},dense:"",type:"number",mask:"##0.00",autofocus:"",counter:"",onKeyup:_e(o.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(A,null,{default:t(()=>[l("div",On,[l("div",Hn," Overall Total Expenses: "+V(k(i.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel","modelValue","maximized"]))}};const Qn=r=>(X("data-v-601d27dc"),r=r(),Z(),r),En=Qn(()=>l("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Kn={class:"q-gutter-x-md",align:"center"},Yn={__name:"ExpensesReport",props:["sales_Reports"],setup(r){const w=r;console.log("Expenses Datassssss",w.sales_Reports);const $=He(),S=(x,v,R,d)=>{$.dialog({component:Mn,componentProps:{reports:x,user:v,sales_report_id:R,user_id:d}})};return(x,v)=>(y(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(A,null,{default:t(()=>[En]),_:1}),e(A,null,{default:t(()=>[l("div",Kn,[e(F,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:v[0]||(v[0]=R=>S(w.sales_Reports[0].expenses_reports,w.sales_Reports[0].user.employee,w.sales_Reports[0].id,w.sales_Reports[0].user_id))})])]),_:1})]),_:1})]))}};var Gn=W(Yn,[["__scopeId","data-v-601d27dc"]]);const Wn=bt("employee-credits",()=>{const r=N([]),w=N(null);return{credits:r,credit:w,addingCredits:async S=>{try{const x=await de.post("/api/employee-adding-credits",S);console.log(x.data),ie.create({type:"positive",message:"Employee credits successfully created",setTimeout:1e3})}catch(x){console.log(x),ie.create({type:"negative",message:"Error creating employee credits",setTimeout:1e3})}}}});const Nt=r=>(X("data-v-128fb2e3"),r=r(),Z(),r),Jn=Nt(()=>l("div",{class:"text-h6 text-white"},"Credits",-1)),Xn={class:"q-gutter-y-md"},Zn={key:0,class:"custom-list z-top"},es={class:"row q-gutter-sm"},ts={key:0,class:"custom-list z-top"},ls={align:"right"},as={class:"row justify-between"},os=Nt(()=>l("div",null,"Credits Total",-1)),ns={class:"q-mt-lg"},ss={__name:"AddingCredit",props:["reports","user"],setup(r){var O;const $=r.reports[0].id,S=pt();B(()=>S.users);const x=Wn(),v=Ct(),R=B(()=>v.employees),d=De(),h=B(()=>d.products);console.log("products search",h.value);const p=d.user;console.log("userdata",p);const m=((O=p==null?void 0:p.device)==null?void 0:O.branch_id)||"",f=N(!1),g=N(""),P=N(""),c=N(!1),_=N(!1);let k=!1,b=!1;const i=N(!1),u=N(!1),n=N(!1),s=async()=>{g.value&&(u.value=!0,console.log("searchQuery.value",g.value),await v.searchEmployee(g.value),u.value=!1,c.value=!0)},o=()=>{f.value=!0},a=Ue({credit_user_id:"",name:"",product_id:"",productName:"",price:0,pieces:"",creditTotal:0}),C=()=>{g.value="",P.value="",a.credit_user_id="",a.name="",a.product_id="",a.productName="",a.price="",a.pieces="",a.creditTotal="",fe.value=[]},j=()=>{P.value="",a.product_id="",a.productName="",a.price="",a.pieces=""},K=B(()=>g.value&&R.value.length>0),ae=M=>{console.log("credit",M),g.value=`${M.firstname} ${M.middlename?M.middlename.charAt(0)+".":""} ${M.lastname}`,a.credit_user_id=M.id,a.name=`${M.firstname} ${M.middlename?M.middlename.charAt(0)+".":""} ${M.lastname}`,k=!0,c.value=!1},ue=async()=>{if(P.value){n.value=!0;const M=await d.searchBranchProducts(P.value,m);console.log("response",M),n.value=!1,_.value=!0}},Pe=B(()=>P.value&&h.value.length>0);console.log("Product search datasss:",h.value);const xe=M=>{P.value=M.name,a.productName=M.name,a.product_id=M.id,a.price=M.price,b=!0,_.value=!1},re=N(""),fe=N([]),Xe=()=>{const M=parseFloat(a.price),L=parseInt(a.pieces);if(!isNaN(M)&&!isNaN(L)){const Y=M*L;re.value=Y.toFixed(2)}else re.value="";console.log("productCreditTotalAmount",re.value)},Be=()=>{const M=re.value;fe.value.push({credit_user_id:a.credit_user_id,product_id:a.product_id,name:a.name,productName:a.productName,price:a.price,pieces:a.pieces,totalAmount:M}),console.log("creditList",fe.value),j()},ze=M=>{fe.value.splice(M,1)};oe(g,M=>{M.length>2&&!k?s():c.value=!1,k=!1}),oe(P,M=>{M.length>2&&!b?ue():_.value=!1,b=!1}),oe(fe,M=>{const L=M.reduce((Y,me)=>Y+parseFloat(me.totalAmount),0);a.creditTotal=L.toFixed(2)},{deep:!0}),oe([()=>a.price,()=>a.pieces],Xe),oe(re,M=>{console.log("productCreditTotalAmoun",M)});const H=async()=>{const M={employee_credits_id:$,credits:fe.value.map(L=>{var Y;return{credit_user_id:L.credit_user_id,branch_id:((Y=p==null?void 0:p.employee)==null?void 0:Y.branch_id)||"",productName:L.productName,product_id:L.product_id,price:L.price,pieces:L.pieces,totalAmount:L.totalAmount}})};await x.addingCredits(M),console.log("employeeCreditReport:",M),f.value=!1,C()};return(M,L)=>(y(),D(Q,null,[l("div",null,[e(F,{class:"bg-gradient text-white",outlined:"",label:"Add Credits",onClick:o})]),e(le,{modelValue:f.value,"onUpdate:modelValue":L[4]||(L[4]=Y=>f.value=Y),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(A,{class:"row bg-gradient text-white"},{default:t(()=>[Jn,e(Re),ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>[l("div",Xn,[l("div",null,[l("div",null,[e(q,{modelValue:g.value,"onUpdate:modelValue":L[0]||(L[0]=Y=>g.value=Y),outlined:"",dense:"",rounded:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[u.value?(y(),z(Le,{key:1,color:"grey",size:"sm"})):(y(),z(te,{key:0,name:"search"}))]),default:t(()=>[K.value&&c.value?(y(),D("div",Zn,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>[i.value?(y(),z(G,{key:0},{default:t(()=>[e(I,null,{default:t(()=>[e(Le,{color:"primary"})]),_:1})]),_:1})):ke("",!0),!i.value&&!R.value.length?(y(),z(G,{key:1},{default:t(()=>[e(I,null,{default:t(()=>[U(" No data available in this branch. ")]),_:1})]),_:1})):(y(!0),D(Q,{key:2},ee(R.value,Y=>(y(),z(G,{onClick:me=>ae(Y),key:Y.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(`
                                  ${Y==null?void 0:Y.firstname} ${Y!=null&&Y.middlename?(Y==null?void 0:Y.middlename.charAt(0).toUpperCase())+".":""} ${Y==null?void 0:Y.lastname}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])])]),l("div",es,[l("div",null,[e(q,{modelValue:P.value,"onUpdate:modelValue":L[1]||(L[1]=Y=>P.value=Y),placeholder:"Search Product",outlined:"",flat:"",debounce:"500",dense:"",style:{width:"240px"}},{append:t(()=>[n.value?(y(),z(Le,{key:1,color:"grey",size:"sm"})):(y(),z(te,{key:0,name:"search"}))]),default:t(()=>[Pe.value&&_.value?(y(),D("div",ts,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>[(y(!0),D(Q,null,ee(h.value,Y=>(y(),z(G,{onClick:me=>xe(Y),key:Y.name,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(Y.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[e(q,{modelValue:a.price,"onUpdate:modelValue":L[2]||(L[2]=Y=>a.price=Y),"reverse-fill-mask":"",outlined:"",readonly:"",flat:"",dense:"",style:{width:"80px"},label:"Price"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:a.pieces,"onUpdate:modelValue":L[3]||(L[3]=Y=>a.pieces=Y),"reverse-fill-mask":"",outlined:"",type:"number",flat:"",dense:"",style:{width:"80px"},label:"Pcs"},null,8,["modelValue"])])]),l("div",ls,[e(F,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:Be})]),l("div",null,[e(Ze,{outlined:"",dense:"",readonly:""},{control:t(()=>[l("div",null,[(y(!0),D(Q,null,ee(fe.value,(Y,me)=>(y(),z(G,{key:me,class:"q-gutter-xs"},{default:t(()=>[e(I,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[U(V(Y.productName),1)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Pcs")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(Y.pieces),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Price")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(Y.price),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Total")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(Y.totalAmount),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(F,{onClick:be=>ze(me),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),l("div",as,[l("div",null,[os,e(Ze,{outlined:"",dense:"",readonly:"",style:{width:"120px"}},{control:t(()=>[U(V(a.creditTotal),1)]),_:1})]),l("div",ns,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:H})])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var rs=W(ss,[["__scopeId","data-v-128fb2e3"]]);const ds={class:"row justify-between text-white"},is=l("div",{class:"text-h6"},"Credits Report",-1),us={class:"row justify-end q-mt-md"},cs={class:"text-h6"},ms={__name:"CreditsReportDialog",props:{reports:Array,user:Object},setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe(),v=N(!1),R=N(!0),d=r,h=N(""),p=N({rowsPerPage:0}),m=d.reports;console.log("creditReports data testing",m);const f=m[0].id;console.log("employee_credits_id",f),d.user,console.log("user data testing",d.user),m.forEach((u,n)=>{console.log(`Report ${n}:`,u),console.log(`Credit Products for Report ${n}:`,u.credit_products.total_amount)});const g=B(()=>m.flatMap(u=>u.credit_products.map(n=>{const s=parseInt(n.pieces,10)||0,o=parseFloat(n.price)||0,a=s*o;return{...n,total_amount:a}})));console.log("All Credit Products:",g.value[0]);const P=u=>u?u.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",c=u=>{const n=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"",s=u.firstname?n(u.firstname):"No Firstname",o=u.middlename?n(u.middlename).charAt(0)+".":"",a=u.lastname?n(u.lastname):"No Lastname";return`${s} ${o} ${a}`.trim()},_=[{name:"name",label:"Employee Name",field:u=>c(u.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:u=>u.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",d.reports);const k=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),b=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),i=B(()=>g.value.reduce((n,s)=>{const o=parseFloat(s.total_amount)||0;return n+o},0));return(u,n)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),onOk:u.handleButtonClick,onCancel:ce(x),modelValue:v.value,"onUpdate:modelValue":n[2]||(n[2]=s=>v.value=s),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,null,{default:t(()=>[e(A,{style:{"background-color":"#03a9f4"}},{default:t(()=>[l("div",ds,[is,ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])]),_:1}),e(A,{class:"row justify-between"},{default:t(()=>[l("div",null,[e(q,{class:"q-pb-lg q-pl-sm dynamic-width",modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=s=>h.value=s),outlined:"",placeholder:"Search",debounce:"1000",flat:"",dense:"",rounded:"",style:{width:"500px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",null,[e(rs,{reports:ce(m),user:d.user},null,8,["reports","user"])])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:_,rows:g.value,"row-key":"name","virtual-scroll":"",pagination:p.value,"onUpdate:pagination":n[1]||(n[1]=s=>p.value=s),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(s=>[e(J,{props:s},{default:t(()=>[l("span",null,V(`${P(s.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(s=>[e(J,{props:s},{default:t(()=>[l("span",null,V(`${k(s.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(s=>[e(J,{props:s},{default:t(()=>[l("span",null,V(`${b(s.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(A,null,{default:t(()=>[l("div",us,[l("div",cs," Overall Total Expenses: "+V(k(i.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel","modelValue","maximized"]))}};const ps=r=>(X("data-v-0016d32e"),r=r(),Z(),r),_s=ps(()=>l("div",{class:"text-h6",align:"center"},"Credits Report",-1)),gs={class:"q-gutter-x-md",align:"center"},fs={__name:"CreditsReport",props:["sales_Reports"],setup(r){const w=r;console.log("sales_Reports to send in credits",w.sales_Reports);const $=He(),S=(x,v)=>{$.dialog({component:ms,componentProps:{reports:x,user:v}})};return(x,v)=>(y(),D("div",null,[e(E,{class:"user-card"},{default:t(()=>[e(A,null,{default:t(()=>[_s]),_:1}),e(A,null,{default:t(()=>[l("div",gs,[e(F,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:v[0]||(v[0]=R=>S(w.sales_Reports[0].credit_reports,w.sales_Reports[0].user.employee))})])]),_:1}),e(A)]),_:1})]))}};var vs=W(fs,[["__scopeId","data-v-0016d32e"]]);const ys=r=>(X("data-v-5cae61dd"),r=r(),Z(),r),hs={class:"q-mt-lg row items-start q-gutter-md justify-center"},bs={class:"row justify-between"},ws=ys(()=>l("div",{class:"text-h6"},"Sales Report",-1)),xs={align:"right"},ks={class:"text-subtitle1 text-weight-regular"},Vs={class:"row q-gutter-sm q-pa-md"},$s={class:"q-ma-sm"},Cs={class:"q-ma-sm",align:"center"},Ss=["src"],Rs={__name:"SalesReportPanel",props:["salesReport"],setup(r){ft.exports.vfs=$t;const w=r,$=w.salesReport;console.log("reportsData",w.salesReport);const S=N(!0),x=N(!1),v=N(""),R=g=>Se.formatDate(g,"MMMM DD, YYYY"),d=g=>{const P=new Date(g),c={hour:"2-digit",minute:"2-digit",hour12:!0};return P.toLocaleTimeString(void 0,c)},h=g=>{const P=b=>b?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase():"",c=g.firstname?P(g.firstname):"No Firstname",_=g.middlename?P(g.middlename).charAt(0)+".":"",k=g.lastname?P(g.lastname):"No Lastname";return`${c} ${_} ${k}`.trim()},p=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(g).replace("\u20B1","\u20B1	"),m=g=>{var Be,ze;const P=B(()=>g.credit_reports.flatMap(H=>H.credit_products));console.log("All Credit Products:",P.value);const c=[{title:"Bread Production",data:(g.bread_reports||[]).map(H=>{const O=Number(H.beginnings)||0,M=Number(H.new_production)||0,L=Number(H.remaining)||0,Y=Number(H.bread_out)||0,me=Number(H.price)||0,be=O+M,qe=L+Y,Ne=be-qe,we=Ne*me;return{...H,total:be,bread_sold:Ne,sales:we}}),columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:(g.selecta_reports||[]).map(H=>{const O=Number(H.beginnings||0),M=Number(H.added_stocks||0),L=Number(H.out||0),Y=Number(H.remaining||0),me=Number(H.price||0),be=O+M,qe=Y+L,Ne=be-qe,we=Ne*me;return{...H,total:be,sold:Ne,sales:we}}),columns:["selecta.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:(g.softdrinks_reports||[]).map(H=>{const O=Number(H.beginnings||0),M=Number(H.added_stocks||0),L=Number(H.out||0),Y=Number(H.remaining||0),me=Number(H.price||0),be=O+M,qe=Y+L,Ne=be-qe,we=Ne*me;return{...H,total:be,sold:Ne,sales:we}}),columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:(g.other_products_reports||[]).map(H=>{const O=Number(H.beginnings||0),M=Number(H.added_stocks||0),L=Number(H.out||0),Y=Number(H.remaining||0),me=Number(H.price||0),be=O+M,qe=Y+L,Ne=be-qe,we=Ne*me;return{...H,total:be,sold:Ne,sales:we}}),columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:g.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],_=g.expenses_reports||[],k=P.value||[],b=g.denomination_reports[0]||[],i=g.denomination_total;g.over_total;const u={bills:[{name:"One Thousand",pcs:b.oneThousandBills||0,value:(b.oneThousandBills||0)*1e3},{name:"Five Hundred",pcs:b.fiveHundredBills||0,value:(b.fiveHundredBills||0)*500},{name:"Two Hundred",pcs:b.twoHundredBills||0,value:(b.twoHundredBills||0)*200},{name:"One Hundred",pcs:b.oneHundredBills||0,value:(b.oneHundredBills||0)*100},{name:"Fifty",pcs:b.fiftyBills||0,value:(b.fiftyBills||0)*50},{name:"Twenty",pcs:b.twentyBills||0,value:(b.twentyBills||0)*20}],coins:[{name:"Twenty",pcs:b.twentyCoins||0,value:(b.twentyCoins||0)*20},{name:"Ten",pcs:b.tenCoins||0,value:(b.tenCoins||0)*10},{name:"Five",pcs:b.fiveCoins||0,value:(b.fiveCoins||0)*5},{name:"One",pcs:b.oneCoins||0,value:(b.oneCoins||0)*1},{name:"Twenty Five Cents",pcs:b.twentyFiveCents||0,value:(b.twentyFiveCents||0)*.25}]},n=(H,O,M)=>{const L=(me,be)=>be.split(".").reduce((qe,Ne)=>qe?qe[Ne]:0,me),Y=M.reduce((me,be)=>(me[be]=H.reduce((qe,Ne)=>qe+parseFloat(L(Ne,be))||0,0),me),{});return[...H.map(me=>O.map(be=>{if(be==="cake_report.user.employee"){const qe=L(me,"cake_report.user.employee");return{text:qe?h(qe):"No Employee",style:"body",alignment:"center"}}return{text:be.includes(".")?L(me,be)||"-":me[be]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:O.length-M.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(O.length-M.length-1).fill({}),...M.map(me=>({text:`\u20B1 ${Y[me].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]};let s=0;const o=k.length>0?k.map(H=>{const O=(H.price||0)*(H.pieces||0);return s+=O,[{text:H.credit_user_id?h(H.credit_user_id):"No Employee",style:"body",alignment:"center"},{text:H.product.name,style:"body",alignment:"center"},{text:H.pieces,style:"body",alignment:"center"},{text:p(H.price),style:"body",alignment:"center"},{text:p(O),style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:5,alignment:"center"}]];o.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:p(s),style:"bodyBold",alignment:"center",colSpan:2},{}]);let a=0;const C=_.length>0?_.map(H=>{const O=parseFloat(H.amount.replace(/[^0-9.-]+/g,""));return isNaN(O)||(a+=O),[{text:H.name,style:"body",alignment:"center"},{text:H.description,style:"body",alignment:"center"},{text:`${p(O)}`,style:"body",alignment:"center"}]}):[[{text:"No data available",colSpan:3,alignment:"center"}]];C.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${p(a)}`,style:"bodyBold",alignment:"center"}]);const j=u.bills.map((H,O)=>{var M,L;return[{text:H.name,style:"body",alignment:"center"},{text:H.pcs,style:"body",alignment:"center"},{text:((M=u.coins[O])==null?void 0:M.name)||"",style:"body",alignment:"center"},{text:((L=u.coins[O])==null?void 0:L.pcs)||"0",style:"body",alignment:"center"}]});j.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${p(i)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const K=c.map(({title:H,data:O,columns:M,totals:L})=>({stack:[{text:H,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(M.length).fill("*"),body:[M.map(Y=>({text:Y.split(".").pop().replace(/_/g," ").replace(/\b\w/g,me=>me.toUpperCase()),style:"tableHeader",alignment:"center"})),...n(O,M,L)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),ae=c.reduce((H,O)=>{const M=O.data.reduce((L,Y)=>L+(Y.sales||0),0);return H+M},0),ue=u.bills.reduce((H,O)=>H+O.value,0)+u.coins.reduce((H,O)=>H+O.value,0),Pe=a+s,xe=ae-Pe;let re=0,fe=0;ue>xe?re=ue-xe:ue<xe&&(fe=xe-ue);const Xe={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:p(ue),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:p(ae),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:p(a),style:"tableData",alignment:"center"}],[{text:"Total Credits",style:"tableHeader",alignment:"left"},{text:p(s),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:p(re),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${p(fe)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${((Be=g.branch)==null?void 0:Be.name)||"No Name"}
          Cashier: ${(ze=g.user)!=null&&ze.employee?h(g.user.employee):"No Name"}
          Date: ${R(g.created_at)}
Time: ${d(g.created_at)}
`,margin:[0,0,0,10]},{}]},...K,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...C]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...o]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...j]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},Xe]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},f=g=>{const P=m(g);ft.exports.createPdf(P).getDataUrl(c=>{v.value=c,x.value=!0})};return(g,P)=>(y(),D(Q,null,[e(E,{class:"my-card q-pa-md"},{default:t(()=>[e(A,null,{default:t(()=>[l("div",hs,[(y(!0),D(Q,null,ee(ce($),(c,_)=>(y(),D("div",{key:_},[e(E,{flat:"",dense:"",bordered:""},{default:t(()=>[e(A,null,{default:t(()=>[l("div",bs,[ws,l("div",xs,[e(F,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:k=>f(c)},null,8,["onClick"]),l("div",null,[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U(" Print Report ")]),_:1})])])]),l("div",ks,[l("div",null,"Name: "+V(h(c.user.employee)),1),l("div",null,"Date: "+V(R(c.created_at)),1),l("div",null,"Time: "+V(d(c.created_at)),1)])]),_:2},1024),l("div",Vs,[e(fn,{sales_Reports:[c]},null,8,["sales_Reports"]),e(Pn,{sales_Reports:[c]},null,8,["sales_Reports"]),e(Gn,{sales_Reports:[c]},null,8,["sales_Reports"]),e(vs,{sales_Reports:[c]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(le,{modelValue:x.value,"onUpdate:modelValue":P[0]||(P[0]=c=>x.value=c),maximized:S.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[l("div",$s,[l("div",Cs,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(he,null,{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])]),l("div",null,[l("iframe",{src:v.value,width:"100%",height:"700px"},null,8,Ss)])])]),_:1},8,["modelValue","maximized"])],64))}};var Ps=W(Rs,[["__scopeId","data-v-5cae61dd"]]);const Us={class:"text-h6"},qs={class:"row q-gutter-x-md"},Ns={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(r,{emit:w}){const{dialogRef:$,onDialogHide:S,onDialogOK:x,onDialogCancel:v}=Fe(),R=r;console.log("production report",R.reports);const d=R.reports.baker_reports,h=R.reports.sales_reports,p=R.reports.sales_reports_id;console.log("sales_report_id",p);const m=w,f=N("bakerReport"),g=N(!0),P=N(!1),c=k=>k?k.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join(" "):"",_=()=>{m("selectReport",R.reports),P.value=!0};return(k,b)=>(y(),z(le,{ref_key:"dialogRef",ref:$,modelValue:P.value,"onUpdate:modelValue":b[2]||(b[2]=i=>P.value=i),onHide:ce(S),onOk:_,onCancel:ce(v),maximized:g.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[l("div",Us,V(`${c(r.reports.branch_name)} ( ${r.reportLabel} Reports)`),1),e(Re),l("div",qs,[l("div",null,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])])]),_:1}),e(A,null,{default:t(()=>[l("div",null,[e(nt,{modelValue:f.value,"onUpdate:modelValue":b[0]||(b[0]=i=>f.value=i),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e($e,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e($e,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),l("div",null,[e(st,{modelValue:f.value,"onUpdate:modelValue":b[1]||(b[1]=i=>f.value=i),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(Ce,{name:"bakerReport"},{default:t(()=>[e(ha,{bakersReport:ce(d),sales_report_id:ce(p)},null,8,["bakersReport","sales_report_id"])]),_:1}),e(Ce,{name:"salesReport"},{default:t(()=>[e(Ps,{salesReport:ce(h)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var Ds=W(Ns,[["__scopeId","data-v-0a776a06"]]);const As={key:0,class:"custom-list z-top"},Is={__name:"ReportSearch",setup(r){var f,g;const w=ct(),$=N(""),S=ct(),x=ot(),v=B(()=>S.user);console.log("erw:",v.value);const R=B(()=>x.branchRecipe),d=((g=(f=v.value)==null?void 0:f.employee)==null?void 0:g.branch_id)||"";console.log("branch_id",d);const h=async()=>{x.searchBranchRecipe($.value,d),console.log("searchQuery.value",$.value),console.log("branch_id",d)},p=P=>{console.log("branch recipe",P),w.setRecipe(P),$.value=""},m=P=>P?P.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"";return console.log("recipessss",R.value),(P,c)=>(y(),z(q,{modelValue:$.value,"onUpdate:modelValue":[c[0]||(c[0]=_=>$.value=_),h],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Recipe",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[$.value?(y(),D("div",As,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var _;return[(_=R.value)!=null&&_.length?(y(!0),D(Q,{key:1},ee(R.value,k=>(y(),z(G,{onClick:b=>p(k),key:k.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(m(k==null?void 0:k.name)),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{side:""},{default:t(()=>[U(V(k==null?void 0:k.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"]))}};var Fs=W(Is,[["__scopeId","data-v-698d08f6"]]);const xt=r=>(X("data-v-6d81fac9"),r=r(),Z(),r),Ts={class:"row justify-center"},Bs={class:"text-h6 q-ma-sm"},zs={class:"row q-gutter-sm"},Ls={class:"row q-mt-sm q-gutter-sm"},js={class:"q-mb-md"},Os=xt(()=>l("div",{class:"q-mt-sm"},"Kilo",-1)),Hs={class:"q-mt-md q-gutter-md"},Ms={key:0},Qs=xt(()=>l("div",{class:"q-mt-sm"},null,-1)),Es=xt(()=>l("div",{class:"text-h6 q-mt-sm",align:"center"},"Ingredients List",-1)),Ks={class:"q-mt-lg"},Ys={class:"ingredient-quantity"},Gs={class:"ingredient-quantity"},Ws={__name:"RecipeInput",setup(r){const w=ct(),$=B(()=>w.user),S=N(!1),x=B(()=>w.recipes);console.log("erwe:",x.value);const R=ge().params.branch_id,d=B(()=>{var b,i,u,n;const _=(i=(b=x.value)==null?void 0:b.name)!=null?i:"Recipe Name",k=(n=(u=x.value)==null?void 0:u.category)!=null?n:"Category";return`${_} - ${k}`}),h=_=>_?_.split(" ").map(k=>k.charAt(0).toUpperCase()+k.slice(1).toLowerCase()).join(" "):"",p=Ue({user_id:null,branch_id:null,branch_recipe_id:null,recipe_name:"",recipe_category:"",kilo:0,short:0,over:0,target:0,actual_target:0,breads:[]}),m=()=>{var b;const _=parseFloat(p.kilo),k=parseFloat((b=x.value)==null?void 0:b.target);if(!isNaN(_)&&!isNaN(k)){const i=_*k;p.actual_target=Math.ceil(i)}else p.actual_target=0},f=()=>{const _=p.breads.reduce((b,i)=>b+(parseFloat(i.value)||0),0),k=p.actual_target;_===k?(p.short=0,p.over=0):_>k?(p.over=_-k,p.short=0):_<k&&(p.short=k-_,p.over=0)},g=()=>{var _,k;x.value="",d.value="",p.recipe_name="",p.kilo="",p.short=0,p.over=0,p.target=0,p.actual_target=0,p.breads=((k=(_=x.value)==null?void 0:_.bread_groups)==null?void 0:k.map(b=>({id:b.product_id,bread_name:b.bread_name,value:""})))||[]},P=()=>{console.log("Report datasss:",p),S.value=!0,setTimeout(async()=>{var _,k,b,i,u;try{p.user_id=((_=$.value)==null?void 0:_.data.id)||"",p.branch_id=R,p.branch_recipe_id=((k=x.value)==null?void 0:k.id)||"",p.recipe_name=((b=x.value)==null?void 0:b.name)||"",p.target=((i=x.value)==null?void 0:i.target)||"",p.recipe_category=((u=x.value)==null?void 0:u.category)||"";const n={user_id:p.user_id,branch_id:p.branch_id,branch_recipe_id:p.branch_recipe_id,recipe_name:p.recipe_name,recipe_category:p.recipe_category,status:"confirmed",kilo:p.kilo,short:p.short,over:p.over,target:p.target,actual_target:p.actual_target,breads:p.breads.map(s=>({bread_id:s.id,bread_name:s.bread_name,bread_production:parseInt(s.value,10)||0})),ingredients:c.value.map(s=>({ingredients_id:s.raw_materials_id,code:s.code,quantity:s.multipliedQuantity,unit:s.unit}))};console.log("reportssss dATA:",n),w.setReport(n),console.log("Report data set to store:",w.reports),ie.create({message:`${d.value} added to list`,type:"positive",position:"center",timeout:500}),g(),w.recipes={}}catch(n){console.error("Error generating report:",n)}finally{S.value=!1}},1e3)},c=B(()=>{var k;const _=parseFloat(p.kilo)||0;return(((k=x.value)==null?void 0:k.ingredients)||[]).map(b=>{const i=parseFloat(b.quantity)||0,u=_*i,n=u%1===0?u:parseFloat(u.toFixed(2));return{...b,multipliedQuantity:n}})});return oe(()=>p.kilo,()=>{m(),f()}),oe(()=>{var _;return(_=x.value)==null?void 0:_.ingredients},()=>{f()},{deep:!0}),oe(()=>p.breads.map(_=>_.value),f,{deep:!0}),oe(()=>{var _;return(_=x.value)==null?void 0:_.bread_groups},()=>{var _;p.breads=Array.isArray((_=x.value)==null?void 0:_.bread_groups)?x.value.bread_groups.map(k=>({id:k.product_id,bread_name:k.bread_name,value:""})):[],f()}),(_,k)=>{var b;return y(),D("div",Ts,[l("div",null,[l("div",null,[l("div",Bs,V(h(d.value)),1)]),l("div",zs,[l("div",null,[U(" Target Pcs "),l("div",null,[e(Ze,{readonly:"",outlined:"",type:"number",dense:"",label:((b=x.value)==null?void 0:b.target)||0,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])]),l("div",null,[U(" Actual Target "),l("div",null,[e(Ze,{readonly:"",outlined:"",dense:"",label:p.actual_target,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])])]),l("div",Ls,[l("div",null,[U(" Short "),l("div",null,[e(Ze,{readonly:"",outlined:"",type:"number",dense:"",label:p.short,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])]),l("div",null,[U(" Over "),l("div",null,[e(Ze,{readonly:"",outlined:"",dense:"",label:p.over,style:{width:"100px","max-width":"300px","min-width":"50px"}},null,8,["label"])])])]),l("div",js,[Os,l("div",null,[e(q,{outlined:"",dense:"",modelValue:p.kilo,"onUpdate:modelValue":k[0]||(k[0]=i=>p.kilo=i),type:"number",placeholder:"kgs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue"])])]),l("div",Hs,[p.breads.length?(y(),D("div",Ms,[(y(!0),D(Q,null,ee(p.breads,(i,u)=>(y(),D("div",{key:i.id,class:"q-my-md"},[l("div",null,[l("div",null,V(i.bread_name),1),l("div",null,[e(q,{outlined:"",modelValue:p.breads[u].value,"onUpdate:modelValue":n=>p.breads[u].value=n,dense:"",type:"number",placeholder:"Pcs",style:{width:"210px","max-width":"300px","min-width":"50px"}},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))])):ke("",!0)]),Qs,e(F,{outline:"",dense:"",size:"md",icon:"add",label:"Report",class:"text-purple",loading:S.value,onClick:P},{isLoading:t(()=>[e(Le,{size:"20px"})]),_:1},8,["loading"])]),l("div",null,[Es,l("div",Ks,[e(Ze,{readonly:"",outlined:"",style:{width:"400px","max-width":"450px","min-width":"100px"}},{control:t(()=>[e(pe,{dense:"",separator:""},{default:t(()=>[(y(!0),D(Q,null,ee(c.value,(i,u)=>(y(),z(G,{key:u,class:"q-pa-xs justify-between"},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"ingredient-name"},{default:t(()=>[U(V(i.code),1)]),_:2},1024)]),_:2},1024),e(I,{side:"",class:"text-right"},{default:t(()=>[l("div",Ys,V(i.multipliedQuantity),1)]),_:2},1024),e(I,{side:"",class:"text-right"},{default:t(()=>[l("div",Gs,V(i.unit),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])])])}}};var Js=W(Ws,[["__scopeId","data-v-6d81fac9"]]);const _t=r=>(X("data-v-03b82b5f"),r=r(),Z(),r),Xs=_t(()=>l("div",{class:"text-h6",align:"center"},"Report List",-1)),Zs={class:"q-pa-md row wrap justify-center"},er={class:"row justify-between q-gutter-x-md"},tr={class:"row items-center"},lr={class:"text-subtitle1 q-ml-sm"},ar={class:"content-section"},or={class:"q-mt-xs row justify-between"},nr=_t(()=>l("div",null,"Kilo",-1)),sr={class:"q-mt-xs row justify-between"},rr=_t(()=>l("div",null,"Short",-1)),dr={class:"q-mt-xs row justify-between"},ir=_t(()=>l("div",null,"Over",-1)),ur={class:"q-mt-xs row justify-between"},cr=_t(()=>l("div",null,"Actual Target",-1)),mr={class:"q-pl-md"},pr={class:"row justify-between"},_r={class:"q-pl-md"},gr={class:"row justify-between"},fr={__name:"ReportList",setup(r){const w=ct(),$=B(()=>w.reports);console.log("bakers report:",$.value);const S=v=>{w.removeReport(v)},x=v=>v?v.split(" ").map(R=>R.charAt(0).toUpperCase()+R.slice(1).toLowerCase()).join(" "):"";return(v,R)=>(y(),D(Q,null,[Xs,l("div",Zs,[e(Et,{items:$.value,"scroll-target":"body","virtual-scroll-horizontal":"",class:"my-virtual-scroll"},{default:t(({item:d,index:h})=>[(y(),z(E,{flat:"",bordered:"",class:"q-gutter-sm my-card",key:h},{default:t(()=>[e(A,null,{default:t(()=>[l("div",er,[l("div",tr,[e(te,{name:"assignment",color:"primary"}),l("div",lr,V(x(d.recipe_name))+" - "+V(d.recipe_category),1)]),l("div",null,[e(F,{flat:"",round:"",icon:"close",onClick:p=>S(h),class:"text-negative close-btn"},null,8,["onClick"])])])]),_:2},1024),e(mt),e(A,null,{default:t(()=>[l("div",ar,[l("div",or,[nr,l("div",null,V(d.kilo)+" kgs",1)]),l("div",sr,[rr,l("div",null,V(d.short)+" pcs",1)]),l("div",dr,[ir,l("div",null,V(d.over)+" pcs",1)]),l("div",ur,[cr,l("div",null,V(d.actual_target)+" pcs",1)]),(y(),z(Vt,{key:"breads-"+h,label:"Breads",dense:"",class:""},{default:t(()=>[l("ul",mr,[(y(!0),D(Q,null,ee(d.breads,(p,m)=>(y(),D("li",{key:"bread-"+m,class:"q-my-sm"},[l("div",pr,[l("div",null,V(p.bread_name),1),l("div",null,V(p.bread_production),1)])]))),128))])]),_:2},1024)),(y(),z(Vt,{key:"ingredients-"+h,label:"Ingredients",dense:"",class:""},{default:t(()=>[l("ul",_r,[(y(!0),D(Q,null,ee(d.ingredients,(p,m)=>(y(),D("li",{key:"ingredient-"+m,class:"q-my-sm"},[l("div",gr,[l("div",null,V(p.code),1),l("div",null,V(p.quantity)+" "+V(p.unit),1)])]))),128))])]),_:2},1024))])]),_:2},1024)]),_:2},1024))]),_:1},8,["items"])])],64))}};var vr=W(fr,[["__scopeId","data-v-03b82b5f"]]);const yr=l("div",{class:"text-h6"},"Baker Report",-1),hr={class:"row q-gutter-x-md"},br={key:0,class:"custom-list z-top"},wr={align:"right"},xr={__name:"AddBakerReport",setup(r){const w=pt(),$=B(()=>w.users);console.log("userdatasssss  ",$.value);const S=ct(),x=N(!1),v=N(!0),R=N(!1);N("");let d=!1;const h=N(!1),p=N(""),m=N(),f=N(!1),g=N(!1),P=N(""),c=()=>x.value=!0,_=async()=>{p.value&&(R.value=!0,console.log("searchQuery.value",p.value),await w.searchUser(p.value),R.value=!1,h.value=!0)},k=B(()=>p.value&&$.value.length>0),b=s=>{if(!s)return"";const{firstname:o,middlename:a,lastname:C}=s,j=o.split(" ").map(ue=>ue.charAt(0).toUpperCase()+ue.slice(1)).join(" "),K=a?`${a.charAt(0).toUpperCase()}.`:"",ae=C.charAt(0).toUpperCase();return`${j} ${K} ${ae}${C.slice(1)}`},i=s=>{console.log("Baker Reports",s),p.value=`${s.firstname} ${s.middlename?s.middlename.charAt(0)+".":""} ${s.lastname}`,m.value=s.id,d=!0,h.value=!1};oe(p,s=>{s.length>2&&!d?_():h.value=!1,d=!1});const u=()=>{if(!P.value||!g.value)return null;const s=`${P.value} ${g.value}`;return new Date(s).toISOString().slice(0,19).replace("T"," ")},n=async()=>{const s=u();if(!s){console.error("Invalid date or time selected");return}try{f.value=!0;const o=S.reports.map(a=>({...a,created_at:s,user_id:m.value}));console.log("reportsWithTimestamp",o),await S.adminBakerCreateReports(o)}catch(o){console.log(o)}finally{f.value=!1}};return(s,o)=>(y(),D(Q,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Baker Report",color:"purple",onClick:c})]),e(le,{modelValue:x.value,"onUpdate:modelValue":o[4]||(o[4]=a=>x.value=a),maximized:v.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#9c27b0"}},{default:t(()=>[yr,e(Re),l("div",hr,[l("div",null,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])])]),_:1}),e(A,{class:"row q-gutter-lg"},{default:t(()=>[l("div",null,[e(q,{modelValue:p.value,"onUpdate:modelValue":o[0]||(o[0]=a=>p.value=a),outlined:"",dense:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[R.value?(y(),z(Le,{key:1,color:"grey",size:"sm"})):(y(),z(te,{key:0,name:"search"}))]),default:t(()=>[k.value&&h.value?(y(),D("div",br,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>[f.value?(y(),z(G,{key:0},{default:t(()=>[e(I,null,{default:t(()=>[e(Le,{color:"primary"})]),_:1})]),_:1})):ke("",!0),!f.value&&!$.value.length?(y(),z(G,{key:1},{default:t(()=>[e(I,null,{default:t(()=>[U(" No data available in this branch. ")]),_:1})]),_:1})):(y(!0),D(Q,{key:2},ee($.value,a=>(y(),z(G,{onClick:C=>i(a),key:a.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(b(a)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),e(q,{modelValue:P.value,"onUpdate:modelValue":o[1]||(o[1]=a=>P.value=a),type:"date",outlined:"",dense:""},null,8,["modelValue"]),e(gt,{"keep-color":"",modelValue:g.value,"onUpdate:modelValue":o[2]||(o[2]=a=>g.value=a),val:"03:00 PM",label:"AM",color:"cyan"},null,8,["modelValue"]),e(gt,{"keep-color":"",modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=a=>g.value=a),val:"03:00 AM",label:"PM",color:"deep-orange"},null,8,["modelValue"])]),_:1}),e(A,null,{default:t(()=>[e(Fs)]),_:1}),e(A,null,{default:t(()=>[e(Js)]),_:1}),e(A,null,{default:t(()=>[e(vr)]),_:1}),e(A,null,{default:t(()=>[l("div",wr,[e(F,{color:"red-6",icon:"edit",label:"Create",onClick:n,loading:f.value},null,8,["loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])],64))}};const Ye=r=>(X("data-v-27064cab"),r=r(),Z(),r),kr=Ye(()=>l("div",{class:"text-h6 text-white"},"Bread",-1)),Vr={class:"q-mb-lg"},$r={key:0,class:"custom-list z-top"},Cr=Ye(()=>l("div",null,"Product Name",-1)),Sr={class:"row justify-between q-mt-md q-gutter-md"},Rr=Ye(()=>l("div",null,"Category",-1)),Pr=Ye(()=>l("div",null,"Price",-1)),Ur={class:"row justify-between q-mt-md q-gutter-md"},qr=Ye(()=>l("div",null,"Beginnings",-1)),Nr=Ye(()=>l("div",null,"New Production",-1)),Dr=Ye(()=>l("div",null,"Remaining",-1)),Ar=Ye(()=>l("div",null,"Bread Out",-1)),Ir=Ye(()=>l("div",null,"Total Quantity",-1)),Fr=Ye(()=>l("div",null,"Bread Sold",-1)),Tr=Ye(()=>l("div",null,"Sales",-1)),Br={align:"right"},zr={__name:"BreadReport",props:["userData"],setup(r){const w=De(),$=ge(),S=Oe(),x=B(()=>S.branchProducts),v=N(!1),R=$.params.branch_id,d=N(""),h=N(!1),p=r,m=()=>{v.value=!0},f=N("Bread"),g=async()=>{console.log("branch_id.value:",R),console.log("searchQuery.value:",d.value),console.log("category.value:",f.value),(d.value||f.value)&&await S.searchBranchProducts({query:d.value,branches_id:R,category:f.value})},P=u=>u?u.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",c=u=>{console.log("data",u),_.product_id=u.product.id,_.product_name=u.product.name,_.category=u.category,_.price=u.price,d.value=""},_=Ue({branch_id:R,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,new_production:0,bread_out:0,bread_sold:0,total:0,sales:0,branches_id:$.params.branch_id}),k=()=>{_.name="",_.product_id="",_.product_name="",_.category="",_.price="",_.beginnings="",_.remaining="",_.new_production="",_.bread_out="",_.bread_sold="",_.total="",_.sales=""},b=B(()=>{const u=parseInt(_.bread_sold||0)*parseFloat(_.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(u)});oe(()=>[_.new_production,_.beginnings],([u,n])=>{_.total=parseInt(u||0)+parseInt(n||0)}),oe(()=>[_.total,_.remaining,_.bread_out],([u,n,s])=>{_.bread_sold=parseInt(u||0)-(parseInt(n||0)+parseInt(s||0))}),oe(()=>[_.bread_sold,_.price],([u,n])=>{_.sales=parseInt(u||0)*parseFloat(n||0)});const i=async()=>{try{h.value=!0;const u={user_id:p.userData,branch_id:_.branch_id,product_id:_.product_id,name:_.product_name,total:_.total,bread_sold:_.bread_sold,bread_out:_.bread_out,beginnings:_.beginnings,remaining:_.remaining,price:_.price,sales:_.sales,new_production:_.new_production,branch_new_production:0};console.log("payload",u),w.updateBreadReport(u),ie.create({message:"Product added successfully",color:"positive",position:"top"}),k()}catch(u){console.log(u)}finally{h.value=!1}};return(u,n)=>(y(),D(Q,null,[e(F,{"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button",onClick:m}),e(le,{modelValue:v.value,"onUpdate:modelValue":n[11]||(n[11]=s=>v.value=s),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row items-center bg-backgroud"},{default:t(()=>[kr,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>[l("div",Vr,[e(q,{modelValue:d.value,"onUpdate:modelValue":[n[0]||(n[0]=s=>d.value=s),g],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(y(),D("div",$r,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var s;return[(s=x.value)!=null&&s.length?(y(!0),D(Q,{key:1},ee(x.value,o=>(y(),z(G,{onClick:a=>c(o),key:o.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(P(o.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])])]),_:1}),e(A,null,{default:t(()=>[l("div",null,[Cr,e(q,{modelValue:_.product_name,"onUpdate:modelValue":n[1]||(n[1]=s=>_.product_name=s),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Sr,[l("div",null,[Rr,e(q,{modelValue:_.category,"onUpdate:modelValue":n[2]||(n[2]=s=>_.category=s),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])]),l("div",null,[Pr,e(q,{modelValue:_.price,"onUpdate:modelValue":n[3]||(n[3]=s=>_.price=s),readonly:"",dense:"",outlined:"",style:{width:"250px"}},null,8,["modelValue"])])]),l("div",Ur,[l("div",null,[qr,e(q,{modelValue:_.beginnings,"onUpdate:modelValue":n[4]||(n[4]=s=>_.beginnings=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Nr,e(q,{modelValue:_.new_production,"onUpdate:modelValue":n[5]||(n[5]=s=>_.new_production=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Dr,e(q,{modelValue:_.remaining,"onUpdate:modelValue":n[6]||(n[6]=s=>_.remaining=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ar,e(q,{modelValue:_.bread_out,"onUpdate:modelValue":n[7]||(n[7]=s=>_.bread_out=s),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ir,e(q,{modelValue:_.total,"onUpdate:modelValue":n[8]||(n[8]=s=>_.total=s),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Fr,e(q,{modelValue:_.bread_sold,"onUpdate:modelValue":n[9]||(n[9]=s=>_.bread_sold=s),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Tr,e(q,{modelValue:b.value,"onUpdate:modelValue":n[10]||(n[10]=s=>b.value=s),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",Br,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:i,loading:h.value},null,8,["loading"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Lr=W(zr,[["__scopeId","data-v-27064cab"]]);const jr={};function Or(r,w){return y(),z(F,{"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"})}var Hr=W(jr,[["render",Or]]);const Ge=r=>(X("data-v-56107cd8"),r=r(),Z(),r),Mr=Ge(()=>l("div",{class:"text-h6 text-white"},"Add Other Products",-1)),Qr={class:"q-mb-lg"},Er={key:0,class:"custom-list z-top"},Kr=Ge(()=>l("div",null,"Product Name",-1)),Yr=Ge(()=>l("div",null,"Category",-1)),Gr=Ge(()=>l("div",null,"Price",-1)),Wr={class:"row justify-between q-mt-md q-gutter-md"},Jr=Ge(()=>l("div",null,"Beginnings",-1)),Xr=Ge(()=>l("div",null,"Added Stocks",-1)),Zr=Ge(()=>l("div",null,"Remaining",-1)),ed=Ge(()=>l("div",null,"Out",-1)),td=Ge(()=>l("div",null,"Total Quantity",-1)),ld=Ge(()=>l("div",null,"Sold",-1)),ad=Ge(()=>l("div",null,"Sales",-1)),od={align:"right"},nd={__name:"OtherProductsReport",props:["userData"],setup(r){const w=De(),$=ge(),S=Oe(),x=B(()=>S.branchProducts),v=N(!1),R=$.params.branch_id,d=N(""),h=r,p=()=>{v.value=!0},m=N("Others"),f=async()=>{console.log("branch_id.value:",R),console.log("searchQuery.value:",d.value),console.log("category.value:",m.value),(d.value||m.value)&&await S.searchBranchProducts({query:d.value,branches_id:R,category:m.value})},g=i=>i?i.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",P=i=>{console.log("data",i),c.product_id=i.product.id,c.product_name=i.product.name,c.category=i.category,c.price=i.price,d.value=""},c=Ue({branch_id:R,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:$.params.branch_id}),_=()=>{c.name="",c.product_id="",c.product_name="",c.category="",c.price="",c.beginnings="",c.remaining="",c.added_stocks="",c.out="",c.sold="",c.total="",c.sales=""},k=B(()=>{const i=parseInt(c.sold||0)*parseFloat(c.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)});oe(()=>[c.added_stocks,c.beginnings],([i,u])=>{c.total=parseInt(i||0)+parseInt(u||0)}),oe(()=>[c.total,c.remaining,c.out],([i,u,n])=>{c.sold=parseInt(i||0)-(parseInt(u||0)+parseInt(n||0))}),oe(()=>[c.sold,c.price],([i,u])=>{c.sales=parseInt(i||0)*parseFloat(u||0)});const b=async()=>{const i={user_id:h.userData,branch_id:c.branch_id,product_id:c.product_id,name:c.product_name,total:c.total,price:c.price,beginnings:c.beginnings,remaining:c.remaining,added_stocks:c.added_stocks,out:c.out,sold:c.sold,sales:c.sales,new_production:c.added_stocks};console.log("payload",i),w.updateOtherProductsReport(i),ie.create({message:"Product added successfully",color:"positive",position:"top"}),_()};return(i,u)=>(y(),D(Q,null,[e(F,{"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button",onClick:p}),e(le,{modelValue:v.value,"onUpdate:modelValue":u[11]||(u[11]=n=>v.value=n),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Mr,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",Qr,[e(q,{modelValue:d.value,"onUpdate:modelValue":[u[0]||(u[0]=n=>d.value=n),f],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(y(),D("div",Er,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var n;return[(n=x.value)!=null&&n.length?(y(!0),D(Q,{key:1},ee(x.value,s=>(y(),z(G,{onClick:o=>P(s),key:s.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(g(s.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Kr,e(q,{modelValue:c.product_name,"onUpdate:modelValue":u[1]||(u[1]=n=>c.product_name=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Yr,e(q,{modelValue:c.category,"onUpdate:modelValue":u[2]||(u[2]=n=>c.category=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Gr,e(q,{modelValue:c.price,"onUpdate:modelValue":u[3]||(u[3]=n=>c.price=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Wr,[l("div",null,[Jr,e(q,{modelValue:c.beginnings,"onUpdate:modelValue":u[4]||(u[4]=n=>c.beginnings=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Xr,e(q,{modelValue:c.added_stocks,"onUpdate:modelValue":u[5]||(u[5]=n=>c.added_stocks=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Zr,e(q,{modelValue:c.remaining,"onUpdate:modelValue":u[6]||(u[6]=n=>c.remaining=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ed,e(q,{modelValue:c.out,"onUpdate:modelValue":u[7]||(u[7]=n=>c.out=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[td,e(q,{modelValue:c.total,"onUpdate:modelValue":u[8]||(u[8]=n=>c.total=n),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ld,e(q,{modelValue:c.sold,"onUpdate:modelValue":u[9]||(u[9]=n=>c.sold=n),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[ad,e(q,{modelValue:k.value,"onUpdate:modelValue":u[10]||(u[10]=n=>k.value=n),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",od,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:b})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var sd=W(nd,[["__scopeId","data-v-56107cd8"]]);const We=r=>(X("data-v-5377385c"),r=r(),Z(),r),rd=We(()=>l("div",{class:"text-h6 text-white"},"Add Selecta",-1)),dd={class:"q-mb-lg"},id={key:0,class:"custom-list z-top"},ud=We(()=>l("div",null,"Product Name",-1)),cd=We(()=>l("div",null,"Category",-1)),md=We(()=>l("div",null,"Price",-1)),pd={class:"row justify-between q-mt-md q-gutter-md"},_d=We(()=>l("div",null,"Beginnings",-1)),gd=We(()=>l("div",null,"Added Stocks",-1)),fd=We(()=>l("div",null,"Remaining",-1)),vd=We(()=>l("div",null,"Selecta Out",-1)),yd=We(()=>l("div",null,"Total Quantity",-1)),hd=We(()=>l("div",null,"Selecta Sold",-1)),bd=We(()=>l("div",null,"Sales",-1)),wd={align:"right"},xd={__name:"SelectaReport",props:["userData"],setup(r){const w=De(),$=ge(),S=Oe(),x=B(()=>S.branchProducts),v=N(!1),R=$.params.branch_id,d=N(""),h=r,p=()=>{v.value=!0},m=N("Selecta"),f=async()=>{console.log("branch_id.value:",R),console.log("searchQuery.value:",d.value),console.log("category.value:",m.value),(d.value||m.value)&&await S.searchBranchProducts({query:d.value,branches_id:R,category:m.value})},g=i=>i?i.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",P=i=>{console.log("data",i),c.product_id=i.product.id,c.product_name=i.product.name,c.category=i.category,c.price=i.price,d.value=""},c=Ue({branch_id:R,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:$.params.branch_id}),_=()=>{c.name="",c.product_id="",c.product_name="",c.category="",c.price="",c.beginnings="",c.remaining="",c.added_stocks="",c.out="",c.sold="",c.total="",c.sales=""},k=B(()=>{const i=parseInt(c.sold||0)*parseFloat(c.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)});oe(()=>[c.added_stocks,c.beginnings],([i,u])=>{c.total=parseInt(i||0)+parseInt(u||0)}),oe(()=>[c.total,c.remaining,c.out],([i,u,n])=>{c.sold=parseInt(i||0)-(parseInt(u||0)+parseInt(n||0))}),oe(()=>[c.sold,c.price],([i,u])=>{c.sales=parseInt(i||0)*parseFloat(u||0)});const b=async()=>{const i={user_id:h.userData,branch_id:c.branch_id,product_id:c.product_id,name:c.product_name,total:c.total,price:c.price,beginnings:c.beginnings,remaining:c.remaining,added_stocks:c.added_stocks,out:c.out,sold:c.sold,sales:c.sales,new_production:c.added_stocks};console.log("Selecta",i),w.updateSelectaReport(i),ie.create({message:"Product added successfully",color:"positive",position:"top"}),_()};return(i,u)=>(y(),D(Q,null,[e(F,{"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button",onClick:p}),e(le,{modelValue:v.value,"onUpdate:modelValue":u[11]||(u[11]=n=>v.value=n),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[rd,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",dd,[e(q,{modelValue:d.value,"onUpdate:modelValue":[u[0]||(u[0]=n=>d.value=n),f],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(y(),D("div",id,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var n;return[(n=x.value)!=null&&n.length?(y(!0),D(Q,{key:1},ee(x.value,s=>(y(),z(G,{onClick:o=>P(s),key:s.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(g(s.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[ud,e(q,{modelValue:c.product_name,"onUpdate:modelValue":u[1]||(u[1]=n=>c.product_name=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[cd,e(q,{modelValue:c.category,"onUpdate:modelValue":u[2]||(u[2]=n=>c.category=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[md,e(q,{modelValue:c.price,"onUpdate:modelValue":u[3]||(u[3]=n=>c.price=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",pd,[l("div",null,[_d,e(q,{modelValue:c.beginnings,"onUpdate:modelValue":u[4]||(u[4]=n=>c.beginnings=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[gd,e(q,{modelValue:c.added_stocks,"onUpdate:modelValue":u[5]||(u[5]=n=>c.added_stocks=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[fd,e(q,{modelValue:c.remaining,"onUpdate:modelValue":u[6]||(u[6]=n=>c.remaining=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[vd,e(q,{modelValue:c.out,"onUpdate:modelValue":u[7]||(u[7]=n=>c.out=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[yd,e(q,{modelValue:c.total,"onUpdate:modelValue":u[8]||(u[8]=n=>c.total=n),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[hd,e(q,{modelValue:c.sold,"onUpdate:modelValue":u[9]||(u[9]=n=>c.sold=n),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[bd,e(q,{modelValue:k.value,"onUpdate:modelValue":u[10]||(u[10]=n=>k.value=n),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",wd,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:b})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var kd=W(xd,[["__scopeId","data-v-5377385c"]]);const Je=r=>(X("data-v-e743229a"),r=r(),Z(),r),Vd=Je(()=>l("div",{class:"text-h6 text-white"},"Add Softdrinks",-1)),$d={class:"q-mb-lg"},Cd={key:0,class:"custom-list z-top"},Sd=Je(()=>l("div",null,"Product Name",-1)),Rd=Je(()=>l("div",null,"Category",-1)),Pd=Je(()=>l("div",null,"Price",-1)),Ud={class:"row justify-between q-mt-md q-gutter-md"},qd=Je(()=>l("div",null,"Beginnings",-1)),Nd=Je(()=>l("div",null,"Added Stocks",-1)),Dd=Je(()=>l("div",null,"Remaining",-1)),Ad=Je(()=>l("div",null,"Softdrinks Out",-1)),Id=Je(()=>l("div",null,"Total Quantity",-1)),Fd=Je(()=>l("div",null,"Softdrinks Sold",-1)),Td=Je(()=>l("div",null,"Sales",-1)),Bd={align:"right"},zd={__name:"SoftdrinksReport",props:["userData"],setup(r){const w=De(),$=ge(),S=Oe(),x=B(()=>S.branchProducts),v=N(!1),R=$.params.branch_id,d=N(""),h=r,p=()=>{v.value=!0},m=N("Softdrinks"),f=async()=>{console.log("branch_id.value:",R),console.log("searchQuery.value:",d.value),console.log("category.value:",m.value),(d.value||m.value)&&await S.searchBranchProducts({query:d.value,branches_id:R,category:m.value})},g=i=>i?i.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1).toLowerCase()).join(" "):"",P=i=>{console.log("data",i),c.product_id=i.product.id,c.product_name=i.product.name,c.category=i.category,c.price=i.price,d.value=""},c=Ue({branch_id:R,name:"",product_id:"",product_name:"",category:"",price:0,beginnings:0,remaining:0,added_stocks:0,out:0,sold:0,total:0,sales:0,branches_id:$.params.branch_id}),_=()=>{c.name="",c.product_id="",c.product_name="",c.category="",c.price="",c.beginnings="",c.remaining="",c.added_stocks="",c.out="",c.sold="",c.total="",c.sales=""},k=B(()=>{const i=parseInt(c.sold||0)*parseFloat(c.price||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)});oe(()=>[c.added_stocks,c.beginnings],([i,u])=>{c.total=parseInt(i||0)+parseInt(u||0)}),oe(()=>[c.total,c.remaining,c.out],([i,u,n])=>{c.sold=parseInt(i||0)-(parseInt(u||0)+parseInt(n||0))}),oe(()=>[c.sold,c.price],([i,u])=>{c.sales=parseInt(i||0)*parseFloat(u||0)});const b=async()=>{const i={user_id:h.userData,branch_id:c.branch_id,product_id:c.product_id,name:c.product_name,total:c.total,price:c.price,beginnings:c.beginnings,remaining:c.remaining,added_stocks:c.added_stocks,out:c.out,sold:c.sold,sales:c.sales,new_production:c.added_stocks};console.log("Softdrinks",i),w.updateSoftdrinksReport(i),ie.create({message:"Product added successfully",color:"positive",position:"top"}),_()};return(i,u)=>(y(),D(Q,null,[e(F,{"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button",onClick:p}),e(le,{modelValue:v.value,"onUpdate:modelValue":u[11]||(u[11]=n=>v.value=n),persistent:"","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"600px","max-width":"80vw"}},{default:t(()=>[e(A,{class:"row items-center bg-backgroud q-px-md q-py-sm"},{default:t(()=>[Vd,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[l("div",$d,[e(q,{modelValue:d.value,"onUpdate:modelValue":[u[0]||(u[0]=n=>d.value=n),f],debounce:"1000",outlined:"",flat:"",placeholder:"Search product",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[d.value?(y(),D("div",Cd,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var n;return[(n=x.value)!=null&&n.length?(y(!0),D(Q,{key:1},ee(x.value,s=>(y(),z(G,{onClick:o=>P(s),key:s.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(g(s.product.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[Sd,e(q,{modelValue:c.product_name,"onUpdate:modelValue":u[1]||(u[1]=n=>c.product_name=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Rd,e(q,{modelValue:c.category,"onUpdate:modelValue":u[2]||(u[2]=n=>c.category=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[Pd,e(q,{modelValue:c.price,"onUpdate:modelValue":u[3]||(u[3]=n=>c.price=n),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Ud,[l("div",null,[qd,e(q,{modelValue:c.beginnings,"onUpdate:modelValue":u[4]||(u[4]=n=>c.beginnings=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Nd,e(q,{modelValue:c.added_stocks,"onUpdate:modelValue":u[5]||(u[5]=n=>c.added_stocks=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Dd,e(q,{modelValue:c.remaining,"onUpdate:modelValue":u[6]||(u[6]=n=>c.remaining=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Ad,e(q,{modelValue:c.out,"onUpdate:modelValue":u[7]||(u[7]=n=>c.out=n),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Id,e(q,{modelValue:c.total,"onUpdate:modelValue":u[8]||(u[8]=n=>c.total=n),mask:"#####",outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Fd,e(q,{modelValue:c.sold,"onUpdate:modelValue":u[9]||(u[9]=n=>c.sold=n),mask:"#####",readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),l("div",null,[Td,e(q,{modelValue:k.value,"onUpdate:modelValue":u[10]||(u[10]=n=>k.value=n),outlined:"",readonly:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),_:1}),e(A,null,{default:t(()=>[l("div",Bd,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:b})])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ld=W(zd,[["__scopeId","data-v-e743229a"]]);const jd={class:"q-mt-lg"},Od={class:"item-start q-gutter-md",align:"center"},Hd={__name:"ProductPage",props:["user"],setup(r){const w=r;return console.log("user from Add sales",w.user),($,S)=>(y(),D("div",jd,[l("div",Od,[e(Lr,{userData:w.user},null,8,["userData"]),e(kd,{userData:w.user},null,8,["userData"]),e(Ld,{userData:w.user},null,8,["userData"]),e(Hr),e(sd,{userData:w.user},null,8,["userData"])])]))}};var Md=W(Hd,[["__scopeId","data-v-b4ae57da"]]);const Te=r=>(X("data-v-6335eebf"),r=r(),Z(),r),Qd={class:"q-mt-lg"},Ed={class:"q-gutter-x-md",align:"center"},Kd={class:"row justify-between"},Yd=Te(()=>l("div",{class:"text-h6"},"Demomination Report",-1)),Gd={class:"q-pa-md row q-gutter-md justify-between"},Wd={class:"col-6"},Jd={class:"row justify-between text-weight-light text-h6 q-mt-md"},Xd=Te(()=>l("div",null,"1000 Bills:",-1)),Zd={class:"row justify-between text-weight-light text-h6 q-mt-md"},ei=Te(()=>l("div",null,"500 Bills:",-1)),ti={class:"row justify-between text-weight-light text-h6 q-mt-md"},li=Te(()=>l("div",null,"200 Bills:",-1)),ai={class:"row justify-between text-weight-light text-h6 q-mt-md"},oi=Te(()=>l("div",null,"100 Bills:",-1)),ni={class:"row justify-between text-weight-light text-h6 q-mt-md"},si=Te(()=>l("div",null,"50 Bills:",-1)),ri={class:"row justify-between text-weight-light text-h6 q-mt-md"},di=Te(()=>l("div",null,"20 Bills:",-1)),ii={class:"col-5"},ui={class:"row justify-between text-weight-light text-h6 q-mt-md"},ci=Te(()=>l("div",null,"20 coins:",-1)),mi={class:"row justify-between text-weight-light text-h6 q-mt-md"},pi=Te(()=>l("div",null,"10 coins:",-1)),_i={class:"row justify-between text-weight-light text-h6 q-mt-md"},gi=Te(()=>l("div",null,"5 coins:",-1)),fi={class:"row justify-between text-weight-light text-h6 q-mt-md"},vi=Te(()=>l("div",null,"1 coins:",-1)),yi={class:"row justify-between text-weight-light text-h6 q-mt-md"},hi=Te(()=>l("div",null,"25 cents:",-1)),bi={class:"text-h6 q-mt-md",align:"center"},wi=Te(()=>l("div",null,"Total Denomination",-1)),xi={align:"right"},ki={__name:"DenominationPage",setup(r){const w=De(),$=N(!1),S=()=>{$.value=!0},x=()=>{$.value=!1},v=Ue({oneThousandBills:0,fiveHundredBills:0,twoHundredBills:0,oneHundredBills:0,fiftyBills:0,twentyBills:0,twentyCoins:0,tenCoins:0,fiveCoins:0,oneCoins:0,twentyFiveCents:0}),R=m=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(m),d=B(()=>v.oneThousandBills*1e3+v.fiveHundredBills*500+v.twoHundredBills*200+v.oneHundredBills*100+v.fiftyBills*50+v.twentyBills*20+v.twentyCoins*20+v.tenCoins*10+v.fiveCoins*5+v.oneCoins*1+v.twentyFiveCents*.25),h=B(()=>R(d.value)),p=()=>{const m=d.value;w.getDenominationData(v),w.updateDenominationTotal(m),w.calculateCharges(m),console.log("Denomination Data:",v),console.log("Raw Total Denomination:",m),console.log("Formatted Total Denomination:",h.value),x()};return(m,f)=>(y(),D("div",Qd,[l("div",Ed,[e(F,{label:"Denomination",rounded:"",style:{width:"150px"},color:"light-blue-6",class:"user-button",onClick:S})]),e(le,{modelValue:$.value,"onUpdate:modelValue":f[12]||(f[12]=g=>$.value=g),persistent:""},{default:t(()=>[e(E,{style:{width:"700px"}},{default:t(()=>[e(A,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Kd,[Yd,l("div",null,[e(F,{flat:"",round:"",dense:"",icon:"close",onClick:x})])])]),_:1}),l("div",Gd,[l("div",Wd,[l("div",Jd,[Xd,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.oneThousandBills,"onUpdate:modelValue":f[0]||(f[0]=g=>v.oneThousandBills=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",Zd,[ei,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.fiveHundredBills,"onUpdate:modelValue":f[1]||(f[1]=g=>v.fiveHundredBills=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",ti,[li,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.twoHundredBills,"onUpdate:modelValue":f[2]||(f[2]=g=>v.twoHundredBills=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",ai,[oi,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.oneHundredBills,"onUpdate:modelValue":f[3]||(f[3]=g=>v.oneHundredBills=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",ni,[si,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.fiftyBills,"onUpdate:modelValue":f[4]||(f[4]=g=>v.fiftyBills=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",ri,[di,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.twentyBills,"onUpdate:modelValue":f[5]||(f[5]=g=>v.twentyBills=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])])]),l("div",ii,[l("div",ui,[ci,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.twentyCoins,"onUpdate:modelValue":f[6]||(f[6]=g=>v.twentyCoins=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",mi,[pi,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.tenCoins,"onUpdate:modelValue":f[7]||(f[7]=g=>v.tenCoins=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",_i,[gi,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.fiveCoins,"onUpdate:modelValue":f[8]||(f[8]=g=>v.fiveCoins=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",fi,[vi,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.oneCoins,"onUpdate:modelValue":f[9]||(f[9]=g=>v.oneCoins=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",yi,[hi,l("div",null,[e(q,{style:{width:"100px"},modelValue:v.twentyFiveCents,"onUpdate:modelValue":f[10]||(f[10]=g=>v.twentyFiveCents=g),outlined:"",flat:"",dense:"",suffix:"pcs"},null,8,["modelValue"])])]),l("div",bi,[wi,l("div",null,[e(q,{modelValue:h.value,"onUpdate:modelValue":f[11]||(f[11]=g=>h.value=g),outlined:"",readonly:""},null,8,["modelValue"])])])])]),e(A,null,{default:t(()=>[l("div",xi,[e(F,{color:"red-6",label:"Submit",class:"q-pa-sm",size:"md",onClick:p})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Vi=W(ki,[["__scopeId","data-v-6335eebf"]]);const $i=r=>(X("data-v-e3f27ee6"),r=r(),Z(),r),Ci={class:"q-mt-lg"},Si={class:"q-gutter-x-md",align:"center"},Ri={class:"row justify-between"},Pi=$i(()=>l("div",{class:"text-h6"},"Expenses",-1)),Ui={class:"row q-gutter-x-md"},qi={class:"",align:"right"},Ni={__name:"ExpensesPage",props:["user"],setup(r){const w=De(),S=ge().params.branch_id,x=r,v=N(!1),R=()=>{v.value=!0},d=Ue({user_expense_id:"",name:"",amount:0,description:""}),h=()=>{d.user_expense_id="",d.name="",d.amount="",d.description=""},p=()=>{const m=parseFloat(d.amount.replace(",",".")),f={...d,user_id:x.user,branch_id:S,amount:m};console.log("expenses from admin",f),w.updateExpensesReport(f),ie.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),h()};return(m,f)=>(y(),D("div",Ci,[l("div",Si,[e(F,{label:"Expenses",rounded:"",style:{width:"150px"},color:"light-blue-6",class:"user-button",onClick:R}),e(le,{modelValue:v.value,"onUpdate:modelValue":f[3]||(f[3]=g=>v.value=g)},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(A,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Ri,[Pi,l("div",null,[ne(e(F,{flat:"",round:"",dense:"",icon:"close"},null,512),[[se]])])])]),_:1}),e(A,{class:"q-gutter-y-sm"},{default:t(()=>[l("div",Ui,[l("div",null,[e(q,{modelValue:d.name,"onUpdate:modelValue":f[0]||(f[0]=g=>d.name=g),outlined:"",dense:"",style:{width:"300px"},placeholder:"Name"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:d.amount,"onUpdate:modelValue":f[1]||(f[1]=g=>d.amount=g),"reverse-fill-mask":"",outlined:"",type:"number",dense:"",style:{width:"100px"},label:"Amount"},null,8,["modelValue"])])]),l("div",null,[e(q,{modelValue:d.description,"onUpdate:modelValue":f[2]||(f[2]=g=>d.description=g),placeholder:"Description",outlined:"",autogrow:"",style:{width:"415px"}},null,8,["modelValue"])]),l("div",qi,[e(F,{outline:"",dense:"",icon:"add",label:"Add To List",class:"q-pa-sm",size:"sm",onClick:p})])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]))}};var Di=W(Ni,[["__scopeId","data-v-e3f27ee6"]]);const Dt=r=>(X("data-v-f7740770"),r=r(),Z(),r),Ai={class:"q-mt-lg"},Ii={class:"q-gutter-x-md",align:"center"},Fi={class:"row justify-between"},Ti=Dt(()=>l("div",{class:"text-h6"},"Employee Credits",-1)),Bi={class:"q-gutter-y-md"},zi={key:0,class:"custom-list z-top"},Li={class:"row q-gutter-sm"},ji={key:0,class:"custom-list z-top"},Oi={align:"right"},Hi={class:"row justify-between"},Mi=Dt(()=>l("div",null,"Credits Total",-1)),Qi={__name:"CreditPage",props:["user"],setup(r){const w=ge(),$=pt();B(()=>$.users);const S=Ct(),x=B(()=>S.employees),v=De(),R=B(()=>v.products);console.log("products search",R.value);const d=v.user;console.log("userdata",d);const h=r,p=w.params.branch_id,m=N(!1),f=N(""),g=N(""),P=N(!1),c=N(!1);let _=!1,k=!1;const b=N(!1),i=N(!1),u=N(!1),n=async()=>{f.value&&(i.value=!0,console.log("searchQuery.value",f.value),await S.searchEmployee(f.value),i.value=!1,P.value=!0)},s=()=>{m.value=!0},o=()=>{m.value=!1},a=Ue({credit_user_id:"",name:"",product_id:"",productName:"",price:0,pieces:"",creditTotal:0}),C=()=>{f.value="",g.value="",a.credit_user_id="",a.name="",a.product_id="",a.productName="",a.price="",a.pieces="",a.creditTotal="",fe.value=[]},j=()=>{g.value="",a.product_id="",a.productName="",a.price="",a.pieces=""},K=B(()=>f.value&&x.value.length>0),ae=O=>{console.log("credit",O),f.value=`${O.firstname} ${O.middlename?O.middlename.charAt(0)+".":""} ${O.lastname}`,a.credit_user_id=O.id,a.name=`${O.firstname} ${O.middlename?O.middlename.charAt(0)+".":""} ${O.lastname}`,_=!0,P.value=!1},ue=async()=>{if(g.value){u.value=!0;const O=await v.searchBranchProducts(g.value,p);console.log("response",O),u.value=!1,c.value=!0}},Pe=B(()=>g.value&&R.value.length>0);console.log("Product search datasss:",R.value);const xe=O=>{g.value=O.name,a.productName=O.name,a.product_id=O.id,a.price=O.price,k=!0,c.value=!1},re=N(""),fe=N([]),Xe=()=>{const O=parseFloat(a.price),M=parseInt(a.pieces);if(!isNaN(O)&&!isNaN(M)){const L=O*M;re.value=L.toFixed(2)}else re.value="";console.log("productCreditTotalAmount",re.value)},Be=()=>{const O=re.value;fe.value.push({credit_user_id:a.credit_user_id,product_id:a.product_id,name:a.name,productName:a.productName,price:a.price,pieces:a.pieces,totalAmount:O}),console.log("creditList",fe.value),j()},ze=O=>{fe.value.splice(O,1)};oe(f,O=>{O.length>2&&!_?n():P.value=!1,_=!1}),oe(g,O=>{O.length>2&&!k?ue():c.value=!1,k=!1}),oe(fe,O=>{const M=O.reduce((L,Y)=>L+parseFloat(Y.totalAmount),0);a.creditTotal=M.toFixed(2)},{deep:!0}),oe([()=>a.price,()=>a.pieces],Xe),oe(re,O=>{console.log("productCreditTotalAmoun",O)});const H=()=>{const O=parseFloat(a.creditTotal),M={user_id:h.user,branch_id:p,credit_user_id:a.credit_user_id,credit_user_name:a.name,total_amount:O,credits:fe.value.map(L=>({credit_user_id:L.credit_user_id,branch_id:p,productName:L.productName,product_id:L.product_id,price:L.price,pieces:L.pieces,totalAmount:L.totalAmount}))};v.updateEmployeeCreditReports(M),console.log("employeeCreditReport admin:",M),ie.create({type:"positive",message:"Expenses Submitted",timeout:1e3}),m.value=!1,C()};return(O,M)=>(y(),D("div",Ai,[l("div",Ii,[e(F,{label:"Credit",rounded:"",style:{width:"150px"},color:"light-blue-6",class:"user-button",onClick:s})]),e(le,{modelValue:m.value,"onUpdate:modelValue":M[4]||(M[4]=L=>m.value=L),persistent:""},{default:t(()=>[e(E,{style:{width:"450px"}},{default:t(()=>[e(A,{class:"bg-gradient text-white"},{default:t(()=>[l("div",Fi,[Ti,l("div",null,[e(F,{flat:"",round:"",dense:"",icon:"close",onClick:o})])])]),_:1}),e(A,null,{default:t(()=>[l("div",Bi,[l("div",null,[l("div",null,[e(q,{modelValue:f.value,"onUpdate:modelValue":M[0]||(M[0]=L=>f.value=L),outlined:"",dense:"",rounded:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[i.value?(y(),z(Le,{key:1,color:"grey",size:"sm"})):(y(),z(te,{key:0,name:"search"}))]),default:t(()=>[K.value&&P.value?(y(),D("div",zi,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>[b.value?(y(),z(G,{key:0},{default:t(()=>[e(I,null,{default:t(()=>[e(Le,{color:"primary"})]),_:1})]),_:1})):ke("",!0),!b.value&&!x.value.length?(y(),z(G,{key:1},{default:t(()=>[e(I,null,{default:t(()=>[U(" No data available in this branch. ")]),_:1})]),_:1})):(y(!0),D(Q,{key:2},ee(x.value,L=>(y(),z(G,{onClick:Y=>ae(L),key:L.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(`
                                  ${L==null?void 0:L.firstname} ${L!=null&&L.middlename?(L==null?void 0:L.middlename.charAt(0).toUpperCase())+".":""} ${L==null?void 0:L.lastname}`),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])])]),l("div",Li,[l("div",null,[e(q,{modelValue:g.value,"onUpdate:modelValue":M[1]||(M[1]=L=>g.value=L),placeholder:"Search Product",outlined:"",flat:"",debounce:"500",dense:"",style:{width:"240px"}},{append:t(()=>[u.value?(y(),z(Le,{key:1,color:"grey",size:"sm"})):(y(),z(te,{key:0,name:"search"}))]),default:t(()=>[Pe.value&&c.value?(y(),D("div",ji,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>[(y(!0),D(Q,null,ee(R.value,L=>(y(),z(G,{onClick:Y=>xe(L),key:L.name,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(L.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",null,[e(q,{modelValue:a.price,"onUpdate:modelValue":M[2]||(M[2]=L=>a.price=L),"reverse-fill-mask":"",outlined:"",readonly:"",flat:"",dense:"",style:{width:"80px"},label:"Price"},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:a.pieces,"onUpdate:modelValue":M[3]||(M[3]=L=>a.pieces=L),"reverse-fill-mask":"",outlined:"",type:"number",flat:"",dense:"",style:{width:"80px"},label:"Pcs"},null,8,["modelValue"])])]),l("div",Oi,[e(F,{padding:"sm md",size:"xm",icon:"add",dense:"",outline:"",onClick:Be})]),l("div",null,[e(Ze,{outlined:"",dense:"",readonly:""},{control:t(()=>[l("div",null,[(y(!0),D(Q,null,ee(fe.value,(L,Y)=>(y(),z(G,{key:Y,class:"q-gutter-xs"},{default:t(()=>[e(I,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[U(V(L.productName),1)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Pcs")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(L.pieces),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Price")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(L.price),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Total")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(L.totalAmount),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(F,{onClick:me=>ze(Y),color:"negative",icon:"clear",dense:"",flat:"",round:"",class:"text-red"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]),l("div",Hi,[l("div",null,[Mi,e(Ze,{outlined:"",dense:"",readonly:"",style:{width:"120px"}},{control:t(()=>[U(V(a.creditTotal),1)]),_:1})]),e(F,{outline:"",dense:"",icon:"add",label:"Add To List",class:"q-pa-sm",size:"sm",onClick:H})])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};var Ei=W(Qi,[["__scopeId","data-v-f7740770"]]);const At=r=>(X("data-v-ab6cecb6"),r=r(),Z(),r),Ki={class:"q-pa-xm"},Yi=At(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Bread Report",-1)),Gi=At(()=>l("span",null,"Action",-1)),Wi={__name:"BreadReportField",setup(r){const w=De(),$=B(()=>w.breadReports),S=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(v),x=v=>{w.removeBread(v)};return(v,R)=>(y(),D("div",Ki,[Yi,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Product Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Beginnigs")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Remainings")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Bread Out")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sold")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Price")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sales")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[Gi]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee($.value,(d,h)=>(y(),D("div",{key:h},[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.total),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.bread_out),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.bread_sold),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.price)),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.sales)),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:p=>x(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}};var Ji=W(Wi,[["__scopeId","data-v-ab6cecb6"]]);const It=r=>(X("data-v-411cf02c"),r=r(),Z(),r),Xi={class:"q-pa-xm"},Zi=It(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Selecta Report",-1)),eu=It(()=>l("span",null,"Action",-1)),tu={__name:"SelectaReportField",setup(r){const w=De(),$=B(()=>w.selectaReports),S=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(v),x=v=>{w.removeSelecta(v)};return(v,R)=>(y(),D("div",Xi,[Zi,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Product Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Beginnigs")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Remainings")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Selecta Out")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sold")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Price")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sales")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[eu]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee($.value,(d,h)=>(y(),D("div",{key:h},[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.beginnings),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.out),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.sold),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.price)),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.sales)),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:p=>x(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}};var lu=W(tu,[["__scopeId","data-v-411cf02c"]]);const Ft=r=>(X("data-v-3a7cde0c"),r=r(),Z(),r),au={class:"q-pa-xm"},ou=Ft(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Softdrinks Report",-1)),nu=Ft(()=>l("span",null,"Action",-1)),su={__name:"SoftdrinksReportField",setup(r){const w=De(),$=B(()=>w.softdrinksReports),S=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(v),x=v=>{w.removeSoftdrink(v)};return(v,R)=>(y(),D("div",au,[ou,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Product Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Beginnigs")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Remainings")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Softdrinks Out")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sold")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Price")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sales")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[nu]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee($.value,(d,h)=>(y(),D("div",{key:h},[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.beginnings),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.out),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.sold),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.price)),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.sales)),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:p=>x(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]))}};var ru=W(su,[["__scopeId","data-v-3a7cde0c"]]);const du={class:"q-pa-xm"},iu=l("div",{class:"text-subtitle2 text-weight-light"},"Cake Report",-1),uu={class:"q-py-sm"},cu={class:"q-gutter-md"},mu={__name:"CakeReportField",setup(r){const w=De(),$=B(()=>w.cakeReports),S=d=>d?d.split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase()).join(" "):"",x=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(d).replace("\u20B1","\u20B1 "),v=d=>{w.removeCake(d)},R=d=>{switch(d){case"sold":return"green";case"pull out":return"orange";default:return"grey"}};return(d,h)=>(y(),D("div",du,[iu,e(Ze,{outlined:"",dense:"",readonly:""},{default:t(()=>[l("div",uu,[l("div",cu,[l("div",null,[(y(!0),D(Q,null,ee($.value,(p,m)=>(y(),z(G,{key:m},{default:t(()=>[e(I,{class:"q-ma-sm text-subtitle2",side:""},{default:t(()=>[U(V(S(p.name)),1)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Price")]),_:1}),e(T,{caption:""},{default:t(()=>[U(V(x(p.price)),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U("Status")]),_:1}),e(T,{caption:""},{default:t(()=>[e(ye,{outline:"",color:R(p.sales_status)},{default:t(()=>[U(V(p.sales_status),1)]),_:2},1032,["color"])]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",side:""},{default:t(()=>[e(F,{color:"red",icon:"close",round:"",dense:"",onClick:f=>v(m)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])])])]),_:1})]))}};const Tt=r=>(X("data-v-61350a20"),r=r(),Z(),r),pu={class:"q-pa-xm"},_u=Tt(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Other Products Report",-1)),gu=Tt(()=>l("span",null,"Action",-1)),fu={__name:"OtherReportField",setup(r){const w=De(),$=B(()=>w.otherProductsReports),S=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(v).replace("\u20B1","\u20B1 "),x=v=>{w.removeOtherProducts(v)};return(v,R)=>(y(),D("div",pu,[_u,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Product Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Beginnings")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Remainings")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sold")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Price")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Sales")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[gu]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee($.value,(d,h)=>(y(),z(G,{key:h},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.total),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.remaining),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(d.sold),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.price)),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption",align:"center"},{default:t(()=>[l("span",null,V(S(d.sales)),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:p=>x(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))}};var vu=W(fu,[["__scopeId","data-v-61350a20"]]);const tt=r=>(X("data-v-f47c7530"),r=r(),Z(),r),yu={class:"row q-gutter-x-md q-gutter-y-md item-start"},hu=tt(()=>l("div",{class:"text-weight-light"},"Bread Total Amount",-1)),bu=tt(()=>l("div",{class:"text-weight-light"},"Selecta Total Amount",-1)),wu=tt(()=>l("div",{class:"text-weight-light"},"Softdrinks Total Amount",-1)),xu=tt(()=>l("div",{class:"text-weight-light"},"Cake Total Amount",-1)),ku=tt(()=>l("div",{class:"text-weight-light"},"Other Products Total Amount",-1)),Vu=tt(()=>l("div",{class:"text-weight-light"},"Expenses Total Amount",-1)),$u=tt(()=>l("div",{class:"text-weight-light"},"Credits Total Amount",-1)),Cu={class:"row q-my-lg justify-between"},Su={class:"q-gutter-sm q-my-md"},Ru=tt(()=>l("div",{class:"text-weight-light text-h6 q-mt-md"},"Charges Total",-1)),Pu={class:"q-gutter-sm q-my-md"},Uu=tt(()=>l("div",{class:"text-weight-bold text-h6 q-mt-md"},"Total Sales",-1)),qu={__name:"OverAllTotal",setup(r){const w=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(o).replace("\u20B1","\u20B1 "),$=De(),S=B(()=>$.breadTotalAmount),x=B(()=>$.selectaTotalAmount),v=B(()=>$.softdrinksTotalAmount),R=B(()=>$.cakeTotalAmount),d=B(()=>$.otherProductsTotalAmount),h=B(()=>$.expensesSumAmount),p=B(()=>$.creditTotalAmount),m=B(()=>$.getCharges),f=B(()=>$.getDenominationTotal),g=B(()=>S.value+x.value+v.value+R.value+d.value+h.value),P=B(()=>w(S.value)),c=B(()=>w(x.value)),_=B(()=>w(v.value)),k=B(()=>w(R.value)),b=B(()=>w(d.value)),i=B(()=>w(h.value)),u=B(()=>w(p.value));B(()=>w(g.value));const n=B(()=>w(f.value)),s=B(()=>w(m.value));return(o,a)=>(y(),D(Q,null,[l("div",yu,[l("div",null,[hu,l("div",null,[e(q,{modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=C=>P.value=C),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[bu,l("div",null,[e(q,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=C=>c.value=C),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[wu,l("div",null,[e(q,{modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=C=>_.value=C),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[xu,l("div",null,[e(q,{modelValue:k.value,"onUpdate:modelValue":a[3]||(a[3]=C=>k.value=C),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[ku,l("div",null,[e(q,{modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=C=>b.value=C),readonly:"",outlined:"",dense:"",style:{width:"200px"}},null,8,["modelValue"])])]),l("div",null,[Vu,l("div",null,[e(q,{modelValue:i.value,"onUpdate:modelValue":a[5]||(a[5]=C=>i.value=C),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),l("div",null,[$u,l("div",null,[e(q,{modelValue:u.value,"onUpdate:modelValue":a[6]||(a[6]=C=>u.value=C),readonly:"",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])])]),l("div",Cu,[l("div",Su,[Ru,l("div",null,[e(q,{modelValue:s.value,"onUpdate:modelValue":a[7]||(a[7]=C=>s.value=C),readonly:"",outlined:"",dense:"",style:{width:"180px"}},null,8,["modelValue"])])]),l("div",Pu,[Uu,l("div",null,[e(q,{modelValue:n.value,"onUpdate:modelValue":a[8]||(a[8]=C=>n.value=C),readonly:"",outlined:"",dense:"",style:{width:"180px"}},null,8,["modelValue"])])])])],64))}};var Nu=W(qu,[["__scopeId","data-v-f47c7530"]]);const Du=r=>(X("data-v-3af7ade0"),r=r(),Z(),r),Au={class:"q-pa-xm"},Iu=Du(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Expenses Report",-1)),Fu={__name:"ExpensesReportField",setup(r){const w=De(),$=B(()=>w.expensesReports),S=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(v),x=v=>{w.removeExpenses(v)};return(v,R)=>(y(),D("div",Au,[Iu,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[U(" Expenses Name ")]),_:1})]),_:1}),e(I,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[U(" Description ")]),_:1})]),_:1}),e(I,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[U(" Amount ")]),_:1})]),_:1}),e(I,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[U(" Action")]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee($.value,(d,h)=>(y(),z(G,{separator:"",key:h},{default:t(()=>[e(I,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,V(d.name),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,V(d.description),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center"},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,V(S(d.amount)),1)]),_:2},1024)]),_:2},1024),e(I,{class:"q-ma-sm q-gutter-sm",align:"center",side:""},{default:t(()=>[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:p=>x(h)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]))}};var Tu=W(Fu,[["__scopeId","data-v-3af7ade0"]]);const Bt=r=>(X("data-v-04340102"),r=r(),Z(),r),Bu={class:"q-pa-xm"},zu=Bt(()=>l("div",{class:"text-subtitle2 text-weight-light"},"Employee Credit Report",-1)),Lu=Bt(()=>l("span",null,"Action",-1)),ju={__name:"CreditReportField",setup(r){const w=De(),$=B(()=>w.employeeCreditReports);console.log("employeeCreditReportsss",$);const S=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(R),x=R=>{if(R==null||R==="")return"Invalid Amount";const d=parseFloat(R);return isNaN(d)?"Invalid Amount":new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(d)},v=R=>{w.removeEmployeeCreditReport(R)};return(R,d)=>(y(),D("div",Bu,[zu,e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,{separator:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Employee Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Products Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Price")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline",align:"center"},{default:t(()=>[U("Pieces")]),_:1})]),_:1}),e(I,{align:"center"},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Total")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,null,{default:t(()=>[Lu]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee($.value,(h,p)=>(y(),D("div",{key:p},[(y(!0),D(Q,null,ee(h.credits,(m,f)=>(y(),z(G,{key:f},{default:t(()=>[e(I,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(h.credit_user_name),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(m.productName),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(S(m.price)),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(m.pieces),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center"},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[l("span",null,V(x(m.totalAmount)),1)]),_:2},1024)]),_:2},1024),e(I,{align:"center",side:""},{default:t(()=>[e(T,null,{default:t(()=>[l("span",null,[e(F,{color:"red",icon:"backspace",round:"",dense:"",flat:"",onClick:g=>v(p)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]))),128))]),_:1})]))}};var Ou=W(ju,[["__scopeId","data-v-04340102"]]);const Hu=r=>(X("data-v-1f345fe6"),r=r(),Z(),r),Mu=Hu(()=>l("div",{class:"text-h6"},"Sales Report",-1)),Qu={class:"row q-gutter-x-md"},Eu={key:0,class:"custom-list z-top"},Ku={class:"q-my-md",align:"right"},Yu={__name:"AddSalesReport",setup(r){const w=De(),$=pt(),x=ge().params.branch_id,v=B(()=>$.users);console.log("userdatasssss  ",v.value);const R=N(!1),d=N(!0),h=N(!1),p=N("");let m=!1;const f=N(!1),g=N(!1),P=N(""),c=N(),_=()=>{R.value=!0},k=async()=>{P.value&&(f.value=!0,console.log("searchQuery.value",P.value),await $.searchUser(P.value),f.value=!1,g.value=!0)},b=B(()=>P.value&&v.value.length>0),i=o=>{if(!o)return"";const{firstname:a,middlename:C,lastname:j}=o,K=a.split(" ").map(Pe=>Pe.charAt(0).toUpperCase()+Pe.slice(1)).join(" "),ae=C?`${C.charAt(0).toUpperCase()}.`:"",ue=j.charAt(0).toUpperCase();return`${K} ${ae} ${ue} ${j.slice(1)}`},u=o=>{console.log("Sales Reports",o),P.value=`${o.firstname} ${o.middlename?o.middlename.charAt(0)+".":""} ${o.lastname}`,c.value=o.id,m=!0,g.value=!1};oe(P,o=>{o.length>2&&!m?k():g.value=!1,m=!1});const n=()=>{if(!p.value||!h.value)return null;const o=`${p.value} ${h.value}`;return new Date(o).toISOString().slice(0,19).replace("T"," ")},s=async()=>{const o=n();if(!o){console.error("Invalid date or time selected");return}try{Ie.show();const a={user_id:c.value,branch_id:x,created_at:o};await w.adminSubmitReports(a)}catch(a){console.error("Error submitting data:",a)}finally{Ie.hide()}};return(o,a)=>(y(),D(Q,null,[l("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Sales Report",color:"orange",onClick:_})]),e(le,{modelValue:R.value,"onUpdate:modelValue":a[4]||(a[4]=C=>R.value=C),maximized:d.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(E,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#ff9800"}},{default:t(()=>[Mu,e(Re),l("div",Qu,[l("div",null,[ne((y(),z(F,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(he,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[U("Close")]),_:1})]),_:1})),[[se]])])])]),_:1}),e(A,{class:"row q-gutter-lg"},{default:t(()=>[l("div",null,[e(q,{modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=C=>P.value=C),outlined:"",dense:"",debounce:"1000",style:{width:"415px"},placeholder:"Search Name"},{append:t(()=>[f.value?(y(),z(Le,{key:1,color:"grey",size:"sm"})):(y(),z(te,{key:0,name:"search"}))]),default:t(()=>[b.value&&g.value?(y(),D("div",Eu,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>[o.loading?(y(),z(G,{key:0},{default:t(()=>[e(I,null,{default:t(()=>[e(Le,{color:"primary"})]),_:1})]),_:1})):ke("",!0),!o.loading&&!v.value.length?(y(),z(G,{key:1},{default:t(()=>[e(I,null,{default:t(()=>[U(" No data available in this branch. ")]),_:1})]),_:1})):(y(!0),D(Q,{key:2},ee(v.value,C=>(y(),z(G,{onClick:j=>u(C),key:C.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(i(C)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),e(q,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=C=>p.value=C),type:"date",outlined:"",dense:""},null,8,["modelValue"]),e(gt,{"keep-color":"",modelValue:h.value,"onUpdate:modelValue":a[2]||(a[2]=C=>h.value=C),val:"08:00 PM",label:"AM",color:"cyan"},null,8,["modelValue"]),e(gt,{"keep-color":"",modelValue:h.value,"onUpdate:modelValue":a[3]||(a[3]=C=>h.value=C),val:"04:00 AM",label:"PM",color:"deep-orange"},null,8,["modelValue"])]),_:1}),e(A,{class:"row q-gutter-sm q-pa-md"},{default:t(()=>[e(Md,{user:c.value},null,8,["user"]),e(Di,{user:c.value},null,8,["user"]),e(Ei,{user:c.value},null,8,["user"]),e(Vi)]),_:1}),e(A,null,{default:t(()=>[e(Nu)]),_:1}),e(A,null,{default:t(()=>[l("div",Ku,[e(F,{padding:"sm md",color:"red-6",dense:"",rounded:"",label:"Submit",onClick:s},{default:t(()=>[e(te,{class:"q-mx-sm",left:"",name:"send"})]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ou)]),_:1}),e(A,null,{default:t(()=>[e(Tu)]),_:1}),e(A,null,{default:t(()=>[e(Ji)]),_:1}),e(A,null,{default:t(()=>[e(lu)]),_:1}),e(A,null,{default:t(()=>[e(ru)]),_:1}),e(A,null,{default:t(()=>[e(mu)]),_:1}),e(A,null,{default:t(()=>[e(vu)]),_:1})]),_:1})]),_:1},8,["modelValue","maximized"])],64))}};var Gu=W(Yu,[["__scopeId","data-v-1f345fe6"]]);const Wu=r=>(X("data-v-2ab6d3e0"),r=r(),Z(),r),Ju={class:"row justify-between"},Xu={class:"row q-gutter-md"},Zu={key:0,class:"spinner-wrapper"},ec={key:1},tc={key:0,class:"data-error"},lc=Wu(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),ac={class:"row justify-center q-gutter-x-md"},oc={__name:"ProductionTable",setup(r){const w=ge();N("bakerReport");const $=w.params.branch_id;N(!1),N(!0),N(""),N("");const S=N({rowsPerPage:0}),x=it(),v=N(""),R=B(()=>x.productions);N(!0);const d=N(!0),h=N(!1),p=B(()=>v.value?R.value.filter(_=>_.name.toLowerCase().includes(v.value.toLowerCase())):R.value);Ae(async()=>{$&&await m($)});const m=async _=>{try{d.value=!0;const k=await x.fetchBranchProductions(_);console.log("Fetched data:",k),console.log("Production rows:",R.value),R.value.length||(h.value=!0)}catch{h.value=!0}finally{d.value=!1}};oe(v,async _=>{d.value=!0,await new Promise(k=>setTimeout(k,1e3)),d.value=!1,h.value=p.value.length===0});const g=[{name:"reportDate",align:"center",label:"Date",field:"date",format:_=>Se.formatDate(_,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],P=He(),c=(_,k)=>{P.dialog({component:Ds,componentProps:{reports:_,reportLabel:k}})};return(_,k)=>(y(),D(Q,null,[l("div",Ju,[l("div",null,[e(q,{modelValue:v.value,"onUpdate:modelValue":k[0]||(k[0]=b=>v.value=b),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",Xu,[e(xr),e(Gu)])]),d.value?(y(),D("div",Zu,[e(yt,{size:"50px",color:"primary"})])):(y(),D("div",ec,[p.value.length===0?(y(),D("div",tc,[e(te,{name:"warning",color:"warning",size:"4em"}),lc])):(y(),z(Ve,{key:1,class:"table-container sticky-header",filter:v.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:g,rows:p.value,"row-key":"reportDate","virtual-scroll":"",pagination:S.value,"onUpdate:pagination":k[1]||(k[1]=b=>S.value=b),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(b=>[e(J,{props:b},{default:t(()=>[l("div",ac,[e(F,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:i=>c(b.row.AM,"AM")},{default:t(()=>[U("AM")]),_:2},1032,["onClick"]),e(F,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:i=>c(b.row.PM,"PM")},{default:t(()=>[U("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var nc=W(oc,[["__scopeId","data-v-2ab6d3e0"]]);const sc={__name:"ProductionPage",setup(r){return(w,$)=>(y(),D("div",null,[e(nc)]))}},rc={__name:"BreadTransactionPage",setup(r){const w=ge(),$=Kt(),S=B(()=>$.pendingBreads),x=w.params.branch_id,v=async()=>{try{const f=await $.fetchPendingBreadsReport(x);console.log("Pending bread reports:",f),console.log("Pending bread reports:",S.value)}catch(f){console.error("Error fetching pending bread reports:",f)}};Ae(async()=>{x&&await v()});const R=f=>Se.formatDate(f,"MMMM DD, YYYY"),d=f=>{const g=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"",P=f.firstname?g(f.firstname):"No Firstname",c=f.middlename?g(f.middlename).charAt(0)+".":"",_=f.lastname?g(f.lastname):"No Lastname";return`${P} ${c} ${_}`.trim()},h=[{name:"created_at",label:"Date",align:"left",field:f=>R(f.created_at)||"Not Available",sortable:!0},{name:"employee",label:"Employee",align:"left",field:f=>d(f.employee)||"Not Available",sortable:!0},{name:"from_branch_name",label:"From Branch",align:"left",field:f=>f.from_branch.name||"Not Available",sortable:!0},{name:"to_branch_name",label:"To Branch",align:"left",field:f=>f.to_branch.name||"Not Available"},{name:"product_name",label:"Product",align:"left",field:f=>f.product.name||"Not Available"},{name:"bread-added",label:"Bread Added",align:"center",field:f=>f.bread_added||"Not Available"},{name:"status",label:"Status",align:"center",field:f=>f.status||"Not Available"}],p=f=>f?f.split(" ").map(g=>g.charAt(0).toUpperCase()+g.slice(1).toLowerCase()).join(" "):"",m=f=>{switch(f){case"declined":return"red";case"received":return"green";case"pending":return"orange";default:return"grey"}};return(f,g)=>(y(),D("div",null,[e(Ve,{flat:"",bordered:"",rows:S.value,columns:h,"row-key":"id"},{"body-cell-status":t(P=>[e(J,{props:P},{default:t(()=>[e(ye,{color:m(P.row.status)},{default:t(()=>[U(V(p(P.row.status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),_:1},8,["rows"])]))}},dc={class:"row justify-between"},ic=l("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),uc=l("div",{class:"text-h6"},"Decline Report",-1),cc={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){const w=lt(),$=N(""),S=N(!1),x=N(!1),v=N({rowsPerPage:0}),R=He(),d=r,h=()=>{x.value=!0},p=()=>{S.value=!0},m=async()=>{if(!$.value){R.notify({type:"negative",message:"Remark is required"});return}try{const _=await w.declineReport(d.report.id,$.value);console.log("Report declined:",_),R.notify({type:"negative",message:"Report declined successfully"}),S.value=!1,x.value=!1,$.value=""}catch(_){console.error("Error declining report:",_),R.notify({type:"negative",message:"Failed to decline report"})}},f=async()=>{try{const _=await w.confirmReport(d.report.id);console.log("Report confirmed:",_),R.notify({type:"positive",message:"Report confirmed successfully"}),x.value=!1}catch(_){console.error(_)}},g=B(()=>d.report.selecta_added_stocks||[]),P=_=>{const k=n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"",b=_.firstname?k(_.firstname):"No Firstname",i=_.middlename?k(_.middlename).charAt(0)+".":"",u=_.lastname?k(_.lastname):"No Lastname";return`${b} ${i} ${u}`},c=[{name:"product_name",label:"Product Name",field:_=>_.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:_=>_.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:_=>_.added_stocks?`${_.added_stocks} pcs`:"N/A"}];return(_,k)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:h})]),e(le,{modelValue:x.value,"onUpdate:modelValue":k[2]||(k[2]=b=>x.value=b)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",dc,[ic,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:k[0]||(k[0]=b=>x.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(P(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"yellow",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:g.value,columns:c,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":k[1]||(k[1]=b=>v.value=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(A,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(F,{color:"negative",label:"Decline",class:"action-btn",onClick:p}),e(F,{color:"positive",label:"Confirm",class:"action-btn",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:S.value,"onUpdate:modelValue":k[4]||(k[4]=b=>S.value=b)},{default:t(()=>[e(E,null,{default:t(()=>[e(A,null,{default:t(()=>[uc]),_:1}),e(A,null,{default:t(()=>[e(q,{modelValue:$.value,"onUpdate:modelValue":k[3]||(k[3]=b=>$.value=b),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[b=>!!b||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(je,{align:"right"},{default:t(()=>[ne(e(F,{flat:"",label:"Cancel",color:"primary"},null,512),[[se]]),e(F,{flat:"",label:"Confirm",color:"negative",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const mc=r=>(X("data-v-08e549d4"),r=r(),Z(),r),pc={class:"q-gutter-md q-ma-md"},_c={class:"row justify-between"},gc={class:"text-subtitle1"},fc={class:"text-subtitle1"},vc={class:"text-subtitle1"},yc={key:1,class:"data-error"},hc=mc(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),bc={__name:"TransactionPendingCard",setup(r){const w=ge(),$=lt(),S=B(()=>$.pendingSelectaReports),x=w.params.branch_id,v=N("pending"),R=async()=>{try{const m=await $.fetchPendingSelectaStocks(x,v.value);console.log(S.value)}catch(m){console.error("Error fetching pending stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",pc,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",_c,[l("div",gc,V(d(g.created_at)),1),l("div",fc,V(h(g.created_at)),1),l("div",vc,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"yellow",outlined:""},{default:t(()=>[U(" Pending ")]),_:1})]),l("div",null,[e(cc,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",yc,[e(te,{name:"warning",color:"warning",size:"4em"}),hc]))])]),_:1})]))}};var wc=W(bc,[["__scopeId","data-v-08e549d4"]]);const xc={class:"row justify-between"},kc=l("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Vc={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){lt(),N(!1);const w=N(!1),$=()=>{w.value=!0};He();const S=r,x=B(()=>(console.log("Filtered rows:",S.report||[]),S.report.selecta_added_stocks||[])),v=d=>{const h=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",p=d.firstname?h(d.firstname):"No Firstname",m=d.middlename?h(d.middlename).charAt(0)+".":"",f=d.lastname?h(d.lastname):"No Lastname";return`${p} ${m} ${f}`},R=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,h)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(le,{modelValue:w.value,"onUpdate:modelValue":h[2]||(h[2]=p=>w.value=p)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",xc,[kc,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:h[0]||(h[0]=p=>w.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(v(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"green",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:x.value,columns:R,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":h[1]||(h[1]=p=>d.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const $c=r=>(X("data-v-c1019cbc"),r=r(),Z(),r),Cc={class:"q-gutter-md q-ma-md"},Sc={class:"row justify-between"},Rc={class:"text-subtitle1"},Pc={class:"text-subtitle1"},Uc={class:"text-subtitle1"},qc={key:1,class:"data-error"},Nc=$c(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Dc={__name:"TransactionConfirmedCard",setup(r){const w=ge(),$=lt(),S=B(()=>$.confirmedSelectaReports),x=w.params.branch_id,v=N("confirmed"),R=async()=>{try{const m=await $.fetchConfirmedSelectaStocks(x,v.value);console.log(S.value)}catch(m){console.error("Error fetching confirmed stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",Cc,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",Sc,[l("div",Rc,V(d(g.created_at)),1),l("div",Pc,V(h(g.created_at)),1),l("div",Uc,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"green",outlined:""},{default:t(()=>[U(V(g.status),1)]),_:2},1024)]),l("div",null,[e(Vc,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",qc,[e(te,{name:"warning",color:"warning",size:"4em"}),Nc]))])]),_:1})]))}};var Ac=W(Dc,[["__scopeId","data-v-c1019cbc"]]);const Ic={class:"row justify-between"},Fc=l("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Tc={class:"q-mt-md"},Bc={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){lt(),N(!1);const w=N(!1),$=()=>{w.value=!0},S=r,x=B(()=>(console.log("Filtered rows:",S.report||[]),S.report.selecta_added_stocks||[])),v=d=>{const h=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",p=d.firstname?h(d.firstname):"No Firstname",m=d.middlename?h(d.middlename).charAt(0)+".":"",f=d.lastname?h(d.lastname):"No Lastname";return`${p} ${m} ${f}`},R=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,h)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(le,{modelValue:w.value,"onUpdate:modelValue":h[2]||(h[2]=p=>w.value=p)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",Ic,[Fc,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:h[0]||(h[0]=p=>w.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(v(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"red",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})]),l("div",Tc,"Remark: "+V(r.report.remark),1)]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:x.value,columns:R,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":h[1]||(h[1]=p=>d.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const zc=r=>(X("data-v-6b801095"),r=r(),Z(),r),Lc={class:"q-gutter-md q-ma-md"},jc={class:"row justify-between"},Oc={class:"text-subtitle1"},Hc={class:"text-subtitle1"},Mc={class:"text-subtitle1"},Qc={key:1,class:"data-error"},Ec=zc(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Kc={__name:"TransactionDeclinedCard",setup(r){const w=ge(),$=lt(),S=B(()=>$.declinedSelectaReports),x=w.params.branch_id,v=N("declined"),R=async()=>{try{const m=await $.fetchDeclinedSelectaStocks(x,v.value);console.log("selectedProductsDeclined",S.value)}catch(m){console.error("Error fetching decline stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",Lc,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",jc,[l("div",Oc,V(d(g.created_at)),1),l("div",Hc,V(h(g.created_at)),1),l("div",Mc,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"red",outlined:""},{default:t(()=>[U(V(g.status),1)]),_:2},1024)]),l("div",null,[e(Bc,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",Qc,[e(te,{name:"warning",color:"warning",size:"4em"}),Ec]))])]),_:1})]))}};var Yc=W(Kc,[["__scopeId","data-v-6b801095"]]);const Gc={class:"q-gutter-y-sm"},Wc={__name:"SelectaTransactionPage",setup(r){const w=N("pendingReports"),$=B(()=>{switch(w.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(S,x)=>(y(),D(Q,null,[l("div",Gc,[e(nt,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=v=>w.value=v),"indicator-color":$.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e($e,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e($e,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e($e,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(st,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=v=>w.value=v),animated:""},{default:t(()=>[e(Ce,{name:"pendingReports"},{default:t(()=>[e(wc)]),_:1}),e(Ce,{name:"confirmReports"},{default:t(()=>[e(Ac)]),_:1}),e(Ce,{name:"declineReports"},{default:t(()=>[e(Yc)]),_:1})]),_:1},8,["modelValue"])],64))}};var Jc=W(Wc,[["__scopeId","data-v-6cbd59c6"]]);const Xc={class:"row justify-between"},Zc=l("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),em=l("div",{class:"text-h6"},"Decline Report",-1),tm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){const w=dt(),$=N(""),S=N(!1),x=N(!1),v=N({rowPerPage:0}),R=He(),d=r,h=()=>{x.value=!0},p=()=>{S.value=!0},m=async()=>{if(!$.value){R.notify({type:"negative",message:"Remark is required"});return}try{const _=await w.declineReport(d.report.id,$.value);console.log("Report declined:",_),R.notify({type:"negative",message:"Report declined successfully"}),S.value=!1,x.value=!1,$.value=""}catch(_){console.error("Error declining report:",_),R.notify({type:"negative",message:"Failed to decline report"})}},f=async()=>{try{const _=await w.confirmReport(d.report.id);console.log("Report confirmed:",_),R.notify({type:"positive",message:"Report confirmed successfully"}),x.value=!1}catch(_){console.error(_)}},g=B(()=>d.report.softdrinks_added_stocks||[]),P=_=>{const k=n=>n?n.charAt(0).toUpperCase()+n.slice(1).toLowerCase():"",b=_.firstname?k(_.firstname):"No Firstname",i=_.middlename?k(_.middlename).charAt(0)+".":"",u=_.lastname?k(_.lastname):"No Lastname";return`${b} ${i} ${u}`},c=[{name:"product_name",label:"Product Name",field:_=>_.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:_=>_.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:_=>_.added_stocks?`${_.added_stocks} pcs`:"N/A"}];return(_,k)=>(y(),D("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:h}),e(le,{modelValue:x.value,"onUpdate:modelValue":k[2]||(k[2]=b=>x.value=b)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",Xc,[Zc,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:k[0]||(k[0]=b=>x.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(P(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"yellow",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:g.value,columns:c,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":k[1]||(k[1]=b=>v.value=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(A,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(F,{color:"negative",label:"Decline",class:"action-btn",onClick:p}),e(F,{color:"positive",label:"Confirm",class:"action-btn",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:S.value,"onUpdate:modelValue":k[4]||(k[4]=b=>S.value=b)},{default:t(()=>[e(E,null,{default:t(()=>[e(A,null,{default:t(()=>[em]),_:1}),e(A,null,{default:t(()=>[e(q,{modelValue:$.value,"onUpdate:modelValue":k[3]||(k[3]=b=>$.value=b),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[b=>!!b||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(je,{align:"right"},{default:t(()=>[ne(e(F,{flat:"",label:"Cancel",color:"primary"},null,512),[[se]]),e(F,{flat:"",label:"Confirm",color:"negative",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};const lm=r=>(X("data-v-7ba0107e"),r=r(),Z(),r),am={class:"q-gutter-md q-ma-md"},om={class:"row justify-between"},nm={class:"text-subtitle1"},sm={class:"text-subtitle1"},rm={class:"text-subtitle1"},dm={key:1,class:"data-error"},im=lm(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),um={__name:"TransactionPendingCard",setup(r){const w=ge(),$=dt(),S=B(()=>$.pendingSoftdrinksReports),x=w.params.branch_id,v=N("pending"),R=async()=>{try{const m=await $.fetchPendingSoftdrinksStocks(x,v.value);console.log(S.value)}catch(m){console.error("Error fetching pending stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",am,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",om,[l("div",nm,V(d(g.created_at)),1),l("div",sm,V(h(g.created_at)),1),l("div",rm,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"yellow",outlined:""},{default:t(()=>[U(" Pending ")]),_:1})]),l("div",null,[e(tm,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",dm,[e(te,{name:"warning",color:"warning",size:"4em"}),im]))])]),_:1})]))}};var cm=W(um,[["__scopeId","data-v-7ba0107e"]]);const mm={class:"row justify-between"},pm=l("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),_m={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){dt(),N(!1);const w=N(!1),$=()=>{w.value=!0},S=r,x=B(()=>(console.log("Filtered rows:",S.report||[]),S.report.softdrinks_added_stocks||[])),v=d=>{const h=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",p=d.firstname?h(d.firstname):"No Firstname",m=d.middlename?h(d.middlename).charAt(0)+".":"",f=d.lastname?h(d.lastname):"No Lastname";return`${p} ${m} ${f}`},R=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,h)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(le,{modelValue:w.value,"onUpdate:modelValue":h[2]||(h[2]=p=>w.value=p)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",mm,[pm,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:h[0]||(h[0]=p=>w.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(v(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"green",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:x.value,columns:R,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":h[1]||(h[1]=p=>d.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const gm=r=>(X("data-v-2b1290c8"),r=r(),Z(),r),fm={class:"q-gutter-md q-ma-md"},vm={class:"row justify-between"},ym={class:"text-subtitle1"},hm={class:"text-subtitle1"},bm={class:"text-subtitle1"},wm={key:1,class:"data-error"},xm=gm(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),km={__name:"TransactionConfirmedCard",setup(r){const w=ge(),$=dt(),S=B(()=>$.confirmedSoftdrinksReports),x=w.params.branch_id,v=N("confirmed"),R=async()=>{try{const m=await $.fetchConfirmedSoftdrinksStocks(x,v.value);console.log(S.value)}catch(m){console.error("Error fetching confirmed stocks",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",fm,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",vm,[l("div",ym,V(d(g.created_at)),1),l("div",hm,V(h(g.created_at)),1),l("div",bm,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"green",outlined:""},{default:t(()=>[U(V(g.status),1)]),_:2},1024)]),l("div",null,[e(_m,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",wm,[e(te,{name:"warning",color:"warning",size:"4em"}),xm]))])]),_:1})]))}};var Vm=W(km,[["__scopeId","data-v-2b1290c8"]]);const $m={class:"row justify-between"},Cm=l("div",{class:"text-h6"},"Softdrinks Added Stocks Report",-1),Sm={class:"q-mt-md"},Rm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){dt();const w=N(!1),$=()=>{w.value=!0},S=r,x=B(()=>(console.log("Filtered rows:",S.report||[]),S.report.softdrinks_added_stocks)),v=d=>{const h=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",p=d.firstname?h(d.firstname):"No Firstname",m=d.middlename?h(d.middlename).charAt(0)+".":"",f=d.lastname?h(d.lastname):"No Lastname";return`${p} ${m} ${f}`},R=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,h)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(le,{modelValue:w.value,"onUpdate:modelValue":h[2]||(h[2]=p=>w.value=p)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",$m,[Cm,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:h[0]||(h[0]=p=>w.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(v(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"red",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})]),l("div",Sm,"Remark: "+V(r.report.remark),1)]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:x.value,columns:R,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":h[1]||(h[1]=p=>d.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Pm=r=>(X("data-v-51a1abe5"),r=r(),Z(),r),Um={class:"q-gutter-md q-ma-md"},qm={class:"row justify-between"},Nm={class:"text-subtitle1"},Dm={class:"text-subtitle1"},Am={class:"text-subtitle1"},Im={key:1,class:"data-error"},Fm=Pm(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Tm={__name:"TransactionDeclinedCard",setup(r){const w=ge(),$=dt(),S=B(()=>$.declinedSoftdrinksReports),x=w.params.branch_id,v=N("declined"),R=async()=>{try{const m=await $.fetchDeclinedSoftdrinksStocks(x,v.value);console.log("softdrinksProductsDeclined",S.value)}catch(m){console.error("Error fetching decline stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),z(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",Um,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",qm,[l("div",Nm,V(d(g.created_at)),1),l("div",Dm,V(h(g.created_at)),1),l("div",Am,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"red",outlined:""},{default:t(()=>[U(V(g.status),1)]),_:2},1024)]),l("div",null,[e(Rm,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",Im,[e(te,{name:"warning",color:"warning",size:"4em"}),Fm]))])]),_:1}))}};var Bm=W(Tm,[["__scopeId","data-v-51a1abe5"]]);const zm={class:"q-gutter-y-sm"},Lm={__name:"SoftdrinksTransactionPage",setup(r){const w=N("pendingReports"),$=B(()=>{switch(w.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(S,x)=>(y(),D(Q,null,[l("div",zm,[e(nt,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=v=>w.value=v),"indicator-color":$.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:""},{default:t(()=>[e($e,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e($e,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e($e,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(st,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=v=>w.value=v),animated:""},{default:t(()=>[e(Ce,{name:"pendingReports"},{default:t(()=>[e(cm)]),_:1}),e(Ce,{name:"confirmReports"},{default:t(()=>[e(Vm)]),_:1}),e(Ce,{name:"declineReports"},{default:t(()=>[e(Bm)]),_:1})]),_:1},8,["modelValue"])],64))}};var jm=W(Lm,[["__scopeId","data-v-368f5ccc"]]);const Om={class:"row justify-between"},Hm=l("div",{class:"text-h6"},"Other Product Added Stocks Report",-1),Mm=l("div",{class:"text-h6"},"Decline Report",-1),Qm={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){const w=ht(),$=N(""),S=N(!1),x=N(!1),v=N({rowsPerPage:0}),R=()=>{x.value=!0},d=()=>{S.value=!0},h=r,p=async()=>{if(!$.value){ie.create({type:"negative",message:"Remark is required"});return}try{const c=await w.declineReport(h.report.id,$.value);console.log("Report declined:",c),ie.create({type:"negative",message:"Report declined successfully"}),S.value=!1,x.value=!1,$.value=""}catch(c){console.error("Error declining report:",c),ie.create({type:"negative",message:"Failed to decline report"})}},m=async()=>{try{const c=await w.confirmReport(h.report.id);console.log("Report confirmed:",c),ie.create({type:"positive",message:"Report confirmed successfully"}),x.value=!1}catch(c){console.error(c)}},f=B(()=>h.report.other_added_stock||[]),g=[{name:"product_name",label:"Product Name",field:c=>c.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:c=>c.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:c=>c.added_stocks?`${c.added_stocks} pcs`:"N/A"}],P=c=>{const _=u=>u?u.charAt(0).toUpperCase()+u.slice(1).toLowerCase():"",k=c.firstname?_(c.firstname):"No Firstname",b=c.middlename?_(c.middlename).charAt(0)+".":"",i=c.lastname?_(c.lastname):"No Lastname";return`${k} ${b} ${i}`};return(c,_)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:R})]),e(le,{modelValue:x.value,"onUpdate:modelValue":_[2]||(_[2]=k=>x.value=k)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",Om,[Hm,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:_[0]||(_[0]=k=>x.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(P(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"yellow",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:f.value,columns:g,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:v.value,"onUpdate:pagination":_[1]||(_[1]=k=>v.value=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(A,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(F,{color:"negative",label:"Decline",class:"action-btn",onClick:d}),e(F,{color:"positive",label:"Confirm",class:"action-btn",onClick:m})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(le,{modelValue:S.value,"onUpdate:modelValue":_[4]||(_[4]=k=>S.value=k)},{default:t(()=>[e(E,null,{default:t(()=>[e(A,null,{default:t(()=>[Mm]),_:1}),e(A,null,{default:t(()=>[e(q,{modelValue:$.value,"onUpdate:modelValue":_[3]||(_[3]=k=>$.value=k),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[k=>!!k||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(je,{align:"right"},{default:t(()=>[ne(e(F,{flat:"",label:"Cancel",color:"primary"},null,512),[[se]]),e(F,{flat:"",label:"Confirm",color:"negative",onClick:p})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Em=r=>(X("data-v-355e3e60"),r=r(),Z(),r),Km={class:"q-gutter-md q-ma-md"},Ym={key:0},Gm={class:"row justify-between"},Wm={class:"text-subtitle1"},Jm={class:"text-subtitle1"},Xm={class:"text-subtitle1"},Zm={key:1,class:"data-error"},ep=Em(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),tp={__name:"TransactionPendingCard",setup(r){const w=ge(),$=ht(),S=B(()=>$.pendingOtherReports),x=w.params.branch_id,v=N("pending"),R=async()=>{try{const m=await $.fetchPendingOtherStocks(x,v.value);console.log(S.value)}catch(m){console.error("Error fetching pending stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",Km,[S.value.length?(y(),D("div",Ym,[(y(!0),D(Q,null,ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",Gm,[l("div",Wm,V(d(g.created_at)),1),l("div",Jm,V(h(g.created_at)),1),l("div",Xm,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"yellow",outlined:""},{default:t(()=>[U(" Pending ")]),_:1})]),l("div",null,[e(Qm,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])):(y(),D("div",Zm,[e(te,{name:"warning",color:"warning",size:"4em"}),ep]))])]),_:1})]))}};var lp=W(tp,[["__scopeId","data-v-355e3e60"]]);const ap={class:"row justify-between"},op=l("div",{class:"text-h6"},"Other Added Stocks Report",-1),np={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){lt(),N(!1);const w=N(!1),$=()=>{w.value=!0};He();const S=r,x=B(()=>(console.log("Filtered rows:",S.report||[]),S.report.other_added_stock||[])),v=d=>{const h=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",p=d.firstname?h(d.firstname):"No Firstname",m=d.middlename?h(d.middlename).charAt(0)+".":"",f=d.lastname?h(d.lastname):"No Lastname";return`${p} ${m} ${f}`},R=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,h)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(le,{modelValue:w.value,"onUpdate:modelValue":h[2]||(h[2]=p=>w.value=p)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",ap,[op,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:h[0]||(h[0]=p=>w.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(v(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"green",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})])]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:x.value,columns:R,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":h[1]||(h[1]=p=>d.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const sp=r=>(X("data-v-5b0a7351"),r=r(),Z(),r),rp={class:"q-gutter-md q-ma-md"},dp={class:"row justify-between"},ip={class:"text-subtitle1"},up={class:"text-subtitle1"},cp={class:"text-subtitle1"},mp={key:1,class:"data-error"},pp=sp(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),_p={__name:"TransactionConfirmedCard",setup(r){const w=ge(),$=ht(),S=B(()=>$.confirmedOtherReports),x=w.params.branch_id,v=N("confirmed"),R=async()=>{try{const m=await $.fetchConfirmedOtherStocks(x,v.value);console.log(S.value)}catch(m){console.error("Error fetching confirmed stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",rp,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",dp,[l("div",ip,V(d(g.created_at)),1),l("div",up,V(h(g.created_at)),1),l("div",cp,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"green",outlined:""},{default:t(()=>[U(V(g.status),1)]),_:2},1024)]),l("div",null,[e(np,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",mp,[e(te,{name:"warning",color:"warning",size:"4em"}),pp]))])]),_:1})]))}};var gp=W(_p,[["__scopeId","data-v-5b0a7351"]]);const fp={class:"row justify-between"},vp=l("div",{class:"text-h6"},"Others Added Stocks Report",-1),yp={class:"q-mt-md"},hp={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(r){lt(),N(!1);const w=N(!1),$=()=>{w.value=!0},S=r,x=B(()=>(console.log("Filtered rows:",S.report||[]),S.report.other_added_stock||[])),v=d=>{const h=g=>g?g.charAt(0).toUpperCase()+g.slice(1).toLowerCase():"",p=d.firstname?h(d.firstname):"No Firstname",m=d.middlename?h(d.middlename).charAt(0)+".":"",f=d.lastname?h(d.lastname):"No Lastname";return`${p} ${m} ${f}`},R=[{name:"product_name",label:"Product Name",field:d=>(console.log("Row data:",d),d.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:d=>(console.log("Row data:",d),d.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:d=>d.added_stocks?`${d.added_stocks} pcs`:"N/A"}];return(d,h)=>(y(),D(Q,null,[l("div",null,[e(F,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:$})]),e(le,{modelValue:w.value,"onUpdate:modelValue":h[2]||(h[2]=p=>w.value=p)},{default:t(()=>[e(E,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(A,null,{default:t(()=>[l("div",fp,[vp,e(F,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:h[0]||(h[0]=p=>w.value=!1)})])]),_:1}),e(A,null,{default:t(()=>[l("div",null,"Cashier: "+V(v(r.report.employee)),1),l("div",null," Branch: "+V(r.report.branch.name),1),l("div",null,[U(" Status: "),e(ye,{color:"red",outlined:""},{default:t(()=>[U(V(r.report.status),1)]),_:1})]),l("div",yp,"Remark: "+V(r.report.remark),1)]),_:1}),e(A,null,{default:t(()=>[e(Ve,{rows:x.value,columns:R,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:d.pagination,"onUpdate:pagination":h[1]||(h[1]=p=>d.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const bp=r=>(X("data-v-67ff56ab"),r=r(),Z(),r),wp={class:"q-gutter-md q-ma-md"},xp={class:"row justify-between"},kp={class:"text-subtitle1"},Vp={class:"text-subtitle1"},$p={class:"text-subtitle1"},Cp={key:1,class:"data-error"},Sp=bp(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Rp={__name:"TransactionDeclinedCard",setup(r){const w=ge(),$=ht(),S=B(()=>$.declinedOtherReports),x=w.params.branch_id,v=N("declined"),R=async()=>{try{const m=await $.fetchDeclinedOtherStocks(x,v.value);console.log("selectedOtherProductDeclined",S.value)}catch(m){console.error("Error fetching decline stocks:",m)}};Ae(async()=>{x&&await R()});const d=m=>Se.formatDate(m,"MMMM D, YYYY"),h=m=>Se.formatDate(m,"hh:mm A"),p=m=>{const f=_=>_?_.charAt(0).toUpperCase()+_.slice(1).toLowerCase():"",g=m.firstname?f(m.firstname):"No Firstname",P=m.middlename?f(m.middlename).charAt(0)+".":"",c=m.lastname?f(m.lastname):"No Lastname";return`${g} ${P} ${c}`};return(m,f)=>(y(),D("div",null,[e(et,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[l("div",wp,[S.value.length?(y(!0),D(Q,{key:0},ee(S.value,(g,P)=>(y(),z(E,{key:P},{default:t(()=>[e(A,null,{default:t(()=>[l("div",xp,[l("div",kp,V(d(g.created_at)),1),l("div",Vp,V(h(g.created_at)),1),l("div",$p,V(g.branch.name)+" - "+V(p(g.employee)),1),l("div",null,[e(ye,{color:"red",outlined:""},{default:t(()=>[U(V(g.status),1)]),_:2},1024)]),l("div",null,[e(hp,{report:g},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128)):(y(),D("div",Cp,[e(te,{name:"warning",color:"warning",size:"4em"}),Sp]))])]),_:1})]))}};var Pp=W(Rp,[["__scopeId","data-v-67ff56ab"]]);const Up={class:"q-gutter-y-sm"},qp={__name:"OtherTransactionPage",setup(r){const w=N("pendingReports"),$=B(()=>{switch(w.value){case"pendingReports":return"warning";case"confirmReports":return"green-13";case"declineReports":return"red-6";default:return"light-green-13"}});return(S,x)=>(y(),D(Q,null,[l("div",Up,[e(nt,{modelValue:w.value,"onUpdate:modelValue":x[0]||(x[0]=v=>w.value=v),"indicator-color":$.value,"narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify"},{default:t(()=>[e($e,{class:"text-dark",name:"pendingReports",label:"\u{1F7E1}Pending Reports"}),e($e,{class:"text-dark",name:"confirmReports",label:"\u{1F7E2}Confirm Reports"}),e($e,{class:"text-dark",name:"declineReports",label:"\u{1F6D1}Decline Reports"})]),_:1},8,["modelValue","indicator-color"])]),e(st,{modelValue:w.value,"onUpdate:modelValue":x[1]||(x[1]=v=>w.value=v),animated:""},{default:t(()=>[e(Ce,{name:"pendingReports"},{default:t(()=>[e(lp)]),_:1}),e(Ce,{name:"confirmReports"},{default:t(()=>[e(gp)]),_:1}),e(Ce,{name:"declineReports"},{default:t(()=>[e(Pp)]),_:1})]),_:1},8,["modelValue"])],64))}};var Np=W(qp,[["__scopeId","data-v-b76c19b4"]]);const Dp=r=>(X("data-v-1debf745"),r=r(),Z(),r),Ap={class:"q-gutter-y-sm"},Ip=Dp(()=>l("h1",null,"Cake",-1)),Fp={__name:"TransactionPage",setup(r){const w=N("bread");return($,S)=>(y(),D(Q,null,[l("div",Ap,[e(nt,{modelValue:w.value,"onUpdate:modelValue":S[0]||(S[0]=x=>w.value=x),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e($e,{class:"text-white",name:"bread",label:"\u{1F35E}Bread"}),e($e,{class:"text-white",name:"selecta",label:"\u{1F366}Selecta"}),e($e,{class:"text-white",name:"softdrinks",label:"\u{1F964}Softdrinks"}),e($e,{class:"text-white",name:"cake",label:"\u{1F370}Cake"}),e($e,{class:"text-white",name:"other",label:"\u2B50Others"})]),_:1},8,["modelValue"])]),e(st,{modelValue:w.value,"onUpdate:modelValue":S[1]||(S[1]=x=>w.value=x),animated:""},{default:t(()=>[e(Ce,{name:"bread"},{default:t(()=>[e(rc)]),_:1}),e(Ce,{name:"selecta"},{default:t(()=>[e(Jc)]),_:1}),e(Ce,{name:"softdrinks"},{default:t(()=>[e(jm)]),_:1}),e(Ce,{name:"cake"},{default:t(()=>[e(E,null,{default:t(()=>[Ip]),_:1})]),_:1}),e(Ce,{name:"other"},{default:t(()=>[e(Np)]),_:1})]),_:1},8,["modelValue"])],64))}};var Tp=W(Fp,[["__scopeId","data-v-1debf745"]]);const at=r=>(X("data-v-f0d86c36"),r=r(),Z(),r),Bp=at(()=>l("div",{class:"text-h6"},"Create Branch Recipe",-1)),zp={class:"q-mb-lg"},Lp={key:0,class:"custom-list z-top"},jp={class:"q-mb-sm"},Op=at(()=>l("div",null,"Recipe Name",-1)),Hp={class:"q-mb-lg"},Mp=at(()=>l("div",null,"Category",-1)),Qp=at(()=>l("div",null,"Breads",-1)),Ep={class:"q-mt-md q-gutter-y-sm"},Kp=at(()=>l("div",{class:"text-weight-thin"},"Ingredients List",-1)),Yp={class:"q-mt-xl q-gutter-y-sm"},Gp={class:"row justify-between"},Wp=at(()=>l("div",{align:"center"},"Ingredients",-1)),Jp=at(()=>l("div",{align:"center"},"Quantity",-1)),Xp=["onKeyup"],Zp={align:"right"},e_={__name:"RecipeCreate",setup(r){const w=ge(),$=w.params.branch_id,S=Yt(),x=B(()=>S.recipes),v=ot(),R=rt(),d=ot(),h=B(()=>v.branchRecipes),p=N(!1),m=()=>{p.value=!0},f=()=>{clearForm(),p.value=!1},g=H=>H?H.split(" ").map(O=>O.charAt(0).toUpperCase()+O.slice(1).toLowerCase()).join(" "):"",P=N(""),c=async()=>{S.searchRecipe(P.value)},_=B(()=>b.target!==0),k=H=>{b.recipe_id=H.id,b.recipe_name=H.name,b.category=H.category,P.value=""},b=Ue({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:w.params.branch_id}),i=N(!1),u=N(null),n=N([]),s=N(n.value),o=N([]),a=N([]),C=Ue({name:"",quantity:""}),j=N(a.value);(async()=>{await R.fetchProductsByCategory("Bread"),i.value=!1,n.value=R.breads.map(H=>({label:H.name,value:H.id}))})(),(async()=>{const H="Ingredients";await d.fetchBranchRawMaterials(H,$),i.value=!1,a.value=d.ingredients.map(O=>({label:O.raw_material_name,value:O.raw_material_id,unit:O.ingredient_unit}))})();const ue=()=>{C.name="",C.quantity=""},Pe=(H,O)=>{H.length>2&&(n.value.includes(H)||O(H,"add-unique"))},xe=(H,O)=>{O(()=>{if(H==="")s.value=n.value;else{const M=H.toLowerCase();s.value=n.value.filter(L=>L.label.toLowerCase().indexOf(M)>-1)}})},re=(H,O)=>{O(()=>{if(H==="")j.value=a.value;else{const M=H.toLowerCase();j.value=a.value.filter(L=>L.label.toLowerCase().indexOf(M)>-1)}})},fe=()=>{const H=o.value;function O(Y,me){return Y.find(be=>be.ingredients_id==me)}const M=C.name.value;O(H,M)?ie.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(o.value=[...H,{ingredients_id:C.name.value,label:C.name.label,quantity:C.quantity,unit:C.name.unit}],ue())},Xe=H=>{o.value.splice(H,1)};oe(()=>C.name,H=>{H&&H.unit?C.unit=H.unit:C.unit=""});const Be=()=>{b.recipe_id="",b.target="",u.value=null,o.value=[],C.name="",C.quantity=""},ze=async()=>{const H={recipe_id:b.recipe_id,target:b.target,status:"active",branch_id:b.branches_id,breads:u.value.map(O=>({bread_id:O.value})),ingredients:o.value.map(O=>({ingredient_id:O.ingredients_id,quantity:O.quantity}))};console.log("branchRecipe",H),await v.saveBranchRecipe(H),h.value=await v.fetchBranchRecipes($),Be(),p.value=!1};return(H,O)=>(y(),D(Q,null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:m}),e(le,{modelValue:p.value,"onUpdate:modelValue":O[7]||(O[7]=M=>p.value=M)},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Bp,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,null,{default:t(()=>{var M;return[l("div",zp,[e(q,{modelValue:P.value,"onUpdate:modelValue":[O[0]||(O[0]=L=>P.value=L),c],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[P.value?(y(),D("div",Lp,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var L;return[(L=x.value)!=null&&L.length?(y(!0),D(Q,{key:1},ee(x.value,Y=>(y(),z(G,{onClick:me=>k(Y),key:Y.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(g(Y.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"])]),l("div",jp,[Op,e(q,{modelValue:b.recipe_name,"onUpdate:modelValue":O[1]||(O[1]=L=>b.recipe_name=L),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",Hp,[Mp,e(q,{modelValue:b.category,"onUpdate:modelValue":O[2]||(O[2]=L=>b.category=L),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",null,[e(q,{modelValue:b.target,"onUpdate:modelValue":O[3]||(O[3]=L=>b.target=L),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs",mask:"##.##"},null,8,["modelValue"])]),l("div",null,[Qp,e(vt,{modelValue:u.value,"onUpdate:modelValue":O[4]||(O[4]=L=>u.value=L),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:s.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:Pe,onFilter:xe,rules:[L=>L&&L.length>0||"Bread is required"]},{"no-option":t(()=>[e(G,null,{default:t(()=>[e(I,{class:"text-grey"},{default:t(()=>[U(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),l("div",Ep,[Kp,l("div",null,[e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[(y(!0),D(Q,null,ee(o.value,(L,Y)=>(y(),z(G,{key:Y},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(L.label),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[U(V(L.quantity)+" "+V(L.unit),1)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(F,{onClick:me=>Xe(Y),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),l("div",Yp,[l("div",Gp,[l("div",null,[Wp,e(vt,{modelValue:C.name,"onUpdate:modelValue":O[5]||(O[5]=L=>C.name=L),debounce:"3000",outlined:"","chips-color":"primary",options:j.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:re,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(G,null,{default:t(()=>[e(I,{class:"text-grey"},{default:t(()=>[U(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),l("div",null,[Jp,e(q,{modelValue:C.quantity,"onUpdate:modelValue":O[6]||(O[6]=L=>C.quantity=L),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((M=C==null?void 0:C.name)==null?void 0:M.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),l("form",{onKeyup:_e(jt(fe,["prevent"]),["enter"])},[l("div",Zp,[e(F,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:fe})])],40,Xp)])]}),_:1}),e(je,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:f}),e(F,{class:"glossy",color:"teal",label:"Create",onClick:ze,disable:!_.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var t_=W(e_,[["__scopeId","data-v-f0d86c36"]]);const zt=r=>(X("data-v-33664d62"),r=r(),Z(),r),l_=zt(()=>l("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),a_=zt(()=>l("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),o_={__name:"RecipeDelete",props:["delete"],setup(r){const w=ot(),$=r,S=N(!1),x=()=>{S.value=!0},v=async()=>{await w.deleteRecipe($.delete.row.id),S.value=!1};return(R,d)=>(y(),D(Q,null,[e(F,{onClick:x,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(he,{class:"bg-negative",delay:200},{default:t(()=>[U("Delete")]),_:1})]),_:1}),e(le,{modelValue:S.value,"onUpdate:modelValue":d[0]||(d[0]=h=>S.value=h),persistent:""},{default:t(()=>[e(E,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(A,{class:"q-pt-none q-pb-sm"},{default:t(()=>[l_,a_]),_:1}),e(mt,{class:"q-mb-md"}),e(A,null,{default:t(()=>[e(je,{align:"right",class:"q-pt-none"},{default:t(()=>[ne(e(F,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[se]]),e(F,{dense:"",label:"Delete",color:"negative",onClick:v,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var n_=W(o_,[["__scopeId","data-v-33664d62"]]);const s_=r=>(X("data-v-7a561dd0"),r=r(),Z(),r),r_={class:"text-h6 text-white"},d_=s_(()=>l("div",{class:"text-h6",align:"center"},"Bread List",-1)),i_={class:"row",align:"center"},u_={__name:"RecipeBreadGroups",props:["breadGroups"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe();console.log("breadGroups",r.breadGroups);const R=d=>d?d.split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1).toLowerCase()).join(" "):"";return(d,h)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(A,{class:"row bg-backgroud text-h6"},{default:t(()=>[l("div",r_,V(R(r.breadGroups.name)),1),e(Re),l("div",null,[ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])])]),_:1}),e(A,null,{default:t(()=>[d_]),_:1}),e(A,null,{default:t(()=>[(y(!0),D(Q,null,ee(r.breadGroups.bread_groups,(p,m)=>(y(),D("div",{key:m},[l("div",i_,V(p),1)]))),128))]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var c_=W(u_,[["__scopeId","data-v-7a561dd0"]]);const m_=r=>(X("data-v-435e3b8f"),r=r(),Z(),r),p_={class:"text-h6 text-white"},__=m_(()=>l("div",{class:"text-h6",align:"center"},"Ingredients List",-1)),g_={__name:"RecipeIngredientGroups",props:["ingredientGroups"],setup(r){const{dialogRef:w,onDialogHide:$,onDialogOK:S,onDialogCancel:x}=Fe();console.log("ingredientGroups",r.ingredientGroups);const R=h=>h?h.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",d=h=>{const p=Number(h.quantity)||0,m=h.unit||"";return p>1e3?`${parseFloat((p/1e3).toFixed(3))} kg`:p>1?`${parseFloat(p.toFixed(3))} ${m}`:`${parseFloat(p.toFixed(3))} ${m}`};return(h,p)=>(y(),z(le,{ref_key:"dialogRef",ref:w,onHide:ce($),persistent:"",position:"right","backdrop-filter":"blur(4px) saturate(150%)"},{default:t(()=>[e(E,{style:{width:"500px","max-width":"120vw"}},{default:t(()=>[e(A,{class:"row bg-backgroud text-h6"},{default:t(()=>[l("div",p_,V(R(r.ingredientGroups.name)),1),e(Re),l("div",null,[ne(e(F,{icon:"arrow_forward_ios",flat:"",dense:"",round:""},null,512),[[se]])])]),_:1}),e(A,null,{default:t(()=>[__]),_:1}),e(A,null,{default:t(()=>[e(pe,{dense:"",separator:"",class:"box"},{default:t(()=>[e(G,null,{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Raw Materials Name")]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Code")]),_:1})]),_:1}),e(I,{side:""},{default:t(()=>[e(T,{class:"text-overline"},{default:t(()=>[U("Quantity")]),_:1})]),_:1})]),_:1}),(y(!0),D(Q,null,ee(r.ingredientGroups.ingredient_groups,(m,f)=>(y(),z(G,{key:f},{default:t(()=>[e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(m.ingredient_name),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(m.code),1)]),_:2},1024)]),_:2},1024),e(I,{side:""},{default:t(()=>[e(T,{class:"text-caption"},{default:t(()=>[U(V(d(m)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["onHide"]))}};var f_=W(g_,[["__scopeId","data-v-435e3b8f"]]);const v_=r=>(X("data-v-d5197c2e"),r=r(),Z(),r),y_={class:"row justify-between"},h_={class:"q-my-sm"},b_={key:0,class:"spinner-wrapper"},w_={key:1},x_={key:0,class:"data-error"},k_=v_(()=>l("div",{class:"q-ml-sm text-h6"},"No data available",-1)),V_={class:"row justify-center q-gutter-x-md"},$_={__name:"RecipeTable",setup(r){const $=ge().params.branch_id,S=ot(),x=N(""),v=N(!0),R=N([]),d=N(!1),h=N({rowsPerPage:0}),p=["inactive","active"],m=B(()=>S.branchRecipes);console.log("branch recipe",m.value);const f=B(()=>x.value?m.value.filter(a=>a.name.toLowerCase().includes(x.value.toLowerCase())):m.value);Ae(async()=>{$&&await g($)});const g=async a=>{try{v.value=!0;const C=await S.fetchBranchRecipes(a);m.value=C,console.log("branchRecipeRows",m.value),m.value.length||(d.value=!0),console.log("Branch recipe",m.value)}catch(C){console.log("Error fetching recipe",C)}finally{v.value=!1}},P=a=>{const C=Number(a)||0;return parseFloat(C.toFixed(3)).toString()},c=a=>!a&&a!==0?"Set Target":typeof a=="number"||!isNaN(a)?(a=parseFloat(a),a%1===0?a:parseFloat(a.toFixed(1))):a;async function _(a,C){try{const j=await de.put("/api/update-target/"+a.id,{target:parseFloat(C)});if(console.log("response",j),j.status==200){const K=R.value.findIndex(ae=>ae.id==a.id);R.value[K]=C}ie.create({type:"positive",message:"Recipe target edited successfully"})}catch(j){console.error("Error updating recipe target:",j),ie.create({type:"negative",message:"Failed to edit recipe target"})}}async function k(a,C){try{if((await de.put("/api/branch-update-status/"+a.id,{status:C})).status==200){const K=R.value.findIndex(ae=>ae.id==a.id);R.value[K]=C}ie.create({type:"positive",message:"Recipe status change successfully"})}catch(j){console.error("Error updating recipe status:",j),ie.create({type:"negative",message:"Failed to change recipe status"})}}const b=a=>a?a.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"",i=[{name:"name",label:"Recipe name",align:"center",field:a=>a.name},{name:"category",label:"Category",align:"center",field:a=>a.recipe},{name:"target",label:"Target",align:"center",field:a=>c(a.target)},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],u=He(),n=a=>{console.log("Bread Groups:",a),u.dialog({component:c_,componentProps:{breadGroups:a}})},s=a=>{console.log("Ingredients Groups:",a),u.dialog({component:f_,componentProps:{ingredientGroups:a}})},o=a=>{switch(a){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(a,C)=>(y(),D(Q,null,[l("div",y_,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:x.value,"onUpdate:modelValue":C[0]||(C[0]=j=>x.value=j),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",h_,[e(t_)])]),v.value?(y(),D("div",b_,[e(yt,{size:"50px",color:"primary"})])):(y(),D("div",w_,[f.value.length===0?(y(),D("div",x_,[e(te,{name:"warning",color:"warning",size:"4em"}),k_])):(y(),z(Ve,{key:1,class:"table-container sticky-header",filter:x.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:i,rows:f.value,"row-key":"name","virtual-scroll":"",pagination:h.value,"onUpdate:pagination":C[1]||(C[1]=j=>h.value=j),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(j=>[e(J,{props:j},{default:t(()=>[l("span",null,V(b(j.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(j=>[e(J,{props:j},{default:t(()=>[l("span",null,V(b(j.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(j=>[e(J,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[l("span",null,[U(V(P(j.row.target))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[U("Edit Target")]),_:1})]),e(ve,{"onUpdate:modelValue":[K=>_(j.row,K),K=>j.row.target=K],modelValue:j.row.target,"auto-save":""},{default:t(K=>[e(q,{modelValue:K.value,"onUpdate:modelValue":ae=>K.value=ae,dense:"",suffix:"pcs",autofocus:"",counter:"",onKeyup:_e(K.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(j=>[e(J,{props:j},{default:t(()=>[e(ye,{outline:"",color:o(j.row.status)},{default:t(()=>[U(V(b(j.row.status))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[U("Change Status")]),_:1})]),_:2},1032,["color"]),e(ve,{"onUpdate:modelValue":[K=>k(j.row,K),K=>j.row.status=K],modelValue:j.row.status,"auto-save":""},{default:t(K=>[l("span",null,V(j.row.name),1),e(vt,{modelValue:K.value,"onUpdate:modelValue":ae=>K.value=ae,dense:"",label:"status",autofocus:"",options:p,counter:"",mask:"###",onKeyup:_e(K.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(j=>[e(J,{props:j},{default:t(()=>[e(F,{"no-caps":"",onClick:K=>n(j.row),label:`${j.row.bread_groups.length} breads`,rounded:"",color:"brown"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(j=>[e(J,{props:j},{default:t(()=>[e(F,{"no-caps":"",onClick:K=>s(j.row),label:`${j.row.ingredient_groups.length} ingredients`,rounded:"",color:"purple"},null,8,["onClick","label"])]),_:2},1032,["props"])]),"body-cell-action":t(j=>[e(J,{props:j},{default:t(()=>[l("div",V_,[e(n_,{delete:j},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var C_=W($_,[["__scopeId","data-v-d5197c2e"]]);const S_={__name:"RecipePage",setup(r){return(w,$)=>(y(),D("div",null,[e(C_)]))}},R_=l("div",{class:"text-h6"},"Create Branch Premix",-1),P_={key:0,class:"custom-list z-top"},U_={class:"q-mb-sm"},q_=l("div",null,"Recipe Name",-1),N_={class:"q-mb-lg"},D_=l("div",null,"Category",-1),A_=l("div",null,"Quantity",-1),I_={__name:"PremixCreate",setup(r){const $=ge().params.branch_id,S=ot(),x=B(()=>S.branchRecipe),v=St();B(()=>v.premixes);const R=N(!1),d=()=>{R.value=!0},h=N(""),p=async()=>{S.searchBranchRecipe(h.value,$),console.log("searchQuery.value",h.value),console.log("branchId",$)},m=B(()=>P.available_stocks!==0),f=_=>_?_.split(" ").map(k=>k.charAt(0).toUpperCase()+k.slice(1).toLowerCase()).join(" "):"",g=_=>{P.branch_recipe_id=_.id,P.name=_.name,P.category=_.category,h.value=""},P=Ue({branch_recipe_id:"",name:"",category:"",available_stocks:"",branch_id:$,status:"active"}),c=async()=>{console.log(P),await v.savePremix(P)};return(_,k)=>(y(),D("div",null,[e(F,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Premix",onClick:d}),e(le,{modelValue:R.value,"onUpdate:modelValue":k[4]||(k[4]=b=>R.value=b),persistent:""},{default:t(()=>[e(E,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(A,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[R_,e(Re),ne(e(F,{icon:"close",flat:"",dense:"",round:""},null,512),[[se]])]),_:1}),e(A,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[e(q,{modelValue:h.value,"onUpdate:modelValue":[k[0]||(k[0]=b=>h.value=b),p],debounce:"1000",outlined:"",rounded:"",placeholder:"Search premix",dense:""},{append:t(()=>[l("div",null,[e(te,{name:"search"})])]),default:t(()=>[h.value?(y(),D("div",P_,[e(E,null,{default:t(()=>[e(pe,{separator:""},{default:t(()=>{var b;return[(b=x.value)!=null&&b.length?(y(!0),D(Q,{key:1},ee(x.value,i=>(y(),z(G,{onClick:u=>g(i),key:i.id,clickable:""},{default:t(()=>[e(I,null,{default:t(()=>[e(T,null,{default:t(()=>[U(V(f(i==null?void 0:i.name)),1)]),_:2},1024)]),_:2},1024),e(I,null,{default:t(()=>[e(T,{side:""},{default:t(()=>[U(V(i==null?void 0:i.category),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),z(G,{key:0},{default:t(()=>[U(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):ke("",!0)]),_:1},8,["modelValue"]),l("div",U_,[q_,e(q,{modelValue:P.name,"onUpdate:modelValue":k[1]||(k[1]=b=>P.name=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),l("div",N_,[D_,e(q,{modelValue:P.category,"onUpdate:modelValue":k[2]||(k[2]=b=>P.category=b),readonly:"",dense:"",outlined:""},null,8,["modelValue"])])]),_:1}),e(A,null,{default:t(()=>[l("div",null,[A_,e(q,{modelValue:P.available_stocks,"onUpdate:modelValue":k[3]||(k[3]=b=>P.available_stocks=b),dense:"",outlined:"",type:"number",suffix:"kg/s"},null,8,["modelValue"])])]),_:1}),e(je,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(F,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:_.dismiss},null,8,["onClick"]),e(F,{class:"glossy",color:"teal",label:"Create",onClick:c,disable:!m.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},F_={class:"row justify-between"},T_={class:"q-my-sm"},B_={__name:"PremixTable",setup(r){const w=St(),$=B(()=>w.premixes);console.log("premixRows",$.value);const x=ge().params.branch_id,v=N(!1),R=N("");N(!1);const d=N({rowsPerPage:0}),h=["inactive","active"],p=N([]),m=B(()=>R.value?$.value.filter(b=>b.name.toLowerCase().includes(R.value.toLowerCase())):$.value);Ae(async()=>{x&&await f(x)});const f=async b=>{try{v.value=!0;const i=await w.fetchBranchPremix(b);$.value=i,console.log("premix branch fetch data",$.value)}catch(i){console.log(i)}finally{v.value=!1}},g=async(b,i)=>{console.log("data",b.id),console.log("val",i)},P=async(b,i)=>{try{if((await de.put("/api/branch-premix-update-status/"+b.id,{status:i})).status==200){const n=p.value.findIndex(s=>s.id==b.id);p.value[n]=i}ie.create({type:"positive",message:"Recipe target edited successfully"})}catch(u){console.error("Error updating recipe target:",u),ie.create({type:"negative",message:"Failed to edit recipe target"})}},c=b=>b?b.split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1).toLowerCase()).join(" "):"",_=b=>{if(b==="active")return"teal-5";if(b==="inactive")return"negative"},k=[{name:"name",label:"Premix Name",align:"center",field:b=>b.name},{name:"available_stocks",label:"Available Stocks",align:"center",field:"available_stocks"},{name:"status",label:"Status",align:"center",field:"status"}];return(b,i)=>(y(),D(Q,null,[l("div",F_,[l("div",null,[e(q,{class:"q-pb-lg q-pl-md",modelValue:R.value,"onUpdate:modelValue":i[0]||(i[0]=u=>R.value=u),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(te,{name:"search"})]),_:1},8,["modelValue"])]),l("div",T_,[e(I_)])]),l("div",null,[e(Ve,{class:"table-container sticky-header",filter:R.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:k,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:d.value,"onUpdate:pagination":i[1]||(i[1]=u=>d.value=u),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-status":t(u=>[e(J,{props:u},{default:t(()=>[e(ye,{outline:"",color:_(u.row.status)},{default:t(()=>[U(V(c(u.row.status))+" ",1),e(he,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[U(" Change Status ")]),_:1}),e(ve,{"onUpdate:modelValue":[n=>P(u.row,n),n=>u.row.status=n],modelValue:u.row.status,"auto-save":""},{default:t(n=>[l("span",null,V(u.row.name),1),e(vt,{modelValue:n.value,"onUpdate:modelValue":s=>n.value=s,dense:"",label:"status",autofocus:"",options:h,counter:"",mask:"###",onKeyup:_e(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-available_stocks":t(u=>[e(J,{props:u,class:"cursor-pointer"},{default:t(()=>[l("span",null,[Number(u.row.available_stocks)>=1?(y(),z(ye,{key:0,outline:"",class:"text-positive"},{default:t(()=>[U(V(Number(u.row.available_stocks)%1===0?Number(u.row.available_stocks):Number(u.row.available_stocks).toFixed(2).replace(/\.?0+$/,""))+" kgs",1)]),_:2},1024)):(y(),z(ye,{key:1,outline:"",class:"text-red-6"},{default:t(()=>[U(V((Number(u.row.available_stocks)*1e3).toFixed(0))+" grams",1)]),_:2},1024))]),e(ve,{"onUpdate:modelValue":[n=>g(u.row,n),n=>u.row.available_stocks=n],modelValue:u.row.available_stocks,modelModifiers:{number:!0},"auto-save":""},{default:t(n=>[e(q,{modelValue:n.value,"onUpdate:modelValue":s=>n.value=s,dense:"",type:"number",step:"0.01",autofocus:"",counter:"",onKeyup:_e(n.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])])],64))}},z_={__name:"PremixPage",setup(r){return(w,$)=>(y(),D("div",null,[e(B_)]))}};const L_={class:"elegant-container q-gutter-md"},j_={class:"text-h6 row justify-between"},O_={class:"q-gutter-sm"},H_={class:"tab-container"},M_={__name:"BranchIdPage",setup(r){const w=ge(),$=N(""),S=Ot(),x=async p=>(await de.get(`/api/branches/${p}`)).data,v=async()=>{const p=w.params.branch_id,m=await x(p);m&&m.name?$.value=m.name:console.error("Branch data is missing 'name' property or invalid:",m)};Ae(()=>{v()});const R=p=>p?p.split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1).toLowerCase()).join(" "):"",d=N("products"),h=()=>{Ie.show(),S.push("/admin/branches").finally(()=>{Ie.hide()})};return(p,m)=>(y(),z(Ht,{padding:""},{default:t(()=>[l("div",L_,[l("div",j_,[l("div",null,[e(F,{outline:"",flat:"",icon:"arrow_back",onClick:h}),e(Re)]),l("div",null,[e(te,{name:"fa-solid fa-store",color:"red-6"}),U(" "+V(R($.value)),1)])]),l("div",O_,[l("div",H_,[e(nt,{modelValue:d.value,"onUpdate:modelValue":m[0]||(m[0]=f=>d.value=f),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e($e,{name:"products",label:"Products"}),e($e,{name:"rawMaterials",label:"Raw Materials"}),e($e,{name:"recipe",label:"Recipe"}),e($e,{name:"premix",label:"Premix"}),e($e,{name:"production",label:"Production"}),e($e,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(E,{class:"q-mt-sm"},{default:t(()=>[e(st,{modelValue:d.value,"onUpdate:modelValue":m[1]||(m[1]=f=>d.value=f),animated:""},{default:t(()=>[e(Ce,{name:"products"},{default:t(()=>[e(bl)]),_:1}),e(Ce,{name:"rawMaterials"},{default:t(()=>[e(Ql)]),_:1}),e(Ce,{name:"recipe"},{default:t(()=>[e(S_)]),_:1}),e(Ce,{name:"premix"},{default:t(()=>[e(z_)]),_:1}),e(Ce,{name:"production"},{default:t(()=>[e(sc)]),_:1}),e(Ce,{name:"transaction"},{default:t(()=>[e(Tp)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var Ig=W(M_,[["__scopeId","data-v-d5e8a05e"]]);export{Ig as default};
