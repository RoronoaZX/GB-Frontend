import{g as se,aL as pe,aM as we,aT as he,aO as ge,c as k,j as A,k as ze,B as ye,r as _,u as ae,b7 as be,a$ as Me,S as Ee,T as Ae,A as xe,G as Ve,l as qe}from"./index.9d4ef66d.js";var Re=se({name:"QField",inheritAttrs:!1,props:{...pe,tag:{type:String,default:"label"}},emits:we,setup(){return he(ge({tagProp:!0}))}}),Be=se({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const f=k(()=>parseInt(e.lines,10)),u=k(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(f.value===1?" ellipsis":"")),h=k(()=>e.lines!==void 0&&f.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":f.value}:null);return()=>A("div",{style:h.value,class:u.value},ze(n.default))}});let Q=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const n=document.createElement("div");Object.assign(n.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(n),e.scrollLeft=-1e3,Q=e.scrollLeft>=0,e.remove()}const b=1e3,_e=["start","center","end","start-force","center-force","end-force"],ce=Array.prototype.filter,ke=window.getComputedStyle(document.body).overflowAnchor===void 0?ye:function(e,n){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const f=e.children||[];ce.call(f,h=>h.dataset&&h.dataset.qVsAnchor!==void 0).forEach(h=>{delete h.dataset.qVsAnchor});const u=f[n];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function O(e,n){return e+n}function Z(e,n,f,u,h,c,x,M){const g=e===window?document.scrollingElement||document.documentElement:e,y=h===!0?"offsetWidth":"offsetHeight",o={scrollStart:0,scrollViewSize:-x-M,scrollMaxSize:0,offsetStart:-x,offsetEnd:-M};if(h===!0?(e===window?(o.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o.scrollViewSize+=document.documentElement.clientWidth):(o.scrollStart=g.scrollLeft,o.scrollViewSize+=g.clientWidth),o.scrollMaxSize=g.scrollWidth,c===!0&&(o.scrollStart=(Q===!0?o.scrollMaxSize-o.scrollViewSize:0)-o.scrollStart)):(e===window?(o.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,o.scrollViewSize+=document.documentElement.clientHeight):(o.scrollStart=g.scrollTop,o.scrollViewSize+=g.clientHeight),o.scrollMaxSize=g.scrollHeight),f!==null)for(let S=f.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(o.offsetStart+=S[y]);if(u!==null)for(let S=u.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(o.offsetEnd+=S[y]);if(n!==e){const S=g.getBoundingClientRect(),p=n.getBoundingClientRect();h===!0?(o.offsetStart+=p.left-S.left,o.offsetEnd-=p.width):(o.offsetStart+=p.top-S.top,o.offsetEnd-=p.height),e!==window&&(o.offsetStart+=o.scrollStart),o.offsetEnd+=o.scrollMaxSize-o.offsetStart}return o}function ne(e,n,f,u){n==="end"&&(n=(e===window?document.body:e)[f===!0?"scrollWidth":"scrollHeight"]),e===window?f===!0?(u===!0&&(n=(Q===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-n),window.scrollTo(n,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,n):f===!0?(u===!0&&(n=(Q===!0?e.scrollWidth-e.offsetWidth:0)-n),e.scrollLeft=n):e.scrollTop=n}function C(e,n,f,u){if(f>=u)return 0;const h=n.length,c=Math.floor(f/b),x=Math.floor((u-1)/b)+1;let M=e.slice(c,x).reduce(O,0);return f%b!==0&&(M-=n.slice(c*b,f).reduce(O,0)),u%b!==0&&u!==h&&(M-=n.slice(u,x*b).reduce(O,0)),M}const ue={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Oe=Object.keys(ue),He={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...ue};function Te({virtualScrollLength:e,getVirtualScrollTarget:n,getVirtualScrollEl:f,virtualScrollItemSizeComputed:u}){const h=qe(),{props:c,emit:x,proxy:M}=h,{$q:g}=M;let y,o,S,p=[],d;const V=_(0),F=_(0),H=_({}),T=_(null),L=_(null),R=_(null),m=_({from:0,to:0}),D=k(()=>c.tableColspan!==void 0?c.tableColspan:100);u===void 0&&(u=k(()=>c.virtualScrollItemSize));const I=k(()=>u.value+";"+c.virtualScrollHorizontal),fe=k(()=>I.value+";"+c.virtualScrollSliceRatioBefore+";"+c.virtualScrollSliceRatioAfter);ae(fe,()=>{B()}),ae(I,X);function X(){G(o,!0)}function ee(t){G(t===void 0?o:t)}function P(t,l){const i=n();if(i==null||i.nodeType===8)return;const v=Z(i,f(),T.value,L.value,c.virtualScrollHorizontal,g.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd);S!==v.scrollViewSize&&B(v.scrollViewSize),W(i,v,Math.min(e.value-1,Math.max(0,parseInt(t,10)||0)),0,_e.indexOf(l)!==-1?l:o!==-1&&t>o?"end":"start")}function de(){const t=n();if(t==null||t.nodeType===8)return;const l=Z(t,f(),T.value,L.value,c.virtualScrollHorizontal,g.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd),i=e.value-1,v=l.scrollMaxSize-l.offsetStart-l.offsetEnd-F.value;if(y===l.scrollStart)return;if(l.scrollMaxSize<=0){W(t,l,0,0);return}S!==l.scrollViewSize&&B(l.scrollViewSize),Y(m.value.from);const w=Math.floor(l.scrollMaxSize-Math.max(l.scrollViewSize,l.offsetEnd)-Math.min(d[i],l.scrollViewSize/2));if(w>0&&Math.ceil(l.scrollStart)>=w){W(t,l,i,l.scrollMaxSize-l.offsetEnd-p.reduce(O,0));return}let s=0,a=l.scrollStart-l.offsetStart,z=a;if(a<=v&&a+l.scrollViewSize>=V.value)a-=V.value,s=m.value.from,z=a;else for(let r=0;a>=p[r]&&s<i;r++)a-=p[r],s+=b;for(;a>0&&s<i;)a-=d[s],a>-l.scrollViewSize?(s++,z=a):z=d[s]+a;W(t,l,s,z)}function W(t,l,i,v,w){const s=typeof w=="string"&&w.indexOf("-force")!==-1,a=s===!0?w.replace("-force",""):w,z=a!==void 0?a:"start";let r=Math.max(0,i-H.value[z]),E=r+H.value.total;E>e.value&&(E=e.value,r=Math.max(0,E-H.value.total)),y=l.scrollStart;const j=r!==m.value.from||E!==m.value.to;if(j===!1&&a===void 0){le(i);return}const{activeElement:ie}=document,q=R.value;j===!0&&q!==null&&q!==ie&&q.contains(ie)===!0&&(q.addEventListener("focusout",te),setTimeout(()=>{q!==null&&q.removeEventListener("focusout",te)})),ke(q,i-r);const Se=a!==void 0?d.slice(r,i).reduce(O,0):0;if(j===!0){const N=E>=m.value.from&&r<=m.value.to?m.value.to:E;m.value={from:r,to:N},V.value=C(p,d,0,r),F.value=C(p,d,E,e.value),requestAnimationFrame(()=>{m.value.to!==E&&y===l.scrollStart&&(m.value={from:m.value.from,to:E},F.value=C(p,d,E,e.value))})}requestAnimationFrame(()=>{if(y!==l.scrollStart)return;j===!0&&Y(r);const N=d.slice(r,i).reduce(O,0),$=N+l.offsetStart+V.value,re=$+d[i];let J=$+v;if(a!==void 0){const me=N-Se,K=l.scrollStart+me;J=s!==!0&&K<$&&re<K+l.scrollViewSize?K:a==="end"?re-l.scrollViewSize:$-(a==="start"?0:Math.round((l.scrollViewSize-d[i])/2))}y=J,ne(t,J,c.virtualScrollHorizontal,g.lang.rtl),le(i)})}function Y(t){const l=R.value;if(l){const i=ce.call(l.children,r=>r.classList&&r.classList.contains("q-virtual-scroll--skip")===!1),v=i.length,w=c.virtualScrollHorizontal===!0?r=>r.getBoundingClientRect().width:r=>r.offsetHeight;let s=t,a,z;for(let r=0;r<v;){for(a=w(i[r]),r++;r<v&&i[r].classList.contains("q-virtual-scroll--with-prev")===!0;)a+=w(i[r]),r++;z=a-d[s],z!==0&&(d[s]+=z,p[Math.floor(s/b)]+=z),s++}}}function te(){R.value!==null&&R.value!==void 0&&R.value.focus()}function G(t,l){const i=1*u.value;(l===!0||Array.isArray(d)===!1)&&(d=[]);const v=d.length;d.length=e.value;for(let s=e.value-1;s>=v;s--)d[s]=i;const w=Math.floor((e.value-1)/b);p=[];for(let s=0;s<=w;s++){let a=0;const z=Math.min((s+1)*b,e.value);for(let r=s*b;r<z;r++)a+=d[r];p.push(a)}o=-1,y=void 0,V.value=C(p,d,0,m.value.from),F.value=C(p,d,m.value.to,e.value),t>=0?(Y(m.value.from),Ve(()=>{P(t)})):U()}function B(t){if(t===void 0&&typeof window!="undefined"){const a=n();a!=null&&a.nodeType!==8&&(t=Z(a,f(),T.value,L.value,c.virtualScrollHorizontal,g.lang.rtl,c.virtualScrollStickySizeStart,c.virtualScrollStickySizeEnd).scrollViewSize)}S=t;const l=parseFloat(c.virtualScrollSliceRatioBefore)||0,i=parseFloat(c.virtualScrollSliceRatioAfter)||0,v=1+l+i,w=t===void 0||t<=0?1:Math.ceil(t/u.value),s=Math.max(1,w,Math.ceil((c.virtualScrollSliceSize>0?c.virtualScrollSliceSize:10)/v));H.value={total:Math.ceil(s*v),start:Math.ceil(s*l),center:Math.ceil(s*(.5+l)),end:Math.ceil(s*(1+l)),view:w}}function ve(t,l){const i=c.virtualScrollHorizontal===!0?"width":"height",v={["--q-virtual-scroll-item-"+i]:u.value+"px"};return[t==="tbody"?A(t,{class:"q-virtual-scroll__padding",key:"before",ref:T},[A("tr",[A("td",{style:{[i]:`${V.value}px`,...v},colspan:D.value})])]):A(t,{class:"q-virtual-scroll__padding",key:"before",ref:T,style:{[i]:`${V.value}px`,...v}}),A(t,{class:"q-virtual-scroll__content",key:"content",ref:R,tabindex:-1},l.flat()),t==="tbody"?A(t,{class:"q-virtual-scroll__padding",key:"after",ref:L},[A("tr",[A("td",{style:{[i]:`${F.value}px`,...v},colspan:D.value})])]):A(t,{class:"q-virtual-scroll__padding",key:"after",ref:L,style:{[i]:`${F.value}px`,...v}})]}function le(t){o!==t&&(c.onVirtualScroll!==void 0&&x("virtualScroll",{index:t,from:m.value.from,to:m.value.to-1,direction:t<o?"decrease":"increase",ref:M}),o=t)}B();const U=be(de,g.platform.is.ios===!0?120:35);Me(()=>{B()});let oe=!1;return Ee(()=>{oe=!0}),Ae(()=>{if(oe!==!0)return;const t=n();y!==void 0&&t!==void 0&&t!==null&&t.nodeType!==8?ne(t,y,c.virtualScrollHorizontal,g.lang.rtl):P(o)}),xe(()=>{U.cancel()}),Object.assign(M,{scrollTo:P,reset:X,refresh:ee}),{virtualScrollSliceRange:m,virtualScrollSliceSizeComputed:H,setVirtualScrollSize:B,onVirtualScrollEvt:U,localResetVirtualScroll:G,padVirtualScroll:ve,scrollTo:P,reset:X,refresh:ee}}export{Re as Q,Te as a,Be as b,Oe as c,Q as r,He as u};
