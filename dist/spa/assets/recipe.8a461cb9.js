import{d as n,n as i,P as a,N as r}from"./index.9c9d4c4e.js";import{api as c}from"./axios.fd4410eb.js";const g=n("recipes",()=>{const o=i(null),t=i([]);return{recipe:o,recipes:t,fetchRecipes:async()=>{const s=await c.get("/api/recipes");t.value=s.data},createRecipe:async s=>{try{a.show();const e=await c.post("/api/recipes",s);t.value.unshift(e.data)}catch(e){console.error("User Error message: ",e)}finally{a.hide()}},deleteRecipe:async s=>{a.show();try{const e=await c.delete(`/api/recipes/${s}`);t.value=t.value.filter(p=>p.id!==s),r.create({type:"positive",icon:"warning",message:"Recipe succesfully deleted",timeout:1e3})}catch(e){r.create({message:`Failed to delete item: ${e.message}`,type:"negative",position:"top-right"})}finally{a.hide()}},searchRecipe:async s=>{const e=await c.get("/api/search-recipes",{params:{keyword:s}});t.value=e.data,console.log("recipe:",e.data)}}});export{g as u};
