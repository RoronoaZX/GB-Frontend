import{d as v,r as g,N as h}from"./index.d0029116.js";import{api as n}from"./axios.7c64bd07.js";const b=v("uniform",()=>{const U=g(null),o=g({data:[],total:0,per_page:7,current_page:1,last_page:1});return{uniform:U,uniforms:o,fetchUniform:async(e,t,a)=>{try{const r=await n.get("/api/uniform",{params:{page:e,per_page:t,search:a}});o.value=r.data}catch(r){console.log("error fetching uniform",r)}},createUniforms:async e=>{try{const t=await n.post("/api/uniform",e);return h.create({type:"positive",message:"Uniform successfully created",timeout:1e3}),t.data}catch(t){console.log(t),h.create({type:"negative",message:errorMessage,timeout:1e3})}},searchUniform:async e=>{try{console.log("Searching with keyword:",e);const t=await n.post(`/api/search-uniform?keyword=${e}`);console.log("UNIFORm response:",t),o.value=t.data}catch(t){console.error("Error searching employee:",t)}},updateUnifrom:e=>{var a,r,s,i,p,c,l,u,_,m,d,y;console.log("Updating uniform with data:",e);const t={employee_id:e.employee.id,numberOfPayments:parseInt(e.number_of_payments),totalAmount:parseInt(e.total_amount),paymentPerPayroll:parseInt(e.payments_per_payroll),tShirtPcs:((r=(a=e.t_shirt)==null?void 0:a[0])==null?void 0:r.pcs)||null,tShirtPrice:((i=(s=e.t_shirt)==null?void 0:s[0])==null?void 0:i.price)||null,tShirtsize:((c=(p=e.t_shirt)==null?void 0:p[0])==null?void 0:c.size)||null,pantsPcs:((u=(l=e.pants)==null?void 0:l[0])==null?void 0:u.pcs)||null,pantsPrice:((m=(_=e.pants)==null?void 0:_[0])==null?void 0:m.price)||null,pantsSize:((y=(d=e.pants)==null?void 0:d[0])==null?void 0:y.size)||null};console.log("Payload for update:",t);try{return n.put(`/api/update/uniform/${e.id}`,t).data}catch(f){console.error("Error updating uniform:",f)}}}});export{b as u};
