import{d as h,r as c,N as r}from"./index.910c5d89.js";import{api as s}from"./axios.b52a58d3.js";const C=h("cash-advance",()=>{const d=c(null),n=c({data:[],total:0,per_page:7,current_page:1,last_page:1});return c(1),c(7),c(""),{cashAdvance:d,cashAdvances:n,createCashAdvance:async a=>{console.log("create cash advance",a);try{const e=await s.post("/api/cash-advance",a);return console.log("response cash advance",e.data),r.create({type:"positive",message:"Cash Advance saved"}),e.data}catch(e){throw console.log("CA error",e),r.create({type:"negative",message:"Error saving Cash Advance"}),e}},fetchCashAdvance:async(a,e,o)=>{try{const t=await s.get("/api/cash-advance",{params:{page:a,per_page:e,search:o}});console.log("ca fetch data",t.data),n.value=t.data}catch(t){console.log("===================================="),console.log(t),console.log("====================================")}},searchCashAdvance:async a=>{try{console.log("Searching for employee with keyword:",a);const e=await s.post(`/api/search-cash-advance?keyword=${a}`);console.log("CA response:",e),n.value=e.data}catch(e){console.error("Error searching CA:",e)}},updateAmount:async(a,e)=>{console.log("updateAmount cash advance",a,e);try{return await s.put("/api/update-employee-cash-advance/"+a.id,{amount:e})}catch(o){console.log(o)}},updateReason:async(a,e)=>{console.log("update reasons cash advance",a,e);try{return await s.put("/api/update-employee-cash-advance-reason/"+a.id,{reason:e})}catch(o){console.log(o)}},fetchCashAdvanceForDeduction:async a=>{console.log("fetchCashAdvanceForDeduction",a);try{const e=await s.get("/api/fetch-cash-advance-for-deduction/"+a);console.log("response cash advancessss",e.data),n.value=e.data}catch(e){console.log(e)}}}});export{C as u};
