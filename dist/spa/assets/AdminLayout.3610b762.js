import{Q as N,a as O}from"./QLayout.e3d7b8ad.js";import{e as W,n as v,g as _,z as C,A as J,h as X,k as Z,H as G,o as Q,c as q,w as r,a as t,Z as x,J as c,_ as M,$ as j,a0 as K,a1 as Y,Q as ee,I as te,M as V,a2 as B,a3 as L,a4 as ae,L as oe,O as H,R,r as re}from"./index.6a2e76bf.js";import{Q as le,a as se,b as ne,c as ie}from"./QDrawer.04237a61.js";import{b as ue}from"./selection.6e8843f8.js";import{Q as I,a as h}from"./QItem.a0938a99.js";import{Q as F}from"./QList.ed3bcae4.js";import{_ as ce}from"./GB_LOGO.b766a815.js";import{Q as de}from"./QMenu.94dae428.js";import{Q as me}from"./QSpinnerDots.76b45734.js";import{api as pe}from"./axios.eb07d1a5.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import"./QScrollObserver.8eab0048.js";import"./QResizeObserver.1defda4c.js";import"./TouchPan.d8daa975.js";import"./touch.9135741d.js";const D=XMLHttpRequest,U=D.prototype.open,fe=["top","right","bottom","left"];let w=[],k=0;function ve({p:e,pos:l,active:s,horiz:n,reverse:u,dir:d}){let a=1,o=1;return n===!0?(u===!0&&(a=-1),l==="bottom"&&(o=-1),{transform:`translate3d(${a*(e-100)}%,${s?0:o*-200}%,0)`}):(u===!0&&(o=-1),l==="right"&&(a=-1),{transform:`translate3d(${s?0:d*a*-200}%,${o*(e-100)}%,0)`})}function _e(e,l){return typeof l!="number"&&(e<25?l=Math.random()*3+3:e<65?l=Math.random()*3:e<85?l=Math.random()*2:e<99?l=.6:l=0),ue(e+l,0,100)}function he(e){k++,w.push(e),!(k>1)&&(D.prototype.open=function(l,s){const n=[],u=()=>{w.forEach(a=>{(a.hijackFilter.value===null||a.hijackFilter.value(s)===!0)&&(a.start(),n.push(a.stop))})},d=()=>{n.forEach(a=>{a()})};this.addEventListener("loadstart",u,{once:!0}),this.addEventListener("loadend",d,{once:!0}),U.apply(this,arguments)})}function be(e){w=w.filter(l=>l.start!==e),k=Math.max(0,k-1),k===0&&(D.prototype.open=U)}var ge=W({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>fe.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:l}){const{proxy:s}=Z(),n=v(0),u=v(!1),d=v(!0);let a=0,o=null,i;const m=_(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(d.value===!0?"":" no-transition")),p=_(()=>e.position==="top"||e.position==="bottom"),g=_(()=>p.value===!0?"height":"width"),y=_(()=>{const f=u.value,b=ve({p:n.value,pos:e.position,active:f,horiz:p.value,reverse:s.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:s.$q.lang.rtl===!0?-1:1});return b[g.value]=e.size,b.opacity=f?1:0,b}),E=_(()=>u.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n.value}:{"aria-hidden":"true"});function S(f=300){const b=i;return i=Math.max(0,f)||0,a++,a>1?(b===0&&f>0?$():o!==null&&b>0&&f<=0&&(clearTimeout(o),o=null),a):(o!==null&&clearTimeout(o),l("start"),n.value=0,o=setTimeout(()=>{o=null,d.value=!0,f>0&&$()},u._value===!0?500:1),u._value!==!0&&(u.value=!0,d.value=!1),a)}function A(f){return a>0&&(n.value=_e(n.value,f)),a}function T(){if(a=Math.max(0,a-1),a>0)return a;o!==null&&(clearTimeout(o),o=null),l("stop");const f=()=>{d.value=!0,n.value=100,o=setTimeout(()=>{o=null,u.value=!1},1e3)};return n.value===0?o=setTimeout(f,1):f(),a}function $(){n.value<100&&(o=setTimeout(()=>{o=null,A(),$()},i))}let z;return C(()=>{e.skipHijack!==!0&&(z=!0,he({start:S,stop:T,hijackFilter:_(()=>e.hijackFilter||null)}))}),J(()=>{o!==null&&clearTimeout(o),z===!0&&be(S)}),Object.assign(s,{start:S,stop:T,increment:A}),()=>X("div",{class:m.value,style:y.value,...E.value})}});const ye=c("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ke=c("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),xe={class:"q-text-truncate text-primary"},Ie=c("span",{class:"q-ml-md"},"Signing out",-1),Qe={__name:"ProfileAvatarComponent",setup(e){const l=v({}),s=v(!1),n=G();C(async()=>{try{const a=await pe.get("/api/profile");l.value=a.data}catch(a){console.error("Error fetching user data:",a)}});const u=()=>{s.value=!0,setTimeout(()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("activeMenuItem"),s.value=!1,n.push("/")},1e3)},d=_(()=>{const{firstname:a,middlename:o,lastname:i}=l.value.data.employee,m=a.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "),p=o?`${o.charAt(0).toUpperCase()}.`:"",g=i.charAt(0).toUpperCase();return`${m} ${p} ${g}${i.slice(1)}`});return(a,o)=>(Q(),q(V,{round:"",flat:""},{default:r(()=>[t(x,{size:"26px"},{default:r(()=>[ye]),_:1}),t(de,{"transition-show":"scale","transition-hide":"scale",anchor:"bottom left",self:"top left"},{default:r(()=>[t(F,{style:{"min-width":"100px"}},{default:r(()=>[t(I,{clickable:""},{default:r(()=>[t(h,{avatar:""},{default:r(()=>[t(x,{size:"26px"},{default:r(()=>[ke]),_:1})]),_:1}),t(h,null,{default:r(()=>[c("div",xe,M(d.value),1)]),_:1})]),_:1}),t(I,{clickable:""},{default:r(()=>[t(h,{avatar:""},{default:r(()=>[t(x,{icon:"settings",size:"xl"})]),_:1}),t(h,null,{default:r(()=>[j("Settings")]),_:1})]),_:1}),t(K),t(I,{clickable:"",onClick:u},{default:r(()=>[t(h,{avatar:""},{default:r(()=>[t(x,{icon:"logout",size:"xl"})]),_:1}),t(h,null,{default:r(()=>[j("Sign Out")]),_:1})]),_:1})]),_:1})]),_:1}),t(Y,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=i=>s.value=i)},{default:r(()=>[t(ee,null,{default:r(()=>[t(te,{class:"row items-center q-gutter-md"},{default:r(()=>[Ie,t(me,{size:"50px"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};const we=e=>(H("data-v-d5267292"),e=e(),R(),e),Se={class:"col-4"},$e={class:"row"},Me=we(()=>c("img",{src:ce,style:{width:"50px",height:"40px"}},null,-1)),je={class:"col-4 d-flex justify-center",align:"center"},Ce={class:"text-black mx-2 text-h6"},De={class:"col-4",align:"right"},Ae={class:""},Te={__name:"HeaderComponent",setup(e){const l=v(!1),s=v("dashboard"),n=v(localStorage.getItem("role")),u=v(null),d=[{name:"dashboard",icon:"fa-solid fa-house",to:"/admin/dashboard",label:"Dashboard",toolbarDisplay:"\u{1F4CA} Dashboard",separator:!0},{name:"raw_materials",icon:"fa-solid fa-layer-group",to:"/admin/raw_materials",label:"Raw Materials",toolbarDisplay:"\u{1F6E0}\uFE0F Raw Materials",separator:!0},{name:"recipe",icon:"description",to:"/admin/recipe",label:"Recipe",toolbarDisplay:"\u{1F4DC} Recipe",separator:!0},{name:"warehouse",icon:"factory",to:"/admin/warehouse",label:"Warehouse",toolbarDisplay:"\u{1F3ED} Warehouse",separator:!0},{name:"branches",icon:"fa-solid fa-store",to:"/admin/branches",label:"Branches",toolbarDisplay:"\u{1F3EA} Branches",separator:!0},{name:"products",icon:"fa-solid fa-cake-candles",to:"/admin/products",label:"Products",toolbarDisplay:"\u{1F956} Products",separator:!0},{name:"users",icon:"fa-solid fa-users",to:"/admin/users",label:"Users",toolbarDisplay:"\u{1F465} Roles and Permission",separator:!0},...n.value==="Super Admin"?[{name:"devices",icon:"fa-solid fa-mobile",to:"/admin/devices",label:"Devices",toolbarDisplay:"\u{1F4F1} Device",separator:!0}]:[],{name:"payroll",icon:"fa-solid fa-sack-dollar",to:"/admin/payroll",label:"Payroll",toolbarDisplay:"\u{1F4B0} Payroll Management",separator:!0}];C(()=>{const i=localStorage.getItem("activeMenuItem");i&&(s.value=i)});const a=async i=>{const m=u.value;m.start(),s.value=i,localStorage.setItem("activeMenuItem",i),m.stop()},o=_(()=>{const i=d.find(m=>m.name===s.value);return i?i.toolbarDisplay:"Menu"});return(i,m)=>(Q(),B(L,null,[t(ne,{elevated:"",class:"bg-white"},{default:r(()=>[t(le,{class:"row"},{default:r(()=>[c("div",Se,[c("div",$e,[t(V,{color:"red-6",flat:"",onClick:m[0]||(m[0]=p=>l.value=!l.value),dense:"",icon:"menu"}),t(se,{class:"py-md"},{default:r(()=>[Me]),_:1})])]),c("div",je,[c("div",Ce,[c("div",null,M(o.value),1)])]),c("div",De,[c("div",Ae,[c("div",null,[t(Qe)])])])]),_:1}),t(ge,{ref_key:"bar",ref:u,position:"top",color:"red-6",size:"7px","skip-hijack":""},null,512)]),_:1}),t(ie,{modelValue:l.value,"onUpdate:modelValue":m[1]||(m[1]=p=>l.value=p),"show-if-above":"",width:200,breakpoint:500,bordered:""},{default:r(()=>[t(F,{bordered:"",padding:""},{default:r(()=>[(Q(),B(L,null,ae(d,(p,g)=>t(I,{clickable:!0,key:g,onClick:y=>a(p.name),to:p.to,active:s.value===p.name,"active-class":"my-menu-link"},{default:r(()=>[t(h,{avatar:""},{default:r(()=>[t(oe,{name:p.icon},null,8,["name"])]),_:2},1024),t(h,null,{default:r(()=>[j(M(p.label),1)]),_:2},1024)]),_:2},1032,["onClick","to","active"])),64))]),_:1})]),_:1},8,["modelValue"])],64))}};var ze=P(Te,[["__scopeId","data-v-d5267292"]]);const Be=e=>(H("data-v-353b2b88"),e=e(),R(),e),Le=Be(()=>c("div",null,null,-1)),qe={__name:"AdminLayout",setup(e){return(l,s)=>{const n=re("router-view");return Q(),q(N,{view:"hHh Lpr lff"},{default:r(()=>[c("div",null,[t(ze)]),t(O,{style:{background:"#f7f8fc"}},{default:r(()=>[t(n)]),_:1}),Le]),_:1})}}};var Ye=P(qe,[["__scopeId","data-v-353b2b88"]]);export{Ye as default};
