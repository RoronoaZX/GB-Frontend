import{Q as C}from"./QBadge.ef775ae2.js";import{r as y,t as N,o as b,a3 as w,J as r,f as e,M as m,w as t,Q as I,I as h,ae as x,a1 as B,K as z,aJ as T,a2 as U,a4 as S,O as k,R as Q,a0 as V,c as E,z as K,u as G,L as j,e as A,$ as F}from"./index.f5aca2bf.js";import{Q as H}from"./QPage.3a27ff4e.js";import{Q as L}from"./QSpace.07da039b.js";import{Q as O}from"./QSelect.80d7903b.js";import{C as q}from"./ClosePopup.2451f4f5.js";import{u as D}from"./product.32dd9951.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as W}from"./QSpinnerDots.92f394d3.js";import{Q as $,a as X}from"./QTable.5772bfeb.js";import{Q as M}from"./QTooltip.c701fecd.js";import"./use-virtual-scroll.8d0a2b7e.js";import"./rtl.e56a4e85.js";import"./QChip.67cdcd1d.js";import"./QList.6cff10f1.js";import"./QMenu.4d91826c.js";import"./selection.9d6bdf1b.js";import"./axios.252592aa.js";import"./QVirtualScroll.bdd7934e.js";const Y=l=>(k("data-v-3331f097"),l=l(),Q(),l),Z=Y(()=>r("div",{class:"text-h5 q-mr-md"},"\u{1F956} Add Product",-1)),ee={class:"q-mt-lg q-animated q-animate-bounce"},te={class:"q-mt-md q-animated q-animate-bounce"},ae={__name:"ProductCreate",setup(l){const g=D(),d=["Bread","Selecta","Softdrinks","Others"],n=y(!1),p=()=>{n.value=!0},o=N({name:"",category:null}),f=async()=>{try{await g.createProducts({...o}),n.value=!1,console.log("Products Data",o),_()}catch(u){console.log("Error saving product:",u)}},_=()=>{o.name="",o.category=""};return(u,s)=>(b(),w(S,null,[r("div",null,[e(m,{class:"q-pa-sm btn-add",outline:"",dense:"",elevated:"",icon:"add_circle",label:"Add Product",onClick:p,style:{"background-color":"#ef4444"},size:"md",color:"dark"})]),r("div",null,[e(U,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=a=>n.value=a),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:t(()=>[e(I,{class:"my-card q-pa-none",style:{width:"420px","border-radius":"16px","box-shadow":"0 12px 24px rgba(0, 0, 0, 0.2)"}},{default:t(()=>[e(h,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[Z,e(L),x(e(m,{icon:"close",flat:"",dense:"",round:""},null,512),[[q]])]),_:1}),e(B,{class:"separator-gradient"}),e(h,{class:"q-px-xl q-pt-none q-pb-lg"},{default:t(()=>[r("div",ee,[e(z,{class:"text-capitalize",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),outlined:"",dense:"",label:"Product Name",rules:[a=>a&&a.length>0||"Product name is reuired"]},null,8,["modelValue","rules"])]),r("div",te,[e(O,{modelValue:o.category,"onUpdate:modelValue":s[1]||(s[1]=a=>o.category=a),"input-debounce":"0",options:d,"stack-label":"",outlined:"",dense:"",label:"Category",rules:[a=>a&&a.length>0||"Category is required"],"hide-dropdown-icon":"",behavior:"menu"},null,8,["modelValue","rules"])])]),_:1}),e(T,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[x(e(m,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[q]]),e(m,{class:"glossy",color:"teal",label:"Create",onClick:f})]),_:1})]),_:1})]),_:1},8,["modelValue"])])],64))}};var oe=P(ae,[["__scopeId","data-v-3331f097"]]);const le=l=>(k("data-v-008bfe47"),l=l(),Q(),l),se=le(()=>r("div",{class:"text-h5 q-mr-md"},"\u{1F956} Edit Product",-1)),re={class:"q-mt-lg q-animated q-animate-bounce"},ne={class:"q-mt-md q-animated q-animate-bounce"},de={__name:"ProductEdit",props:["edit"],setup(l){const g=D(),d=l,n=["Bread","Selecta","Softdrinks","Others"],p=y(!1),o=N({name:"",category:null}),f=()=>{Object.assign(o,d.edit.row),p.value=!0},_=async()=>{try{const u={...d.edit.row,...o};await g.updateProducts(d.edit.row.id,u),p.value=!1}catch(u){console.log("Failed to update ingredients:",u)}};return(u,s)=>(b(),w(S,null,[e(m,{onClick:f,color:"positive",icon:"edit",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(M,{class:"bg-positive",delay:200},{default:t(()=>[V("Edit")]),_:1})]),_:1}),e(U,{modelValue:p.value,"onUpdate:modelValue":s[2]||(s[2]=a=>p.value=a),persistent:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:t(()=>[e(I,{class:"my-card q-pa-none",style:{width:"420px","border-radius":"16px","box-shadow":"0 12px 24px rgba(0, 0, 0, 0.2)"}},{default:t(()=>[e(h,{class:"row items-center q-px-md q-py-sm bg-gradient text-white"},{default:t(()=>[se,e(L),x(e(m,{icon:"close",flat:"",dense:"",round:""},null,512),[[q]])]),_:1}),e(B,{class:"separator-gradient"}),e(h,{class:"q-px-xl q-pt-none q-pb-lg"},{default:t(()=>[r("div",re,[e(z,{class:"text-capitalize",modelValue:o.name,"onUpdate:modelValue":s[0]||(s[0]=a=>o.name=a),outlined:"",dense:"",label:"Product name",rules:[a=>a&&a.length>0]},null,8,["modelValue","rules"])]),r("div",ne,[e(O,{modelValue:o.category,"onUpdate:modelValue":s[1]||(s[1]=a=>o.category=a),"input-debounce":"0",options:n,"stack-label":"",outlined:"",dense:"",label:"Category",rules:[a=>a&&a.length>0],"hide-dropdown-icon":""},null,8,["modelValue","rules"])])]),_:1}),e(T,{class:"row q-px-lg q-py-sm q-pt-none",align:"right"},{default:t(()=>[x(e(m,{class:"glossy",color:"grey-9",label:"Dismiss"},null,512),[[q]]),e(m,{class:"glossy",color:"teal",label:"Save",onClick:_})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var ce=P(de,[["__scopeId","data-v-008bfe47"]]);const R=l=>(k("data-v-97b276fc"),l=l(),Q(),l),ie=R(()=>r("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ue=R(()=>r("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),pe={__name:"ProductDelete",props:["delete"],setup(l){const g=D(),d=y(!1),n=()=>{d.value=!0},o=l.delete.row,f=async()=>{try{await g.deleteProducts(o.id)}catch(_){console.error(_.message)}d.value=!1};return(_,u)=>(b(),w(S,null,[e(m,{onClick:n,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:""},{default:t(()=>[e(M,{class:"bg-negative",delay:200},{default:t(()=>[V("Delete")]),_:1})]),_:1}),e(U,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=s=>d.value=s)},{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(h,{class:"q-pt-none q-pb-sm"},{default:t(()=>[ie,ue]),_:1}),e(B,{class:"q-mb-md"}),e(T,{align:"right",class:"q-pt-none"},{default:t(()=>[x(e(m,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[q]]),e(m,{dense:"",label:"Delete",color:"negative",onClick:f,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var me=P(pe,[["__scopeId","data-v-97b276fc"]]);const _e=l=>(k("data-v-170511b0"),l=l(),Q(),l),ge={key:0,class:"spinner-wrapper"},fe={key:1},ve={key:0,class:"data-error"},ye=_e(()=>r("div",{class:"q-ml-sm text-h6"},"No data available",-1)),be={class:"row justify-center q-gutter-x-md"},we={__name:"ProductTable",setup(l){const g=y({rowsPerPage:0}),d=D(),n=y(""),p=E(()=>d.products);y(!0);const o=y(!0),f=y(!1),_=E(()=>n.value?p.value.filter(i=>i.name.toLowerCase().includes(n.value.toLowerCase())):p.value);K(async()=>{await s()});const u=i=>i?i.split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1).toLowerCase()).join(" "):"",s=async()=>{try{o.value=!0,await d.fetchProducts(),p.value.length||(f.value=!0)}catch{f.value=!0}finally{o.value=!1}};G(n,async i=>{o.value=!0,await new Promise(v=>setTimeout(v,1e3)),o.value=!1,f.value=_.value.length===0});const a=[{name:"name",label:"Product Name",align:"left",field:i=>i.name,format:i=>`${i}`},{name:"category",align:"left",label:"Category",field:"category"},{name:"action",align:"center",label:"Action",field:"action"}],J=i=>{switch(i){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}};return(i,v)=>(b(),w(S,null,[r("div",null,[e(z,{modelValue:n.value,"onUpdate:modelValue":v[0]||(v[0]=c=>n.value=c),class:"q-pb-lg q-pl-sm dynamic-width",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100"},{append:t(()=>[e(j,{name:"search"})]),_:1},8,["modelValue"])]),o.value?(b(),w("div",ge,[e(W,{size:"50px",color:"primary"})])):(b(),w("div",fe,[_.value.length===0?(b(),w("div",ve,[e(j,{name:"warning",color:"warning",size:"4em"}),ye])):(b(),A(X,{key:1,class:"table-container elegant-container sticky-header",filter:n.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"500px"},columns:a,rows:_.value,"row-key":"name",pagination:g.value,"onUpdate:pagination":v[1]||(v[1]=c=>g.value=c),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-name":t(c=>[e($,{key:"name",props:c},{default:t(()=>[V(F(u(c.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(c=>[e($,{key:"name",props:c},{default:t(()=>[e(C,{color:J(c.row.category)},{default:t(()=>[V(F(c.row.category),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-action":t(c=>[e($,{props:c},{default:t(()=>[r("div",be,[e(ce,{edit:c},null,8,["edit"]),e(me,{delete:c},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var he=P(we,[["__scopeId","data-v-170511b0"]]);const xe={class:"text-h6"},qe={class:"q-gutter-x-sm"},Pe={__name:"ProductsPage",setup(l){return y("bread"),(g,d)=>(b(),A(H,{class:"elegant-container",flat:""},{default:t(()=>[e(h,{class:"row justify-between"},{default:t(()=>[r("div",xe,[r("div",qe,[e(C,{label:"Bread",class:"text-white",color:"brown-13"}),e(C,{label:"Selecta",class:"text-white",color:"red-6"}),e(C,{label:"Sofdrinks",class:"text-white",color:"accent"})])]),r("div",null,[e(oe)])]),_:1}),e(h,null,{default:t(()=>[r("div",null,[e(he)])]),_:1})]),_:1}))}};var Me=P(Pe,[["__scopeId","data-v-3dd0d4ab"]]);export{Me as default};
