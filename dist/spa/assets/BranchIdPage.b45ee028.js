import{bd as ce,c as T,r as q,t as Ue,o as y,a2 as V,f as e,M as B,w as t,Q as I,I as S,ad as W,J as a,K as E,L as re,e as N,$ as D,a3 as j,a4 as se,_ as g,bc as Le,aI as Ce,a1 as G,a0 as De,N as de,O as ae,R as le,z as $e,u as Ie,ba as ke,aJ as st,be as A,d as rt,aH as it,H as dt,P as We}from"./index.0b60e264.js";import{Q as Be}from"./QSpace.31742ae0.js";import{Q as ze,a as _e,b as je,c as ge}from"./QTabPanels.f49d000a.js";import{Q as ct}from"./QPage.7f4a28d8.js";import{Q as Te,a as ve,b as xe}from"./QList.5369bf2c.js";import{b as Ne}from"./use-virtual-scroll.713d6039.js";import{C as J}from"./ClosePopup.21a672f8.js";import{u as Oe}from"./branch-product.416749f3.js";import{u as Xe}from"./product.b2adc66b.js";import{Q as Fe}from"./QSpinnerDots.91266efc.js";import{Q as F}from"./QTd.9908b774.js";import{Q as X}from"./QBadge.03af34b4.js";import{Q as Y}from"./QTooltip.6683254b.js";import{Q as qe}from"./QPopupEdit.4654160a.js";import{Q as oe}from"./QTable.97164290.js";import{_ as Z}from"./plugin-vue_export-helper.21dcd24c.js";import{api as ye}from"./axios.cf88b399.js";import{u as Qe}from"./branch-rawMaterials.479c85e4.js";import{u as Ze}from"./raw-material.fc46e0c3.js";import{u as be}from"./use-dialog-plugin-component.63668f29.js";import{q as he}from"./date.a187bf21.js";import{p as Ae,v as et}from"./vfs_fontes.3eb8cb31.js";import{u as Re}from"./use-quasar.623a593c.js";import{Q as Ee}from"./QScrollArea.1c4e94a0.js";import{u as Ve}from"./selecta-product.09068f4d.js";import{Q as Me}from"./QSelect.f3cb6742.js";import{Q as Je}from"./QChip.c2680bb5.js";import{u as ut}from"./recipe.bc27d904.js";import{u as Ke}from"./branch-recipe.15be5bdc.js";import"./QResizeObserver.1a4ff68d.js";import"./use-panel.3825c9d2.js";import"./touch.9135741d.js";import"./selection.ba482f16.js";import"./QMenu.b45c47c1.js";import"./QVirtualScroll.b2841121.js";import"./QScrollObserver.19320b02.js";import"./TouchPan.6a468543.js";const mt=a("div",{class:"text-h6"},"Create Branch Product",-1),pt={class:"q-mb-lg"},_t={key:0,class:"custom-list z-top"},gt=a("div",null,"Product Name",-1),ft=a("div",null,"Category",-1),vt={class:"row justify-between"},yt=a("div",null,"Beginnings",-1),ht=a("div",null,"Total Quantity",-1),bt=a("div",null,"Price",-1),wt={__name:"ProductCreate",setup(i){const w=ce(),x=Xe(),R=T(()=>x.products),h=Oe(),u=q(""),_=async()=>{x.searchProducts(u.value)},m=T(()=>n.price!==0&&n.beginnings!==0&&n.total_quantity!==0),f=q(!1),b=()=>{f.value=!0},s=()=>{d(),f.value=!1},l=c=>c?c.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join(" "):"",o=c=>{n.product_id=c.id,n.product_name=c.name,n.category=c.category,u.value=""},n=Ue({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:w.params.branch_id}),d=()=>{n.product_id="",n.product_name="",n.category="",n.price=0,n.beginnings=0,n.total_quantity=0},p=async()=>{try{const{product_name:c,...r}=n;await h.createBranchProducts(r),console.log("data to send",r),d(),f.value=!1}catch(c){console.log(c)}};return(c,r)=>(y(),V(j,null,[e(B,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:b}),e(G,{modelValue:f.value,"onUpdate:modelValue":r[6]||(r[6]=v=>f.value=v),persistent:""},{default:t(()=>[e(I,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(S,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[mt,e(Be),W(e(B,{icon:"close",flat:"",dense:"",round:""},null,512),[[J]])]),_:1}),e(S,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",pt,[e(E,{modelValue:u.value,"onUpdate:modelValue":[r[0]||(r[0]=v=>u.value=v),_],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(re,{name:"search"})])]),default:t(()=>[u.value?(y(),V("div",_t,[e(I,null,{default:t(()=>[e(Te,{separator:""},{default:t(()=>{var v;return[(v=R.value)!=null&&v.length?(y(!0),V(j,{key:1},se(R.value,$=>(y(),N(ve,{onClick:C=>o($),key:$.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[e(Ne,null,{default:t(()=>[D(g(l($.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),N(ve,{key:0},{default:t(()=>[D(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Le("",!0)]),_:1},8,["modelValue"])]),a("div",null,[gt,e(E,{modelValue:n.product_name,"onUpdate:modelValue":r[1]||(r[1]=v=>n.product_name=v),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[ft,e(E,{modelValue:n.category,"onUpdate:modelValue":r[2]||(r[2]=v=>n.category=v),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",vt,[a("div",null,[yt,e(E,{modelValue:n.beginnings,"onUpdate:modelValue":r[3]||(r[3]=v=>n.beginnings=v),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[ht,e(E,{modelValue:n.total_quantity,"onUpdate:modelValue":r[4]||(r[4]=v=>n.total_quantity=v),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[bt,e(E,{modelValue:n.price,"onUpdate:modelValue":r[5]||(r[5]=v=>n.price=v),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e(Ce,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(B,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:s}),e(B,{class:"glossy",color:"teal",label:"Create",onClick:p,disable:!m.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const tt=i=>(ae("data-v-196482e9"),i=i(),le(),i),xt=tt(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),$t=tt(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),kt={__name:"ProductDelete",props:["delete"],setup(i){const w=Oe(),x=i;console.log("delte",x.delete.row.id);const R=async()=>{try{await w.deleteBranchProducts(x.delete.row.id),de.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),h.value=!1}catch(_){console.error(_.message)}},h=q(!1),u=()=>{console.log("ID",x.delete.row.id),h.value=!0};return(_,m)=>(y(),V(j,null,[e(B,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(Y,{class:"bg-negative",delay:200},{default:t(()=>[D("Delete")]),_:1})]),_:1}),e(G,{modelValue:h.value,"onUpdate:modelValue":m[0]||(m[0]=f=>h.value=f)},{default:t(()=>[e(I,null,{default:t(()=>[e(S,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[xt,$t]),_:1}),e(De,{class:"q-mb-md"}),e(S,null,{default:t(()=>[e(Ce,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(B,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[J]]),e(B,{dense:"",label:"Delete",color:"negative",onClick:R,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Ct=Z(kt,[["__scopeId","data-v-196482e9"]]);const Rt=i=>(ae("data-v-7e992bc7"),i=i(),le(),i),Pt={class:"row justify-between"},St={class:"q-my-sm"},qt={key:0,class:"spinner-wrapper"},Vt={key:1},Dt={key:0,class:"data-error"},Bt=Rt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Ut={key:1},Tt={__name:"ProductTable",setup(i){const x=ce().params.branch_id,R=Oe(),h=q(""),u=q(!0),_=q([]),m=q(!1),f=q({rowsPerPage:0}),b=T(()=>R.branchProducts);console.log("branchssdfrer",b.value);const s=T(()=>h.value?b.value.filter($=>$.name.toLowerCase().includes(h.value.toLowerCase())):b.value),l=$=>$?$.split(" ").map(C=>C.charAt(0).toUpperCase()+C.slice(1).toLowerCase()).join(" "):"";$e(async()=>{x&&await o(x)});const o=async $=>{try{u.value=!0;const C=await R.fetchBranchProducts($);b.value=C,b.value.length||(m.value=!0),console.log("Branch product",b.value)}catch(C){console.log("Error fetching branch product:",C),m.value=!0}finally{u.value=!1}};Ie(h,async $=>{u.value=!0,await new Promise(C=>setTimeout(C,1e3)),u.value=!1,m.value=s.value.length===0});async function n($,C){try{const k=await ye.put("/api/update-branch-products/"+$.id,{price:parseInt(C)});if(k.status===200){const P=_.value.findIndex(K=>K.id==$.id);_.value[P]=parseInt(C),de.create({type:"positive",message:k.data.message,timout:1e3,position:"top"})}}catch(k){console.error("Error updating price:",k)}}async function d($,C){try{const k=await ye.put("/api/update-branch-products-beginnings/"+$.id,{beginnings:parseInt(C)});if(k.status===200){const P=_.value.findIndex(K=>K.id==$.id);_.value[P]=parseInt(C),de.create({type:"positive",message:k.data.message,timout:1e3,position:"top"})}}catch(k){console.error("Error updating price:",k)}}async function p($,C){try{const k=await ye.put("/api/update-branch-products-total-quantity/"+$.id,{total_quantity:parseInt(C)});if(k.status===200){const P=_.value.findIndex(K=>K.id==$.id);_.value[P]=parseInt(C),de.create({type:"positive",message:k.data.message,timout:1e3,position:"top"})}}catch(k){console.error("Error updating price:",k)}}const c=$=>{switch($){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},r=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format($),v=[{name:"name",label:"Product Name",align:"center",field:$=>$.product.name,format:$=>`${$}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:$=>r($),sortable:!0},{name:"beginnings",align:"center",label:"Beginnings",field:"beginnings",format:$=>`${$} pcs`,sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:$=>`${$} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return($,C)=>(y(),V(j,null,[a("div",Pt,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:h.value,"onUpdate:modelValue":C[0]||(C[0]=k=>h.value=k),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),a("div",St,[e(wt)])]),u.value?(y(),V("div",qt,[e(Fe,{size:"50px",color:"primary"})])):(y(),V("div",Vt,[s.value.length===0?(y(),V("div",Dt,[e(re,{name:"warning",color:"warning",size:"4em"}),Bt])):(y(),N(oe,{key:1,class:"table-container sticky-header",filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:v,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":C[1]||(C[1]=k=>f.value=k),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(k=>[e(F,{key:"name",props:k},{default:t(()=>{var P;return[D(g((P=k.row.product)!=null&&P.name?l(k.row.product.name):"No data available"),1)]}),_:2},1032,["props"])]),"body-cell-category":t(k=>[e(F,{key:"name",props:k},{default:t(()=>[k.row.category?(y(),N(X,{key:0,color:c(k.row.category)},{default:t(()=>[D(g(k.row.category),1)]),_:2},1032,["color"])):(y(),V("span",Ut,"No data available"))]),_:2},1032,["props"])]),"body-cell-price":t(k=>[e(F,{props:k,class:"cursor-pointer"},{default:t(()=>[a("span",null,[D(g(r(k.row.price))+" ",1),e(Y,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[D("Edit Price")]),_:1})]),e(qe,{"onUpdate:modelValue":[P=>n(k.row,P),P=>k.row.price=P],modelValue:k.row.price,"auto-save":""},{default:t(P=>[e(E,{modelValue:P.value,"onUpdate:modelValue":K=>P.value=K,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:ke(P.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-beginnings":t(k=>[e(F,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[D(g(k.row.beginnings?k.row.beginnings:"Set Beginnings")+" ",1),e(Y,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[D("Edit beginnings")]),_:1})]),e(qe,{"onUpdate:modelValue":[P=>d(k.row,P),P=>k.row.beginnings=P],modelValue:k.row.beginnings,"auto-save":""},{default:t(P=>[e(E,{modelValue:P.value,"onUpdate:modelValue":K=>P.value=K,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:ke(P.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-total_quantity":t(k=>[e(F,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[D(g(k.row.total_quantity?k.row.total_quantity:"Set Quantity")+" ",1),e(Y,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[D("Edit quantity")]),_:1})]),e(qe,{"onUpdate:modelValue":[P=>p(k.row,P),P=>k.row.total_quantity=P],modelValue:k.row.total_quantity,"auto-save":""},{default:t(P=>[e(E,{modelValue:P.value,"onUpdate:modelValue":K=>P.value=K,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:ke(P.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(k=>[e(F,{class:"q-gutter-x-md",props:k},{default:t(()=>[e(Ct,{delete:k},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Nt=Z(Tt,[["__scopeId","data-v-7e992bc7"]]);const At={class:"q-gutter-sm"},It={__name:"ProductPage",setup(i){return(w,x)=>(y(),V("div",At,[a("div",null,[e(Nt)])]))}},Ft=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),Ht={class:"q-mb-lg"},Mt={key:0,class:"custom-list z-top"},Lt=a("div",null,"Raw Materials Code",-1),zt=a("div",null,"Raw Materials Name",-1),jt=a("div",null,"Category",-1),Ot=a("div",null,"Quantity",-1),Qt={__name:"RawMaterialsCreate",setup(i){const w=ce(),x=Ze(),R=T(()=>x.rawMaterials),h=Qe(),u=q(""),_=async()=>{x.searchRawMaterials(u.value)},m=T(()=>o.total_quantity!==""),f=q(!1),b=()=>{f.value=!0},s=()=>{n(),f.value=!1},l=p=>{o.ingredients_id=p.id,o.ingredient_name=p.name,o.ingredient_code=p.code,o.category=p.category,o.unit=p.unit,u.value=""},o=Ue({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:w.params.branch_id}),n=()=>{o.ingredients_id="",o.ingredient_name="",o.ingredient_code="",o.total_quantity="",o.ingredients_id="",o.category="",o.unit=""},d=async()=>{try{const{product_name:p,...c}=o;await h.createBranchRawMaterials(c),console.log("data to send",c),n(),f.value=!1}catch(p){console.log(p)}};return(p,c)=>(y(),V(j,null,[e(B,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:b,style:{background:"#f43f5e"}}),e(G,{modelValue:f.value,"onUpdate:modelValue":c[5]||(c[5]=r=>f.value=r),persistent:""},{default:t(()=>[e(I,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(S,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Ft,e(Be),W(e(B,{icon:"close",flat:"",dense:"",round:""},null,512),[[J]])]),_:1}),e(S,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",Ht,[e(E,{modelValue:u.value,"onUpdate:modelValue":[c[0]||(c[0]=r=>u.value=r),_],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(re,{name:"search"})])]),default:t(()=>[u.value?(y(),V("div",Mt,[e(I,null,{default:t(()=>[e(Te,{separator:""},{default:t(()=>{var r;return[(r=R.value)!=null&&r.length?(y(!0),V(j,{key:1},se(R.value,v=>(y(),N(ve,{onClick:$=>l(v),key:v.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[e(Ne,null,{default:t(()=>[D(g(v.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),N(ve,{key:0},{default:t(()=>[D(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Le("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Lt,e(E,{modelValue:o.ingredient_code,"onUpdate:modelValue":c[1]||(c[1]=r=>o.ingredient_code=r),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[zt,e(E,{modelValue:o.ingredient_name,"onUpdate:modelValue":c[2]||(c[2]=r=>o.ingredient_name=r),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[jt,e(E,{modelValue:o.category,"onUpdate:modelValue":c[3]||(c[3]=r=>o.category=r),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Ot,e(E,{modelValue:o.total_quantity,"onUpdate:modelValue":c[4]||(c[4]=r=>o.total_quantity=r),type:"number",outlined:"",suffix:o.unit||"",dense:"",rules:[r=>r&&r.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e(Ce,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(B,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:s}),e(B,{class:"glossy",color:"teal",label:"Create",onClick:d,disable:!m.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const at=i=>(ae("data-v-17ad5e9f"),i=i(),le(),i),Et=at(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Kt=at(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),Yt={__name:"RawMaterialsTableDelete",props:["delete"],setup(i){const w=Qe(),x=i,R=async()=>{console.log("clickkkd");try{await w.deleteBranchRawMaterials(x.delete.row.id),de.create({type:"negative",icon:"warning",message:`Raw Materials ${x.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),h.value=!1}catch(_){console.error(_.message)}},h=q(!1),u=()=>{h.value=!0};return(_,m)=>(y(),V(j,null,[e(B,{onClick:u,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(Y,{class:"bg-negative",delay:200},{default:t(()=>[D("Delete")]),_:1})]),_:1}),e(G,{modelValue:h.value,"onUpdate:modelValue":m[0]||(m[0]=f=>h.value=f)},{default:t(()=>[e(I,null,{default:t(()=>[e(S,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Et,Kt]),_:1}),e(De,{class:"q-mb-md"}),e(S,null,{default:t(()=>[e(Ce,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(B,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[J]]),e(B,{dense:"",label:"Delete",color:"negative",onClick:R,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Gt=Z(Yt,[["__scopeId","data-v-17ad5e9f"]]);const lt=i=>(ae("data-v-74a3fea6"),i=i(),le(),i),Wt={class:"row justify-between"},Jt={class:"q-my-sm"},Xt={key:0,class:"spinner-wrapper"},Zt={key:1},ea={key:0,class:"data-error"},ta=lt(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),aa=lt(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),la={class:"row justify-center q-gutter-x-md"},oa={__name:"RawMaterialsTable",setup(i){const x=ce().params.branch_id,R=Qe(),h=q(""),u=q(!0),_=q([]),m=q(!1),f=q({rowsPerPage:0}),b=T(()=>R.branchRawMaterials),s=T(()=>h.value?b.value.filter(c=>c.name.toLowerCase().includes(h.value.toLowerCase())):b.value);$e(async()=>{console.log("props.branchId in onMounted:",x),x&&await l(x)});const l=async c=>{try{u.value=!0;const r=await R.fetchBranchRawMaterials(c);b.value=r,b.value.length||(m.value=!0),console.log("Branch Raw Materials",b.value)}catch(r){console.log("Error fetching branch product:",r),m.value=!0}finally{u.value=!1}};async function o(c,r){try{const v=await ye.put("/api/update-branch-rawMaterials/"+c.id,{total_quantity:parseInt(r)});if(v.status===200){const $=_.value.findIndex(C=>C.id==c.id);_.value[$]=parseInt(r),de.create({type:"positive",message:v.data.message,timout:1e3,position:"top"})}}catch(v){console.error("Error updating price:",v)}}Ie(h,async c=>{u.value=!0,await new Promise(r=>setTimeout(r,1e3)),u.value=!1,m.value=s.value.length===0});const n=c=>{const r=c.total_quantity;if(c.ingredients.unit==="Grams"&&r<1e3)return"bg-red";let $;return r>=1e3?$=r/1e3:$=r,$<5?$<=2?"bg-red":($<=3,"bg-warning"):"bg-positive"},d=c=>{const r=c.total_quantity,v=c.ingredients.unit;if(r>1e3){const $=(r/1e3).toFixed(2);return $.endsWith(".00")?`${Math.round(r/1e3)} kilos`:`${$} kilos`}else return r>1?`${r} ${v}`:`${r} ${v}`},p=[{name:"code",label:"Raw Materials Code",align:"center",field:c=>{var r,v;return(v=(r=c==null?void 0:c.ingredients)==null?void 0:r.code)!=null?v:"No Code"},format:c=>`${c}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:c=>{var r,v;return(v=(r=c==null?void 0:c.ingredients)==null?void 0:r.name)!=null?v:"No Code"},format:c=>`${c}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(c,r)=>(y(),V(j,null,[a("div",Wt,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=v=>h.value=v),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Jt,[e(Qt)])]),u.value?(y(),V("div",Xt,[e(Fe,{size:"50px",color:"primary"})])):(y(),V("div",Zt,[s.value.length===0?(y(),V("div",ea,[e(re,{name:"warning",color:"warning",size:"4em"}),ta])):(y(),N(oe,{key:1,class:"table-container sticky-header",filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:p,rows:s.value,"row-key":"name","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":r[1]||(r[1]=v=>f.value=v),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(v=>[e(F,{props:v},{default:t(()=>[e(X,{square:"",class:st(["text-white cursor-pointer",n(v.row)])},{default:t(()=>[D(g(d(v.row))+" ",1),e(Y,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[aa]),_:1}),e(qe,{"onUpdate:modelValue":[$=>o(v.row,$),$=>v.row.total_quantity=$],modelValue:v.row.total_quantity,"auto-save":""},{default:t($=>[e(E,{modelValue:$.value,"onUpdate:modelValue":C=>$.value=C,dense:"",suffix:v.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:ke($.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(v=>[e(F,{props:v},{default:t(()=>[a("div",la,[e(Gt,{delete:v},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var na=Z(oa,[["__scopeId","data-v-74a3fea6"]]);const sa={class:"q-gutter-sm"},ra={class:"q-gutter-x-sm"},ia={__name:"RawMaterialsPage",setup(i){return(w,x)=>(y(),V("div",sa,[a("div",ra,[e(X,{label:"Good",class:"text-white",color:"positive"}),e(X,{label:"Warning",class:"text-white",color:"warning"}),e(X,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(na)])]))}};const Ye=i=>(ae("data-v-239e42ee"),i=i(),le(),i),da=Ye(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),ca={class:"text-subtitle1 text-weight-regular"},ua={class:"row q-gutter-md"},ma={class:"text-h6 row justify-between"},pa={class:"row items-start q-gutter-x-md text-overline elegant-text"},_a={class:"row q-gutter-x-sm q-gutter-y-xm"},ga={class:"row q-gutter-x-sm q-gutter-y-xm"},fa={class:"row q-gutter-x-sm"},va={class:"row q-gutter-x-sm"},ya={class:"row"},ha={class:"col-6"},ba=Ye(()=>a("div",{class:"text-subtitle1",align:"center"},"Ingredients",-1)),wa={class:"row justify-center q-gutter-x-lg q-pa-lg"},xa={class:"row items-start"},$a={class:"col-6"},ka=Ye(()=>a("div",{class:"text-subtitle1",align:"center"},"Bread",-1)),Ca={class:"row justify-center q-gutter-x-lg q-pa-lg"},Ra={key:0},Pa={key:1},Sa={key:2},qa={class:"q-ma-sm"},Va={class:"q-ma-sm",align:"center"},Da=["src"],Ba={__name:"BakerReportPanel",props:["bakersReport"],setup(i){Ae.exports.vfs=et;const w=i,x=w.bakersReport;console.log("Bakers Report",w.bakersReport);const R=q(!0),h=q(!1),u=q(""),_=d=>he.formatDate(d,"MMM. DD, YYYY"),m=d=>d?d.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",f=d=>{const p=$=>$?$.charAt(0).toUpperCase()+$.slice(1).toLowerCase():"",c=d.firstname?p(d.firstname):"No Firstname",r=d.middlename?p(d.middlename).charAt(0)+".":"",v=d.lastname?p(d.lastname):"No Lastname";return`${c} ${r} ${v}`.trim()},b=d=>{const p=new Date(d),c={hour:"2-digit",minute:"2-digit",hour12:!0};return p.toLocaleTimeString(void 0,c)},s=d=>{switch(d){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},l=d=>d?d.recipe_category==="Filling"?d.filling_bakers_reports||[]:d.recipe_category==="Dough"?d.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),o=d=>{var P,K,L,M;console.log("bakerReport",d);const p=`${d.branch_recipe.recipe.name} (${d.recipe_category})`,c=d.branch_recipe.recipe.target,r=d.actual_target,v=d.kilo,$=d.over,C=d.short,k={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:p,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${c} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${r} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${v} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${$} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${C} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${d.branch.name||"No name available"}
                Baker: ${f(((P=d==null?void 0:d.user)==null?void 0:P.employee)||"Unknown Baker Name")}
                Recipe: ${((K=d.recipe)==null?void 0:K.name)||"Unknown Recipe"} (${d.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${_(((L=w.bakersReport[0])==null?void 0:L.created_at)||((M=w.bakersReport[1])==null?void 0:M.created_at)||"No name available")}
                Time: ${b(d.created_at)}
                Status: ${m(d.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...l(d).map(Q=>{var ee;return[{text:((ee=Q==null?void 0:Q.bread)==null?void 0:ee.name)||"Unknown Bread",style:"body"},{text:d.recipe_category==="Filling"?`${(Q==null?void 0:Q.filling_production)||"0"} pcs`:`${Q==null?void 0:Q.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(d.ingredient_bakers_reports||[]).map(Q=>{var ee,O;return[{text:((ee=Q==null?void 0:Q.ingredients)==null?void 0:ee.code)||"Unknown Ingredient",style:"body"},{text:`${(Q==null?void 0:Q.quantity)||"Unknown Quantity"} ${((O=Q==null?void 0:Q.ingredients)==null?void 0:O.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},k]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},n=d=>{const p=o(d);Ae.exports.createPdf(p).getDataUrl(c=>{u.value=c,h.value=!0})};return(d,p)=>(y(),V("div",null,[e(I,{class:"my-card q-pa-md"},{default:t(()=>{var c,r,v,$,C,k;return[da,a("div",ca,[a("div",null," Name: "+g(f(((r=(c=A(x)[0])==null?void 0:c.user)==null?void 0:r.employee)||(($=(v=A(x)[1])==null?void 0:v.user)==null?void 0:$.employee)||"No name available")),1),a("div",null," Date: "+g(`${_(((C=w.bakersReport[0])==null?void 0:C.created_at)||((k=w.bakersReport[1])==null?void 0:k.created_at)||"No name available")}`),1)]),e(S,null,{default:t(()=>[a("div",ua,[(y(!0),V(j,null,se(A(x),(P,K)=>(y(),V("div",{key:K,class:"row q-gutter-sm"},[e(I,{flat:"",dense:"",bordered:"",class:"q-pa-md q-my-sm user-card",style:{width:"675px","max-width":"1500px"}},{default:t(()=>{var L;return[a("div",ma,[a("div",null,g(`${m((L=P.branch_recipe.recipe)==null?void 0:L.name)||"Unknown Recipe"} (${P.recipe_category||"Unknown Category"})`),1),e(B,{padding:"xs md",label:"Print",icon:"print",outline:"",onClick:M=>n(P),class:"user-button"},null,8,["onClick"])]),a("div",null,"Time: "+g(b(P.created_at)),1),a("div",null,[D(" Status: "),e(X,{align:"middle",color:s(P.status)},{default:t(()=>[D(g(m(P.status)),1)]),_:2},1032,["color"])]),e(S,null,{default:t(()=>[a("div",pa,[a("div",_a,[D(" Actual Target: "),a("div",null,[e(X,{outline:"",align:"middle",color:"teal"},{default:t(()=>[D(g(`${(P==null?void 0:P.actual_target)||"No target"} pcs`),1)]),_:2},1024)])]),a("div",ga,[D(" Kilo: "),a("div",null,[e(X,{outline:"",align:"middle",color:"teal"},{default:t(()=>[D(g(`${(P==null?void 0:P.kilo)||"No Kilo"} kgs`),1)]),_:2},1024)])]),a("div",fa,[D(" Over: "),a("div",null,[e(X,{outline:"",align:"middle",color:"teal"},{default:t(()=>[D(g(`${P.over} pcs`),1)]),_:2},1024)])]),a("div",va,[D(" Short: "),a("div",null,[e(X,{outline:"",align:"middle",color:"teal"},{default:t(()=>[D(g(`${P.short} pcs`),1)]),_:2},1024)])])])]),_:2},1024),e(S,null,{default:t(()=>[a("div",ya,[a("div",ha,[ba,a("div",wa,[a("div",null,[(y(!0),V(j,null,se(P.ingredient_bakers_reports||[],(M,Q)=>{var ee,O;return y(),V("div",{key:Q,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,g(((ee=M==null?void 0:M.ingredients)==null?void 0:ee.name)||"Unknown Ingredient"),1),a("div",xa,g(`${(M==null?void 0:M.quantity)||"Unknown Quantity"} ${((O=M==null?void 0:M.ingredients)==null?void 0:O.unit)||""}`),1)])}),128))])])]),a("div",$a,[ka,a("div",Ca,[a("div",null,[(y(!0),V(j,null,se(l(P),(M,Q)=>{var ee;return y(),V("div",{key:Q,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,g(((ee=M==null?void 0:M.bread)==null?void 0:ee.name)||"Unknown Bread"),1),a("div",null,[P.recipe_category==="Filling"?(y(),V("div",Ra,g(`${(M==null?void 0:M.filling_production)||"0"} pcs`),1)):P.recipe_category==="Dough"?(y(),V("div",Pa,g(`${M==null?void 0:M.bread_new_production} pcs`),1)):(y(),V("div",Sa,g("0 pcs")))])])}),128))])])])])]),_:2},1024)]}),_:2},1024)]))),128))])]),_:1})]}),_:1}),e(G,{modelValue:h.value,"onUpdate:modelValue":p[0]||(p[0]=c=>h.value=c),"backdrop-filter":d.backdropFilter,maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",qa,[a("div",Va,[W((y(),N(B,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(Y,null,{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,Da)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var Ua=Z(Ba,[["__scopeId","data-v-239e42ee"]]);const Ta={class:"row justify-between text-white"},Na=a("div",{class:"text-h6"},"Bread Report",-1),Aa={class:"row justify-end q-mt-md"},Ia={class:"text-h6"},Fa={__name:"BreadReport",props:["reports"],setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i;console.log("Reports data structure:",u.reports);const _=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",m=[{name:"name",label:"Bread Name",field:l=>(console.log("Row data:",l),l.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:l=>`${l}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:l=>`${l}`},{name:"total",label:"Bread Total (PCS)",field:"total",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],f=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),b=T(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),s=T(()=>{const l=b.value.reduce((o,n)=>{const d=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${d} to total: ${o}`),o+d},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Overall Total Sales:",s.value),(l,o)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Ta,[Na,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${_(n.row.bread.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(S,null,{default:t(()=>[a("div",Aa,[a("div",Ia," Overall Total Sales: "+g(f(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ha={class:"row justify-between text-white"},Ma=a("div",{class:"text-h6"},"Selecta Report",-1),La={class:"row justify-end q-mt-md"},za={class:"text-h6"},ja={__name:"SelectaReport",props:["reports"],setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i;console.log("Reports data structure:",u.reports);const _=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",m=[{name:"name",label:"Selecta Name",field:l=>(console.log("Row data:",l),l.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:l=>`${l}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],f=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),b=T(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),s=T(()=>{const l=b.value.reduce((o,n)=>{const d=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${d} to total: ${o}`),o+d},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Filtered Rows:",b.value),(l,o)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Ha,[Ma,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${_(n.row.selecta.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(S,null,{default:t(()=>[a("div",La,[a("div",za," Overall Total Sales: "+g(f(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Oa={class:"row justify-between text-white"},Qa=a("div",{class:"text-h6"},"Softdrinks Report",-1),Ea={class:"row justify-end q-mt-md"},Ka={class:"text-h6"},Ya={__name:"SoftdrinksReport",props:["reports"],setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i;console.log("Reports data structure:",u.reports);const _=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",m=[{name:"name",label:"Softdrinks Name",field:l=>(console.log("Row data:",l),l.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:l=>`${l}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],f=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),b=T(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),s=T(()=>{const l=b.value.reduce((o,n)=>{const d=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${d} to total: ${o}`),o+d},0);return console.log("Overall Total Sales computed as:",l),l});return console.log("Filtered Rows:",b.value),(l,o)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Oa,[Qa,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${_(n.row.softdrinks.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(S,null,{default:t(()=>[a("div",Ea,[a("div",Ka," Overall Total Sales: "+g(f(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Ga={class:"row justify-between text-white"},Wa=a("div",{class:"text-h6"},"Cake Report",-1),Ja={class:"row justify-end q-mt-md"},Xa={class:"text-h6"},Za={__name:"CakeReport",props:["reports"],setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i;console.log("Report cake:",u.reports);const _=T(()=>(console.log("Filtered cake rows:",u.reports||[]),u.reports||[])),m=l=>{const o=c=>c?c.charAt(0).toUpperCase()+c.slice(1).toLowerCase():"",n=l.firstname?o(l.firstname):"No Firstname",d=l.middlename?o(l.middlename).charAt(0)+".":"",p=l.lastname?o(l.lastname):"No Lastname";return`${n} ${d} ${p}`},f=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1 "),b=T(()=>{const l=_.value.reduce((o,n)=>{const d=parseFloat(n.cake_report.price)||0;return console.log(`Adding salesAmount: ${d} to total: ${o}`),o+d},0);return console.log("Overall Total Sales computed as:",l),l}),s=[{name:"name",label:"Cake Name",field:l=>(console.log("Row data:",l),l.cake_report.name||"N/A")},{name:"cake_maker",label:"Cake Maker Name",field:l=>m(l.cake_report.user.employee)},{name:"price",label:"Price",field:l=>f(l.cake_report.price)},{name:"layers",label:"Layers",field:l=>l.cake_report.layers},{name:"sales_status",label:"Sale Status",field:l=>l.cake_report.sales_status}];return(l,o)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#009688"}},{default:t(()=>[a("div",Ga,[Wa,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:_.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["filter","rows","pagination"]),a("div",Ja,[a("div",Xa," Overall Total Sales: "+g(f(b.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},el={class:"row justify-between text-white"},tl=a("div",{class:"text-h6"},"Other Products Report",-1),al={class:"row justify-end q-mt-md"},ll={class:"text-h6"},ol={__name:"OtherProductsReport",props:["reports"],setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i,_=T(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[])),m=l=>l?l.split(" ").map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join(" "):"",f=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),b=[{name:"name",label:"Product Name",field:l=>(console.log("Row data:",l),l.other_products.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:l=>`${l}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:l=>`${l}`},{name:"out",label:"Product Out (PCS)",field:"out",format:l=>`${l}`},{name:"sold",label:"Product Sold (PCS)",field:"sold",format:l=>`${l}`},{name:"sales",label:"Total Sales",field:"sales"}],s=T(()=>{const l=_.value.reduce((o,n)=>{const d=parseFloat(n.sales)||0;return console.log(`Adding salesAmount: ${d} to total: ${o}`),o+d},0);return console.log("Overall Total Sales computed as:",l),l});return(l,o)=>(y(),V("div",null,[e(G,{ref_key:"dialogRef",ref:w,onHide:A(x)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#607d8b"}},{default:t(()=>[a("div",el,[tl,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:b,rows:_.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":o[0]||(o[0]=n=>l.pagination=n),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${m(n.row.other_products.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(n=>[e(F,{props:n},{default:t(()=>[a("span",null,g(`${f(n.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(S,null,{default:t(()=>[a("div",al,[a("div",ll," Overall Total Sales: "+g(f(s.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"])]))}};const nl=i=>(ae("data-v-0eb81aec"),i=i(),le(),i),sl=nl(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),rl={class:"item-start q-gutter-md",align:"center"},il={class:"text-weight-regular text-subtitle1"},dl={__name:"ProductsReport",props:["sales_Reports"],setup(i){const w=i,x=w.sales_Reports;console.log("sales report2",w);const R=Re(),h=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),u=s=>{R.dialog({component:Fa,componentProps:{reports:s}})},_=s=>{R.dialog({component:ja,componentProps:{reports:s}})},m=s=>{R.dialog({component:Ya,componentProps:{reports:s}})},f=s=>{R.dialog({component:Za,componentProps:{reports:s}})},b=s=>{R.dialog({component:ol,componentProps:{reports:s}})};return(s,l)=>(y(),V("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(S,null,{default:t(()=>[sl]),_:1}),e(S,null,{default:t(()=>[a("div",rl,[e(B,{onClick:l[0]||(l[0]=o=>u(w.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"130px"},class:"user-button"}),e(B,{onClick:l[1]||(l[1]=o=>_(A(x)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"130px"},class:"user-button"}),e(B,{onClick:l[2]||(l[2]=o=>m(A(x)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"}),e(B,{onClick:l[3]||(l[3]=o=>f(A(x)[0].cake_sales_reports)),"no-caps":"",label:"Cake Report",rounded:"",color:"teal",style:{width:"130px"},class:"user-button"}),e(B,{onClick:l[4]||(l[4]=o=>b(A(x)[0].other_products_reports)),"no-caps":"",label:"Other Products Report",rounded:"",color:"blue-grey",style:{width:"180px"},class:"user-button"})])]),_:1}),e(S,null,{default:t(()=>[a("div",il," Total sales: "+g(h(A(x)[0].products_total_sales)),1)]),_:1})]),_:1})]))}};var cl=Z(dl,[["__scopeId","data-v-0eb81aec"]]);const ul={class:"row justify-between text-white"},ml=a("div",{class:"text-h6"},"Denomination Report",-1),pl={class:"row text-weight-regular text-subtitle1"},_l={class:"col-6"},gl={class:"col-6"},fl={class:"row justify-end q-mt-md"},vl={class:"text-h6"},yl={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i;console.log("Denomination Props",u.reports);const _=u.reports[0];console.log("Reports data structure:",u.reports);const m=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(b),f=T(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Filtered Rows:",f.value),(b,s)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",ul,[ml,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[a("div",pl,[a("div",_l,[a("div",null,"1000 Bills: "+g(A(_).oneThousandBills),1),a("div",null,"500 Bills: "+g(A(_).fiveHundredBills),1),a("div",null,"200 Bills: "+g(A(_).twoHundredBills),1),a("div",null,"100 Bills: "+g(A(_).oneHundredBills),1),a("div",null,"50 Bills: "+g(A(_).fiftyBills),1),a("div",null,"20 Bills: "+g(A(_).twentyBills),1)]),a("div",gl,[a("div",null,"20 coins: "+g(A(_).twentyCoins),1),a("div",null,"10 coins: "+g(A(_).tenCoins),1),a("div",null,"5 coins: "+g(A(_).fiveCoins),1),a("div",null,"1 coins: "+g(A(_).oneCoins),1),a("div",null,"25 cents: "+g(A(_).twentyFiveCents),1)])])]),_:1}),e(S,null,{default:t(()=>[a("div",fl,[a("div",vl," Overall Total Denomination: "+g(m(i.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const hl=i=>(ae("data-v-0bfb79ef"),i=i(),le(),i),bl=hl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),wl={class:"q-gutter-x-md",align:"center"},xl={class:"text-weight-regular text-subtitle1"},$l={__name:"DenominationReport",props:["sales_Reports"],setup(i){const w=i;w.sales_Reports,console.log("Denomination report",w);const x=Re(),R=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),h=(u,_)=>{x.dialog({component:yl,componentProps:{reports:u,total:_}})};return(u,_)=>(y(),V("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(S,null,{default:t(()=>[bl]),_:1}),e(S,null,{default:t(()=>[a("div",wl,[e(B,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:_[0]||(_[0]=m=>h(w.sales_Reports[0].denomination_reports,w.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1}),e(S,null,{default:t(()=>[a("div",xl," Total Denomination : "+g(R(w.sales_Reports[0].denomination_total)),1)]),_:1})]),_:1})]))}};var kl=Z($l,[["__scopeId","data-v-0bfb79ef"]]);const Cl={class:"row justify-between text-white"},Rl=a("div",{class:"text-h6"},"Expenses Report",-1),Pl={class:"row justify-end q-mt-md"},Sl={class:"text-h6"},ql={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i;u.reports,console.log("Expenses total",u.total);const _=s=>s?s.split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1).toLowerCase()).join(" "):"",m=[{name:"name",label:"Expenses Name",field:s=>(console.log("Row data:",s),s.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",u.reports);const f=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s),b=T(()=>(console.log("Filtered rows:",u.reports||[]),u.reports||[]));return console.log("Expenses:",b.value),(s,l)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x),onOk:s.handleButtonClick,onCancel:A(h)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Cl,[Rl,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:s.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:b.value,"row-key":"name","virtual-scroll":"",pagination:s.pagination,"onUpdate:pagination":l[0]||(l[0]=o=>s.pagination=o),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-name":t(o=>[e(F,{props:o},{default:t(()=>[a("span",null,g(`${_(o.row.name)}`),1)]),_:2},1032,["props"])]),"body-cell-amount":t(o=>[e(F,{props:o},{default:t(()=>[a("span",null,g(`${f(o.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(S,null,{default:t(()=>[a("div",Pl,[a("div",Sl," Overall Total Expenses: "+g(f(i.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Vl=i=>(ae("data-v-338c99d0"),i=i(),le(),i),Dl=Vl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),Bl={class:"q-gutter-x-md",align:"center"},Ul={class:"text-weight-regular text-subtitle1"},Tl={__name:"ExpensesReport",props:["sales_Reports"],setup(i){const w=i;console.log("Expenses Data",w.sales_Reports[0].expenses_reports);const x=Re(),R=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),h=(u,_)=>{x.dialog({component:ql,componentProps:{reports:u,total:_}})};return(u,_)=>(y(),V("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(S,null,{default:t(()=>[Dl]),_:1}),e(S,null,{default:t(()=>[a("div",Bl,[e(B,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:_[0]||(_[0]=m=>h(w.sales_Reports[0].expenses_reports,w.sales_Reports[0].expenses_total))})])]),_:1}),e(S,null,{default:t(()=>[a("div",Ul," Total Expenses : "+g(R(w.sales_Reports[0].expenses_total)),1)]),_:1})]),_:1})]))}};var Nl=Z(Tl,[["__scopeId","data-v-338c99d0"]]);const Al={class:"row justify-between text-white"},Il=a("div",{class:"text-h6"},"Credits Report",-1),Fl={class:"row justify-end q-mt-md"},Hl={class:"text-h6"},Ml={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(i){const{dialogRef:w,onDialogHide:x,onDialogOK:R,onDialogCancel:h}=be(),u=i,_=u.reports;console.log("creditReports data",_),_.forEach((n,d)=>{console.log(`Report ${d}:`,n),console.log(`Credit Products for Report ${d}:`,n.credit_products.total_amount)});const m=T(()=>_.flatMap(n=>n.credit_products.map(d=>{const p=parseInt(d.pieces,10)||0,c=parseFloat(d.price)||0,r=p*c;return{...d,total_amount:r}})));console.log("All Credit Products:",m.value[0]);const f=n=>n?n.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" "):"",b=n=>{const d=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"",p=n.firstname?d(n.firstname):"No Firstname",c=n.middlename?d(n.middlename).charAt(0)+".":"",r=n.lastname?d(n.lastname):"No Lastname";return`${p} ${c} ${r}`.trim()},s=[{name:"name",label:"Employee Name",field:n=>b(n.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:n=>n.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",u.reports);const l=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),o=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n);return(n,d)=>(y(),N(G,{ref_key:"dialogRef",ref:w,onHide:A(x),onOk:n.handleButtonClick,onCancel:A(h)},{default:t(()=>[e(I,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(S,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Al,[Il,W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])]),_:1}),e(S,null,{default:t(()=>[e(oe,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:m.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":d[0]||(d[0]=p=>n.pagination=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-productName":t(p=>[e(F,{props:p},{default:t(()=>[a("span",null,g(`${f(p.row.product.name)}`),1)]),_:2},1032,["props"])]),"body-cell-price":t(p=>[e(F,{props:p},{default:t(()=>[a("span",null,g(`${l(p.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(p=>[e(F,{props:p},{default:t(()=>[a("span",null,g(`${o(p.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(S,null,{default:t(()=>[a("div",Fl,[a("div",Hl," Overall Credits Total: "+g(l(i.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const Ll=i=>(ae("data-v-29d6ba68"),i=i(),le(),i),zl=Ll(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),jl={class:"q-gutter-x-md",align:"center"},Ol={class:"text-weight-regular text-subtitle1"},Ql={__name:"CreditsReport",props:["sales_Reports"],setup(i){const w=i,x=Re(),R=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u),h=(u,_)=>{x.dialog({component:Ml,componentProps:{reports:u,total:_}})};return(u,_)=>(y(),V("div",null,[e(I,{class:"user-card"},{default:t(()=>[e(S,null,{default:t(()=>[zl]),_:1}),e(S,null,{default:t(()=>[a("div",jl,[e(B,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:_[0]||(_[0]=m=>h(w.sales_Reports[0].credit_reports,w.sales_Reports[0].credit_total))})])]),_:1}),e(S,null,{default:t(()=>[a("div",Ol," Total Credits : "+g(R(w.sales_Reports[0].credit_total)),1)]),_:1}),e(S)]),_:1})]))}};var El=Z(Ql,[["__scopeId","data-v-29d6ba68"]]);const Kl=i=>(ae("data-v-5d46a8e5"),i=i(),le(),i),Yl={class:"q-mt-lg row items-start q-gutter-md justify-center"},Gl={class:"row justify-between"},Wl=Kl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Jl={align:"right"},Xl={class:"text-subtitle1 text-weight-regular"},Zl={class:"row q-gutter-sm q-pa-md"},eo={class:"q-ma-sm"},to={class:"q-ma-sm",align:"center"},ao=["src"],lo={__name:"SalesReportPanel",props:["salesReport"],setup(i){Ae.exports.vfs=et;const w=i,x=w.salesReport;console.log("reportsData",w.salesReport);const R=q(!0),h=q(!1),u=q(""),_=o=>he.formatDate(o,"MMMM DD, YYYY"),m=o=>{const n=new Date(o),d={hour:"2-digit",minute:"2-digit",hour12:!0};return n.toLocaleTimeString(void 0,d)},f=o=>{const n=r=>r?r.charAt(0).toUpperCase()+r.slice(1).toLowerCase():"",d=o.firstname?n(o.firstname):"No Firstname",p=o.middlename?n(o.middlename).charAt(0)+".":"",c=o.lastname?n(o.lastname):"No Lastname";return`${d} ${p} ${c}`.trim()},b=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(o).replace("\u20B1","\u20B1	"),s=o=>{const n=T(()=>o.credit_reports.flatMap(O=>O.credit_products));console.log("All Credit Products:",n.value);const d=[{title:"Bread Production",data:o.bread_reports||[],columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:o.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:o.softdrinks_reports||[],columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Other Products Production",data:o.other_products_reports||[],columns:["other_products.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]},{title:"Cake Production",data:o.cake_sales_reports||[],columns:["cake_report.name","cake_report.user.employee","cake_report.layers","cake_report.price","cake_report.sales_status"],totals:["cake_report.price"]}],p=o.expenses_reports||[],c=n.value||[],r=o.credit_total,v=o.denomination_reports[0]||[],$=o.denomination_total,C=o.expenses_total;o.products_total_sales,o.charges_amount,o.over_total;const k={bills:[{name:"One Thousand",pcs:v.oneThousandBills||0},{name:"Five Hundred",pcs:v.fiveHundredBills||0},{name:"Two Hundred",pcs:v.twoHundredBills||0},{name:"One Hundred",pcs:v.oneHundredBills||0},{name:"Fifty",pcs:v.fiftyBills||0},{name:"Twenty",pcs:v.twentyBills||0}],coins:[{name:"Twenty",pcs:v.twentyCoins||0},{name:"Ten",pcs:v.tenCoins||0},{name:"Five",pcs:v.fiveCoins||0},{name:"One",pcs:v.oneCoins||0},{name:"Twenty Five Cents",pcs:v.twentyFiveCents||0}]},P=(O,ue,ne)=>{const me=(te,ie)=>ie.split(".").reduce((fe,U)=>fe?fe[U]:0,te),Se=ne.reduce((te,ie)=>(te[ie]=O.reduce((fe,U)=>fe+parseFloat(me(U,ie))||0,0),te),{});return[...O.map(te=>ue.map(ie=>{if(ie==="cake_report.user.employee"){const fe=me(te,"cake_report.user.employee");return{text:fe?f(fe):"No Employee",style:"body",alignment:"center"}}return{text:ie.includes(".")?me(te,ie)||"-":te[ie]||"-",style:"body",alignment:"center"}})),[{text:"Overall Total",colSpan:ue.length-ne.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(ue.length-ne.length-1).fill({}),...ne.map(te=>({text:`\u20B1 ${Se[te].toFixed(2)}`,style:"tableHeader",alignment:"center",color:"#020617"}))]]},K=c.length>0?c.map(O=>[{text:f(O.credit_user_id),style:"body",alignment:"center"},{text:O.product.name,style:"body",alignment:"center"},{text:O.pieces,style:"body",alignment:"center"},{text:O.price,style:"body",alignment:"center"},{text:O.total_amount,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:5,alignment:"center"}]];K.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:`${b(r)}`,style:"bodyBold",alignment:"center",colSpan:2},{}]);const L=p.length>0?p.map(O=>[{text:O.name,style:"body",alignment:"center"},{text:O.description,style:"body",alignment:"center"},{text:`${b(O.amount)}`,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:3,alignment:"center"}]];L.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${b(C)}`,style:"bodyBold",alignment:"center"}]);const M=k.bills.map((O,ue)=>{var ne,me;return[{text:O.name,style:"body",alignment:"center"},{text:O.pcs,style:"body",alignment:"center"},{text:((ne=k.coins[ue])==null?void 0:ne.name)||"",style:"body",alignment:"center"},{text:((me=k.coins[ue])==null?void 0:me.pcs)||"0",style:"body",alignment:"center"}]});M.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${b($)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const Q=d.map(({title:O,data:ue,columns:ne,totals:me})=>({stack:[{text:O,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(ne.length).fill("*"),body:[ne.map(Se=>({text:Se.split(".").pop().replace(/_/g," ").replace(/\b\w/g,te=>te.toUpperCase()),style:"tableHeader",alignment:"center"})),...P(ue,ne,me)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),ee={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:b($),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:b(o.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:b(C),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:b(o.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${b(o.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${o.branch.name}
          Cashier: ${f(o.user.employee)}
          Date: ${_(o.created_at)}
Time: ${m(o.created_at)}
`,margin:[0,0,0,10]},{}]},...Q,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...L]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...K]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...M]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},ee]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},l=o=>{const n=s(o);Ae.exports.createPdf(n).getDataUrl(d=>{u.value=d,h.value=!0})};return(o,n)=>(y(),V(j,null,[e(I,{class:"my-card q-pa-md"},{default:t(()=>[e(S,null,{default:t(()=>[a("div",Yl,[(y(!0),V(j,null,se(A(x),(d,p)=>(y(),V("div",{key:p},[e(I,{flat:"",dense:"",bordered:""},{default:t(()=>[e(S,null,{default:t(()=>[a("div",Gl,[Wl,a("div",Jl,[e(B,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:c=>l(d)},null,8,["onClick"]),a("div",null,[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D(" Print Report ")]),_:1})])])]),a("div",Xl,[a("div",null,"Name: "+g(f(d.user.employee)),1),a("div",null,"Date: "+g(_(d.created_at)),1),a("div",null,"Time: "+g(m(d.created_at)),1)])]),_:2},1024),a("div",Zl,[e(cl,{sales_Reports:[d]},null,8,["sales_Reports"]),e(kl,{sales_Reports:[d]},null,8,["sales_Reports"]),e(Nl,{sales_Reports:[d]},null,8,["sales_Reports"]),e(El,{sales_Reports:[d]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(G,{modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=d=>h.value=d),maximized:R.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",eo,[a("div",to,[W((y(),N(B,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(Y,null,{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])]),a("div",null,[a("iframe",{src:u.value,width:"100%",height:"700px"},null,8,ao)])])]),_:1},8,["modelValue","maximized"])],64))}};var oo=Z(lo,[["__scopeId","data-v-5d46a8e5"]]);const no={class:"text-h6"},so={class:"row q-gutter-x-md"},ro={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(i,{emit:w}){const{dialogRef:x,onDialogHide:R,onDialogOK:h,onDialogCancel:u}=be(),_=i;console.log("production report",_.reports);const m=_.reports.baker_reports,f=_.reports.sales_reports,b=w,s=q("bakerReport"),l=q(!0),o=q(!1),n=p=>p?p.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1).toLowerCase()).join(" "):"",d=()=>{b("selectReport",_.reports),o.value=!0};return(p,c)=>(y(),N(G,{ref_key:"dialogRef",ref:x,modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=r=>o.value=r),onHide:A(R),onOk:d,onCancel:A(u),maximized:l.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(I,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(S,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",no,g(`${n(i.reports.branch_name)} ( ${i.reportLabel} Reports)`),1),e(Be),a("div",so,[a("div",null,[W((y(),N(B,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(Y,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[D("Close")]),_:1})]),_:1})),[[J]])])])]),_:1}),e(S,null,{default:t(()=>[a("div",null,[e(ze,{modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=r=>s.value=r),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(_e,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(_e,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(je,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=r=>s.value=r),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(ge,{name:"bakerReport"},{default:t(()=>[e(Ua,{bakersReport:A(m)},null,8,["bakersReport"])]),_:1}),e(ge,{name:"salesReport"},{default:t(()=>[e(oo,{salesReport:A(f)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var io=Z(ro,[["__scopeId","data-v-643ff984"]]);const co=rt("productions",()=>{const i=q([]),w=q([]);return{productions:i,production:w,fetchAllProduction:async()=>{const h=await ye.get("/api/branch-production-report");i.value=h.data.reports},fetchBranchProductions:async h=>{try{const u=await ye.get(`/api/branches/${h}/production-report`);i.value=u.data}catch(u){console.log(u)}}}});const uo=i=>(ae("data-v-12387bc6"),i=i(),le(),i),mo={key:0,class:"spinner-wrapper"},po={key:1},_o={key:0,class:"data-error"},go=uo(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),fo={class:"row justify-center q-gutter-x-md"},vo={__name:"ProductionTable",setup(i){const w=ce();q("bakerReport");const x=w.params.branch_id;q(!1),q(!0),q(""),q("");const R=q({rowsPerPage:0}),h=co(),u=q(""),_=T(()=>h.productions);q(!0);const m=q(!0),f=q(!1),b=T(()=>u.value?_.value.filter(p=>p.name.toLowerCase().includes(u.value.toLowerCase())):_.value);$e(async()=>{x&&await s(x)});const s=async p=>{try{m.value=!0;const c=await h.fetchBranchProductions(p);console.log("Fetched data:",c),console.log("Production rows:",_.value),_.value.length||(f.value=!0)}catch{f.value=!0}finally{m.value=!1}};Ie(u,async p=>{m.value=!0,await new Promise(c=>setTimeout(c,1e3)),m.value=!1,f.value=b.value.length===0});const o=[{name:"reportDate",align:"center",label:"Date",field:"date",format:p=>he.formatDate(p,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],n=Re(),d=(p,c)=>{n.dialog({component:io,componentProps:{reports:p,reportLabel:c}})};return(p,c)=>(y(),V(j,null,[a("div",null,[e(E,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=r=>u.value=r),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),m.value?(y(),V("div",mo,[e(Fe,{size:"50px",color:"primary"})])):(y(),V("div",po,[b.value.length===0?(y(),V("div",_o,[e(re,{name:"warning",color:"warning",size:"4em"}),go])):(y(),N(oe,{key:1,class:"table-container sticky-header",filter:u.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:o,rows:b.value,"row-key":"reportDate","virtual-scroll":"",pagination:R.value,"onUpdate:pagination":c[1]||(c[1]=r=>R.value=r),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(r=>[e(F,{props:r},{default:t(()=>[a("div",fo,[e(B,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:v=>d(r.row.AM,"AM")},{default:t(()=>[D("AM")]),_:2},1032,["onClick"]),e(B,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:v=>d(r.row.PM,"PM")},{default:t(()=>[D("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var yo=Z(vo,[["__scopeId","data-v-12387bc6"]]);const ho={__name:"ProductionPage",setup(i){return(w,x)=>(y(),V("div",null,[e(yo)]))}},bo={class:"row justify-between"},wo=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),xo=a("div",{class:"text-h6"},"Decline Report",-1),$o={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(i){const w=Ve(),x=q(""),R=q(!1),h=q(!1),u=q({rowsPerPage:0}),_=Re(),m=i,f=()=>{h.value=!0},b=()=>{R.value=!0},s=async()=>{if(!x.value){_.notify({type:"negative",message:"Remark is required"});return}try{const p=await w.declineReport(m.report.id,x.value);console.log("Report declined:",p),_.notify({type:"negative",message:"Report declined successfully"}),R.value=!1,h.value=!1,x.value=""}catch(p){console.error("Error declining report:",p),_.notify({type:"negative",message:"Failed to decline report"})}},l=async()=>{try{const p=await w.confirmReport(m.report.id);console.log("Report confirmed:",p),_.notify({type:"positive",message:"Report confirmed successfully"}),h.value=!1}catch(p){console.error(p)}},o=T(()=>m.report.selecta_added_stocks||[]),n=p=>{const c=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"",r=p.firstname?c(p.firstname):"No Firstname",v=p.middlename?c(p.middlename).charAt(0)+".":"",$=p.lastname?c(p.lastname):"No Lastname";return`${r} ${v} ${$}`},d=[{name:"product_name",label:"Product Name",field:p=>p.product.name||"N/A",align:"left"},{name:"price",label:"Price",align:"center",field:p=>p.price||"N/A"},{name:"added_stocks",label:"Added Stocks",align:"center",field:p=>p.added_stocks?`${p.added_stocks} pcs`:"N/A"}];return(p,c)=>(y(),V(j,null,[a("div",null,[e(B,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:f})]),e(G,{modelValue:h.value,"onUpdate:modelValue":c[2]||(c[2]=r=>h.value=r)},{default:t(()=>[e(I,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(S,null,{default:t(()=>[a("div",bo,[wo,e(B,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:c[0]||(c[0]=r=>h.value=!1)})])]),_:1}),e(S,null,{default:t(()=>[a("div",null,"Cashier: "+g(n(i.report.employee)),1),a("div",null," Branch: "+g(i.report.branch.name),1),a("div",null,[D(" Status: "),e(X,{color:"yellow",outlined:""},{default:t(()=>[D(g(i.report.status),1)]),_:1})])]),_:1}),e(S,null,{default:t(()=>[e(oe,{rows:o.value,columns:d,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:u.value,"onUpdate:pagination":c[1]||(c[1]=r=>u.value=r),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1}),e(S,{class:"report-actions q-gutter-sm",align:"right"},{default:t(()=>[e(B,{color:"negative",label:"Decline",class:"action-btn",onClick:b}),e(B,{color:"positive",label:"Confirm",class:"action-btn",onClick:l})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(G,{modelValue:R.value,"onUpdate:modelValue":c[4]||(c[4]=r=>R.value=r)},{default:t(()=>[e(I,null,{default:t(()=>[e(S,null,{default:t(()=>[xo]),_:1}),e(S,null,{default:t(()=>[e(E,{modelValue:x.value,"onUpdate:modelValue":c[3]||(c[3]=r=>x.value=r),placeholder:"Enter your remark",label:"Remark",type:"textarea",filled:"","lazy-rules":"",rules:[r=>!!r||"Remark is required"]},null,8,["modelValue","rules"])]),_:1}),e(Ce,{align:"right"},{default:t(()=>[W(e(B,{flat:"",label:"Cancel",color:"primary"},null,512),[[J]]),e(B,{flat:"",label:"Confirm",color:"negative",onClick:s})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},ko={class:"q-gutter-md q-ma-md"},Co={class:"row justify-between"},Ro={class:"text-subtitle1"},Po={class:"text-subtitle1"},So={class:"text-subtitle1"},qo={__name:"TransactionPendingCard",setup(i){const w=ce(),x=Ve(),R=T(()=>x.pendingSelectaReports),h=w.params.branch_id,u=q("pending"),_=async()=>{try{const s=await x.fetchPendingSelectaStocks(h,u.value);console.log(R.value)}catch(s){console.error("Error fetching pending stocks:",s)}};$e(async()=>{h&&await _()});const m=s=>he.formatDate(s,"MMMM D, YYYY"),f=s=>he.formatDate(s,"hh:mm A"),b=s=>{const l=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",o=s.firstname?l(s.firstname):"No Firstname",n=s.middlename?l(s.middlename).charAt(0)+".":"",d=s.lastname?l(s.lastname):"No Lastname";return`${o} ${n} ${d}`};return(s,l)=>(y(),V("div",null,[e(Ee,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",ko,[(y(!0),V(j,null,se(R.value,(o,n)=>(y(),N(I,{key:n},{default:t(()=>[e(S,null,{default:t(()=>[a("div",Co,[a("div",Ro,g(m(o.created_at)),1),a("div",Po,g(f(o.created_at)),1),a("div",So,g(o.branch.name)+" - "+g(b(o.employee)),1),a("div",null,[e(X,{color:"yellow",outlined:""},{default:t(()=>[D(" Pending ")]),_:1})]),a("div",null,[e($o,{report:o},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]))}},Vo={class:"row justify-between"},Do=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Bo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(i){Ve(),q(!1);const w=q(!1),x=()=>{w.value=!0};Re();const R=i,h=T(()=>(console.log("Filtered rows:",R.report||[]),R.report.selecta_added_stocks||[])),u=m=>{const f=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",b=m.firstname?f(m.firstname):"No Firstname",s=m.middlename?f(m.middlename).charAt(0)+".":"",l=m.lastname?f(m.lastname):"No Lastname";return`${b} ${s} ${l}`},_=[{name:"product_name",label:"Product Name",field:m=>(console.log("Row data:",m),m.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:m=>(console.log("Row data:",m),m.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:m=>m.added_stocks?`${m.added_stocks} pcs`:"N/A"}];return(m,f)=>(y(),V(j,null,[a("div",null,[e(B,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(G,{modelValue:w.value,"onUpdate:modelValue":f[2]||(f[2]=b=>w.value=b)},{default:t(()=>[e(I,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(S,null,{default:t(()=>[a("div",Vo,[Do,e(B,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:f[0]||(f[0]=b=>w.value=!1)})])]),_:1}),e(S,null,{default:t(()=>[a("div",null,"Cashier: "+g(u(i.report.employee)),1),a("div",null," Branch: "+g(i.report.branch.name),1),a("div",null,[D(" Status: "),e(X,{color:"green",outlined:""},{default:t(()=>[D(g(i.report.status),1)]),_:1})])]),_:1}),e(S,null,{default:t(()=>[e(oe,{rows:h.value,columns:_,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:m.pagination,"onUpdate:pagination":f[1]||(f[1]=b=>m.pagination=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Uo={class:"q-gutter-md q-ma-md"},To={class:"row justify-between"},No={class:"text-subtitle1"},Ao={class:"text-subtitle1"},Io={class:"text-subtitle1"},Fo={__name:"TransactionConfirmedCard",setup(i){const w=ce(),x=Ve(),R=T(()=>x.confirmedSelectaReports),h=w.params.branch_id,u=q("confirmed"),_=async()=>{try{const s=await x.fetchConfirmedSelectaStocks(h,u.value);console.log(R.value)}catch(s){console.error("Error fetching confirmed stocks:",s)}};$e(async()=>{h&&await _()});const m=s=>he.formatDate(s,"MMMM D, YYYY"),f=s=>he.formatDate(s,"hh:mm A"),b=s=>{const l=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",o=s.firstname?l(s.firstname):"No Firstname",n=s.middlename?l(s.middlename).charAt(0)+".":"",d=s.lastname?l(s.lastname):"No Lastname";return`${o} ${n} ${d}`};return(s,l)=>(y(),V("div",null,[e(Ee,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",Uo,[(y(!0),V(j,null,se(R.value,(o,n)=>(y(),N(I,{key:n},{default:t(()=>[e(S,null,{default:t(()=>[a("div",To,[a("div",No,g(m(o.created_at)),1),a("div",Ao,g(f(o.created_at)),1),a("div",Io,g(o.branch.name)+" - "+g(b(o.employee)),1),a("div",null,[e(X,{color:"green",outlined:""},{default:t(()=>[D(g(o.status),1)]),_:2},1024)]),a("div",null,[e(Bo,{report:o},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]))}},Ho={class:"row justify-between"},Mo=a("div",{class:"text-h6"},"Selecta Added Stocks Report",-1),Lo={__name:"TransactionView",props:{report:{type:Object,required:!0}},setup(i){Ve(),q(!1);const w=q(!1),x=()=>{w.value=!0},R=i,h=T(()=>(console.log("Filtered rows:",R.report||[]),R.report.selecta_added_stocks||[])),u=m=>{const f=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",b=m.firstname?f(m.firstname):"No Firstname",s=m.middlename?f(m.middlename).charAt(0)+".":"",l=m.lastname?f(m.lastname):"No Lastname";return`${b} ${s} ${l}`},_=[{name:"product_name",label:"Product Name",field:m=>(console.log("Row data:",m),m.product.name||"N/A"),align:"left"},{name:"price",label:"Price",align:"center",field:m=>(console.log("Row data:",m),m.price||"N/A")},{name:"added_stocks",label:"Added Stocks",align:"center",field:m=>m.added_stocks?`${m.added_stocks} pcs`:"N/A"}];return(m,f)=>(y(),V(j,null,[a("div",null,[e(B,{color:"accent",icon:"visibility",size:"md",flat:"",round:"",dense:"",onClick:x})]),e(G,{modelValue:w.value,"onUpdate:modelValue":f[2]||(f[2]=b=>w.value=b)},{default:t(()=>[e(I,{style:{width:"700px","max-width":"80vw"}},{default:t(()=>[e(S,null,{default:t(()=>[a("div",Ho,[Mo,e(B,{class:"close-btn",color:"grey-8",flat:"",round:"",dense:"",icon:"close",onClick:f[0]||(f[0]=b=>w.value=!1)})])]),_:1}),e(S,null,{default:t(()=>[a("div",null,"Cashier: "+g(u(i.report.employee)),1),a("div",null," Branch: "+g(i.report.branch.name),1),a("div",null,[D(" Status: "),e(X,{color:"red",outlined:""},{default:t(()=>[D(g(i.report.status),1)]),_:1})])]),_:1}),e(S,null,{default:t(()=>[e(oe,{rows:h.value,columns:_,"row-key":"id",flat:"",bordered:"",dense:"","virtual-scroll":"",pagination:m.pagination,"onUpdate:pagination":f[1]||(f[1]=b=>m.pagination=b),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},null,8,["rows","pagination"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},zo={class:"q-gutter-md q-ma-md"},jo={class:"row justify-between"},Oo={class:"text-subtitle1"},Qo={class:"text-subtitle1"},Eo={class:"text-subtitle1"},Ko={__name:"TransactionDeclinedCard",setup(i){const w=ce(),x=Ve(),R=T(()=>x.declinedSelectaReports),h=w.params.branch_id,u=q("declined"),_=async()=>{try{const s=await x.fetchDeclinedSelectaStocks(h,u.value);console.log("selectedProductsDeclined",R.value)}catch(s){console.error("Error fetching decline stocks:",s)}};$e(async()=>{h&&await _()});const m=s=>he.formatDate(s,"MMMM D, YYYY"),f=s=>he.formatDate(s,"hh:mm A"),b=s=>{const l=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",o=s.firstname?l(s.firstname):"No Firstname",n=s.middlename?l(s.middlename).charAt(0)+".":"",d=s.lastname?l(s.lastname):"No Lastname";return`${o} ${n} ${d}`};return(s,l)=>(y(),V("div",null,[e(Ee,{style:{height:"450px","max-width":"1500px"}},{default:t(()=>[a("div",zo,[(y(!0),V(j,null,se(R.value,(o,n)=>(y(),N(I,{key:n},{default:t(()=>[e(S,null,{default:t(()=>[a("div",jo,[a("div",Oo,g(m(o.created_at)),1),a("div",Qo,g(f(o.created_at)),1),a("div",Eo,g(o.branch.name)+" - "+g(b(o.employee)),1),a("div",null,[e(X,{color:"red",outlined:""},{default:t(()=>[D(g(o.status),1)]),_:2},1024)]),a("div",null,[e(Lo,{report:o},null,8,["report"])])])]),_:2},1024)]),_:2},1024))),128))])]),_:1})]))}};const Yo={class:"q-gutter-y-sm"},Go={__name:"TransactionPage",setup(i){const w=q("pendingReports");return(x,R)=>(y(),V(j,null,[a("div",Yo,[e(ze,{modelValue:w.value,"onUpdate:modelValue":R[0]||(R[0]=h=>w.value=h),"active-color":"light-green-13","indicator-color":"light-green-13","narrow-indicator":"","no-caps":"","inline-label":"",dense:"",align:"justify",class:"gradient-btn"},{default:t(()=>[e(_e,{class:"text-white",name:"pendingReports",icon:"event_available",label:"Pending Reports"}),e(_e,{class:"text-white",name:"confirmReports",icon:"calendar_month",label:"Confirm Reports"}),e(_e,{class:"text-white",name:"declineReports",icon:"calendar_month",label:"Decline Reports"})]),_:1},8,["modelValue"])]),e(je,{modelValue:w.value,"onUpdate:modelValue":R[1]||(R[1]=h=>w.value=h),animated:""},{default:t(()=>[e(ge,{name:"pendingReports"},{default:t(()=>[e(qo)]),_:1}),e(ge,{name:"confirmReports"},{default:t(()=>[e(Fo)]),_:1}),e(ge,{name:"declineReports"},{default:t(()=>[e(Ko)]),_:1})]),_:1},8,["modelValue"])],64))}};var Wo=Z(Go,[["__scopeId","data-v-63e6b257"]]);const Pe=i=>(ae("data-v-2adb6214"),i=i(),le(),i),Jo=Pe(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),Xo={class:"q-mb-lg"},Zo={key:0,class:"custom-list z-top"},en={class:"q-mb-sm"},tn=Pe(()=>a("div",null,"Recipe Name",-1)),an={class:"q-mb-lg"},ln=Pe(()=>a("div",null,"Category",-1)),on=Pe(()=>a("div",null,"Breads",-1)),nn={class:"q-mt-md q-gutter-y-sm"},sn=Pe(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),rn={class:"q-mt-xl q-gutter-y-sm"},dn={class:"row justify-between"},cn=Pe(()=>a("div",{align:"center"},"Ingredients",-1)),un=Pe(()=>a("div",{align:"center"},"Quantity",-1)),mn=["onKeyup"],pn={align:"right"},_n={__name:"RecipeCreate",setup(i){const w=ce(),x=w.params.branch_id,R=ut(),h=T(()=>R.recipes),u=Ke(),_=Xe(),m=Ze(),f=T(()=>u.branchRecipes),b=q(!1),s=()=>{b.value=!0},l=()=>{clearForm(),b.value=!1},o=U=>U?U.split(" ").map(H=>H.charAt(0).toUpperCase()+H.slice(1).toLowerCase()).join(" "):"",n=q(""),d=async()=>{R.searchRecipe(n.value)},p=T(()=>r.target!==0),c=U=>{r.recipe_id=U.id,r.recipe_name=U.name,r.category=U.category,n.value=""},r=Ue({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:w.params.branch_id}),v=q(!1),$=q(null),C=q([]),k=q(C.value),P=q([]),K=q([]),L=Ue({name:"",quantity:""}),M=q(K.value);(async()=>{await _.fetchProductsByCategory("Bread"),v.value=!1,C.value=_.breads.map(U=>({label:U.name,value:U.id}))})(),(async()=>{await m.fetchIngredients("Ingredients"),v.value=!1,K.value=m.ingredients.map(U=>({label:U.name,value:U.id,unit:U.unit}))})();const O=()=>{L.name="",L.quantity=""},ue=(U,H)=>{U.length>2&&(C.value.includes(U)||H(U,"add-unique"))},ne=(U,H)=>{H(()=>{if(U==="")k.value=C.value;else{const pe=U.toLowerCase();k.value=C.value.filter(z=>z.label.toLowerCase().indexOf(pe)>-1)}})},me=(U,H)=>{H(()=>{if(U==="")M.value=K.value;else{const pe=U.toLowerCase();M.value=K.value.filter(z=>z.label.toLowerCase().indexOf(pe)>-1)}})},Se=()=>{const U=P.value;function H(we,He){return we.find(nt=>nt.ingredients_id==He)}const pe=L.name.value;H(U,pe)?de.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(P.value=[...U,{ingredients_id:L.name.value,label:L.name.label,quantity:L.quantity,unit:L.name.unit}],O())},te=U=>{P.value.splice(U,1)};Ie(()=>L.name,U=>{U&&U.unit?L.unit=U.unit:L.unit=""});const ie=()=>{r.recipe_id="",r.target="",$.value=null,P.value=[],L.name="",L.quantity=""},fe=async()=>{const U={recipe_id:r.recipe_id,target:r.target,status:"active",branch_id:r.branches_id,breads:$.value.map(H=>({bread_id:H.value})),ingredients:P.value.map(H=>({ingredient_id:H.ingredients_id,quantity:H.quantity}))};console.log("branchRecipe",U),await u.saveBranchRecipe(U),f.value=await u.fetchBranchRecipes(x),ie(),b.value=!1};return(U,H)=>(y(),V(j,null,[e(B,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:s}),e(G,{modelValue:b.value,"onUpdate:modelValue":H[7]||(H[7]=pe=>b.value=pe)},{default:t(()=>[e(I,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(S,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Jo,e(Be),W(e(B,{icon:"close",flat:"",dense:"",round:""},null,512),[[J]])]),_:1}),e(S,null,{default:t(()=>{var pe;return[a("div",Xo,[e(E,{modelValue:n.value,"onUpdate:modelValue":[H[0]||(H[0]=z=>n.value=z),d],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(re,{name:"search"})])]),default:t(()=>[n.value?(y(),V("div",Zo,[e(I,null,{default:t(()=>[e(Te,{separator:""},{default:t(()=>{var z;return[(z=h.value)!=null&&z.length?(y(!0),V(j,{key:1},se(h.value,we=>(y(),N(ve,{onClick:He=>c(we),key:we.id,clickable:""},{default:t(()=>[e(xe,null,{default:t(()=>[e(Ne,null,{default:t(()=>[D(g(o(we.name)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(y(),N(ve,{key:0},{default:t(()=>[D(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Le("",!0)]),_:1},8,["modelValue"])]),a("div",en,[tn,e(E,{modelValue:r.recipe_name,"onUpdate:modelValue":H[1]||(H[1]=z=>r.recipe_name=z),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",an,[ln,e(E,{modelValue:r.category,"onUpdate:modelValue":H[2]||(H[2]=z=>r.category=z),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(E,{modelValue:r.target,"onUpdate:modelValue":H[3]||(H[3]=z=>r.target=z),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs"},null,8,["modelValue"])]),a("div",null,[on,e(Me,{modelValue:$.value,"onUpdate:modelValue":H[4]||(H[4]=z=>$.value=z),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:k.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:ue,onFilter:ne,rules:[z=>z&&z.length>0||"Bread is required"]},{"no-option":t(()=>[e(ve,null,{default:t(()=>[e(xe,{class:"text-grey"},{default:t(()=>[D(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",nn,[sn,a("div",null,[e(Te,{dense:"",separator:"",class:"box"},{default:t(()=>[(y(!0),V(j,null,se(P.value,(z,we)=>(y(),N(ve,{key:we},{default:t(()=>[e(xe,null,{default:t(()=>[e(Ne,null,{default:t(()=>[D(g(z.label),1)]),_:2},1024)]),_:2},1024),e(xe,null,{default:t(()=>[D(g(z.quantity)+" "+g(z.unit),1)]),_:2},1024),e(xe,{side:""},{default:t(()=>[e(B,{onClick:He=>te(we),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",rn,[a("div",dn,[a("div",null,[cn,e(Me,{modelValue:L.name,"onUpdate:modelValue":H[5]||(H[5]=z=>L.name=z),debounce:"3000",outlined:"","chips-color":"primary",options:M.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:me,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ve,null,{default:t(()=>[e(xe,{class:"text-grey"},{default:t(()=>[D(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[un,e(E,{modelValue:L.quantity,"onUpdate:modelValue":H[6]||(H[6]=z=>L.quantity=z),modelModifiers:{number:!0},outlined:"",dense:"",type:"number",label:"Quantity",suffix:((pe=L==null?void 0:L.name)==null?void 0:pe.unit)||"",style:{width:"115px"},hint:"Enter the quantity as a decimal",mask:"##.##"},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:ke(it(Se,["prevent"]),["enter"])},[a("div",pn,[e(B,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:Se})])],40,mn)])]}),_:1}),e(Ce,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(B,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:l}),e(B,{class:"glossy",color:"teal",label:"Create",onClick:fe,disable:!p.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var gn=Z(_n,[["__scopeId","data-v-2adb6214"]]);const ot=i=>(ae("data-v-33664d62"),i=i(),le(),i),fn=ot(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),vn=ot(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),yn={__name:"RecipeDelete",props:["delete"],setup(i){const w=Ke(),x=i,R=q(!1),h=()=>{R.value=!0},u=async()=>{await w.deleteRecipe(x.delete.row.id),R.value=!1};return(_,m)=>(y(),V(j,null,[e(B,{onClick:h,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"","aria-label":"Delete"},{default:t(()=>[e(Y,{class:"bg-negative",delay:200},{default:t(()=>[D("Delete")]),_:1})]),_:1}),e(G,{modelValue:R.value,"onUpdate:modelValue":m[0]||(m[0]=f=>R.value=f),persistent:""},{default:t(()=>[e(I,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[e(S,{class:"q-pt-none q-pb-sm"},{default:t(()=>[fn,vn]),_:1}),e(De,{class:"q-mb-md"}),e(S,null,{default:t(()=>[e(Ce,{align:"right",class:"q-pt-none"},{default:t(()=>[W(e(B,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[J]]),e(B,{dense:"",label:"Delete",color:"negative",onClick:u,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var hn=Z(yn,[["__scopeId","data-v-33664d62"]]);const Ge=i=>(ae("data-v-1968f928"),i=i(),le(),i),bn={class:"row justify-between"},wn={class:"q-my-sm"},xn={key:0,class:"spinner-wrapper"},$n={key:1},kn={key:0,class:"data-error"},Cn=Ge(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Rn=Ge(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Breads List ",-1)),Pn=Ge(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Ingredients List ",-1)),Sn={class:"row justify-center q-gutter-x-md"},qn={__name:"RecipeTable",setup(i){const x=ce().params.branch_id,R=Ke(),h=q(""),u=q(!0),_=q([]),m=q(!1),f=q({rowsPerPage:0}),b=["inactive","active"],s=T(()=>R.branchRecipes);console.log("branch recipe",s.value);const l=T(()=>h.value?s.value.filter(v=>v.name.toLowerCase().includes(h.value.toLowerCase())):s.value);$e(async()=>{x&&await o(x)});const o=async v=>{try{u.value=!0;const $=await R.fetchBranchRecipes(v);s.value=$,console.log("branchRecipeRows",s.value),s.value.length||(m.value=!0),console.log("Branch recipe",s.value)}catch($){console.log("Error fetching recipe",$)}finally{u.value=!1}};async function n(v,$){try{const C=await ye.put("/api/update-target/"+v.id,{target:parseInt($)});if(console.log("response",C),C.status==200){const k=_.value.findIndex(P=>P.id==v.id);_.value[k]=$}de.create({type:"positive",message:"Recipe target edited successfully"})}catch(C){console.error("Error updating recipe target:",C),de.create({type:"negative",message:"Failed to edit recipe target"})}}async function d(v,$){try{if((await ye.put("/api/branch-update-status/"+v.id,{status:$})).status==200){const k=_.value.findIndex(P=>P.id==v.id);_.value[k]=$}de.create({type:"positive",message:"Recipe status change successfully"})}catch(C){console.error("Error updating recipe status:",C),de.create({type:"negative",message:"Failed to change recipe status"})}}const p=v=>v?v.split(" ").map($=>$.charAt(0).toUpperCase()+$.slice(1).toLowerCase()).join(" "):"",c=[{name:"name",label:"Recipe name",align:"center",field:v=>v.name},{name:"category",label:"Category",align:"center",field:v=>v.recipe},{name:"target",label:"Target",align:"center",field:"target"},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"},{name:"action",label:"Action",align:"center",sortable:!0}],r=v=>{switch(v){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(v,$)=>(y(),V(j,null,[a("div",bn,[a("div",null,[e(E,{class:"q-pb-lg q-pl-md",modelValue:h.value,"onUpdate:modelValue":$[0]||($[0]=C=>h.value=C),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(re,{name:"search"})]),_:1},8,["modelValue"])]),a("div",wn,[e(gn)])]),u.value?(y(),V("div",xn,[e(Fe,{size:"50px",color:"primary"})])):(y(),V("div",$n,[l.value.length===0?(y(),V("div",kn,[e(re,{name:"warning",color:"warning",size:"4em"}),Cn])):(y(),N(oe,{key:1,class:"table-container sticky-header",filter:h.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:l.value,"row-key":"name","virtual-scroll":"",pagination:f.value,"onUpdate:pagination":$[1]||($[1]=C=>f.value=C),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(C=>[e(F,{props:C},{default:t(()=>[a("span",null,g(p(C.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(C=>[e(F,{props:C},{default:t(()=>[a("span",null,g(p(C.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(C=>[e(F,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[D(g(C.row.target?C.row.target:"Set Target")+" ",1),e(Y,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[D("Edit Target")]),_:1})]),e(qe,{"onUpdate:modelValue":[k=>n(C.row,k),k=>C.row.target=k],modelValue:C.row.target,"auto-save":""},{default:t(k=>[e(E,{modelValue:k.value,"onUpdate:modelValue":P=>k.value=P,dense:"",suffix:"pcs",autofocus:"",counter:"",mask:"###",onKeyup:ke(k.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(C=>[e(F,{props:C},{default:t(()=>[e(X,{outline:"",color:r(C.row.status)},{default:t(()=>[D(g(p(C.row.status))+" ",1),e(Y,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[D("Change Status")]),_:1})]),_:2},1032,["color"]),e(qe,{"onUpdate:modelValue":[k=>d(C.row,k),k=>C.row.status=k],modelValue:C.row.status,"auto-save":""},{default:t(k=>[a("span",null,g(C.row.name),1),e(Me,{modelValue:k.value,"onUpdate:modelValue":P=>k.value=P,dense:"",label:"status",autofocus:"",options:b,counter:"",mask:"###",onKeyup:ke(k.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(C=>[e(F,{props:C},{default:t(()=>[e(Y,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1"},{default:t(()=>[Rn,e(De,{class:"q-mb-md",color:"yellow"}),(y(!0),V(j,null,se(C.row.bread_groups,k=>(y(),V("div",{key:k},g(k),1))),128))]),_:2},1024),e(Je,{square:"",outline:"",color:"red-6",class:"text-white"},{default:t(()=>[D(g(C.row.bread_groups.length)+" breads ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(C=>[e(F,{props:C},{default:t(()=>[e(Y,{delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"300px"}},{default:t(()=>[Pn,e(De,{class:"q-mb-md",color:"yellow"}),(y(!0),V(j,null,se(C.row.ingredient_groups,k=>(y(),V("div",{class:"row justify-between",key:k.ingredient_name},[a("div",null,g(k.ingredient_name),1),a("div",null,g(k.quantity)+" "+g(k.unit),1)]))),128))]),_:2},1024),e(Je,{square:"",outline:"",color:"purple-6",class:"text-white"},{default:t(()=>[D(g(C.row.ingredient_groups.length)+" ingredients ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-action":t(C=>[e(F,{props:C},{default:t(()=>[a("div",Sn,[e(hn,{delete:C},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Vn=Z(qn,[["__scopeId","data-v-1968f928"]]);const Dn={__name:"RecipePage",setup(i){return(w,x)=>(y(),V("div",null,[e(Vn)]))}};const Bn={class:"elegant-container q-gutter-md"},Un={class:"text-h6 row justify-between"},Tn={class:"q-gutter-sm"},Nn={class:"tab-container"},An={__name:"BranchIdPage",setup(i){const w=ce(),x=q(""),R=dt(),h=async b=>(await ye.get(`/api/branches/${b}`)).data,u=async()=>{const b=w.params.branch_id,s=await h(b);s&&s.name?x.value=s.name:console.error("Branch data is missing 'name' property or invalid:",s)};$e(()=>{u()});const _=b=>b?b.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):"",m=q("products"),f=()=>{We.show(),R.push("/admin/branches").finally(()=>{We.hide()})};return(b,s)=>(y(),N(ct,{padding:""},{default:t(()=>[a("div",Bn,[a("div",Un,[a("div",null,[e(B,{outline:"",flat:"",icon:"arrow_back",onClick:f}),e(Be)]),a("div",null,[e(re,{name:"fa-solid fa-store",color:"red-6"}),D(" "+g(_(x.value)),1)])]),a("div",Tn,[a("div",Nn,[e(ze,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=l=>m.value=l),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(_e,{name:"products",label:"Products"}),e(_e,{name:"rawMaterials",label:"Raw Materials"}),e(_e,{name:"recipe",label:"Recipe"}),e(_e,{name:"production",label:"Production"}),e(_e,{name:"transaction",label:"Transactions"})]),_:1},8,["modelValue"])]),e(I,{class:"q-mt-sm"},{default:t(()=>[e(je,{modelValue:m.value,"onUpdate:modelValue":s[1]||(s[1]=l=>m.value=l),animated:""},{default:t(()=>[e(ge,{name:"products"},{default:t(()=>[e(It)]),_:1}),e(ge,{name:"rawMaterials"},{default:t(()=>[e(ia)]),_:1}),e(ge,{name:"recipe"},{default:t(()=>[e(Dn)]),_:1}),e(ge,{name:"production"},{default:t(()=>[e(ho)]),_:1}),e(ge,{name:"transaction"},{default:t(()=>[e(Wo)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var bs=Z(An,[["__scopeId","data-v-eb7c826e"]]);export{bs as default};
