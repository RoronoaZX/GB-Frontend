import{Q as N,a as O}from"./QLayout.e19f27ed.js";import{g as W,r as y,c as _,z as H,A as G,j as J,l as X,H as Z,o as $,e as q,w as l,f as a,Z as S,J as f,$ as j,a0 as C,a1 as K,a2 as Y,Q as ee,I as ae,M as F,a3 as B,a4 as T,a5 as te,L as oe,O as V,R as U,a as le}from"./index.10b2bb61.js";import{Q as se,a as ne,b as re,c as ie}from"./QDrawer.f2565937.js";import{b as ue}from"./selection.d5e877a2.js";import{Q as ce,a as I,b as g}from"./QMenu.22820e2e.js";import{Q as P}from"./QList.9a4080e1.js";import{_ as de}from"./GB_LOGO.b766a815.js";import{Q as me}from"./QSpinnerDots.6e626b40.js";import"./axios.c7f8c55c.js";import{u as pe}from"./user.2c061832.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./QScrollObserver.0ffbeaba.js";import"./QResizeObserver.a4d23022.js";import"./TouchPan.095986e6.js";import"./touch.9135741d.js";import"./position-engine.c4948a96.js";const w=XMLHttpRequest,E=w.prototype.open,fe=["top","right","bottom","left"];let Q=[],x=0;function ve({p:e,pos:s,active:u,horiz:n,reverse:r,dir:c}){let o=1,t=1;return n===!0?(r===!0&&(o=-1),s==="bottom"&&(t=-1),{transform:`translate3d(${o*(e-100)}%,${u?0:t*-200}%,0)`}):(r===!0&&(t=-1),s==="right"&&(o=-1),{transform:`translate3d(${u?0:c*o*-200}%,${t*(e-100)}%,0)`})}function _e(e,s){return typeof s!="number"&&(e<25?s=Math.random()*3+3:e<65?s=Math.random()*3:e<85?s=Math.random()*2:e<99?s=.6:s=0),ue(e+s,0,100)}function he(e){x++,Q.push(e),!(x>1)&&(w.prototype.open=function(s,u){const n=[],r=()=>{Q.forEach(o=>{(o.hijackFilter.value===null||o.hijackFilter.value(u)===!0)&&(o.start(),n.push(o.stop))})},c=()=>{n.forEach(o=>{o()})};this.addEventListener("loadstart",r,{once:!0}),this.addEventListener("loadend",c,{once:!0}),E.apply(this,arguments)})}function be(e){Q=Q.filter(s=>s.start!==e),x=Math.max(0,x-1),x===0&&(w.prototype.open=E)}var ge=W({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:e=>fe.includes(e)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(e,{emit:s}){const{proxy:u}=X(),n=y(0),r=y(!1),c=y(!0);let o=0,t=null,d;const i=_(()=>`q-loading-bar q-loading-bar--${e.position}`+(e.color!==void 0?` bg-${e.color}`:"")+(c.value===!0?"":" no-transition")),p=_(()=>e.position==="top"||e.position==="bottom"),m=_(()=>p.value===!0?"height":"width"),h=_(()=>{const v=r.value,k=ve({p:n.value,pos:e.position,active:v,horiz:p.value,reverse:u.$q.lang.rtl===!0&&["top","bottom"].includes(e.position)?e.reverse===!1:e.reverse,dir:u.$q.lang.rtl===!0?-1:1});return k[m.value]=e.size,k.opacity=v?1:0,k}),b=_(()=>r.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n.value}:{"aria-hidden":"true"});function D(v=300){const k=d;return d=Math.max(0,v)||0,o++,o>1?(k===0&&v>0?M():t!==null&&k>0&&v<=0&&(clearTimeout(t),t=null),o):(t!==null&&clearTimeout(t),s("start"),n.value=0,t=setTimeout(()=>{t=null,c.value=!0,v>0&&M()},r._value===!0?500:1),r._value!==!0&&(r.value=!0,c.value=!1),o)}function A(v){return o>0&&(n.value=_e(n.value,v)),o}function L(){if(o=Math.max(0,o-1),o>0)return o;t!==null&&(clearTimeout(t),t=null),s("stop");const v=()=>{c.value=!0,n.value=100,t=setTimeout(()=>{t=null,r.value=!1},1e3)};return n.value===0?t=setTimeout(v,1):v(),o}function M(){n.value<100&&(t=setTimeout(()=>{t=null,A(),M()},d))}let z;return H(()=>{e.skipHijack!==!0&&(z=!0,he({start:D,stop:L,hijackFilter:_(()=>e.hijackFilter||null)}))}),G(()=>{t!==null&&clearTimeout(t),z===!0&&be(D)}),Object.assign(u,{start:D,stop:L,increment:A}),()=>J("div",{class:i.value,style:h.value,...b.value})}});const ye=f("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),ke=f("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1),xe={class:"q-text-truncate text-primary"},Se=f("span",{class:"q-ml-md"},"Signing out",-1),Ie={__name:"ProfileAvatarComponent",setup(e){const s=pe(),u=_(()=>s.userData);console.log("usertDatass",u.value);const n=y(!1),r=Z(),c=()=>{n.value=!0,setTimeout(()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("activeMenuItem"),n.value=!1,r.push("/")},1e3)},o=t=>{const d=h=>h?h.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1).toLowerCase()).join(" "):"",i=t.firstname?d(t.firstname):"No Firstname",p=t.middlename?d(t.middlename).charAt(0)+".":"",m=t.lastname?d(t.lastname):"No Lastname";return`${i} ${p} ${m}`.trim()};return _(()=>{const{firstname:t,middlename:d,lastname:i}=u.value.data.employee,p=t.split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "),m=d?`${d.charAt(0).toUpperCase()}.`:"",h=i.charAt(0).toUpperCase();return`${p} ${m} ${h}${i.slice(1)}`}),(t,d)=>($(),q(F,{round:"",flat:""},{default:l(()=>[a(S,{size:"26px"},{default:l(()=>[ye]),_:1}),a(ce,{"transition-show":"scale","transition-hide":"scale",anchor:"bottom left",self:"top left"},{default:l(()=>[a(P,{style:{"min-width":"100px"}},{default:l(()=>[a(I,{clickable:""},{default:l(()=>[a(g,{avatar:""},{default:l(()=>[a(S,{size:"26px"},{default:l(()=>[ke]),_:1})]),_:1}),a(g,null,{default:l(()=>[f("div",xe,j(o(u.value.data.employee)),1)]),_:1})]),_:1}),a(I,{clickable:""},{default:l(()=>[a(g,{avatar:""},{default:l(()=>[a(S,{icon:"settings",size:"xl"})]),_:1}),a(g,null,{default:l(()=>[C("Setting")]),_:1})]),_:1}),a(K),a(I,{clickable:"",onClick:c},{default:l(()=>[a(g,{avatar:""},{default:l(()=>[a(S,{icon:"logout",size:"xl"})]),_:1}),a(g,null,{default:l(()=>[C("Sign Out")]),_:1})]),_:1})]),_:1})]),_:1}),a(Y,{modelValue:n.value,"onUpdate:modelValue":d[0]||(d[0]=i=>n.value=i)},{default:l(()=>[a(ee,null,{default:l(()=>[a(ae,{class:"row items-center q-gutter-md"},{default:l(()=>[Se,a(me,{size:"50px"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}};const $e=e=>(V("data-v-04b9124c"),e=e(),U(),e),Qe={class:"col-4"},De={class:"row"},Me=$e(()=>f("img",{src:de,alt:"GB Logo",style:{width:"50px",height:"40px"}},null,-1)),je={class:"col-4 d-flex justify-center",align:"center"},Ce={class:"text-black mx-2 text-h6"},we={class:"col-4",align:"right"},Ae={__name:"HeaderComponent",setup(e){const s=y(localStorage.getItem("role")),u=y(!1),n=s.value==="Super Admin"?"dashboard":"raw_materials",r=y(n),c=y(null),o=[...s.value==="Super Admin"?[{name:"dashboard",icon:"fa-solid fa-house",to:"/admin/dashboard",label:"Dashboard",toolbarDisplay:"\u{1F4CA} Dashboard"}]:[],{name:"raw_materials",icon:"fa-solid fa-layer-group",to:"/admin/raw_materials",label:"Raw Materials",toolbarDisplay:"\u{1F6E0}\uFE0F Raw Materials"},{name:"recipe",icon:"description",to:"/admin/recipe",label:"Recipe",toolbarDisplay:"\u{1F4DC} Recipe"},{name:"stocks",icon:"local_shipping",to:"/admin/stocks",label:"Stocks",toolbarDisplay:"\u{1F69A} Stocks"},{name:"warehouse",icon:"factory",to:"/admin/warehouse",label:"Warehouse",toolbarDisplay:"\u{1F3ED} Warehouse"},{name:"branches",icon:"fa-solid fa-store",to:"/admin/branches",label:"Branches",toolbarDisplay:"\u{1F3EA} Branches"},{name:"products",icon:"fa-solid fa-cake-candles",to:"/admin/products",label:"Products",toolbarDisplay:"\u{1F956} Products"},...s.value==="Super Admin"?[{name:"users",icon:"fa-solid fa-users",to:"/admin/users",label:"Users",toolbarDisplay:"\u{1F465} Roles and Permission"},{name:"devices",icon:"fa-solid fa-mobile",to:"/admin/devices",label:"Devices",toolbarDisplay:"\u{1F4F1} Device"},{name:"history",icon:"fa-solid fa-history",to:"/admin/history_log",label:"History Log",toolbarDisplay:"\u{1F570}\uFE0F History Logs"}]:[],{name:"payroll",icon:"fa-solid fa-sack-dollar",to:"/admin/payroll",label:"Payroll",toolbarDisplay:"\u{1F4B0} Payroll Management"}];H(()=>{const i=localStorage.getItem("activeMenuItem");i?r.value=i:localStorage.setItem("activeMenuItem",r.value)});const t=i=>{c.value&&c.value.start(),r.value=i,localStorage.setItem("activeMenuItem",i),c.value&&c.value.stop()},d=_(()=>{const i=o.find(p=>p.name===r.value);return(i==null?void 0:i.toolbarDisplay)||"Menu"});return(i,p)=>($(),B(T,null,[a(re,{elevated:"",class:"bg-white"},{default:l(()=>[a(se,{class:"row"},{default:l(()=>[f("div",Qe,[f("div",De,[a(F,{color:"red-6",flat:"",dense:"",icon:"menu",onClick:p[0]||(p[0]=m=>u.value=!u.value)}),a(ne,{class:"py-md"},{default:l(()=>[Me]),_:1})])]),f("div",je,[f("div",Ce,[f("div",null,j(d.value),1)])]),f("div",we,[a(Ie)])]),_:1}),a(ge,{ref_key:"bar",ref:c,position:"top",color:"red-6",size:"7px","skip-hijack":""},null,512)]),_:1}),a(ie,{modelValue:u.value,"onUpdate:modelValue":p[1]||(p[1]=m=>u.value=m),"show-if-above":"",width:200,breakpoint:500,bordered:""},{default:l(()=>[a(P,{bordered:"",padding:""},{default:l(()=>[($(),B(T,null,te(o,(m,h)=>a(I,{key:h,to:m.to,clickable:!0,active:r.value===m.name,"active-class":"my-menu-link",onClick:b=>t(m.name)},{default:l(()=>[a(g,{avatar:""},{default:l(()=>[a(oe,{name:m.icon},null,8,["name"])]),_:2},1024),a(g,null,{default:l(()=>[C(j(m.label),1)]),_:2},1024)]),_:2},1032,["to","active","onClick"])),64))]),_:1})]),_:1},8,["modelValue"])],64))}};var Le=R(Ae,[["__scopeId","data-v-04b9124c"]]);const ze=e=>(V("data-v-29d16670"),e=e(),U(),e),Be=ze(()=>f("div",null,null,-1)),Te={__name:"AdminLayout",setup(e){return(s,u)=>{const n=le("router-view");return $(),q(N,{view:"hHh Lpr lff"},{default:l(()=>[f("div",null,[a(Le)]),a(O,{style:{background:"#f7f8fc"}},{default:l(()=>[a(n)]),_:1}),Be]),_:1})}}};var Ye=R(Te,[["__scopeId","data-v-29d16670"]]);export{Ye as default};
