import{d as u,r as l,P as s,N as i}from"./index.6b70b11d.js";import{api as r}from"./axios.933a2768.js";const v=u("rawMaterials",()=>{const o=l(null),t=l([]),c=l([]);return{rawMaterial:o,rawMaterials:t,ingredients:c,searchRawMaterials:async e=>{const a=await r.get("/api/search-rawMaterials",{params:{keyword:e}});t.value=a.data,console.log("Search rawe materials",a.data)},createRawMaterials:async e=>{s.show();try{const a=await r.post("/api/raw-materials",e);a.data.message==="Raw Materials saved successfully"?(t.value.unshift(a.data.rawMaterials),i.create({type:"positive",message:"Raw Materials successfully created",timeout:1e3})):a.data.message==="The RawMaterials name or code already exists."&&i.create({type:"warning",message:"The RawMaterials name or code already exists."})}catch(a){console.log(a),i.create({type:"negative",message:"An error occurred while saving the raw materials."})}finally{s.hide()}},fetchRawMaterials:async()=>{const e=await r.get("/api/raw-materials");t.value=e.data},updateRawMaterials:async(e,a)=>{s.show();const w=await r.put(`/api/raw-materials/${e}`,a),n=t.value.findIndex(d=>d.id===e);n!==-1&&(t.value[n]=w.data),i.create({type:"positive",message:"Raw Materials updated successfully",timeout:1e3}),s.hide()},deleteRawMaterials:async e=>{s.show(),await r.delete(`/api/raw-materials/${e}`),t.value=t.value.filter(a=>a.id!==e),i.create({type:"positive",icon:"warning",message:"Raw Materials successfully deleted",timeout:1e3}),s.hide()},fetchIngredients:async e=>{const a=await r.get("/api/ingredients",e);c.value=a.data}}});export{v as u};
