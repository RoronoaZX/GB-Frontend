import{g as ve,aL as fe,aM as Xe,aN as Ge,aO as We,c as o,j as m,k as kt,aP as xt,r as V,aQ as At,aR as $e,u as Z,aS as z,G as _,aT as Ft,aU as Dt,A as Ot,aC as ce,L as pt,l as Lt,aV as _t,aD as E,aj as qt,aW as Bt,V as N,a2 as Tt,x as Pt}from"./index.f2a38bfc.js";import{Q as Ht}from"./QChip.57ca46e5.js";import{Q as Mt,b as Rt,a as Kt}from"./QMenu.a0b892ed.js";import{u as Ue,a as Qt}from"./use-virtual-scroll.6d035bc4.js";import{n as je}from"./selection.0a9540c6.js";var Et=ve({name:"QField",inheritAttrs:!1,props:{...fe,tag:{type:String,default:"label"}},emits:Xe,setup(){return Ge(We({tagProp:!0}))}}),Nt=ve({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:g}){const i=o(()=>parseInt(t.lines,10)),q=o(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),O=o(()=>t.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>m("div",{style:O.value,class:q.value},kt(g.default))}});const ze=t=>["add","add-unique","toggle"].includes(t),$t=".*+?^${}()|[]\\",Ut=Object.keys(fe);var Jt=ve({name:"QSelect",inheritAttrs:!1,props:{...Ue,...xt,...fe,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:ze},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:Ue.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Xe,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(t,{slots:g,emit:i}){const{proxy:q}=Lt(),{$q:O}=q,s=V(!1),A=V(!1),v=V(-1),h=V(""),$=V(!1),B=V(!1);let I=null,w=null,ee,C,X,k=null,te,me,F,ge;const Je=V(null),y=V(null),T=V(null),ue=V(null),he=V(null),ye=At(t),Se=_t(Re),D=o(()=>Array.isArray(t.options)?t.options.length:0),Ye=o(()=>t.virtualScrollItemSize===void 0?t.optionsDense===!0?24:48:t.virtualScrollItemSize),{virtualScrollSliceRange:Ze,virtualScrollSliceSizeComputed:be,localResetVirtualScroll:le,padVirtualScroll:et,onVirtualScrollEvt:Ce,scrollTo:Ve,setVirtualScrollSize:Ie}=Qt({virtualScrollLength:D,getVirtualScrollTarget:ct,getVirtualScrollEl:He,virtualScrollItemSizeComputed:Ye}),n=We(),f=o(()=>{const e=t.mapOptions===!0&&t.multiple!==!0,l=t.modelValue!==void 0&&(t.modelValue!==null||e===!0)?t.multiple===!0&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue]:[];if(t.mapOptions===!0&&Array.isArray(t.options)===!0){const u=t.mapOptions===!0&&ee!==void 0?ee:[],a=l.map(d=>dt(d,u));return t.modelValue===null&&e===!0?a.filter(d=>d!==null):a}return l}),tt=o(()=>{const e={};return Ut.forEach(l=>{const u=t[l];u!==void 0&&(e[l]=u)}),e}),G=o(()=>t.optionsDark===null?n.isDark.value:t.optionsDark),ne=o(()=>$e(f.value)),ut=o(()=>{let e="q-field__input q-placeholder col";return t.hideSelected===!0||f.value.length===0?[e,t.inputClass]:(e+=" q-field__input--padding",t.inputClass===void 0?e:[e,t.inputClass])}),we=o(()=>(t.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:"")),U=o(()=>D.value===0),ke=o(()=>f.value.map(e=>b.value(e)).join(", ")),xe=o(()=>t.displayValue!==void 0?t.displayValue:ke.value),ae=o(()=>t.optionsHtml===!0?()=>!0:e=>e!=null&&e.html===!0),lt=o(()=>t.displayValueHtml===!0||t.displayValue===void 0&&(t.optionsHtml===!0||f.value.some(ae.value))),Ae=o(()=>n.focused.value===!0?t.tabindex:-1),Fe=o(()=>{const e={tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-readonly":t.readonly===!0?"true":"false","aria-autocomplete":t.useInput===!0?"list":"none","aria-expanded":s.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return v.value>=0&&(e["aria-activedescendant"]=`${n.targetUid.value}_${v.value}`),e}),De=o(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":t.multiple===!0?"true":"false"})),Oe=o(()=>f.value.map((e,l)=>({index:l,opt:e,html:ae.value(e),selected:!0,removeAtIndex:st,toggleOption:p,tabindex:Ae.value}))),nt=o(()=>{if(D.value===0)return[];const{from:e,to:l}=Ze.value;return t.options.slice(e,l).map((u,a)=>{const d=P.value(u)===!0,r=re(u)===!0,S=e+a,c={clickable:!0,active:r,activeClass:ot.value,manualFocus:!0,focused:!1,disable:d,tabindex:-1,dense:t.optionsDense,dark:G.value,role:"option","aria-selected":r===!0?"true":"false",id:`${n.targetUid.value}_${S}`,onClick:()=>{p(u)}};return d!==!0&&(v.value===S&&(c.focused=!0),O.platform.is.desktop===!0&&(c.onMousemove=()=>{s.value===!0&&H(S)})),{index:S,opt:u,html:ae.value(u),label:b.value(u),selected:c.active,focused:c.focused,toggleOption:p,setOptionIndex:H,itemProps:c}})}),at=o(()=>t.dropdownIcon!==void 0?t.dropdownIcon:O.iconSet.arrow.dropdown),it=o(()=>t.optionsCover===!1&&t.outlined!==!0&&t.standout!==!0&&t.borderless!==!0&&t.rounded!==!0),ot=o(()=>t.optionsSelectedClass!==void 0?t.optionsSelectedClass:t.color!==void 0?`text-${t.color}`:""),x=o(()=>oe(t.optionValue,"value")),b=o(()=>oe(t.optionLabel,"label")),P=o(()=>oe(t.optionDisable,"disable")),W=o(()=>f.value.map(e=>x.value(e))),rt=o(()=>{const e={onInput:Re,onChange:Se,onKeydown:Pe,onKeyup:Be,onKeypress:Te,onFocus:_e,onClick(l){C===!0&&E(l)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=Se,e});Z(f,e=>{ee=e,t.useInput===!0&&t.fillInput===!0&&t.multiple!==!0&&n.innerLoading.value!==!0&&(A.value!==!0&&s.value!==!0||ne.value!==!0)&&(X!==!0&&Q(),(A.value===!0||s.value===!0)&&M(""))},{immediate:!0}),Z(()=>t.fillInput,Q),Z(s,se),Z(D,wt);function pe(e){return t.emitValue===!0?x.value(e):e}function ie(e){if(e!==-1&&e<f.value.length)if(t.multiple===!0){const l=t.modelValue.slice();i("remove",{index:e,value:l.splice(e,1)[0]}),i("update:modelValue",l)}else i("update:modelValue",null)}function st(e){ie(e),n.focus()}function Le(e,l){const u=pe(e);if(t.multiple!==!0){t.fillInput===!0&&j(b.value(e),!0,!0),i("update:modelValue",u);return}if(f.value.length===0){i("add",{index:0,value:u}),i("update:modelValue",t.multiple===!0?[u]:u);return}if(l===!0&&re(e)===!0||t.maxValues!==void 0&&t.modelValue.length>=t.maxValues)return;const a=t.modelValue.slice();i("add",{index:a.length,value:u}),a.push(u),i("update:modelValue",a)}function p(e,l){if(n.editable.value!==!0||e===void 0||P.value(e)===!0)return;const u=x.value(e);if(t.multiple!==!0){l!==!0&&(j(t.fillInput===!0?b.value(e):"",!0,!0),L()),y.value!==null&&y.value.focus(),(f.value.length===0||z(x.value(f.value[0]),u)!==!0)&&i("update:modelValue",t.emitValue===!0?u:e);return}if((C!==!0||$.value===!0)&&n.focus(),_e(),f.value.length===0){const r=t.emitValue===!0?u:e;i("add",{index:0,value:r}),i("update:modelValue",t.multiple===!0?[r]:r);return}const a=t.modelValue.slice(),d=W.value.findIndex(r=>z(r,u));if(d!==-1)i("remove",{index:d,value:a.splice(d,1)[0]});else{if(t.maxValues!==void 0&&a.length>=t.maxValues)return;const r=t.emitValue===!0?u:e;i("add",{index:a.length,value:r}),a.push(r)}i("update:modelValue",a)}function H(e){if(O.platform.is.desktop!==!0)return;const l=e!==-1&&e<D.value?e:-1;v.value!==l&&(v.value=l)}function J(e=1,l){if(s.value===!0){let u=v.value;do u=je(u+e,-1,D.value-1);while(u!==-1&&u!==v.value&&P.value(t.options[u])===!0);v.value!==u&&(H(u),Ve(u),l!==!0&&t.useInput===!0&&t.fillInput===!0&&Y(u>=0?b.value(t.options[u]):te,!0))}}function dt(e,l){const u=a=>z(x.value(a),e);return t.options.find(u)||l.find(u)||e}function oe(e,l){const u=e!==void 0?e:l;return typeof u=="function"?u:a=>a!==null&&typeof a=="object"&&u in a?a[u]:a}function re(e){const l=x.value(e);return W.value.find(u=>z(u,l))!==void 0}function _e(e){t.useInput===!0&&y.value!==null&&(e===void 0||y.value===e.target&&e.target.value===ke.value)&&y.value.select()}function qe(e){qt(e,27)===!0&&s.value===!0&&(E(e),L(),Q()),i("keyup",e)}function Be(e){const{value:l}=e.target;if(e.keyCode!==void 0){qe(e);return}if(e.target.value="",I!==null&&(clearTimeout(I),I=null),w!==null&&(clearTimeout(w),w=null),Q(),typeof l=="string"&&l.length!==0){const u=l.toLocaleLowerCase(),a=r=>{const S=t.options.find(c=>r.value(c).toLocaleLowerCase()===u);return S===void 0?!1:(f.value.indexOf(S)===-1?p(S):L(),!0)},d=r=>{a(x)!==!0&&(a(b)===!0||r===!0||M(l,!0,()=>d(!0)))};d()}else n.clearValue(e)}function Te(e){i("keypress",e)}function Pe(e){if(i("keydown",e),Bt(e)===!0)return;const l=h.value.length!==0&&(t.newValueMode!==void 0||t.onNewValue!==void 0),u=e.shiftKey!==!0&&t.multiple!==!0&&(v.value!==-1||l===!0);if(e.keyCode===27){ce(e);return}if(e.keyCode===9&&u===!1){R();return}if(e.target===void 0||e.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(e.keyCode===40&&n.innerLoading.value!==!0&&s.value===!1){N(e),K();return}if(e.keyCode===8&&(t.useChips===!0||t.clearable===!0)&&t.hideSelected!==!0&&h.value.length===0){t.multiple===!0&&Array.isArray(t.modelValue)===!0?ie(t.modelValue.length-1):t.multiple!==!0&&t.modelValue!==null&&i("update:modelValue",null);return}(e.keyCode===35||e.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(N(e),v.value=-1,J(e.keyCode===36?1:-1,t.multiple)),(e.keyCode===33||e.keyCode===34)&&be.value!==void 0&&(N(e),v.value=Math.max(-1,Math.min(D.value,v.value+(e.keyCode===33?-1:1)*be.value.view)),J(e.keyCode===33?1:-1,t.multiple)),(e.keyCode===38||e.keyCode===40)&&(N(e),J(e.keyCode===38?-1:1,t.multiple));const a=D.value;if((F===void 0||ge<Date.now())&&(F=""),a>0&&t.useInput!==!0&&e.key!==void 0&&e.key.length===1&&e.altKey===!1&&e.ctrlKey===!1&&e.metaKey===!1&&(e.keyCode!==32||F.length!==0)){s.value!==!0&&K(e);const d=e.key.toLocaleLowerCase(),r=F.length===1&&F[0]===d;ge=Date.now()+1500,r===!1&&(N(e),F+=d);const S=new RegExp("^"+F.split("").map(de=>$t.indexOf(de)!==-1?"\\"+de:de).join(".*"),"i");let c=v.value;if(r===!0||c<0||S.test(b.value(t.options[c]))!==!0)do c=je(c+1,-1,a-1);while(c!==v.value&&(P.value(t.options[c])===!0||S.test(b.value(t.options[c]))!==!0));v.value!==c&&_(()=>{H(c),Ve(c),c>=0&&t.useInput===!0&&t.fillInput===!0&&Y(b.value(t.options[c]),!0)});return}if(!(e.keyCode!==13&&(e.keyCode!==32||t.useInput===!0||F!=="")&&(e.keyCode!==9||u===!1))){if(e.keyCode!==9&&N(e),v.value!==-1&&v.value<a){p(t.options[v.value]);return}if(l===!0){const d=(r,S)=>{if(S){if(ze(S)!==!0)return}else S=t.newValueMode;if(j("",t.multiple!==!0,!0),r==null)return;(S==="toggle"?p:Le)(r,S==="add-unique"),t.multiple!==!0&&(y.value!==null&&y.value.focus(),L())};if(t.onNewValue!==void 0?i("newValue",h.value,d):d(h.value),t.multiple!==!0)return}s.value===!0?R():n.innerLoading.value!==!0&&K()}}function He(){return C===!0?he.value:T.value!==null&&T.value.contentEl!==null?T.value.contentEl:void 0}function ct(){return He()}function vt(){return t.hideSelected===!0?[]:g["selected-item"]!==void 0?Oe.value.map(e=>g["selected-item"](e)).slice():g.selected!==void 0?[].concat(g.selected()):t.useChips===!0?Oe.value.map((e,l)=>m(Ht,{key:"option-"+l,removable:n.editable.value===!0&&P.value(e.opt)!==!0,dense:!0,textColor:t.color,tabindex:Ae.value,onRemove(){e.removeAtIndex(l)}},()=>m("span",{class:"ellipsis",[e.html===!0?"innerHTML":"textContent"]:b.value(e.opt)}))):[m("span",{[lt.value===!0?"innerHTML":"textContent"]:xe.value})]}function Me(){if(U.value===!0)return g["no-option"]!==void 0?g["no-option"]({inputValue:h.value}):void 0;const e=g.option!==void 0?g.option:u=>m(Kt,{key:u.index,...u.itemProps},()=>m(Rt,()=>m(Nt,()=>m("span",{[u.html===!0?"innerHTML":"textContent"]:u.label}))));let l=et("div",nt.value.map(e));return g["before-options"]!==void 0&&(l=g["before-options"]().concat(l)),Pt(g["after-options"],l)}function ft(e,l){const u=l===!0?{...Fe.value,...n.splitAttrs.attributes.value}:void 0,a={ref:l===!0?y:void 0,key:"i_t",class:ut.value,style:t.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...u,id:l===!0?n.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":e===!0||t.autofocus===!0||void 0,disabled:t.disable===!0,readonly:t.readonly===!0,...rt.value};return e!==!0&&C===!0&&(Array.isArray(a.class)===!0?a.class=[...a.class,"no-pointer-events"]:a.class+=" no-pointer-events"),m("input",a)}function Re(e){I!==null&&(clearTimeout(I),I=null),w!==null&&(clearTimeout(w),w=null),!(e&&e.target&&e.target.qComposing===!0)&&(Y(e.target.value||""),X=!0,te=h.value,n.focused.value!==!0&&(C!==!0||$.value===!0)&&n.focus(),t.onFilter!==void 0&&(I=setTimeout(()=>{I=null,M(h.value)},t.inputDebounce)))}function Y(e,l){h.value!==e&&(h.value=e,l===!0||t.inputDebounce===0||t.inputDebounce==="0"?i("inputValue",e):w=setTimeout(()=>{w=null,i("inputValue",e)},t.inputDebounce))}function j(e,l,u){X=u!==!0,t.useInput===!0&&(Y(e,!0),(l===!0||u!==!0)&&(te=e),l!==!0&&M(e))}function M(e,l,u){if(t.onFilter===void 0||l!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?i("filterAbort"):(n.innerLoading.value=!0,B.value=!0),e!==""&&t.multiple!==!0&&f.value.length!==0&&X!==!0&&e===b.value(f.value[0])&&(e="");const a=setTimeout(()=>{s.value===!0&&(s.value=!1)},10);k!==null&&clearTimeout(k),k=a,i("filter",e,(d,r)=>{(l===!0||n.focused.value===!0)&&k===a&&(clearTimeout(k),typeof d=="function"&&d(),B.value=!1,_(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(l===!0?s.value===!0&&L():s.value===!0?se(!0):s.value=!0),typeof r=="function"&&_(()=>{r(q)}),typeof u=="function"&&_(()=>{u(q)})}))},()=>{n.focused.value===!0&&k===a&&(clearTimeout(k),n.innerLoading.value=!1,B.value=!1),s.value===!0&&(s.value=!1)})}function mt(){return m(Mt,{ref:T,class:we.value,style:t.popupContentStyle,modelValue:s.value,fit:t.menuShrink!==!0,cover:t.optionsCover===!0&&U.value!==!0&&t.useInput!==!0,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:G.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:t.popupNoRouteDismiss,square:it.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...De.value,onScrollPassive:Ce,onBeforeShow:Qe,onBeforeHide:gt,onShow:ht},Me)}function gt(e){Ee(e),R()}function ht(){Ie()}function yt(e){E(e),y.value!==null&&y.value.focus(),$.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function St(e){E(e),_(()=>{$.value=!1})}function bt(){const e=[m(Et,{class:`col-auto ${n.fieldClass.value}`,...tt.value,for:n.targetUid.value,dark:G.value,square:!0,loading:B.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...n.splitAttrs.listeners.value,onFocus:yt,onBlur:St},{...g,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return s.value===!0&&e.push(m("div",{ref:he,class:we.value+" scroll",style:t.popupContentStyle,...De.value,onClick:ce,onScrollPassive:Ce},Me())),m(Tt,{ref:ue,modelValue:A.value,position:t.useInput===!0?"top":void 0,transitionShow:me,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,noRouteDismiss:t.popupNoRouteDismiss,onBeforeShow:Qe,onBeforeHide:Ct,onHide:Vt,onShow:It},()=>m("div",{class:"q-select__dialog"+(G.value===!0?" q-select__dialog--dark q-dark":"")+($.value===!0?" q-select__dialog--focused":"")},e))}function Ct(e){Ee(e),ue.value!==null&&ue.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function Vt(e){L(),n.focused.value===!1&&i("blur",e),Q()}function It(){const e=document.activeElement;(e===null||e.id!==n.targetUid.value)&&y.value!==null&&y.value!==e&&y.value.focus(),Ie()}function R(){A.value!==!0&&(v.value=-1,s.value===!0&&(s.value=!1),n.focused.value===!1&&(k!==null&&(clearTimeout(k),k=null),n.innerLoading.value===!0&&(i("filterAbort"),n.innerLoading.value=!1,B.value=!1)))}function K(e){n.editable.value===!0&&(C===!0?(n.onControlFocusin(e),A.value=!0,_(()=>{n.focus()})):n.focus(),t.onFilter!==void 0?M(h.value):(U.value!==!0||g["no-option"]!==void 0)&&(s.value=!0))}function L(){A.value=!1,R()}function Q(){t.useInput===!0&&j(t.multiple!==!0&&t.fillInput===!0&&f.value.length!==0&&b.value(f.value[0])||"",!0,!0)}function se(e){let l=-1;if(e===!0){if(f.value.length!==0){const u=x.value(f.value[0]);l=t.options.findIndex(a=>z(x.value(a),u))}le(l)}H(l)}function wt(e,l){s.value===!0&&n.innerLoading.value===!1&&(le(-1,!0),_(()=>{s.value===!0&&n.innerLoading.value===!1&&(e>l?le():se(!0))}))}function Ke(){A.value===!1&&T.value!==null&&T.value.updatePosition()}function Qe(e){e!==void 0&&E(e),i("popupShow",e),n.hasPopupOpen=!0,n.onControlFocusin(e)}function Ee(e){e!==void 0&&E(e),i("popupHide",e),n.hasPopupOpen=!1,n.onControlFocusout(e)}function Ne(){C=O.platform.is.mobile!==!0&&t.behavior!=="dialog"?!1:t.behavior!=="menu"&&(t.useInput===!0?g["no-option"]!==void 0||t.onFilter!==void 0||U.value===!1:!0),me=O.platform.is.ios===!0&&C===!0&&t.useInput===!0?"fade":t.transitionShow}return Ft(Ne),Dt(Ke),Ne(),Ot(()=>{I!==null&&clearTimeout(I),w!==null&&clearTimeout(w)}),Object.assign(q,{showPopup:K,hidePopup:L,removeAtIndex:ie,add:Le,toggleOption:p,getOptionIndex:()=>v.value,setOptionIndex:H,moveOptionSelection:J,filter:M,updateMenuPosition:Ke,updateInputValue:j,isOptionSelected:re,getEmittingOptionValue:pe,isOptionDisabled:(...e)=>P.value.apply(null,e)===!0,getOptionValue:(...e)=>x.value.apply(null,e),getOptionLabel:(...e)=>b.value.apply(null,e)}),Object.assign(n,{innerValue:f,fieldClass:o(()=>`q-select q-field--auto-height q-select--with${t.useInput!==!0?"out":""}-input q-select--with${t.useChips!==!0?"out":""}-chips q-select--${t.multiple===!0?"multiple":"single"}`),inputRef:Je,targetRef:y,hasValue:ne,showPopup:K,floatingLabel:o(()=>t.hideSelected!==!0&&ne.value===!0||typeof h.value=="number"||h.value.length!==0||$e(t.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(A.value===!0||U.value!==!0||g["no-option"]!==void 0))return C===!0?bt():mt();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(e){n.onControlFocusin(e)},onFocusout(e){n.onControlFocusout(e,()=>{Q(),R()})},onClick(e){if(ce(e),C!==!0&&s.value===!0){R(),y.value!==null&&y.value.focus();return}K(e)}},getControl:e=>{const l=vt(),u=e===!0||A.value!==!0||C!==!0;if(t.useInput===!0)l.push(ft(e,u));else if(n.editable.value===!0){const d=u===!0?Fe.value:void 0;l.push(m("input",{ref:u===!0?y:void 0,key:"d_t",class:"q-select__focus-target",id:u===!0?n.targetUid.value:void 0,value:xe.value,readonly:!0,"data-autofocus":e===!0||t.autofocus===!0||void 0,...d,onKeydown:Pe,onKeyup:qe,onKeypress:Te})),u===!0&&typeof t.autocomplete=="string"&&t.autocomplete.length!==0&&l.push(m("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,tabindex:-1,onKeyup:Be}))}if(ye.value!==void 0&&t.disable!==!0&&W.value.length!==0){const d=W.value.map(r=>m("option",{value:r,selected:!0}));l.push(m("select",{class:"hidden",name:ye.value,multiple:t.multiple},d))}const a=t.useInput===!0||u!==!0?void 0:n.splitAttrs.attributes.value;return m("div",{class:"q-field__native row items-center",...a,...n.splitAttrs.listeners.value},l)},getInnerAppend:()=>t.loading!==!0&&B.value!==!0&&t.hideDropdownIcon!==!0?[m(pt,{class:"q-select__dropdown-icon"+(s.value===!0?" rotate-180":""),name:at.value})]:null}),Ge(n)}});export{Jt as Q,Nt as a,Et as b};
