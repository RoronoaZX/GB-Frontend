import{d as De,n as k,g as Q,P as ge,N as Y,bd as fe,t as Ce,o as g,a2 as q,a as e,M as D,w as t,Q as z,I as V,ad as X,J as a,K as O,L as ne,c as H,$ as B,a3 as j,a4 as ie,_ as w,bc as Me,aI as $e,a1 as W,a0 as qe,O as ae,R as le,z as Re,u as Te,ba as we,aJ as et,be as N,aH as tt,H as at}from"./index.6a2e76bf.js";import{Q as ke}from"./QSpace.d0a88e4a.js";import{Q as Ee,a as he,b as Ke,c as be}from"./QTabPanels.d414b78a.js";import{Q as lt}from"./QPage.7db98d65.js";import{Q as ue,a as _e}from"./QItem.a0938a99.js";import{a as Be}from"./QItemLabel.fa8563a5.js";import{Q as Ve}from"./QList.ed3bcae4.js";import{C as Z}from"./ClosePopup.f12b67c7.js";import{api as K}from"./axios.eb07d1a5.js";import{u as He}from"./product.3f7e9c3c.js";import{Q as Ue}from"./QSpinnerDots.76b45734.js";import{Q as re}from"./QBadge.12ce11b6.js";import{Q as L,a as pe}from"./QTable.769fbca3.js";import{Q as E}from"./QTooltip.3e66b858.js";import{Q as xe}from"./QPopupEdit.f57bbc3c.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import{u as Fe}from"./raw-material.0300573c.js";import{u as ye}from"./use-dialog-plugin-component.83c5da21.js";import{q as Ae}from"./date.01dda4ca.js";import{p as Se}from"./vfs_fonts.02fb2d2e.js";import{u as Pe}from"./use-quasar.c5d74cbd.js";import{Q as Ne,a as je}from"./QSelect.6c695fe4.js";import{u as nt}from"./recipe.0cda702d.js";import"./QResizeObserver.1defda4c.js";import"./rtl.276c3f1b.js";import"./use-panel.8796495d.js";import"./touch.9135741d.js";import"./selection.6e8843f8.js";import"./QVirtualScroll.e04732f7.js";import"./use-virtual-scroll.d9a7d35f.js";import"./QMenu.94dae428.js";const Qe=De("branchProducts",()=>{const r=k(null),_=k([]),b=k([]),C=He(),f=Q(()=>C.products);return console.log("Branch PRoductssss:",f.value),{branchId:b,branchProduct:r,branchProducts:_,fetchBranchProducts:async c=>{const n=await K.get(`/api/branches/${c}/products`);_.value=n.data},createBranchProducts:async c=>{ge.show();try{const{category:n,price:P}=c,l=await K.post("/api/branch-products",c);if(l.data.message==="Branch product saved successfully"){const $=f.value.find(h=>h.id===c.product_id),d={...l.data,category:n||"No Category",price:P?parseInt(P):0,product:$||{name:"No Product",category:"Unknown"},total_quantity:c.total_quantity};_.value.unshift(d),Y.create({type:"positive",message:"Branch product saved successfully",position:"top"})}else l.data.message==="The product already exists in this branch."&&Y.create({type:"warning",message:"The product already exists in this branch.",position:"top"})}catch{Y.create({type:"negative",message:"An error occurred while saving the branch product.",position:"top"})}finally{ge.hide()}},updateBranchProductPrice:async c=>{await K.put(`/api/update-branch-products/${c}`,{price:newPrice});const n=_.value.findIndex(P=>P.id===c);n!==-1&&(_.value[n].price=newPrice)},deleteBranchProducts:async c=>{await K.delete(`/api/branch-products/${c}`),_.value=_.value.filter(n=>n.id!==c)}}}),ot=a("div",{class:"text-h6"},"Create Branch Product",-1),st={class:"q-mb-lg"},rt={key:0,class:"custom-list z-top"},it=a("div",null,"Product Name",-1),dt=a("div",null,"Category",-1),ct={class:"row justify-between"},ut=a("div",null,"Beginnings",-1),pt=a("div",null,"Total Quantity",-1),mt=a("div",null,"Price",-1),_t={__name:"ProductCreate",setup(r){const _=fe(),b=He(),C=Q(()=>b.products),f=Qe(),i=k(""),m=async()=>{b.searchProducts(i.value)},v=Q(()=>l.price!==0&&l.beginnings!==0&&l.total_quantity!==0),x=k(!1),c=()=>{x.value=!0},n=()=>{$(),x.value=!1},P=h=>{l.product_id=h.id,l.product_name=h.name,l.category=h.category,i.value=""},l=Ce({product_id:"",product_name:"",price:0,beginnings:0,total_quantity:0,branches_id:_.params.branch_id}),$=()=>{l.product_id="",l.product_name="",l.category="",l.price=0,l.beginnings=0,l.total_quantity=0},d=async()=>{try{const{product_name:h,...s}=l;await f.createBranchProducts(s),console.log("data to send",s),$(),x.value=!1}catch(h){console.log(h)}};return(h,s)=>(g(),q(j,null,[e(D,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Product",onClick:c}),e(W,{modelValue:x.value,"onUpdate:modelValue":s[6]||(s[6]=o=>x.value=o),persistent:""},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[ot,e(ke),X(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[Z]])]),_:1}),e(V,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",st,[e(O,{modelValue:i.value,"onUpdate:modelValue":[s[0]||(s[0]=o=>i.value=o),m],debounce:"1000",outlined:"",rounded:"",placeholder:"Search product",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[i.value?(g(),q("div",rt,[e(z,null,{default:t(()=>[e(Ve,{separator:""},{default:t(()=>{var o;return[(o=C.value)!=null&&o.length?(g(!0),q(j,{key:1},ie(C.value,u=>(g(),H(ue,{onClick:p=>P(u),key:u.id,clickable:""},{default:t(()=>[e(_e,null,{default:t(()=>[e(Be,null,{default:t(()=>[B(w(u.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(g(),H(ue,{key:0},{default:t(()=>[B(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Me("",!0)]),_:1},8,["modelValue"])]),a("div",null,[it,e(O,{modelValue:l.product_name,"onUpdate:modelValue":s[1]||(s[1]=o=>l.product_name=o),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[dt,e(O,{modelValue:l.category,"onUpdate:modelValue":s[2]||(s[2]=o=>l.category=o),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",ct,[a("div",null,[ut,e(O,{modelValue:l.beginnings,"onUpdate:modelValue":s[3]||(s[3]=o=>l.beginnings=o),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])]),a("div",null,[pt,e(O,{modelValue:l.total_quantity,"onUpdate:modelValue":s[4]||(s[4]=o=>l.total_quantity=o),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),a("div",null,[mt,e(O,{modelValue:l.price,"onUpdate:modelValue":s[5]||(s[5]=o=>l.price=o),mask:"#####",outlined:"",dense:"",style:{width:"150px"}},null,8,["modelValue"])])]),_:1}),e($e,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:d,disable:!v.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Ye=r=>(ae("data-v-196482e9"),r=r(),le(),r),gt=Ye(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),ft=Ye(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),yt={__name:"ProductDelete",props:["delete"],setup(r){const _=Qe(),b=r;console.log("delte",b.delete.row.id);const C=async()=>{try{await _.deleteBranchProducts(b.delete.row.id),Y.create({type:"negative",icon:"warning",message:"Branch product successfully deleted",timeout:1e3,position:"top"}),f.value=!1}catch(m){console.error(m.message)}},f=k(!1),i=()=>{console.log("ID",b.delete.row.id),f.value=!0};return(m,v)=>(g(),q(j,null,[e(D,{onClick:i,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(E,{class:"bg-negative",delay:200},{default:t(()=>[B("Delete")]),_:1})]),_:1}),e(W,{modelValue:f.value,"onUpdate:modelValue":v[0]||(v[0]=x=>f.value=x)},{default:t(()=>[e(z,null,{default:t(()=>[e(V,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[gt,ft]),_:1}),e(qe,{class:"q-mb-md"}),e(V,null,{default:t(()=>[e($e,{align:"right",class:"q-pt-none"},{default:t(()=>[X(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[Z]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:C,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var vt=J(yt,[["__scopeId","data-v-196482e9"]]);const ht=r=>(ae("data-v-6813cfca"),r=r(),le(),r),bt={class:"row justify-between"},wt={class:"q-my-sm"},xt={key:0,class:"spinner-wrapper"},$t={key:1},Rt={key:0,class:"data-error"},kt=ht(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Pt={__name:"ProductTable",setup(r){const b=fe().params.branch_id,C=Qe(),f=k(""),i=k(!0),m=k([]),v=k(!1),x=k({rowsPerPage:0}),c=Q(()=>C.branchProducts);console.log("branchssdfrer",c.value);const n=Q(()=>f.value?c.value.filter(o=>o.name.toLowerCase().includes(f.value.toLowerCase())):c.value);Re(async()=>{b&&await P(b)});const P=async o=>{try{i.value=!0;const u=await C.fetchBranchProducts(o);c.value=u,c.value.length||(v.value=!0),console.log("Branch product",c.value)}catch(u){console.log("Error fetching branch product:",u),v.value=!0}finally{i.value=!1}};Te(f,async o=>{i.value=!0,await new Promise(u=>setTimeout(u,1e3)),i.value=!1,v.value=n.value.length===0});async function l(o,u){try{const p=await K.put("/api/update-branch-products/"+o.id,{price:parseInt(u)});if(p.status===200){const y=m.value.findIndex(R=>R.id==o.id);m.value[y]=parseInt(u),Y.create({type:"positive",message:p.data.message,timout:1e3,position:"top"})}}catch(p){console.error("Error updating price:",p)}}async function $(o,u){try{const p=await K.put("/api/update-branch-products-total-quantity/"+o.id,{total_quantity:parseInt(u)});if(p.status===200){const y=m.value.findIndex(R=>R.id==o.id);m.value[y]=parseInt(u),Y.create({type:"positive",message:p.data.message,timout:1e3,position:"top"})}}catch(p){console.error("Error updating price:",p)}}const d=o=>{switch(o){case"Bread":return"brown";case"Selecta":return"red-6";case"Softdrinks":return"accent";default:return"grey"}},h=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(o),s=[{name:"name",label:"Product Name",align:"center",field:o=>o.product.name,format:o=>`${o}`,sortable:!0},{name:"category",align:"center",label:"Category",field:"category",sortable:!0},{name:"price",align:"center",label:"Price",field:o=>h(o),sortable:!0},{name:"total_quantity",align:"center",label:"Quantity",field:"total_quantity",format:o=>`${o} pcs`,sortable:!0},{name:"action",align:"center",label:"Action",field:"action",sortable:!0}];return(o,u)=>(g(),q(j,null,[a("div",bt,[a("div",null,[e(O,{class:"q-pb-lg q-pl-md",modelValue:f.value,"onUpdate:modelValue":u[0]||(u[0]=p=>f.value=p),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",wt,[e(_t)])]),i.value?(g(),q("div",xt,[e(Ue,{size:"50px",color:"primary"})])):(g(),q("div",$t,[n.value.length===0?(g(),q("div",Rt,[e(ne,{name:"warning",color:"warning",size:"4em"}),kt])):(g(),H(pe,{key:1,class:"table-container sticky-header",filter:f.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:x.value,"onUpdate:pagination":u[1]||(u[1]=p=>x.value=p),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-category":t(p=>[e(L,{key:"name",props:p},{default:t(()=>[e(re,{color:d(p.row.category)},{default:t(()=>[B(w(p.row.category),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-price":t(p=>[e(L,{props:p,class:"cursor-pointer"},{default:t(()=>[a("span",null,[B(w(h(p.row.price))+" ",1),e(E,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[B("Edit Price")]),_:1})]),e(xe,{"onUpdate:modelValue":[y=>l(p.row,y),y=>p.row.price=y],modelValue:p.row.price,"auto-save":""},{default:t(y=>[e(O,{modelValue:y.value,"onUpdate:modelValue":R=>y.value=R,dense:"",mask:"#####",autofocus:"",counter:"",onKeyup:we(y.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-total_quantity":t(p=>[e(L,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[B(w(p.row.total_quantity?p.row.total_quantity:"Set Quantity")+" ",1),e(E,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[B("Edit quantity")]),_:1})]),e(xe,{"onUpdate:modelValue":[y=>$(p.row,y),y=>p.row.total_quantity=y],modelValue:p.row.total_quantity,"auto-save":""},{default:t(y=>[e(O,{modelValue:y.value,"onUpdate:modelValue":R=>y.value=R,dense:"",autofocus:"",counter:"",mask:"###",onKeyup:we(y.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-action":t(p=>[e(L,{class:"q-gutter-x-md",props:p},{default:t(()=>[e(vt,{delete:p},null,8,["delete"])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Ct=J(Pt,[["__scopeId","data-v-6813cfca"]]);const qt={class:"q-gutter-sm"},Bt={__name:"ProductPage",setup(r){return(_,b)=>(g(),q("div",qt,[a("div",null,[e(Ct)])]))}},ze=De("branchRawMaterial",()=>{const r=k(null),_=k([]),b=k([]),C=Fe(),f=Q(()=>C.rawMaterials);return{branchId:b,branchRawMaterial:r,branchRawMaterials:_,fetchBranchRawMaterials:async c=>{const n=await K.get(`/api/branch/${c}/rawMaterials`);_.value=n.data},createBranchRawMaterials:async c=>{ge.show();try{const n=await K.post("/api/branch-raw-materials",c);if(n.data.message==="Branch Raw Materials saved successfully"){const P=f.value.find($=>$.id===c.ingredients_id),l={...n.data,ingredients:P||{name:"No Name",code:"Unknown"},total_quantity:c.total_quantity};_.value.unshift(l),Y.create({type:"positive",message:"Branch Raw Materials saved successfully",position:"top"})}else n.data.message==="The RawMaterials already exists in this branch."&&Y.create({type:"warning",message:"The Raw Materials already exists in this branch.",position:"top"})}catch{Y.create({type:"negative",message:"An error occurred while saving the branch product.",position:"top"})}finally{ge.hide()}},updateBranchRawMaterials:async c=>{await K.put(`/api/update-branch-products/${c}`,{price:newPrice});const n=_.value.findIndex(P=>P.id===c);n!==-1&&(_.value[n].price=newPrice)},deleteBranchRawMaterials:async c=>{await K.delete(`/api/branch-raw-materials/${c}`),_.value=_.value.filter(n=>n.id!==c)}}}),Vt=a("div",{class:"text-h6"},"Create Branch Raw Materials",-1),St={class:"q-mb-lg"},Dt={key:0,class:"custom-list z-top"},Tt=a("div",null,"Raw Materials Code",-1),Ut=a("div",null,"Raw Materials Name",-1),It=a("div",null,"Category",-1),Nt=a("div",null,"Quantity",-1),Mt={__name:"RawMaterialsCreate",setup(r){const _=fe(),b=Fe(),C=Q(()=>b.rawMaterials),f=ze(),i=k(""),m=async()=>{b.searchRawMaterials(i.value)},v=Q(()=>l.total_quantity!==""),x=k(!1),c=()=>{x.value=!0},n=()=>{$(),x.value=!1},P=h=>{l.ingredients_id=h.id,l.ingredient_name=h.name,l.ingredient_code=h.code,l.category=h.category,l.unit=h.unit,i.value=""},l=Ce({ingredients_id:"",ingredient_name:"",ingredient_code:"",total_quantity:"",category:"",unit:"",branch_id:_.params.branch_id}),$=()=>{l.ingredients_id="",l.ingredient_name="",l.ingredient_code="",l.total_quantity="",l.ingredients_id="",l.category="",l.unit=""},d=async()=>{try{const{product_name:h,...s}=l;await f.createBranchRawMaterials(s),console.log("data to send",s),$(),x.value=!1}catch(h){console.log(h)}};return(h,s)=>(g(),q(j,null,[e(D,{outline:"",class:"text-dark q-pa-sm",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Raw Material",onClick:c,style:{background:"#f43f5e"}}),e(W,{modelValue:x.value,"onUpdate:modelValue":s[5]||(s[5]=o=>x.value=o),persistent:""},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[Vt,e(ke),X(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[Z]])]),_:1}),e(V,{class:"q-ma-md q-gutter-y-sm"},{default:t(()=>[a("div",St,[e(O,{modelValue:i.value,"onUpdate:modelValue":[s[0]||(s[0]=o=>i.value=o),m],debounce:"1000",outlined:"",rounded:"",placeholder:"Search Raw Materials",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[i.value?(g(),q("div",Dt,[e(z,null,{default:t(()=>[e(Ve,{separator:""},{default:t(()=>{var o;return[(o=C.value)!=null&&o.length?(g(!0),q(j,{key:1},ie(C.value,u=>(g(),H(ue,{onClick:p=>P(u),key:u.id,clickable:""},{default:t(()=>[e(_e,null,{default:t(()=>[e(Be,null,{default:t(()=>[B(w(u.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(g(),H(ue,{key:0},{default:t(()=>[B(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Me("",!0)]),_:1},8,["modelValue"])]),a("div",null,[Tt,e(O,{modelValue:l.ingredient_code,"onUpdate:modelValue":s[1]||(s[1]=o=>l.ingredient_code=o),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Ut,e(O,{modelValue:l.ingredient_name,"onUpdate:modelValue":s[2]||(s[2]=o=>l.ingredient_name=o),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[It,e(O,{modelValue:l.category,"onUpdate:modelValue":s[3]||(s[3]=o=>l.category=o),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[Nt,e(O,{modelValue:l.total_quantity,"onUpdate:modelValue":s[4]||(s[4]=o=>l.total_quantity=o),type:"number",outlined:"",suffix:l.unit||"",dense:"",rules:[o=>o&&o.length>0||"Total quantity is required"]},null,8,["modelValue","suffix","rules"])])]),_:1}),e($e,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:n}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:d,disable:!v.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};const Ge=r=>(ae("data-v-17ad5e9f"),r=r(),le(),r),Ht=Ge(()=>a("div",{class:"text-h5 q-mb-xs"},"Confirm Deletion",-1)),Ft=Ge(()=>a("p",{class:"text-body2 q-mb-none"}," Are you sure you want to delete this item? This action cannot be undone. ",-1)),At={__name:"RawMaterialsTableDelete",props:["delete"],setup(r){const _=ze(),b=r,C=async()=>{console.log("clickkkd");try{await _.deleteBranchRawMaterials(b.delete.row.id),Y.create({type:"negative",icon:"warning",message:`Raw Materials ${b.delete.row.name}  successfully deleted`,timeout:1e3,position:"top"}),f.value=!1}catch(m){console.error(m.message)}},f=k(!1),i=()=>{f.value=!0};return(m,v)=>(g(),q(j,null,[e(D,{onClick:i,color:"negative",icon:"delete",size:"sm",flat:"",round:"",dense:"",align:"center"},{default:t(()=>[e(E,{class:"bg-negative",delay:200},{default:t(()=>[B("Delete")]),_:1})]),_:1}),e(W,{modelValue:f.value,"onUpdate:modelValue":v[0]||(v[0]=x=>f.value=x)},{default:t(()=>[e(z,null,{default:t(()=>[e(V,{class:"q-pa-md q-rounded q-elevate-2 bg-white text-grey-9"},{default:t(()=>[Ht,Ft]),_:1}),e(qe,{class:"q-mb-md"}),e(V,null,{default:t(()=>[e($e,{align:"right",class:"q-pt-none"},{default:t(()=>[X(e(D,{flat:"",dense:"",label:"Cancel",color:"primary",class:"q-mr-sm"},null,512),[[Z]]),e(D,{dense:"",label:"Delete",color:"negative",onClick:C,class:"q-btn-rounded q-px-lg"})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var Qt=J(At,[["__scopeId","data-v-17ad5e9f"]]);const We=r=>(ae("data-v-74a3fea6"),r=r(),le(),r),zt={class:"row justify-between"},Ot={class:"q-my-sm"},Lt={key:0,class:"spinner-wrapper"},jt={key:1},Et={key:0,class:"data-error"},Kt=We(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Yt=We(()=>a("div",{class:"text-white"},"Edit Available Stocks",-1)),Gt={class:"row justify-center q-gutter-x-md"},Wt={__name:"RawMaterialsTable",setup(r){const b=fe().params.branch_id,C=ze(),f=k(""),i=k(!0),m=k([]),v=k(!1),x=k({rowsPerPage:0}),c=Q(()=>C.branchRawMaterials),n=Q(()=>f.value?c.value.filter(s=>s.name.toLowerCase().includes(f.value.toLowerCase())):c.value);Re(async()=>{console.log("props.branchId in onMounted:",b),b&&await P(b)});const P=async s=>{try{i.value=!0;const o=await C.fetchBranchRawMaterials(s);c.value=o,c.value.length||(v.value=!0),console.log("Branch Raw Materials",c.value)}catch(o){console.log("Error fetching branch product:",o),v.value=!0}finally{i.value=!1}};async function l(s,o){try{const u=await K.put("/api/update-branch-rawMaterials/"+s.id,{total_quantity:parseInt(o)});if(u.status===200){const p=m.value.findIndex(y=>y.id==s.id);m.value[p]=parseInt(o),Y.create({type:"positive",message:u.data.message,timout:1e3,position:"top"})}}catch(u){console.error("Error updating price:",u)}}Te(f,async s=>{i.value=!0,await new Promise(o=>setTimeout(o,1e3)),i.value=!1,v.value=n.value.length===0});const $=s=>{const o=s.total_quantity;if(s.ingredients.unit==="Grams"&&o<1e3)return"bg-red";let p;return o>=1e3?p=o/1e3:p=o,p<5?p<=2?"bg-red":(p<=3,"bg-warning"):"bg-positive"},d=s=>{const o=s.total_quantity,u=s.ingredients.unit;if(o>1e3){const p=(o/1e3).toFixed(2);return p.endsWith(".00")?`${Math.round(o/1e3)} kilos`:`${p} kilos`}else return o>1?`${o} ${u}`:`${o} ${u}`},h=[{name:"code",label:"Raw Materials Code",align:"center",field:s=>{var o,u;return(u=(o=s==null?void 0:s.ingredients)==null?void 0:o.code)!=null?u:"No Code"},format:s=>`${s}`,sortable:!0},{name:"name",label:"Raw Materials Name",align:"center",field:s=>{var o,u;return(u=(o=s==null?void 0:s.ingredients)==null?void 0:o.name)!=null?u:"No Code"},format:s=>`${s}`,sortable:!0},{name:"total_quantity",label:"Available Stocks",align:"center",field:"total_quantity",sortable:!0},{name:"action",label:"Action",align:"center",sortable:!0}];return(s,o)=>(g(),q(j,null,[a("div",zt,[a("div",null,[e(O,{class:"q-pb-lg q-pl-md",modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=u=>f.value=u),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"5000px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",Ot,[e(Mt)])]),i.value?(g(),q("div",Lt,[e(Ue,{size:"50px",color:"primary"})])):(g(),q("div",jt,[n.value.length===0?(g(),q("div",Et,[e(ne,{name:"warning",color:"warning",size:"4em"}),Kt])):(g(),H(pe,{key:1,class:"table-container sticky-header",filter:f.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:h,rows:n.value,"row-key":"name","virtual-scroll":"",pagination:x.value,"onUpdate:pagination":o[1]||(o[1]=u=>x.value=u),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"340px"}},{"body-cell-total_quantity":t(u=>[e(L,{props:u},{default:t(()=>[e(re,{square:"",class:et(["text-white cursor-pointer",$(u.row)])},{default:t(()=>[B(w(d(u.row))+" ",1),e(E,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[Yt]),_:1}),e(xe,{"onUpdate:modelValue":[p=>l(u.row,p),p=>u.row.total_quantity=p],modelValue:u.row.total_quantity,"auto-save":""},{default:t(p=>[e(O,{modelValue:p.value,"onUpdate:modelValue":y=>p.value=y,dense:"",suffix:u.row.ingredients.unit,mask:"########",autofocus:"",counter:"",onKeyup:we(p.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","suffix","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["class"])]),_:2},1032,["props"])]),"body-cell-action":t(u=>[e(L,{props:u},{default:t(()=>[a("div",Gt,[e(Qt,{delete:u},null,8,["delete"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Jt=J(Wt,[["__scopeId","data-v-74a3fea6"]]);const Xt={class:"q-gutter-sm"},Zt={class:"q-gutter-x-sm"},ea={__name:"RawMaterialsPage",setup(r){return(_,b)=>(g(),q("div",Xt,[a("div",Zt,[e(re,{label:"Good",class:"text-white",color:"positive"}),e(re,{label:"Warning",class:"text-white",color:"warning"}),e(re,{label:"Danger",class:"text-white",color:"red"})]),a("div",null,[e(Jt)])]))}};const Oe=r=>(ae("data-v-110feef7"),r=r(),le(),r),ta=Oe(()=>a("div",{class:"row justify-between"},[a("div",{class:"text-h6"},"Baker Report")],-1)),aa={class:"text-subtitle1 text-weight-regular"},la={class:"row q-gutter-md"},na={class:"text-h6 row justify-between"},oa={class:"row items-start q-gutter-x-md text-overline elegant-text"},sa={class:"row q-gutter-x-sm q-gutter-y-xm"},ra={class:"row q-gutter-x-sm q-gutter-y-xm"},ia={class:"row q-gutter-x-sm"},da={class:"row q-gutter-x-sm"},ca={class:"row"},ua={class:"col-6"},pa=Oe(()=>a("div",{class:"text-subtitle1",align:"center"},"Ingredients",-1)),ma={class:"row justify-center q-gutter-x-lg q-pa-lg"},_a={class:"row items-start"},ga={class:"col-6"},fa=Oe(()=>a("div",{class:"text-subtitle1",align:"center"},"Bread",-1)),ya={class:"row justify-center q-gutter-x-lg q-pa-lg"},va={key:0},ha={key:1},ba={key:2},wa={class:"q-ma-sm"},xa={class:"q-ma-sm",align:"center"},$a=["src"],Ra={__name:"BakerReportPanel",props:["bakersReport"],setup(r){Se.exports.vfs=void 0;const _=r,b=_.bakersReport;console.log("Bakers Report",_.bakersReport);const C=k(!0),f=k(!1),i=k(""),m=d=>Ae.formatDate(d,"MMM. DD, YYYY"),v=d=>{const h=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",s=d.firstname?h(d.firstname):"No Firstname",o=d.middlename?h(d.middlename).charAt(0)+".":"",u=d.lastname?h(d.lastname):"No Lastname";return`${s} ${o} ${u}`.trim()},x=d=>{const h=new Date(d),s={hour:"2-digit",minute:"2-digit",hour12:!0};return h.toLocaleTimeString(void 0,s)},c=d=>{switch(d){case"pending":return"orange";case"declined":return"negative";case"confirmed":return"green";default:return"grey"}},n=d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase(),P=d=>d?d.recipe_category==="Filling"?d.filling_bakers_reports||[]:d.recipe_category==="Dough"?d.bread_production_reports||[]:[]:(console.error("No bakerReport provided"),[]),l=d=>{var T,me,de,M;console.log("bakerReport",d);const h=`${d.recipe.name} (${d.recipe_category})`,s=d.recipe.target,o=d.actual_target,u=d.kilo,p=d.over,y=d.short,R={table:{widths:["50%","50%"],body:[[{text:"Recipe Name",style:"tableHeader",alignment:"left"},{text:h,style:"tableHeader",alignment:"center"}],[{text:"Target per Kilo",style:"tableHeader",alignment:"left"},{text:`${s} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Actual Target",style:"tableHeader",alignment:"left"},{text:`${o} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Kilo",style:"tableHeader",alignment:"left"},{text:`${u} kg/s`,style:"tableHeader",alignment:"center"}],[{text:"Over",style:"tableHeader",alignment:"left"},{text:`${p} pcs`,style:"tableHeader",alignment:"center"}],[{text:"Short",style:"tableHeader",alignment:"left"},{text:`${y} pcs`,style:"tableHeader",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Baker Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${d.branch.name||"No name available"}
                Baker: ${v(((T=d==null?void 0:d.user)==null?void 0:T.employee)||"Unknown Baker Name")}
                Recipe: ${((me=d.recipe)==null?void 0:me.name)||"Unknown Recipe"} (${d.recipe_category||"Unknown Category"})
             `,width:"80%",margin:[0,0,0,10]},{text:`Date: ${m(((de=_.bakersReport[0])==null?void 0:de.created_at)||((M=_.bakersReport[1])==null?void 0:M.created_at)||"No name available")}
                Time: ${x(d.created_at)}
                Status: ${n(d.status)}`,margin:[0,0,0,10]}]},{columns:[{width:"50%",stack:[{text:"Bread Production",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Bread Name",style:"tableHeader",alignment:"center"},{text:"Production",style:"tableHeader",alignment:"center"}],...P(d).map(F=>{var G;return[{text:((G=F==null?void 0:F.bread)==null?void 0:G.name)||"Unknown Bread",style:"body"},{text:d.recipe_category==="Filling"?`${(F==null?void 0:F.filling_production)||"0"} pcs`:`${F==null?void 0:F.bread_new_production} pcs`,style:"body",alignment:"center"}]})]}}],columnGap:10},{width:"50%",stack:[{text:"Ingredients",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*"],body:[[{text:"Ingredient Code",style:"tableHeader",alignment:"center"},{text:"Quantity",style:"tableHeader",alignment:"center"}],...(d.ingredient_bakers_reports||[]).map(F=>{var G,A;return[{text:((G=F==null?void 0:F.ingredients)==null?void 0:G.code)||"Unknown Ingredient",style:"body"},{text:`${(F==null?void 0:F.quantity)||"Unknown Quantity"} ${((A=F==null?void 0:F.ingredients)==null?void 0:A.unit)||""}`,style:"body",alignment:"center"}]})]}}],columnGap:10}],columnGap:20},{canvas:[{type:"line",x1:0,y1:25,x2:555,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},R]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[20,20,20,20]}},$=d=>{const h=l(d);Se.exports.createPdf(h).getDataUrl(s=>{i.value=s,f.value=!0})};return(d,h)=>(g(),q("div",null,[e(z,{class:"my-card q-pa-md"},{default:t(()=>{var s,o,u,p,y,R;return[ta,a("div",aa,[a("div",null," Name: "+w(v(((o=(s=N(b)[0])==null?void 0:s.user)==null?void 0:o.employee)||((p=(u=N(b)[1])==null?void 0:u.user)==null?void 0:p.employee)||"No name available")),1),a("div",null," Date: "+w(`${m(((y=_.bakersReport[0])==null?void 0:y.created_at)||((R=_.bakersReport[1])==null?void 0:R.created_at)||"No name available")}`),1)]),e(V,null,{default:t(()=>[a("div",la,[(g(!0),q(j,null,ie(N(b),(T,me)=>(g(),q("div",{key:me,class:"row q-gutter-sm"},[e(z,{flat:"",dense:"",bordered:"",class:"q-pa-md q-my-sm user-card",style:{width:"675px","max-width":"1500px"}},{default:t(()=>{var de;return[a("div",na,[a("div",null,w(`${((de=T.recipe)==null?void 0:de.name)||"Unknown Recipe"} (${T.recipe_category||"Unknown Category"})`),1),e(D,{padding:"xs md",label:"Print",icon:"print",outline:"",onClick:M=>$(T),class:"user-button"},null,8,["onClick"])]),a("div",null,"Time: "+w(x(T.created_at)),1),a("div",null,[B(" Status: "),e(re,{align:"middle",color:c(T.status)},{default:t(()=>[B(w(n(T.status)),1)]),_:2},1032,["color"])]),e(V,null,{default:t(()=>[a("div",oa,[a("div",sa,[B(" Actual Target: "),a("div",null,[e(re,{outline:"",align:"middle",color:"teal"},{default:t(()=>[B(w(`${(T==null?void 0:T.actual_target)||"No target"} pcs`),1)]),_:2},1024)])]),a("div",ra,[B(" Kilo: "),a("div",null,[e(re,{outline:"",align:"middle",color:"teal"},{default:t(()=>[B(w(`${(T==null?void 0:T.kilo)||"No Kilo"} kgs`),1)]),_:2},1024)])]),a("div",ia,[B(" Over: "),a("div",null,[e(re,{outline:"",align:"middle",color:"teal"},{default:t(()=>[B(w(`${T.over} pcs`),1)]),_:2},1024)])]),a("div",da,[B(" Short: "),a("div",null,[e(re,{outline:"",align:"middle",color:"teal"},{default:t(()=>[B(w(`${T.short} pcs`),1)]),_:2},1024)])])])]),_:2},1024),e(V,null,{default:t(()=>[a("div",ca,[a("div",ua,[pa,a("div",ma,[a("div",null,[(g(!0),q(j,null,ie(T.ingredient_bakers_reports||[],(M,F)=>{var G,A;return g(),q("div",{key:F,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,w(((G=M==null?void 0:M.ingredients)==null?void 0:G.name)||"Unknown Ingredient"),1),a("div",_a,w(`${(M==null?void 0:M.quantity)||"Unknown Quantity"} ${((A=M==null?void 0:M.ingredients)==null?void 0:A.unit)||""}`),1)])}),128))])])]),a("div",ga,[fa,a("div",ya,[a("div",null,[(g(!0),q(j,null,ie(P(T),(M,F)=>{var G;return g(),q("div",{key:F,class:"row justify-between q-gutter-y-lg q-gutter-x-xl text-weight-light"},[a("div",null,w(((G=M==null?void 0:M.bread)==null?void 0:G.name)||"Unknown Bread"),1),a("div",null,[T.recipe_category==="Filling"?(g(),q("div",va,w(`${(M==null?void 0:M.filling_production)||"0"} pcs`),1)):T.recipe_category==="Dough"?(g(),q("div",ha,w(`${M==null?void 0:M.bread_new_production} pcs`),1)):(g(),q("div",ba,w("0 pcs")))])])}),128))])])])])]),_:2},1024)]}),_:2},1024)]))),128))])]),_:1})]}),_:1}),e(W,{modelValue:f.value,"onUpdate:modelValue":h[0]||(h[0]=s=>f.value=s),"backdrop-filter":d.backdropFilter,maximized:C.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",wa,[a("div",xa,[X((g(),H(D,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(E,null,{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])]),a("div",null,[a("iframe",{src:i.value,width:"100%",height:"700px"},null,8,$a)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])]))}};var ka=J(Ra,[["__scopeId","data-v-110feef7"]]);const Pa={class:"row justify-between text-white"},Ca=a("div",{class:"text-h6"},"Bread Report",-1),qa={class:"row justify-end q-mt-md"},Ba={class:"text-h6"},Va={__name:"BreadReport",props:["reports"],setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:C,onDialogCancel:f}=ye(),i=r;console.log("Reports data structure:",i.reports);const m=[{name:"name",label:"Bread Name",field:n=>(console.log("Row data:",n),n.bread.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"newProduction",label:"New Production (PCS)",field:"new_production",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"breadOut",label:"Bread Out (PCS)",field:"bread_out",format:n=>`${n}`},{name:"breadSold",label:"Bread Sold (PCS)",field:"bread_sold",format:n=>`${n}`},{name:"total",label:"Bread Total (PCS)",field:"total",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],v=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),x=Q(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),c=Q(()=>{const n=x.value.reduce((P,l)=>{const $=parseFloat(l.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${P}`),P+$},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Overall Total Sales:",c.value),(n,P)=>(g(),H(W,{ref_key:"dialogRef",ref:_,onHide:N(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#795548"}},{default:t(()=>[a("div",Pa,[Ca,X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])]),_:1}),e(V,null,{default:t(()=>[e(pe,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:x.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":P[0]||(P[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(l=>[e(L,{props:l},{default:t(()=>[a("span",null,w(`${v(l.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(l=>[e(L,{props:l},{default:t(()=>[a("span",null,w(`${v(l.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",qa,[a("div",Ba," Overall Total Sales: "+w(v(c.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Sa={class:"row justify-between text-white"},Da=a("div",{class:"text-h6"},"Selecta Report",-1),Ta={class:"row justify-end q-mt-md"},Ua={class:"text-h6"},Ia={__name:"SelectaReport",props:["reports"],setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:C,onDialogCancel:f}=ye(),i=r;console.log("Reports data structure:",i.reports);const m=[{name:"name",label:"Selecta Name",field:n=>(console.log("Row data:",n),n.selecta.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Selecta Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Selecta Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],v=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),x=Q(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),c=Q(()=>{const n=x.value.reduce((P,l)=>{const $=parseFloat(l.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${P}`),P+$},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",x.value),(n,P)=>(g(),H(W,{ref_key:"dialogRef",ref:_,onHide:N(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#f44336"}},{default:t(()=>[a("div",Sa,[Da,X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])]),_:1}),e(V,null,{default:t(()=>[e(pe,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:x.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":P[0]||(P[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(l=>[e(L,{props:l},{default:t(()=>[a("span",null,w(`${v(l.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(l=>[e(L,{props:l},{default:t(()=>[a("span",null,w(`${v(l.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",Ta,[a("div",Ua," Overall Total Sales: "+w(v(c.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}},Na={class:"row justify-between text-white"},Ma=a("div",{class:"text-h6"},"Softdrinks Report",-1),Ha={class:"row justify-end q-mt-md"},Fa={class:"text-h6"},Aa={__name:"SoftdrinksReport",props:["reports"],setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:C,onDialogCancel:f}=ye(),i=r;console.log("Reports data structure:",i.reports);const m=[{name:"name",label:"Softdrinks Name",field:n=>(console.log("Row data:",n),n.softdrinks.name||"N/A")},{name:"price",label:"Price",field:"price"},{name:"beginnings",label:"Beginnings (PCS)",field:"beginnings",format:n=>`${n}`},{name:"remaining",label:"Remaining (PCS)",field:"remaining",format:n=>`${n}`},{name:"out",label:"Softdrinks Out (PCS)",field:"out",format:n=>`${n}`},{name:"sold",label:"Softdrinks Sold (PCS)",field:"sold",format:n=>`${n}`},{name:"sales",label:"Total Sales",field:"sales"}],v=n=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n),x=Q(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[])),c=Q(()=>{const n=x.value.reduce((P,l)=>{const $=parseFloat(l.sales)||0;return console.log(`Adding salesAmount: ${$} to total: ${P}`),P+$},0);return console.log("Overall Total Sales computed as:",n),n});return console.log("Filtered Rows:",x.value),(n,P)=>(g(),H(W,{ref_key:"dialogRef",ref:_,onHide:N(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#9c27b0"}},{default:t(()=>[a("div",Na,[Ma,X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])]),_:1}),e(V,null,{default:t(()=>[e(pe,{filter:n.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:x.value,"row-key":"name","virtual-scroll":"",pagination:n.pagination,"onUpdate:pagination":P[0]||(P[0]=l=>n.pagination=l),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(l=>[e(L,{props:l},{default:t(()=>[a("span",null,w(`${v(l.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-sales":t(l=>[e(L,{props:l},{default:t(()=>[a("span",null,w(`${v(l.row.sales)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",Ha,[a("div",Fa," Overall Total Sales: "+w(v(c.value||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const Qa=r=>(ae("data-v-cc64d6be"),r=r(),le(),r),za=Qa(()=>a("div",{class:"text-h6",align:"center"},"Products Report",-1)),Oa={class:"q-gutter-md",align:"center"},La={class:"text-weight-regular text-subtitle1"},ja={__name:"ProductsReport",props:["sales_Reports"],setup(r){const _=r,b=_.sales_Reports;console.log("sales report2",_);const C=Pe(),f=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(x),i=x=>{C.dialog({component:Va,componentProps:{reports:x}})},m=x=>{C.dialog({component:Ia,componentProps:{reports:x}})},v=x=>{C.dialog({component:Aa,componentProps:{reports:x}})};return(x,c)=>(g(),q("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[za]),_:1}),e(V,null,{default:t(()=>[a("div",Oa,[e(D,{onClick:c[0]||(c[0]=n=>i(_.sales_Reports[0].bread_reports)),"no-caps":"",label:"Bread Report",rounded:"",color:"brown",style:{width:"150px"},class:"user-button"}),e(D,{onClick:c[1]||(c[1]=n=>m(N(b)[0].selecta_reports)),"no-caps":"",label:"Selecta Report",rounded:"",color:"red-6",style:{width:"150px"},class:"user-button"}),e(D,{onClick:c[2]||(c[2]=n=>v(N(b)[0].softdrinks_reports)),"no-caps":"",label:"Softdrinks Report",rounded:"",color:"accent",style:{width:"150px"},class:"user-button"})])]),_:1}),e(V,null,{default:t(()=>[a("div",La," Total sales: "+w(f(N(b)[0].products_total_sales)),1)]),_:1})]),_:1})]))}};var Ea=J(ja,[["__scopeId","data-v-cc64d6be"]]);const Ka={class:"row justify-between text-white"},Ya=a("div",{class:"text-h6"},"Denomination Report",-1),Ga={class:"row text-weight-regular text-subtitle1"},Wa={class:"col-6"},Ja={class:"col-6"},Xa={class:"row justify-end q-mt-md"},Za={class:"text-h6"},el={__name:"DenominationDialogReport",props:{reports:Array,total:Number},setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:C,onDialogCancel:f}=ye(),i=r;console.log("Denomination Props",i.reports);const m=i.reports[0];console.log("Reports data structure:",i.reports);const v=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c),x=Q(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[]));return console.log("Filtered Rows:",x.value),(c,n)=>(g(),H(W,{ref_key:"dialogRef",ref:_,onHide:N(b)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",Ka,[Ya,X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])]),_:1}),e(V,null,{default:t(()=>[a("div",Ga,[a("div",Wa,[a("div",null,"1000 Bills: "+w(N(m).oneThousandBills),1),a("div",null,"500 Bills: "+w(N(m).fiveHundredBills),1),a("div",null,"200 Bills: "+w(N(m).twoHundredBills),1),a("div",null,"100 Bills: "+w(N(m).oneHundredBills),1),a("div",null,"50 Bills: "+w(N(m).fiftyBills),1),a("div",null,"20 Bills: "+w(N(m).twentyBills),1)]),a("div",Ja,[a("div",null,"20 coins: "+w(N(m).twentyCoins),1),a("div",null,"10 coins: "+w(N(m).tenCoins),1),a("div",null,"5 coins: "+w(N(m).fiveCoins),1),a("div",null,"1 coins: "+w(N(m).oneCoins),1),a("div",null,"25 cents: "+w(N(m).twentyFiveCents),1)])])]),_:1}),e(V,null,{default:t(()=>[a("div",Xa,[a("div",Za," Overall Total Denomination: "+w(v(r.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide"]))}};const tl=r=>(ae("data-v-7ab0fe9c"),r=r(),le(),r),al=tl(()=>a("div",{class:"text-h6",align:"center"},"Denomination Report",-1)),ll={class:"q-gutter-x-md",align:"center"},nl={class:"text-weight-regular text-subtitle1"},ol={__name:"DenominationReport",props:["sales_Reports"],setup(r){const _=r;_.sales_Reports,console.log("Denomination report",_);const b=Pe(),C=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),f=(i,m)=>{b.dialog({component:el,componentProps:{reports:i,total:m}})};return(i,m)=>(g(),q("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[al]),_:1}),e(V,null,{default:t(()=>[a("div",ll,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",onClick:m[0]||(m[0]=v=>f(_.sales_Reports[0].denomination_reports,_.sales_Reports[0].denomination_total)),class:"user-button"})])]),_:1}),e(V,null,{default:t(()=>[a("div",nl," Total Denomination : "+w(C(_.sales_Reports[0].denomination_total)),1)]),_:1})]),_:1}),e(W,{modelValue:i.dialog,"onUpdate:modelValue":m[1]||(m[1]=v=>i.dialog=v)},{default:t(()=>[e(z,null,{default:t(()=>[B(" This is dialog ")]),_:1})]),_:1},8,["modelValue"])]))}};var sl=J(ol,[["__scopeId","data-v-7ab0fe9c"]]);const rl={class:"row justify-between text-white"},il=a("div",{class:"text-h6"},"Expenses Report",-1),dl={class:"row justify-end q-mt-md"},cl={class:"text-h6"},ul={__name:"ExpensesDialog",props:{reports:Array,total:Number},setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:C,onDialogCancel:f}=ye(),i=r;i.reports,console.log("Expenses total",i.total);const m=[{name:"name",label:"Expenses Name",field:c=>(console.log("Row data:",c),c.name||"N/A"),align:"center"},{name:"description",label:"Description",field:"description",align:"center"},{name:"amount",label:"Amount",field:"amount",align:"center"}];console.log("Reports data structure:",i.reports);const v=c=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c),x=Q(()=>(console.log("Filtered rows:",i.reports||[]),i.reports||[]));return console.log("Expenses:",x.value),(c,n)=>(g(),H(W,{ref_key:"dialogRef",ref:_,onHide:N(b),onOk:c.handleButtonClick,onCancel:N(f)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",rl,[il,X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])]),_:1}),e(V,null,{default:t(()=>[e(pe,{filter:c.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:m,rows:x.value,"row-key":"name","virtual-scroll":"",pagination:c.pagination,"onUpdate:pagination":n[0]||(n[0]=P=>c.pagination=P),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-amount":t(P=>[e(L,{props:P},{default:t(()=>[a("span",null,w(`${v(P.row.amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",dl,[a("div",cl," Overall Total Expenses: "+w(v(r.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const pl=r=>(ae("data-v-338c99d0"),r=r(),le(),r),ml=pl(()=>a("div",{class:"text-h6",align:"center"},"Expenses Report",-1)),_l={class:"q-gutter-x-md",align:"center"},gl={class:"text-weight-regular text-subtitle1"},fl={__name:"ExpensesReport",props:["sales_Reports"],setup(r){const _=r;console.log("Expenses Data",_.sales_Reports[0].expenses_reports);const b=Pe(),C=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),f=(i,m)=>{b.dialog({component:ul,componentProps:{reports:i,total:m}})};return(i,m)=>(g(),q("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[ml]),_:1}),e(V,null,{default:t(()=>[a("div",_l,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:m[0]||(m[0]=v=>f(_.sales_Reports[0].expenses_reports,_.sales_Reports[0].expenses_total))})])]),_:1}),e(V,null,{default:t(()=>[a("div",gl," Total Expenses : "+w(C(_.sales_Reports[0].expenses_total)),1)]),_:1})]),_:1})]))}};var yl=J(fl,[["__scopeId","data-v-338c99d0"]]);const vl={class:"row justify-between text-white"},hl=a("div",{class:"text-h6"},"Credits Report",-1),bl={class:"row justify-end q-mt-md"},wl={class:"text-h6"},xl={__name:"CreditsReportDialog",props:{reports:Array,total:Number},setup(r){const{dialogRef:_,onDialogHide:b,onDialogOK:C,onDialogCancel:f}=ye(),i=r,m=i.reports;console.log("creditReports data",m),m.forEach((l,$)=>{console.log(`Report ${$}:`,l),console.log(`Credit Products for Report ${$}:`,l.credit_products.total_amount)});const v=Q(()=>m.flatMap(l=>l.credit_products.map($=>{const d=parseInt($.pieces,10)||0,h=parseFloat($.price)||0,s=d*h;return{...$,total_amount:s}})));console.log("All Credit Products:",v.value[0]);const x=l=>{const $=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",d=l.firstname?$(l.firstname):"No Firstname",h=l.middlename?$(l.middlename).charAt(0)+".":"",s=l.lastname?$(l.lastname):"No Lastname";return`${d} ${h} ${s}`.trim()},c=[{name:"name",label:"Employee Name",field:l=>x(l.credit_user_id),align:"center"},{name:"productName",label:"Product Name",field:l=>l.product.name||"N/A",align:"center"},{name:"pieces",label:"Pieces",field:"pieces",align:"center"},{name:"price",label:"Price",field:"price",align:"center"},{name:"total_amount",label:"Total Amount",field:"total_amount",align:"center"}];console.log("Reports data structure:",i.reports);const n=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l),P=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l);return(l,$)=>(g(),H(W,{ref_key:"dialogRef",ref:_,onHide:N(b),onOk:l.handleButtonClick,onCancel:N(f)},{default:t(()=>[e(z,{style:{width:"870px","max-width":"80vw"}},{default:t(()=>[e(V,{style:{"background-color":"#03a9f4"}},{default:t(()=>[a("div",vl,[hl,X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])]),_:1}),e(V,null,{default:t(()=>[e(pe,{filter:l.filter,"virtual-scroll-sticky-size-start":48,flat:"",columns:c,rows:v.value,"row-key":"name","virtual-scroll":"",pagination:l.pagination,"onUpdate:pagination":$[0]||($[0]=d=>l.pagination=d),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"},class:"table-container sticky-header"},{"body-cell-price":t(d=>[e(L,{props:d},{default:t(()=>[a("span",null,w(`${n(d.row.price)}`),1)]),_:2},1032,["props"])]),"body-cell-total_amount":t(d=>[e(L,{props:d},{default:t(()=>[a("span",null,w(`${P(d.row.total_amount)}`),1)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"])]),_:1}),e(V,null,{default:t(()=>[a("div",bl,[a("div",wl," Overall Credits Total: "+w(n(r.total||"0")),1)])]),_:1})]),_:1})]),_:1},8,["onHide","onOk","onCancel"]))}};const $l=r=>(ae("data-v-29d6ba68"),r=r(),le(),r),Rl=$l(()=>a("div",{class:"text-h6",align:"center"},"Credits Report",-1)),kl={class:"q-gutter-x-md",align:"center"},Pl={class:"text-weight-regular text-subtitle1"},Cl={__name:"CreditsReport",props:["sales_Reports"],setup(r){const _=r,b=Pe(),C=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i),f=(i,m)=>{b.dialog({component:xl,componentProps:{reports:i,total:m}})};return(i,m)=>(g(),q("div",null,[e(z,{class:"user-card"},{default:t(()=>[e(V,null,{default:t(()=>[Rl]),_:1}),e(V,null,{default:t(()=>[a("div",kl,[e(D,{label:"OPEN",rounded:"",style:{width:"200px"},color:"light-blue-6",class:"user-button",onClick:m[0]||(m[0]=v=>f(_.sales_Reports[0].credit_reports,_.sales_Reports[0].credit_total))})])]),_:1}),e(V,null,{default:t(()=>[a("div",Pl," Total Credits : "+w(C(_.sales_Reports[0].credit_total)),1)]),_:1}),e(V)]),_:1})]))}};var ql=J(Cl,[["__scopeId","data-v-29d6ba68"]]);const Bl=r=>(ae("data-v-47091d98"),r=r(),le(),r),Vl={class:"q-mt-lg row items-start q-gutter-md justify-center"},Sl={class:"row justify-between"},Dl=Bl(()=>a("div",{class:"text-h6"},"Sales Report",-1)),Tl={align:"right"},Ul={class:"text-subtitle1 text-weight-regular"},Il={class:"row q-gutter-sm q-pa-md"},Nl={class:"q-ma-sm"},Ml={class:"q-ma-sm",align:"center"},Hl=["src"],Fl={__name:"SalesReportPanel",props:["salesReport"],setup(r){Se.exports.vfs=void 0;const _=r,b=_.salesReport;console.log("reportsData",_.salesReport);const C=k(!0),f=k(!1),i=k(""),m=l=>Ae.formatDate(l,"MMMM DD, YYYY"),v=l=>{const $=new Date(l),d={hour:"2-digit",minute:"2-digit",hour12:!0};return $.toLocaleTimeString(void 0,d)},x=l=>{const $=o=>o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",d=l.firstname?$(l.firstname):"No Firstname",h=l.middlename?$(l.middlename).charAt(0)+".":"",s=l.lastname?$(l.lastname):"No Lastname";return`${d} ${h} ${s}`.trim()},c=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l).replace("\u20B1","\u20B1	"),n=l=>{const $=Q(()=>l.credit_reports.flatMap(A=>A.credit_products));console.log("All Credit Products:",$.value);const d=[{title:"Bread Production",data:l.bread_reports||[],columns:["bread.name","beginnings","price","new_production","bread_out","bread_sold","total","remaining","sales"],totals:["sales"]},{title:"Selecta Production",data:l.selecta_reports||[],columns:["selecta.name","beginnings","price","out","sold","remaining","sales"],totals:["sales"]},{title:"Softdrinks Production",data:l.softdrinks_reports||[],columns:["softdrinks.name","beginnings","price","added_stocks","out","sold","remaining","sales"],totals:["sales"]}],h=l.expenses_reports||[],s=$.value||[],o=l.credit_total,u=l.denomination_reports[0]||[],p=l.denomination_total,y=l.expenses_total;l.products_total_sales,l.charges_amount,l.over_total;const R={bills:[{name:"One Thousand",pcs:u.oneThousandBills||0},{name:"Five Hundred",pcs:u.fiveHundredBills||0},{name:"Two Hundred",pcs:u.twoHundredBills||0},{name:"One Hundred",pcs:u.oneHundredBills||0},{name:"Fifty",pcs:u.fiftyBills||0},{name:"Twenty",pcs:u.twentyBills||0}],coins:[{name:"Twenty",pcs:u.twentyCoins||0},{name:"Ten",pcs:u.tenCoins||0},{name:"Five",pcs:u.fiveCoins||0},{name:"One",pcs:u.oneCoins||0},{name:"Twenty Five Cents",pcs:u.twentyFiveCents||0}]},T=(A,oe,ee)=>{const ce=ee.reduce((te,S)=>(te[S]=A.reduce((I,U)=>I+(U[S]||0),0),te),{});return[...A.map(te=>oe.map(S=>({text:S.includes(".")?te[S.split(".")[0]][S.split(".")[1]]:te[S],style:"body",alignment:"center"}))),[{text:"Overall Total",colSpan:oe.length-ee.length,style:"tableHeader",alignment:"right",color:"#020617"},...Array(oe.length-ee.length-1).fill({}),...ee.map(te=>({text:te==="sales"?c(ce[te]):ce[te],style:"tableHeader",alignment:"center",color:"#020617"}))]]},me=s.length>0?s.map(A=>[{text:x(A.credit_user_id),style:"body",alignment:"center"},{text:A.product.name,style:"body",alignment:"center"},{text:A.pieces,style:"body",alignment:"center"},{text:A.price,style:"body",alignment:"center"},{text:A.total_amount,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:5,alignment:"center"}]];me.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3},{},{},{text:`${c(o)}`,style:"bodyBold",alignment:"center",colSpan:2},{}]);const de=h.length>0?h.map(A=>[{text:A.name,style:"body",alignment:"center"},{text:A.description,style:"body",alignment:"center"},{text:`${c(A.amount)}`,style:"body",alignment:"center"}]):[[{text:"No data available",colSpan:3,alignment:"center"}]];de.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:2},{},{text:`${c(y)}`,style:"bodyBold",alignment:"center"}]);const M=R.bills.map((A,oe)=>{var ee,ce;return[{text:A.name,style:"body",alignment:"center"},{text:A.pcs,style:"body",alignment:"center"},{text:((ee=R.coins[oe])==null?void 0:ee.name)||"",style:"body",alignment:"center"},{text:((ce=R.coins[oe])==null?void 0:ce.pcs)||"0",style:"body",alignment:"center"}]});M.push([{text:"Total",style:"bodyBold",alignment:"right",colSpan:3,color:"#020617"},{},{},{text:`${c(p)}`,style:"bodyBold",alignment:"right",color:"#020617"}]);const F=d.map(({title:A,data:oe,columns:ee,totals:ce})=>({stack:[{text:A,style:"subheader",alignment:"center"},{table:{headerRows:1,widths:Array(ee.length).fill("*"),body:[ee.map(te=>({text:te.split(".").pop().replace(/_/g," ").replace(/\b\w/g,S=>S.toUpperCase()),style:"tableHeader",alignment:"center"})),...T(oe,ee,ce)]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]})),G={table:{widths:["50%","50%"],body:[[{text:"Total Denomination",style:"tableHeader",alignment:"left"},{text:c(p),style:"tableData",alignment:"center"}],[{text:"Total Product Sales Amount",style:"tableHeader",alignment:"left"},{text:c(l.products_total_sales),style:"tableData",alignment:"center"}],[{text:"Total Expenses",style:"tableHeader",alignment:"left"},{text:c(y),style:"tableData",alignment:"center"}],[{text:"Over Cash",style:"tableHeader",alignment:"left"},{text:c(l.over_total),style:"tableData",alignment:"center"}],[{text:"Charges",style:"tableHeader",alignment:"left"},{text:`${c(l.charges_amount)}`,style:"tableData",alignment:"center"}]]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}};return{content:[{text:"Sales Report",style:"header",alignment:"center"},{columns:[{text:`Branch Name: ${l.branch.name}
          Cashier: ${x(l.user.employee)}
          Date: ${m(l.created_at)}
Time: ${v(l.created_at)}
`,margin:[0,0,0,10]},{}]},...F,{margin:[0,5,0,0],columns:[{width:"50%",stack:[{text:"Expenses Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","auto","*"],body:[[{text:"Expenses Name",style:"tableHeader",alignment:"center"},{text:"Description",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...de]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}},{text:"Credit Report",style:"subheader",alignment:"center"},{table:{headerRows:1,widths:["*","*","auto","auto","auto"],body:[[{text:"Employee Name",style:"tableHeader",alignment:"center"},{text:"Product Name",style:"tableHeader",alignment:"center"},{text:"Pieces",style:"tableHeader",alignment:"center"},{text:"Price",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"center"}],...me]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]},{width:"50%",stack:[{text:"Denomination Report",style:"subheader",alignment:"center"},{table:{headerRows:0,widths:["*","auto","*","auto"],body:[[{text:"Bills",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"},{text:"Coins",style:"tableHeader",alignment:"center"},{text:"Pcs",style:"tableHeader",alignment:"center"}],...M]},layout:{paddingLeft:()=>2,paddingRight:()=>2,paddingTop:()=>2,paddingBottom:()=>2}}]}],columnGap:10},{},{canvas:[{type:"line",x1:0,y1:25,x2:580,y2:25,lineWidth:1,dash:{length:5,space:5},lineColor:"#000000",margin:[0,20,0,0]}]},{margin:[0,20,0,0],stack:[{text:"Summary",style:"subheader",alignment:"center"},G]}],styles:{header:{fontSize:16,bold:!0},subheader:{fontSize:12,bold:!0,margin:[0,10,0,5]},tableHeader:{bold:!0,fontSize:10,color:"black"},body:{fontSize:8}},pageMargins:[10,10,10,10]}},P=l=>{const $=n(l);Se.exports.createPdf($).getDataUrl(d=>{i.value=d,f.value=!0})};return(l,$)=>(g(),q(j,null,[e(z,{class:"my-card q-pa-md"},{default:t(()=>[e(V,null,{default:t(()=>[a("div",Vl,[(g(!0),q(j,null,ie(N(b),(d,h)=>(g(),q("div",{key:h},[e(z,{flat:"",dense:"",bordered:""},{default:t(()=>[e(V,null,{default:t(()=>[a("div",Sl,[Dl,a("div",Tl,[e(D,{padding:"xs md",label:"Print",icon:"print",outline:"",class:"user-button",onClick:s=>P(d)},null,8,["onClick"]),a("div",null,[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B(" Print Report ")]),_:1})])])]),a("div",Ul,[a("div",null,"Name: "+w(x(d.user.employee)),1),a("div",null,"Date: "+w(m(d.created_at)),1),a("div",null,"Time: "+w(v(d.created_at)),1)])]),_:2},1024),a("div",Il,[e(Ea,{sales_Reports:[d]},null,8,["sales_Reports"]),e(sl,{sales_Reports:[d]},null,8,["sales_Reports"]),e(yl,{sales_Reports:[d]},null,8,["sales_Reports"]),e(ql,{sales_Reports:[d]},null,8,["sales_Reports"])])]),_:2},1024)]))),128))])]),_:1})]),_:1}),e(W,{modelValue:f.value,"onUpdate:modelValue":$[0]||($[0]=d=>f.value=d),"backdrop-filter":l.backdropFilter,maximized:C.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[a("div",Nl,[a("div",Ml,[X((g(),H(D,{icon:"close",flat:"",dense:"",round:"",class:"text-white"},{default:t(()=>[e(E,null,{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])]),a("div",null,[a("iframe",{src:i.value,width:"100%",height:"700px"},null,8,Hl)])])]),_:1},8,["modelValue","backdrop-filter","maximized"])],64))}};var Al=J(Fl,[["__scopeId","data-v-47091d98"]]);const Ql={class:"text-h6"},zl={class:"row q-gutter-x-md"},Ol={__name:"ProductionReportDialog",props:["reports","reportLabel"],emits:["selectReport","hide","ok","cancel"],setup(r,{emit:_}){const{dialogRef:b,onDialogHide:C,onDialogOK:f,onDialogCancel:i}=ye(),m=r;console.log("production report",m.reports);const v=m.reports.baker_reports,x=m.reports.sales_reports,c=_,n=k("bakerReport"),P=k(!0),l=k(!1),$=()=>{c("selectReport",m.reports),l.value=!0};return(d,h)=>(g(),H(W,{ref_key:"dialogRef",ref:b,modelValue:l.value,"onUpdate:modelValue":h[2]||(h[2]=s=>l.value=s),onHide:N(C),onOk:$,onCancel:N(i),maximized:P.value,"transition-show":"slide-up","transition-hide":"slide-down"},{default:t(()=>[e(z,{style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#595a5a"}},{default:t(()=>[a("div",Ql,w(`${r.reports.branch_name} ( ${r.reportLabel} Reports)`),1),e(ke),a("div",zl,[a("div",null,[X((g(),H(D,{icon:"close",flat:"",dense:"",round:""},{default:t(()=>[e(E,{class:"bg-blue-grey-6",delay:200},{default:t(()=>[B("Close")]),_:1})]),_:1})),[[Z]])])])]),_:1}),e(V,null,{default:t(()=>[a("div",null,[e(Ee,{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=s=>n.value=s),align:"justify","narrow-indicator":"",class:"q-mb-lg"},{default:t(()=>[e(he,{class:"text-purple",name:"bakerReport",label:"Baker Reports"}),e(he,{class:"text-orange",name:"salesReport",label:"Sales Report"})]),_:1},8,["modelValue"])]),a("div",null,[e(Ke,{modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=s=>n.value=s),animated:"","transition-prev":"scale","transition-next":"scale",style:{"background-color":"#f7f8fc"}},{default:t(()=>[e(be,{name:"bakerReport"},{default:t(()=>[e(ka,{bakersReport:N(v)},null,8,["bakersReport"])]),_:1}),e(be,{name:"salesReport"},{default:t(()=>[e(Al,{salesReport:N(x)},null,8,["salesReport"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1},8,["modelValue","onHide","onCancel","maximized"]))}};var Ll=J(Ol,[["__scopeId","data-v-09bec323"]]);const jl=De("productions",()=>{const r=k([]),_=k([]);return{productions:r,production:_,fetchAllProduction:async()=>{const f=await K.get("/api/branch-production-report");r.value=f.data.reports},fetchBranchProductions:async f=>{const i=await K.get(`/api/branches/${f}/production-report`);r.value=i.data}}});const El=r=>(ae("data-v-72d513d6"),r=r(),le(),r),Kl={align:"right"},Yl={key:0,class:"spinner-wrapper"},Gl={key:1},Wl={key:0,class:"data-error"},Jl=El(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Xl={class:"row justify-center q-gutter-x-md"},Zl={__name:"ProductionTable",setup(r){const _=fe();k("bakerReport");const b=_.params.branch_id;k(!1),k(!0),k(""),k("");const C=k({rowsPerPage:0}),f=jl(),i=k(""),m=Q(()=>f.productions);k(!0);const v=k(!0),x=k(!1),c=Q(()=>i.value?m.value.filter(h=>h.name.toLowerCase().includes(i.value.toLowerCase())):m.value);Re(async()=>{b&&await n(b)});const n=async h=>{try{v.value=!0;const s=await f.fetchBranchProductions(h);console.log("Fetched data:",s),console.log("Production rows:",m.value),m.value.length||(x.value=!0)}catch{x.value=!0}finally{v.value=!1}};Te(i,async h=>{v.value=!0,await new Promise(s=>setTimeout(s,1e3)),v.value=!1,x.value=c.value.length===0});const l=[{name:"reportDate",align:"center",label:"Date",field:"date",format:h=>Ae.formatDate(h,"MMMM DD, YYYY")},{name:"reports",align:"center",label:"Reports",field:"reports"}],$=Pe(),d=(h,s)=>{$.dialog({component:Ll,componentProps:{reports:h,reportLabel:s}})};return(h,s)=>(g(),q(j,null,[a("div",Kl,[e(O,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),class:"q-pb-lg q-pl-md",outlined:"",placeholder:"Search",flat:"",rounded:"",dense:"",debounce:"100",style:{width:"500px","max-width":"1500px","min-width":"100px"}},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),v.value?(g(),q("div",Yl,[e(Ue,{size:"50px",color:"primary"})])):(g(),q("div",Gl,[c.value.length===0?(g(),q("div",Wl,[e(ne,{name:"warning",color:"warning",size:"4em"}),Jl])):(g(),H(pe,{key:1,class:"table-container sticky-header",filter:i.value,"virtual-scroll-sticky-size-start":48,flat:"",style:{height:"400px"},columns:l,rows:c.value,"row-key":"reportDate","virtual-scroll":"",pagination:C.value,"onUpdate:pagination":s[1]||(s[1]=o=>C.value=o),"rows-per-page-options":[0],"hide-bottom":""},{"body-cell-reports":t(o=>[e(L,{props:o},{default:t(()=>[a("div",Xl,[e(D,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"light-blue-5","text-color":"white",onClick:u=>d(o.row.AM,"AM")},{default:t(()=>[B("AM")]),_:2},1032,["onClick"]),e(D,{padding:"xs lg",rounded:"",dense:"",size:"sm",color:"deep-orange","text-color":"white",onClick:u=>d(o.row.PM,"PM")},{default:t(()=>[B("PM")]),_:2},1032,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var en=J(Zl,[["__scopeId","data-v-72d513d6"]]);const tn={__name:"ProductionPage",setup(r){return(_,b)=>(g(),q("div",null,[e(en)]))}},Je=De("branchRecipe",()=>{const r=k(null),_=k([]);return{branchRecipe:r,branchRecipes:_,saveBranchRecipe:async f=>{console.log("saveBranchRecipeStore",f),ge.show();try{const i=await K.post("/api/branch-recipe",f);_.value=i.data,console.log("branchRecipes",i.data)}catch(i){console.log("error",i)}finally{ge.hide()}},fetchBranchRecipes:async f=>{const i=await K.get(`/api/branches/${f}/recipes`);_.value=i.data}}});const ve=r=>(ae("data-v-750285b2"),r=r(),le(),r),an=ve(()=>a("div",{class:"text-h6"},"Create Branch Recipe",-1)),ln={class:"q-mb-lg"},nn={key:0,class:"custom-list z-top"},on={class:"q-mb-sm"},sn=ve(()=>a("div",null,"Recipe Name",-1)),rn={class:"q-mb-lg"},dn=ve(()=>a("div",null,"Category",-1)),cn=ve(()=>a("div",null,"Breads",-1)),un={class:"q-mt-md q-gutter-y-sm"},pn=ve(()=>a("div",{class:"text-weight-thin"},"Ingredients List",-1)),mn={class:"q-mt-xl q-gutter-y-sm"},_n={class:"row justify-between"},gn=ve(()=>a("div",{align:"center"},"Ingredients",-1)),fn=ve(()=>a("div",{align:"center"},"Quantity",-1)),yn=["onKeyup"],vn={align:"right"},hn={__name:"RecipeCreate",setup(r){const _=fe(),b=nt(),C=Q(()=>b.recipes),f=Je(),i=He(),m=Fe(),v=k(!1),x=()=>{v.value=!0},c=()=>{clearForm(),v.value=!1},n=k(""),P=async()=>{b.searchRecipe(n.value)},l=Q(()=>d.target!==0),$=S=>{d.recipe_id=S.id,d.recipe_name=S.name,d.category=S.category,n.value=""},d=Ce({recipe_id:"",recipe_name:"",category:"",target:"",branches_id:_.params.branch_id}),h=k(!1),s=k(null),o=k([]),u=k(o.value),p=k([]),y=k([]),R=Ce({name:"",quantity:""}),T=k(y.value);(async()=>{await i.fetchProductsByCategory("Bread"),h.value=!1,o.value=i.breads.map(S=>({label:S.name,value:S.id}))})(),(async()=>{await m.fetchIngredients("Ingredients"),h.value=!1,y.value=m.ingredients.map(S=>({label:S.name,value:S.id,unit:S.unit}))})();const M=()=>{R.name="",R.quantity=""},F=(S,I)=>{S.length>2&&(o.value.includes(S)||I(S,"add-unique"))},G=(S,I)=>{I(()=>{if(S==="")u.value=o.value;else{const U=S.toLowerCase();u.value=o.value.filter(se=>se.label.toLowerCase().indexOf(U)>-1)}})},A=(S,I)=>{I(()=>{if(S==="")T.value=y.value;else{const U=S.toLowerCase();T.value=y.value.filter(se=>se.label.toLowerCase().indexOf(U)>-1)}})},oe=()=>{const S=p.value;function I(Ie,Xe){return Ie.find(Ze=>Ze.ingredients_id==Xe)}const U=R.name.value;I(S,U)?Y.create({type:"negative",icon:"warning",message:"Ingredient already exist",timeout:2e3}):(p.value=[...S,{ingredients_id:R.name.value,label:R.name.label,quantity:R.quantity,unit:R.name.unit}],M())},ee=S=>{p.value.splice(S,1)};Te(()=>R.name,S=>{S&&S.unit?R.unit=S.unit:R.unit=""});const ce=()=>{d.recipe_id="",d.target="",s.value=null,p.value=[],R.name="",R.quantity=""},te=async()=>{const S={recipe_id:d.recipe_id,target:d.target,status:"active",branch_id:d.branches_id,breads:s.value.map(I=>({bread_id:I.value})),ingredients:p.value.map(I=>({ingredient_id:I.ingredients_id,quantity:I.quantity}))};console.log("branchRecipe",S),await f.saveBranchRecipe(S),ce(),v.value=!1};return(S,I)=>(g(),q(j,null,[e(D,{outline:"",class:"text-dark q-pa-sm",push:"",dense:"",elevated:"",icon:"add_circle",label:"Create Branch Recipe",onClick:x}),e(W,{modelValue:v.value,"onUpdate:modelValue":I[7]||(I[7]=U=>v.value=U)},{default:t(()=>[e(z,{class:"my-card",style:{width:"400px","max-width":"500px","min-width":"100px"}},{default:t(()=>[e(V,{class:"row items-center text-white",style:{"background-color":"#ef4444"}},{default:t(()=>[an,e(ke),X(e(D,{icon:"close",flat:"",dense:"",round:""},null,512),[[Z]])]),_:1}),e(V,null,{default:t(()=>[a("div",ln,[e(O,{modelValue:n.value,"onUpdate:modelValue":[I[0]||(I[0]=U=>n.value=U),P],debounce:"1000",outlined:"",rounded:"",placeholder:"Search recipe",dense:""},{append:t(()=>[a("div",null,[e(ne,{name:"search"})])]),default:t(()=>[n.value?(g(),q("div",nn,[e(z,null,{default:t(()=>[e(Ve,{separator:""},{default:t(()=>{var U;return[(U=C.value)!=null&&U.length?(g(!0),q(j,{key:1},ie(C.value,se=>(g(),H(ue,{onClick:Ie=>$(se),key:se.id,clickable:""},{default:t(()=>[e(_e,null,{default:t(()=>[e(Be,null,{default:t(()=>[B(w(se.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128)):(g(),H(ue,{key:0},{default:t(()=>[B(" No record found. ")]),_:1}))]}),_:1})]),_:1})])):Me("",!0)]),_:1},8,["modelValue"])]),a("div",on,[sn,e(O,{modelValue:d.recipe_name,"onUpdate:modelValue":I[1]||(I[1]=U=>d.recipe_name=U),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",rn,[dn,e(O,{modelValue:d.category,"onUpdate:modelValue":I[2]||(I[2]=U=>d.category=U),readonly:"",dense:"",outlined:""},null,8,["modelValue"])]),a("div",null,[e(O,{modelValue:d.target,"onUpdate:modelValue":I[3]||(I[3]=U=>d.target=U),outlined:"",dense:"",suffix:" / 1kg",type:"number",label:"Target Pcs"},null,8,["modelValue"])]),a("div",null,[cn,e(Ne,{modelValue:s.value,"onUpdate:modelValue":I[4]||(I[4]=U=>s.value=U),"use-input":"","use-chips":"","chips-color":"primary",multiple:"","input-debounce":"0",options:u.value,behavior:"menu","hide-dropdown-icon":"",outlined:"",dense:"",label:"Bread/s",onNewValue:F,onFilter:G,rules:[U=>U&&U.length>0||"Bread is required"]},{"no-option":t(()=>[e(ue,null,{default:t(()=>[e(_e,{class:"text-grey"},{default:t(()=>[B(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),a("div",un,[pn,a("div",null,[e(Ve,{dense:"",separator:"",class:"box"},{default:t(()=>[(g(!0),q(j,null,ie(p.value,(U,se)=>(g(),H(ue,{key:se},{default:t(()=>[e(_e,null,{default:t(()=>[e(Be,null,{default:t(()=>[B(w(U.label),1)]),_:2},1024)]),_:2},1024),e(_e,null,{default:t(()=>[B(w(U.quantity)+" "+w(U.unit),1)]),_:2},1024),e(_e,{side:""},{default:t(()=>[e(D,{onClick:Ie=>ee(se),color:"grey-10",icon:"backspace",dense:"",flat:"",round:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),a("div",mn,[a("div",_n,[a("div",null,[gn,e(Ne,{modelValue:R.name,"onUpdate:modelValue":I[5]||(I[5]=U=>R.name=U),debounce:"3000",outlined:"","chips-color":"primary",options:T.value,dense:"",label:"Ingredients",behavior:"menu","use-input":"","hide-dropdown-icon":"",onFilter:A,style:{width:"215px","max-width":"450px","min-width":"80px"}},{"no-option":t(()=>[e(ue,null,{default:t(()=>[e(_e,{class:"text-grey"},{default:t(()=>[B(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",null,[fn,e(O,{modelValue:R.quantity,"onUpdate:modelValue":I[6]||(I[6]=U=>R.quantity=U),outlined:"",mask:"#####",dense:"",label:"Quantity",suffix:R.name.unit||"",style:{width:"115px"}},null,8,["modelValue","suffix"])])]),a("form",{onKeyup:we(tt(oe,["prevent"]),["enter"])},[a("div",vn,[e(D,{padding:"xs md",type:"button",size:"sm",outline:"",dense:"",label:"add",icon:"add",color:"purple",onClick:oe})])],40,yn)])]),_:1}),e($e,{class:"row q-ma-md",align:"right"},{default:t(()=>[e(D,{class:"glossy",color:"grey-9",label:"Dismiss",onClick:c}),e(D,{class:"glossy",color:"teal",label:"Create",onClick:te,disable:!l.value},null,8,["disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};var bn=J(hn,[["__scopeId","data-v-750285b2"]]);const Le=r=>(ae("data-v-2f427889"),r=r(),le(),r),wn={class:"row justify-between"},xn={class:"q-my-sm"},$n={key:0,class:"spinner-wrapper"},Rn={key:1},kn={key:0,class:"data-error"},Pn=Le(()=>a("div",{class:"q-ml-sm text-h6"},"No data available",-1)),Cn=Le(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Breads List ",-1)),qn=Le(()=>a("div",{class:"q-pb-sm text-center text-h6 text-weight-bold text-subtitle2"}," Ingredients List ",-1)),Bn={__name:"RecipeTable",setup(r){const b=fe().params.branch_id,C=Je(),f=k(""),i=k(!0),m=k([]),v=k(!1),x=k({rowsPerPage:0}),c=["inactive","active"],n=Q(()=>C.branchRecipes);console.log("branch recipe",n.value);const P=Q(()=>f.value?n.value.filter(u=>u.name.toLowerCase().includes(f.value.toLowerCase())):n.value);Re(async()=>{b&&await l(b)});const l=async u=>{try{i.value=!0;const p=await C.fetchBranchRecipes(u);n.value=p,console.log("branchRecipeRows",n.value),n.value.length||(v.value=!0),console.log("Branch recipe",n.value)}catch(p){console.log("Error fetching recipe",p)}finally{i.value=!1}};async function $(u,p){try{const y=await K.put("/api/update-target/"+u.id,{target:parseInt(p)});if(console.log("response",y),y.status==200){const R=m.value.findIndex(T=>T.id==u.id);m.value[R]=p}Y.create({type:"positive",message:"Recipe target edited successfully"})}catch(y){console.error("Error updating recipe target:",y),Y.create({type:"negative",message:"Failed to edit recipe target"})}}async function d(u,p){try{if((await K.put("/api/update-status/"+u.id,{status:p})).status==200){const R=recipes.value.findIndex(T=>T.id==u.id);recipes.value[R]=p}Y.create({type:"positive",message:"Recipe status change successfully"})}catch(y){console.error("Error updating recipe status:",y),Y.create({type:"negative",message:"Failed to change recipe status"})}}const h=u=>u?u.split(" ").map(p=>p.charAt(0).toUpperCase()+p.slice(1).toLowerCase()).join(" "):"",s=[{name:"name",label:"Recipe name",align:"center",field:u=>u.name},{name:"category",label:"Category",align:"center",field:u=>u.recipe},{name:"target",label:"Target",align:"center",field:"target"},{name:"status",label:"Status",align:"center",field:"status"},{name:"bread_groups",label:"List of Bread",align:"center",field:"bread_groups"},{name:"ingredient_groups",label:"List of Ingredients",align:"center",field:"ingredient_groups"}],o=u=>{switch(u){case"inactive":return"grey";case"active":return"green";default:return"grey"}};return(u,p)=>(g(),q(j,null,[a("div",wn,[a("div",null,[e(O,{class:"q-pb-lg q-pl-md",modelValue:f.value,"onUpdate:modelValue":p[0]||(p[0]=y=>f.value=y),outlined:"",placeholder:"Search",debounce:"1000",style:{width:"450px","max-width":"1500px","min-width":"100px"},flat:"",dense:"",rounded:""},{append:t(()=>[e(ne,{name:"search"})]),_:1},8,["modelValue"])]),a("div",xn,[e(bn)])]),i.value?(g(),q("div",$n,[e(Ue,{size:"50px",color:"primary"})])):(g(),q("div",Rn,[P.value.length===0?(g(),q("div",kn,[e(ne,{name:"warning",color:"warning",size:"4em"}),Pn])):(g(),H(pe,{key:1,class:"table-container sticky-header",filter:f.value,"virtual-scroll-sticky-size-start":48,flat:"",columns:s,rows:P.value,"row-key":"name","virtual-scroll":"",pagination:x.value,"onUpdate:pagination":p[1]||(p[1]=y=>x.value=y),"rows-per-page-options":[0],"hide-bottom":"",style:{height:"350px"}},{"body-cell-name":t(y=>[e(L,{props:y},{default:t(()=>[a("span",null,w(h(y.row.name)),1)]),_:2},1032,["props"])]),"body-cell-category":t(y=>[e(L,{props:y},{default:t(()=>[a("span",null,w(h(y.row.category)),1)]),_:2},1032,["props"])]),"body-cell-target":t(y=>[e(L,{"auto-width":"",class:"cursor-pointer text-center"},{default:t(()=>[a("span",null,[B(w(y.row.target?y.row.target:"Set Target")+" ",1),e(E,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[B("Edit Target")]),_:1})]),e(xe,{"onUpdate:modelValue":[R=>$(y.row,R),R=>y.row.target=R],modelValue:y.row.target,"auto-save":""},{default:t(R=>[e(O,{modelValue:R.value,"onUpdate:modelValue":T=>R.value=T,dense:"",suffix:"pcs",autofocus:"",counter:"",mask:"###",onKeyup:we(R.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1024)]),"body-cell-status":t(y=>[e(L,{props:y},{default:t(()=>[e(re,{outline:"",color:o(y.row.status)},{default:t(()=>[B(w(h(y.row.status))+" ",1),e(E,{class:"bg-blue-grey-8",offset:[10,10]},{default:t(()=>[B("Change Status")]),_:1})]),_:2},1032,["color"]),e(xe,{"onUpdate:modelValue":[R=>d(y.row,R),R=>y.row.status=R],modelValue:y.row.status,"auto-save":""},{default:t(R=>[a("span",null,w(y.row.name),1),e(Ne,{modelValue:R.value,"onUpdate:modelValue":T=>R.value=T,dense:"",label:"status",autofocus:"",options:c,counter:"",mask:"###",onKeyup:we(R.set,["enter"])},null,8,["modelValue","onUpdate:modelValue","onKeyup"])]),_:2},1032,["onUpdate:modelValue","modelValue"])]),_:2},1032,["props"])]),"body-cell-bread_groups":t(y=>[e(L,{props:y},{default:t(()=>[e(E,{offset:[0,10],delay:600,class:"bg-info text-dark text-subtitle1"},{default:t(()=>[Cn,e(qe,{class:"q-mb-md",color:"yellow"}),(g(!0),q(j,null,ie(y.row.bread_groups,R=>(g(),q("div",{key:R},w(R),1))),128))]),_:2},1024),e(je,{square:"",outline:"",color:"red-6",class:"text-white"},{default:t(()=>[B(w(y.row.bread_groups.length)+" breads ",1)]),_:2},1024)]),_:2},1032,["props"])]),"body-cell-ingredient_groups":t(y=>[e(L,{props:y},{default:t(()=>[e(E,{delay:600,class:"bg-info text-dark text-subtitle1",style:{width:"300px"}},{default:t(()=>[qn,e(qe,{class:"q-mb-md",color:"yellow"}),(g(!0),q(j,null,ie(y.row.ingredient_groups,R=>(g(),q("div",{class:"row justify-between",key:R.ingredient_name},[a("div",null,w(R.ingredient_name),1),a("div",null,w(R.quantity)+" "+w(R.unit),1)]))),128))]),_:2},1024),e(je,{square:"",outline:"",color:"purple-6",class:"text-white"},{default:t(()=>[B(w(y.row.ingredient_groups.length)+" ingredients ",1)]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["filter","rows","pagination"]))]))],64))}};var Vn=J(Bn,[["__scopeId","data-v-2f427889"]]);const Sn={__name:"RecipePage",setup(r){return(_,b)=>(g(),q("div",null,[e(Vn)]))}};const Dn={class:"elegant-container q-gutter-md"},Tn={class:"text-h6 row justify-between"},Un={class:"q-gutter-sm"},In={class:"tab-container"},Nn={__name:"BranchIdPage",setup(r){const _=fe(),b=k(""),C=at(),f=async c=>(await K.get(`/api/branches/${c}`)).data,i=async()=>{const c=_.params.branch_id,n=await f(c);n&&n.name?b.value=n.name:console.error("Branch data is missing 'name' property or invalid:",n)};Re(()=>{i()});const m=c=>c?c.split(" ").map(n=>n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()).join(" "):"",v=k("products"),x=()=>{ge.show(),C.push("/admin/branches").finally(()=>{ge.hide()})};return(c,n)=>(g(),H(lt,{padding:""},{default:t(()=>[a("div",Dn,[a("div",Tn,[a("div",null,[e(D,{outline:"",flat:"",icon:"arrow_back",onClick:x}),e(ke)]),a("div",null,[e(ne,{name:"fa-solid fa-store",color:"red-6"}),B(" "+w(m(b.value)),1)])]),a("div",Un,[a("div",In,[e(Ee,{modelValue:v.value,"onUpdate:modelValue":n[0]||(n[0]=P=>v.value=P),dense:"",class:"bg-grey-2 text-grey-7 tabs-as-cards","active-color":"red-6","indicator-color":"transparent",align:"justify"},{default:t(()=>[e(he,{name:"products",label:"Products"}),e(he,{name:"rawMaterials",label:"Raw Materials"}),e(he,{name:"recipe",label:"Recipe"}),e(he,{name:"production",label:"Production"})]),_:1},8,["modelValue"])]),e(z,{class:"q-mt-sm"},{default:t(()=>[e(Ke,{modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=P=>v.value=P),animated:""},{default:t(()=>[e(be,{name:"products"},{default:t(()=>[e(Bt)]),_:1}),e(be,{name:"rawMaterials"},{default:t(()=>[e(ea)]),_:1}),e(be,{name:"recipe"},{default:t(()=>[e(Sn)]),_:1}),e(be,{name:"production"},{default:t(()=>[e(tn)]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),_:1}))}};var go=J(Nn,[["__scopeId","data-v-1194b1a2"]]);export{go as default};
